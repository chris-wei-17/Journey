var tA=Object.defineProperty;var tv=t=>{throw TypeError(t)};var nA=(t,e,n)=>e in t?tA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var N=(t,e,n)=>nA(t,typeof e!="symbol"?e+"":e,n),Bh=(t,e,n)=>e.has(t)||tv("Cannot "+n);var P=(t,e,n)=>(Bh(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?tv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(Bh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ce=(t,e,n)=>(Bh(t,e,"access private method"),n);var Eu=(t,e,n,r)=>({set _(s){re(t,e,s,n)},get _(){return P(t,e,r)}});function rA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function RN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IN={exports:{}},Zf={},FN={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),sA=Symbol.for("react.portal"),iA=Symbol.for("react.fragment"),oA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),lA=Symbol.for("react.provider"),cA=Symbol.for("react.context"),uA=Symbol.for("react.forward_ref"),dA=Symbol.for("react.suspense"),fA=Symbol.for("react.memo"),hA=Symbol.for("react.lazy"),nv=Symbol.iterator;function mA(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var LN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zN=Object.assign,VN={};function sl(t,e,n){this.props=t,this.context=e,this.refs=VN,this.updater=n||LN}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $N(){}$N.prototype=sl.prototype;function Vg(t,e,n){this.props=t,this.context=e,this.refs=VN,this.updater=n||LN}var $g=Vg.prototype=new $N;$g.constructor=Vg;zN($g,sl.prototype);$g.isPureReactComponent=!0;var rv=Array.isArray,BN=Object.prototype.hasOwnProperty,Bg={current:null},UN={key:!0,ref:!0,__self:!0,__source:!0};function WN(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)BN.call(e,r)&&!UN.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:du,type:t,key:i,ref:o,props:s,_owner:Bg.current}}function pA(t,e){return{$$typeof:du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ug(t){return typeof t=="object"&&t!==null&&t.$$typeof===du}function gA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sv=/\/+/g;function Uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gA(""+t.key):e.toString(36)}function wd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case du:case sA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Uh(o,0):r,rv(s)?(n="",t!=null&&(n=t.replace(sv,"$&/")+"/"),wd(s,e,n,"",function(u){return u})):s!=null&&(Ug(s)&&(s=pA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",rv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Uh(i,a);o+=wd(i,e,n,l,s)}else if(l=mA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Uh(i,a++),o+=wd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mu(t,e,n){if(t==null)return t;var r=[],s=0;return wd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},_d={transition:null},xA={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:_d,ReactCurrentOwner:Bg};function HN(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Mu,forEach:function(t,e,n){Mu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mu(t,function(){e++}),e},toArray:function(t){return Mu(t,function(e){return e})||[]},only:function(t){if(!Ug(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=sl;Ee.Fragment=iA;Ee.Profiler=aA;Ee.PureComponent=Vg;Ee.StrictMode=oA;Ee.Suspense=dA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xA;Ee.act=HN;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zN({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Bg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BN.call(e,l)&&!UN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:du,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:cA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lA,_context:t},t.Consumer=t};Ee.createElement=WN;Ee.createFactory=function(t){var e=WN.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:uA,render:t}};Ee.isValidElement=Ug;Ee.lazy=function(t){return{$$typeof:hA,_payload:{_status:-1,_result:t},_init:yA}};Ee.memo=function(t,e){return{$$typeof:fA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=_d.transition;_d.transition={};try{t()}finally{_d.transition=e}};Ee.unstable_act=HN;Ee.useCallback=function(t,e){return yn.current.useCallback(t,e)};Ee.useContext=function(t){return yn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return yn.current.useEffect(t,e)};Ee.useId=function(){return yn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return yn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};Ee.useRef=function(t){return yn.current.useRef(t)};Ee.useState=function(t){return yn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return yn.current.useTransition()};Ee.version="18.3.1";FN.exports=Ee;var b=FN.exports;const xe=RN(b),Wg=rA({__proto__:null,default:xe},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA=b,bA=Symbol.for("react.element"),wA=Symbol.for("react.fragment"),_A=Object.prototype.hasOwnProperty,SA=vA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NA={key:!0,ref:!0,__self:!0,__source:!0};function YN(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_A.call(e,r)&&!NA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bA,type:t,key:i,ref:o,props:s,_owner:SA.current}}Zf.Fragment=wA;Zf.jsx=YN;Zf.jsxs=YN;IN.exports=Zf;var c=IN.exports,qN={exports:{}},$n={},QN={exports:{}},KN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,R){var D=j.length;j.push(R);e:for(;0<D;){var W=D-1>>>1,G=j[W];if(0<s(G,R))j[W]=R,j[D]=G,D=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var R=j[0],D=j.pop();if(D!==R){j[0]=D;e:for(var W=0,G=j.length,ne=G>>>1;W<ne;){var se=2*(W+1)-1,ge=j[se],ve=se+1,H=j[ve];if(0>s(ge,D))ve<G&&0>s(H,ge)?(j[W]=H,j[ve]=D,W=ve):(j[W]=ge,j[se]=D,W=se);else if(ve<G&&0>s(H,D))j[W]=H,j[ve]=D,W=ve;else break e}}return R}function s(j,R){var D=j.sortIndex-R.sortIndex;return D!==0?D:j.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,x=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=j)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function _(j){if(p=!1,w(j),!x)if(n(l)!==null)x=!0,z(S);else{var R=n(u);R!==null&&B(_,R.startTime-j)}}function S(j,R){x=!1,p&&(p=!1,y(C),C=-1),m=!0;var D=h;try{for(w(R),f=n(l);f!==null&&(!(f.expirationTime>R)||j&&!F());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),w(R)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var se=n(u);se!==null&&B(_,se.startTime-R),ne=!1}return ne}finally{f=null,h=D,m=!1}}var k=!1,T=null,C=-1,M=5,A=-1;function F(){return!(t.unstable_now()-A<M)}function O(){if(T!==null){var j=t.unstable_now();A=j;var R=!0;try{R=T(!0,j)}finally{R?V():(k=!1,T=null)}}else k=!1}var V;if(typeof g=="function")V=function(){g(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,I=$.port2;$.port1.onmessage=O,V=function(){I.postMessage(null)}}else V=function(){v(O,0)};function z(j){T=j,k||(k=!0,V())}function B(j,R){C=v(function(){j(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,z(S))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return j()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,R){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var D=h;h=j;try{return R()}finally{h=D}},t.unstable_scheduleCallback=function(j,R,D){var W=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,j={id:d++,callback:R,priorityLevel:j,startTime:D,expirationTime:G,sortIndex:-1},D>W?(j.sortIndex=D,e(u,j),n(l)===null&&j===n(u)&&(p?(y(C),C=-1):p=!0,B(_,D-W))):(j.sortIndex=G,e(l,j),x||m||(x=!0,z(S))),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var R=h;return function(){var D=h;h=R;try{return j.apply(this,arguments)}finally{h=D}}}})(KN);QN.exports=KN;var CA=QN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA=b,Vn=CA;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GN=new Set,xc={};function Eo(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(xc[t]=e,t=0;t<e.length;t++)GN.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,TA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iv={},ov={};function jA(t){return Zm.call(ov,t)?!0:Zm.call(iv,t)?!1:TA.test(t)?ov[t]=!0:(iv[t]=!0,!1)}function PA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EA(t,e,n,r){if(e===null||typeof e>"u"||PA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hg=/[\-:]([a-z])/g;function Yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hg,Yg);qt[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hg,Yg);qt[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hg,Yg);qt[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function qg(t,e,n,r){var s=qt.hasOwnProperty(e)?qt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EA(e,n,s,r)&&(n=null),r||s===null?jA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cs=kA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Du=Symbol.for("react.element"),Yo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),Qg=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),XN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.suspense_list"),Gg=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),JN=Symbol.for("react.offscreen"),av=Symbol.iterator;function bl(t){return t===null||typeof t!="object"?null:(t=av&&t[av]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Wh;function $l(t){if(Wh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wh=e&&e[1]||""}return`
`+Wh+t}var Hh=!1;function Yh(t,e){if(!t||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$l(t):""}function MA(t){switch(t.tag){case 5:return $l(t.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function np(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Yo:return"Portal";case Jm:return"Profiler";case Qg:return"StrictMode";case ep:return"Suspense";case tp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZN:return(t.displayName||"Context")+".Consumer";case XN:return(t._context.displayName||"Context")+".Provider";case Kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gg:return e=t.displayName||null,e!==null?e:np(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return np(t(e))}catch{}}return null}function DA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return np(e);case 8:return e===Qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AA(t){var e=eC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=AA(t))}function tC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rp(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nC(t,e){e=e.checked,e!=null&&qg(t,"checked",e,!1)}function sp(t,e){nC(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ip(t,e.type,n):e.hasOwnProperty("defaultValue")&&ip(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ip(t,e,n){(e!=="number"||Wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bl=Array.isArray;function aa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function op(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Bl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function rC(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ap(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,iC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OA=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(t){OA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zl[e]=Zl[t]})});function oC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zl.hasOwnProperty(t)&&Zl[t]?(""+e).trim():e+"px"}function aC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var RA=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lp(t,e){if(e){if(RA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function Xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dp=null,la=null,ca=null;function fv(t){if(t=mu(t)){if(typeof dp!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=rh(e),dp(t.stateNode,t.type,e))}}function lC(t){la?ca?ca.push(t):ca=[t]:la=t}function cC(){if(la){var t=la,e=ca;if(ca=la=null,fv(t),e)for(t=0;t<e.length;t++)fv(e[t])}}function uC(t,e){return t(e)}function dC(){}var qh=!1;function fC(t,e,n){if(qh)return t(e,n);qh=!0;try{return uC(t,e,n)}finally{qh=!1,(la!==null||ca!==null)&&(dC(),cC())}}function bc(t,e){var n=t.stateNode;if(n===null)return null;var r=rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var fp=!1;if(xs)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){fp=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{fp=!1}function IA(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Jl=!1,Hd=null,Yd=!1,hp=null,FA={onError:function(t){Jl=!0,Hd=t}};function LA(t,e,n,r,s,i,o,a,l){Jl=!1,Hd=null,IA.apply(FA,arguments)}function zA(t,e,n,r,s,i,o,a,l){if(LA.apply(this,arguments),Jl){if(Jl){var u=Hd;Jl=!1,Hd=null}else throw Error(Q(198));Yd||(Yd=!0,hp=u)}}function Mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hv(t){if(Mo(t)!==t)throw Error(Q(188))}function VA(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hv(s),t;if(i===r)return hv(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function mC(t){return t=VA(t),t!==null?pC(t):null}function pC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pC(t);if(e!==null)return e;t=t.sibling}return null}var gC=Vn.unstable_scheduleCallback,mv=Vn.unstable_cancelCallback,$A=Vn.unstable_shouldYield,BA=Vn.unstable_requestPaint,_t=Vn.unstable_now,UA=Vn.unstable_getCurrentPriorityLevel,Zg=Vn.unstable_ImmediatePriority,yC=Vn.unstable_UserBlockingPriority,qd=Vn.unstable_NormalPriority,WA=Vn.unstable_LowPriority,xC=Vn.unstable_IdlePriority,Jf=null,Vr=null;function HA(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:QA,YA=Math.log,qA=Math.LN2;function QA(t){return t>>>=0,t===0?32:31-(YA(t)/qA|0)|0}var Ru=64,Iu=4194304;function Ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ul(a):(i&=o,i!==0&&(r=Ul(i)))}else o=n&~s,o!==0?r=Ul(o):i!==0&&(r=Ul(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),s=1<<n,r|=t[n],e&=~s;return r}function KA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-yr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=KA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function mp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vC(){var t=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),t}function Qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function XA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ze=0;function bC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wC,ey,_C,SC,NC,pp=!1,Fu=[],si=null,ii=null,oi=null,wc=new Map,_c=new Map,zs=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(t,e){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":wc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(e.pointerId)}}function _l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=mu(e),e!==null&&ey(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JA(t,e,n,r,s){switch(e){case"focusin":return si=_l(si,t,e,n,r,s),!0;case"dragenter":return ii=_l(ii,t,e,n,r,s),!0;case"mouseover":return oi=_l(oi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return wc.set(i,_l(wc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_c.set(i,_l(_c.get(i)||null,t,e,n,r,s)),!0}return!1}function CC(t){var e=qi(t.target);if(e!==null){var n=Mo(e);if(n!==null){if(e=n.tag,e===13){if(e=hC(n),e!==null){t.blockedOn=e,NC(t.priority,function(){_C(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);up=r,n.target.dispatchEvent(r),up=null}else return e=mu(n),e!==null&&ey(e),t.blockedOn=n,!1;e.shift()}return!0}function gv(t,e,n){Sd(t)&&n.delete(e)}function eO(){pp=!1,si!==null&&Sd(si)&&(si=null),ii!==null&&Sd(ii)&&(ii=null),oi!==null&&Sd(oi)&&(oi=null),wc.forEach(gv),_c.forEach(gv)}function Sl(t,e){t.blockedOn===e&&(t.blockedOn=null,pp||(pp=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,eO)))}function Sc(t){function e(s){return Sl(s,t)}if(0<Fu.length){Sl(Fu[0],t);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(si!==null&&Sl(si,t),ii!==null&&Sl(ii,t),oi!==null&&Sl(oi,t),wc.forEach(e),_c.forEach(e),n=0;n<zs.length;n++)r=zs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zs.length&&(n=zs[0],n.blockedOn===null);)CC(n),n.blockedOn===null&&zs.shift()}var ua=Cs.ReactCurrentBatchConfig,Kd=!0;function tO(t,e,n,r){var s=Ze,i=ua.transition;ua.transition=null;try{Ze=1,ty(t,e,n,r)}finally{Ze=s,ua.transition=i}}function nO(t,e,n,r){var s=Ze,i=ua.transition;ua.transition=null;try{Ze=4,ty(t,e,n,r)}finally{Ze=s,ua.transition=i}}function ty(t,e,n,r){if(Kd){var s=gp(t,e,n,r);if(s===null)sm(t,e,r,Gd,n),pv(t,r);else if(JA(s,t,e,n,r))r.stopPropagation();else if(pv(t,r),e&4&&-1<ZA.indexOf(t)){for(;s!==null;){var i=mu(s);if(i!==null&&wC(i),i=gp(t,e,n,r),i===null&&sm(t,e,r,Gd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sm(t,e,r,null,n)}}var Gd=null;function gp(t,e,n,r){if(Gd=null,t=Xg(r),t=qi(t),t!==null)if(e=Mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gd=t,null}function kC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UA()){case Zg:return 1;case yC:return 4;case qd:case WA:return 16;case xC:return 536870912;default:return 16}default:return 16}}var Xs=null,ny=null,Nd=null;function TC(){if(Nd)return Nd;var t,e=ny,n=e.length,r,s="value"in Xs?Xs.value:Xs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Nd=s.slice(t,1<r?1-r:void 0)}function Cd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lu(){return!0}function yv(){return!1}function Bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lu:yv,this.isPropagationStopped=yv,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ry=Bn(il),hu=pt({},il,{view:0,detail:0}),rO=Bn(hu),Kh,Gh,Nl,eh=pt({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nl&&(Nl&&t.type==="mousemove"?(Kh=t.screenX-Nl.screenX,Gh=t.screenY-Nl.screenY):Gh=Kh=0,Nl=t),Kh)},movementY:function(t){return"movementY"in t?t.movementY:Gh}}),xv=Bn(eh),sO=pt({},eh,{dataTransfer:0}),iO=Bn(sO),oO=pt({},hu,{relatedTarget:0}),Xh=Bn(oO),aO=pt({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),lO=Bn(aO),cO=pt({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uO=Bn(cO),dO=pt({},il,{data:0}),vv=Bn(dO),fO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mO[t])?!!e[t]:!1}function sy(){return pO}var gO=pt({},hu,{key:function(t){if(t.key){var e=fO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sy,charCode:function(t){return t.type==="keypress"?Cd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yO=Bn(gO),xO=pt({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bv=Bn(xO),vO=pt({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sy}),bO=Bn(vO),wO=pt({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),_O=Bn(wO),SO=pt({},eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NO=Bn(SO),CO=[9,13,27,32],iy=xs&&"CompositionEvent"in window,ec=null;xs&&"documentMode"in document&&(ec=document.documentMode);var kO=xs&&"TextEvent"in window&&!ec,jC=xs&&(!iy||ec&&8<ec&&11>=ec),wv=" ",_v=!1;function PC(t,e){switch(t){case"keyup":return CO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function TO(t,e){switch(t){case"compositionend":return EC(e);case"keypress":return e.which!==32?null:(_v=!0,wv);case"textInput":return t=e.data,t===wv&&_v?null:t;default:return null}}function jO(t,e){if(Qo)return t==="compositionend"||!iy&&PC(t,e)?(t=TC(),Nd=ny=Xs=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jC&&e.locale!=="ko"?null:e.data;default:return null}}var PO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PO[t.type]:e==="textarea"}function MC(t,e,n,r){lC(r),e=Xd(e,"onChange"),0<e.length&&(n=new ry("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tc=null,Nc=null;function EO(t){BC(t,0)}function th(t){var e=Xo(t);if(tC(e))return t}function MO(t,e){if(t==="change")return e}var DC=!1;if(xs){var Zh;if(xs){var Jh="oninput"in document;if(!Jh){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),Jh=typeof Nv.oninput=="function"}Zh=Jh}else Zh=!1;DC=Zh&&(!document.documentMode||9<document.documentMode)}function Cv(){tc&&(tc.detachEvent("onpropertychange",AC),Nc=tc=null)}function AC(t){if(t.propertyName==="value"&&th(Nc)){var e=[];MC(e,Nc,t,Xg(t)),fC(EO,e)}}function DO(t,e,n){t==="focusin"?(Cv(),tc=e,Nc=n,tc.attachEvent("onpropertychange",AC)):t==="focusout"&&Cv()}function AO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return th(Nc)}function OO(t,e){if(t==="click")return th(e)}function RO(t,e){if(t==="input"||t==="change")return th(e)}function IO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:IO;function Cc(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zm.call(e,s)||!br(t[s],e[s]))return!1}return!0}function kv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tv(t,e){var n=kv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kv(n)}}function OC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RC(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wd(t.document)}return e}function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FO(t){var e=RC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OC(n.ownerDocument.documentElement,n)){if(r!==null&&oy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Tv(n,i);var o=Tv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LO=xs&&"documentMode"in document&&11>=document.documentMode,Ko=null,yp=null,nc=null,xp=!1;function jv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Ko==null||Ko!==Wd(r)||(r=Ko,"selectionStart"in r&&oy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nc&&Cc(nc,r)||(nc=r,r=Xd(yp,"onSelect"),0<r.length&&(e=new ry("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ko)))}function zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},em={},IC={};xs&&(IC=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function nh(t){if(em[t])return em[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IC)return em[t]=e[n];return t}var FC=nh("animationend"),LC=nh("animationiteration"),zC=nh("animationstart"),VC=nh("transitionend"),$C=new Map,Pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){$C.set(t,e),Eo(e,[t])}for(var tm=0;tm<Pv.length;tm++){var nm=Pv[tm],zO=nm.toLowerCase(),VO=nm[0].toUpperCase()+nm.slice(1);Ni(zO,"on"+VO)}Ni(FC,"onAnimationEnd");Ni(LC,"onAnimationIteration");Ni(zC,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(VC,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$O=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function Ev(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zA(r,e,void 0,t),t.currentTarget=null}function BC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ev(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ev(s,a,u),i=l}}}if(Yd)throw t=hp,Yd=!1,hp=null,t}function it(t,e){var n=e[Sp];n===void 0&&(n=e[Sp]=new Set);var r=t+"__bubble";n.has(r)||(UC(e,t,2,!1),n.add(r))}function rm(t,e,n){var r=0;e&&(r|=4),UC(n,t,r,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[Vu]){t[Vu]=!0,GN.forEach(function(n){n!=="selectionchange"&&($O.has(n)||rm(n,!1,t),rm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,rm("selectionchange",!1,e))}}function UC(t,e,n,r){switch(kC(e)){case 1:var s=tO;break;case 4:s=nO;break;default:s=ty}n=s.bind(null,e,n,t),s=void 0,!fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}fC(function(){var u=i,d=Xg(n),f=[];e:{var h=$C.get(t);if(h!==void 0){var m=ry,x=t;switch(t){case"keypress":if(Cd(n)===0)break e;case"keydown":case"keyup":m=yO;break;case"focusin":x="focus",m=Xh;break;case"focusout":x="blur",m=Xh;break;case"beforeblur":case"afterblur":m=Xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bO;break;case FC:case LC:case zC:m=lO;break;case VC:m=_O;break;case"scroll":m=rO;break;case"wheel":m=NO;break;case"copy":case"cut":case"paste":m=uO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bv}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=bc(g,y),_!=null&&p.push(Tc(g,_,w)))),v)break;g=g.return}0<p.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==up&&(x=n.relatedTarget||n.fromElement)&&(qi(x)||x[vs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?qi(x):null,x!==null&&(v=Mo(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(p=xv,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=bv,_="onPointerLeave",y="onPointerEnter",g="pointer"),v=m==null?h:Xo(m),w=x==null?h:Xo(x),h=new p(_,g+"leave",m,n,d),h.target=v,h.relatedTarget=w,_=null,qi(d)===u&&(p=new p(y,g+"enter",x,n,d),p.target=w,p.relatedTarget=v,_=p),v=_,m&&x)t:{for(p=m,y=x,g=0,w=p;w;w=Fo(w))g++;for(w=0,_=y;_;_=Fo(_))w++;for(;0<g-w;)p=Fo(p),g--;for(;0<w-g;)y=Fo(y),w--;for(;g--;){if(p===y||y!==null&&p===y.alternate)break t;p=Fo(p),y=Fo(y)}p=null}else p=null;m!==null&&Mv(f,h,m,p,!1),x!==null&&v!==null&&Mv(f,v,x,p,!0)}}e:{if(h=u?Xo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=MO;else if(Sv(h))if(DC)S=RO;else{S=AO;var k=DO}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=OO);if(S&&(S=S(t,u))){MC(f,S,n,d);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ip(h,"number",h.value)}switch(k=u?Xo(u):window,t){case"focusin":(Sv(k)||k.contentEditable==="true")&&(Ko=k,yp=u,nc=null);break;case"focusout":nc=yp=Ko=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,jv(f,n,d);break;case"selectionchange":if(LO)break;case"keydown":case"keyup":jv(f,n,d)}var T;if(iy)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Qo?PC(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(jC&&n.locale!=="ko"&&(Qo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Qo&&(T=TC()):(Xs=d,ny="value"in Xs?Xs.value:Xs.textContent,Qo=!0)),k=Xd(u,C),0<k.length&&(C=new vv(C,t,null,n,d),f.push({event:C,listeners:k}),T?C.data=T:(T=EC(n),T!==null&&(C.data=T)))),(T=kO?TO(t,n):jO(t,n))&&(u=Xd(u,"onBeforeInput"),0<u.length&&(d=new vv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}BC(f,e)})}function Tc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bc(t,n),i!=null&&r.unshift(Tc(t,i,s)),i=bc(t,e),i!=null&&r.push(Tc(t,i,s))),t=t.return}return r}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=bc(n,i),l!=null&&o.unshift(Tc(n,l,a))):s||(l=bc(n,i),l!=null&&o.push(Tc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function Dv(t){return(typeof t=="string"?t:""+t).replace(BO,`
`).replace(UO,"")}function $u(t,e,n){if(e=Dv(e),Dv(t)!==e&&n)throw Error(Q(425))}function Zd(){}var vp=null,bp=null;function wp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,WO=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,HO=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(t){return Av.resolve(null).then(t).catch(YO)}:_p;function YO(t){setTimeout(function(){throw t})}function im(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sc(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ov(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Or="__reactFiber$"+ol,jc="__reactProps$"+ol,vs="__reactContainer$"+ol,Sp="__reactEvents$"+ol,qO="__reactListeners$"+ol,QO="__reactHandles$"+ol;function qi(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vs]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ov(t);t!==null;){if(n=t[Or])return n;t=Ov(t)}return e}t=n,n=t.parentNode}return null}function mu(t){return t=t[Or]||t[vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function rh(t){return t[jc]||null}var Np=[],Zo=-1;function Ci(t){return{current:t}}function lt(t){0>Zo||(t.current=Np[Zo],Np[Zo]=null,Zo--)}function nt(t,e){Zo++,Np[Zo]=t.current,t.current=e}var pi={},sn=Ci(pi),Tn=Ci(!1),ho=pi;function Ra(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jn(t){return t=t.childContextTypes,t!=null}function Jd(){lt(Tn),lt(sn)}function Rv(t,e,n){if(sn.current!==pi)throw Error(Q(168));nt(sn,e),nt(Tn,n)}function WC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,DA(t)||"Unknown",s));return pt({},n,r)}function ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,ho=sn.current,nt(sn,t),nt(Tn,Tn.current),!0}function Iv(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=WC(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,lt(Tn),lt(sn),nt(sn,t)):lt(Tn),nt(Tn,n)}var ss=null,sh=!1,om=!1;function HC(t){ss===null?ss=[t]:ss.push(t)}function KO(t){sh=!0,HC(t)}function ki(){if(!om&&ss!==null){om=!0;var t=0,e=Ze;try{var n=ss;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ss=null,sh=!1}catch(s){throw ss!==null&&(ss=ss.slice(t+1)),gC(Zg,ki),s}finally{Ze=e,om=!1}}return null}var Jo=[],ea=0,tf=null,nf=0,Gn=[],Xn=0,mo=null,us=1,ds="";function Vi(t,e){Jo[ea++]=nf,Jo[ea++]=tf,tf=t,nf=e}function YC(t,e,n){Gn[Xn++]=us,Gn[Xn++]=ds,Gn[Xn++]=mo,mo=t;var r=us;t=ds;var s=32-yr(r)-1;r&=~(1<<s),n+=1;var i=32-yr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,us=1<<32-yr(e)+s|n<<s|r,ds=i+t}else us=1<<i|n<<s|r,ds=t}function ay(t){t.return!==null&&(Vi(t,1),YC(t,1,0))}function ly(t){for(;t===tf;)tf=Jo[--ea],Jo[ea]=null,nf=Jo[--ea],Jo[ea]=null;for(;t===mo;)mo=Gn[--Xn],Gn[Xn]=null,ds=Gn[--Xn],Gn[Xn]=null,us=Gn[--Xn],Gn[Xn]=null}var Fn=null,In=null,ct=!1,hr=null;function qC(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Fv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,In=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mo!==null?{id:us,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,In=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kp(t){if(ct){var e=In;if(e){var n=e;if(!Fv(t,e)){if(Cp(t))throw Error(Q(418));e=ai(n.nextSibling);var r=Fn;e&&Fv(t,e)?qC(r,n):(t.flags=t.flags&-4097|2,ct=!1,Fn=t)}}else{if(Cp(t))throw Error(Q(418));t.flags=t.flags&-4097|2,ct=!1,Fn=t}}}function Lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function Bu(t){if(t!==Fn)return!1;if(!ct)return Lv(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wp(t.type,t.memoizedProps)),e&&(e=In)){if(Cp(t))throw QC(),Error(Q(418));for(;e;)qC(t,e),e=ai(e.nextSibling)}if(Lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Fn?ai(t.stateNode.nextSibling):null;return!0}function QC(){for(var t=In;t;)t=ai(t.nextSibling)}function Ia(){In=Fn=null,ct=!1}function cy(t){hr===null?hr=[t]:hr.push(t)}var GO=Cs.ReactCurrentBatchConfig;function Cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Uu(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zv(t){var e=t._init;return e(t._payload)}function KC(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=di(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,_){return g===null||g.tag!==6?(g=hm(w,y.mode,_),g.return=y,g):(g=s(g,w),g.return=y,g)}function l(y,g,w,_){var S=w.type;return S===qo?d(y,g,w.props.children,_,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fs&&zv(S)===g.type)?(_=s(g,w.props),_.ref=Cl(y,g,w),_.return=y,_):(_=Dd(w.type,w.key,w.props,null,y.mode,_),_.ref=Cl(y,g,w),_.return=y,_)}function u(y,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=mm(w,y.mode,_),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function d(y,g,w,_,S){return g===null||g.tag!==7?(g=co(w,y.mode,_,S),g.return=y,g):(g=s(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=hm(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Du:return w=Dd(g.type,g.key,g.props,null,y.mode,w),w.ref=Cl(y,null,g),w.return=y,w;case Yo:return g=mm(g,y.mode,w),g.return=y,g;case Fs:var _=g._init;return f(y,_(g._payload),w)}if(Bl(g)||bl(g))return g=co(g,y.mode,w,null),g.return=y,g;Uu(y,g)}return null}function h(y,g,w,_){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:return w.key===S?l(y,g,w,_):null;case Yo:return w.key===S?u(y,g,w,_):null;case Fs:return S=w._init,h(y,g,S(w._payload),_)}if(Bl(w)||bl(w))return S!==null?null:d(y,g,w,_,null);Uu(y,w)}return null}function m(y,g,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(g,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Du:return y=y.get(_.key===null?w:_.key)||null,l(g,y,_,S);case Yo:return y=y.get(_.key===null?w:_.key)||null,u(g,y,_,S);case Fs:var k=_._init;return m(y,g,w,k(_._payload),S)}if(Bl(_)||bl(_))return y=y.get(w)||null,d(g,y,_,S,null);Uu(g,_)}return null}function x(y,g,w,_){for(var S=null,k=null,T=g,C=g=0,M=null;T!==null&&C<w.length;C++){T.index>C?(M=T,T=null):M=T.sibling;var A=h(y,T,w[C],_);if(A===null){T===null&&(T=M);break}t&&T&&A.alternate===null&&e(y,T),g=i(A,g,C),k===null?S=A:k.sibling=A,k=A,T=M}if(C===w.length)return n(y,T),ct&&Vi(y,C),S;if(T===null){for(;C<w.length;C++)T=f(y,w[C],_),T!==null&&(g=i(T,g,C),k===null?S=T:k.sibling=T,k=T);return ct&&Vi(y,C),S}for(T=r(y,T);C<w.length;C++)M=m(T,y,C,w[C],_),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?C:M.key),g=i(M,g,C),k===null?S=M:k.sibling=M,k=M);return t&&T.forEach(function(F){return e(y,F)}),ct&&Vi(y,C),S}function p(y,g,w,_){var S=bl(w);if(typeof S!="function")throw Error(Q(150));if(w=S.call(w),w==null)throw Error(Q(151));for(var k=S=null,T=g,C=g=0,M=null,A=w.next();T!==null&&!A.done;C++,A=w.next()){T.index>C?(M=T,T=null):M=T.sibling;var F=h(y,T,A.value,_);if(F===null){T===null&&(T=M);break}t&&T&&F.alternate===null&&e(y,T),g=i(F,g,C),k===null?S=F:k.sibling=F,k=F,T=M}if(A.done)return n(y,T),ct&&Vi(y,C),S;if(T===null){for(;!A.done;C++,A=w.next())A=f(y,A.value,_),A!==null&&(g=i(A,g,C),k===null?S=A:k.sibling=A,k=A);return ct&&Vi(y,C),S}for(T=r(y,T);!A.done;C++,A=w.next())A=m(T,y,C,A.value,_),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),g=i(A,g,C),k===null?S=A:k.sibling=A,k=A);return t&&T.forEach(function(O){return e(y,O)}),ct&&Vi(y,C),S}function v(y,g,w,_){if(typeof w=="object"&&w!==null&&w.type===qo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:e:{for(var S=w.key,k=g;k!==null;){if(k.key===S){if(S=w.type,S===qo){if(k.tag===7){n(y,k.sibling),g=s(k,w.props.children),g.return=y,y=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fs&&zv(S)===k.type){n(y,k.sibling),g=s(k,w.props),g.ref=Cl(y,k,w),g.return=y,y=g;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===qo?(g=co(w.props.children,y.mode,_,w.key),g.return=y,y=g):(_=Dd(w.type,w.key,w.props,null,y.mode,_),_.ref=Cl(y,g,w),_.return=y,y=_)}return o(y);case Yo:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=mm(w,y.mode,_),g.return=y,y=g}return o(y);case Fs:return k=w._init,v(y,g,k(w._payload),_)}if(Bl(w))return x(y,g,w,_);if(bl(w))return p(y,g,w,_);Uu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,w),g.return=y,y=g):(n(y,g),g=hm(w,y.mode,_),g.return=y,y=g),o(y)):n(y,g)}return v}var Fa=KC(!0),GC=KC(!1),rf=Ci(null),sf=null,ta=null,uy=null;function dy(){uy=ta=sf=null}function fy(t){var e=rf.current;lt(rf),t._currentValue=e}function Tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function da(t,e){sf=t,uy=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(uy!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(sf===null)throw Error(Q(308));ta=t,sf.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var Qi=null;function hy(t){Qi===null?Qi=[t]:Qi.push(t)}function XC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hy(e)):(n.next=s.next,s.next=n),e.interleaved=n,bs(t,r)}function bs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function my(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bs(t,n)}return s=r.interleaved,s===null?(e.next=e,hy(r)):(e.next=s.next,s.next=e),r.interleaved=e,bs(t,n)}function kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}function Vv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function of(t,e,n,r){var s=t.updateQueue;Ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,p=a;switch(h=e,m=n,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=pt({},f,h);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);go|=o,t.lanes=o,t.memoizedState=f}}function $v(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var pu={},$r=Ci(pu),Pc=Ci(pu),Ec=Ci(pu);function Ki(t){if(t===pu)throw Error(Q(174));return t}function py(t,e){switch(nt(Ec,e),nt(Pc,t),nt($r,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ap(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ap(e,t)}lt($r),nt($r,e)}function La(){lt($r),lt(Pc),lt(Ec)}function JC(t){Ki(Ec.current);var e=Ki($r.current),n=ap(e,t.type);e!==n&&(nt(Pc,t),nt($r,n))}function gy(t){Pc.current===t&&(lt($r),lt(Pc))}var ft=Ci(0);function af(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var am=[];function yy(){for(var t=0;t<am.length;t++)am[t]._workInProgressVersionPrimary=null;am.length=0}var Td=Cs.ReactCurrentDispatcher,lm=Cs.ReactCurrentBatchConfig,po=0,mt=null,Dt=null,Lt=null,lf=!1,rc=!1,Mc=0,XO=0;function Zt(){throw Error(Q(321))}function xy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function vy(t,e,n,r,s,i){if(po=i,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?tR:nR,t=n(r,s),rc){i=0;do{if(rc=!1,Mc=0,25<=i)throw Error(Q(301));i+=1,Lt=Dt=null,e.updateQueue=null,Td.current=rR,t=n(r,s)}while(rc)}if(Td.current=cf,e=Dt!==null&&Dt.next!==null,po=0,Lt=Dt=mt=null,lf=!1,e)throw Error(Q(300));return t}function by(){var t=Mc!==0;return Mc=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?mt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function nr(){if(Dt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Lt===null?mt.memoizedState:Lt.next;if(e!==null)Lt=e,Dt=t;else{if(t===null)throw Error(Q(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Lt===null?mt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Dc(t,e){return typeof e=="function"?e(t):e}function cm(t){var e=nr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((po&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,mt.lanes|=d,go|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,br(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,mt.lanes|=i,go|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function um(t){var e=nr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);br(i,e.memoizedState)||(kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ek(){}function tk(t,e){var n=mt,r=nr(),s=e(),i=!br(r.memoizedState,s);if(i&&(r.memoizedState=s,kn=!0),r=r.queue,wy(sk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,Ac(9,rk.bind(null,n,r,s,e),void 0,null),Vt===null)throw Error(Q(349));po&30||nk(n,e,s)}return s}function nk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rk(t,e,n,r){e.value=n,e.getSnapshot=r,ik(e)&&ok(t)}function sk(t,e,n){return n(function(){ik(e)&&ok(t)})}function ik(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function ok(t){var e=bs(t,1);e!==null&&xr(e,t,1,-1)}function Bv(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:t},e.queue=t,t=t.dispatch=eR.bind(null,mt,t),[e.memoizedState,t]}function Ac(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ak(){return nr().memoizedState}function jd(t,e,n,r){var s=Pr();mt.flags|=t,s.memoizedState=Ac(1|e,n,void 0,r===void 0?null:r)}function ih(t,e,n,r){var s=nr();r=r===void 0?null:r;var i=void 0;if(Dt!==null){var o=Dt.memoizedState;if(i=o.destroy,r!==null&&xy(r,o.deps)){s.memoizedState=Ac(e,n,i,r);return}}mt.flags|=t,s.memoizedState=Ac(1|e,n,i,r)}function Uv(t,e){return jd(8390656,8,t,e)}function wy(t,e){return ih(2048,8,t,e)}function lk(t,e){return ih(4,2,t,e)}function ck(t,e){return ih(4,4,t,e)}function uk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dk(t,e,n){return n=n!=null?n.concat([t]):null,ih(4,4,uk.bind(null,e,t),n)}function _y(){}function fk(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hk(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mk(t,e,n){return po&21?(br(n,e)||(n=vC(),mt.lanes|=n,go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function ZO(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=lm.transition;lm.transition={};try{t(!1),e()}finally{Ze=n,lm.transition=r}}function pk(){return nr().memoizedState}function JO(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gk(t))yk(e,n);else if(n=XC(t,e,n,r),n!==null){var s=pn();xr(n,t,r,s),xk(n,e,r)}}function eR(t,e,n){var r=ui(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gk(t))yk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,br(a,o)){var l=e.interleaved;l===null?(s.next=s,hy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=XC(t,e,s,r),n!==null&&(s=pn(),xr(n,t,r,s),xk(n,e,r))}}function gk(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function yk(t,e){rc=lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}var cf={readContext:tr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},tR={readContext:tr,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:Uv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,uk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JO.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:Bv,useDebugValue:_y,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=Bv(!1),e=t[0];return t=ZO.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,s=Pr();if(ct){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Vt===null)throw Error(Q(349));po&30||nk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Uv(sk.bind(null,r,i,t),[t]),r.flags|=2048,Ac(9,rk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pr(),e=Vt.identifierPrefix;if(ct){var n=ds,r=us;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nR={readContext:tr,useCallback:fk,useContext:tr,useEffect:wy,useImperativeHandle:dk,useInsertionEffect:lk,useLayoutEffect:ck,useMemo:hk,useReducer:cm,useRef:ak,useState:function(){return cm(Dc)},useDebugValue:_y,useDeferredValue:function(t){var e=nr();return mk(e,Dt.memoizedState,t)},useTransition:function(){var t=cm(Dc)[0],e=nr().memoizedState;return[t,e]},useMutableSource:ek,useSyncExternalStore:tk,useId:pk,unstable_isNewReconciler:!1},rR={readContext:tr,useCallback:fk,useContext:tr,useEffect:wy,useImperativeHandle:dk,useInsertionEffect:lk,useLayoutEffect:ck,useMemo:hk,useReducer:um,useRef:ak,useState:function(){return um(Dc)},useDebugValue:_y,useDeferredValue:function(t){var e=nr();return Dt===null?e.memoizedState=t:mk(e,Dt.memoizedState,t)},useTransition:function(){var t=um(Dc)[0],e=nr().memoizedState;return[t,e]},useMutableSource:ek,useSyncExternalStore:tk,useId:pk,unstable_isNewReconciler:!1};function lr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oh={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),s=ui(t),i=ms(r,s);i.payload=e,n!=null&&(i.callback=n),e=li(t,i,s),e!==null&&(xr(e,t,s,r),kd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),s=ui(t),i=ms(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=li(t,i,s),e!==null&&(xr(e,t,s,r),kd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=ui(t),s=ms(n,r);s.tag=2,e!=null&&(s.callback=e),e=li(t,s,r),e!==null&&(xr(e,t,r,n),kd(e,t,r))}};function Wv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Cc(n,r)||!Cc(s,i):!0}function vk(t,e,n){var r=!1,s=pi,i=e.contextType;return typeof i=="object"&&i!==null?i=tr(i):(s=jn(e)?ho:sn.current,r=e.contextTypes,i=(r=r!=null)?Ra(t,s):pi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Hv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function Pp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},my(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=tr(i):(i=jn(e)?ho:sn.current,s.context=Ra(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&oh.enqueueReplaceState(s,s.state,null),of(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function za(t,e){try{var n="",r=e;do n+=MA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ep(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sR=typeof WeakMap=="function"?WeakMap:Map;function bk(t,e,n){n=ms(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){df||(df=!0,Vp=r),Ep(t,e)},n}function wk(t,e,n){n=ms(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ep(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ep(t,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=xR.bind(null,t,e,n),e.then(t,t))}function qv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ms(-1,1),e.tag=2,li(n,e,1))),n.lanes|=1),t)}var iR=Cs.ReactCurrentOwner,kn=!1;function un(t,e,n,r){e.child=t===null?GC(e,null,n,r):Fa(e,t.child,n,r)}function Kv(t,e,n,r,s){n=n.render;var i=e.ref;return da(e,s),r=vy(t,e,n,r,i,s),n=by(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ws(t,e,s)):(ct&&n&&ay(e),e.flags|=1,un(t,e,r,s),e.child)}function Gv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ey(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,_k(t,e,i,r,s)):(t=Dd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cc,n(o,r)&&t.ref===e.ref)return ws(t,e,s)}return e.flags|=1,t=di(i,r),t.ref=e.ref,t.return=e,e.child=t}function _k(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Cc(i,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,ws(t,e,s)}return Mp(t,e,n,r,s)}function Sk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ra,An),An|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(ra,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,nt(ra,An),An|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,nt(ra,An),An|=r;return un(t,e,s,n),e.child}function Nk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mp(t,e,n,r,s){var i=jn(n)?ho:sn.current;return i=Ra(e,i),da(e,s),n=vy(t,e,n,r,i,s),r=by(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ws(t,e,s)):(ct&&r&&ay(e),e.flags|=1,un(t,e,n,s),e.child)}function Xv(t,e,n,r,s){if(jn(n)){var i=!0;ef(e)}else i=!1;if(da(e,s),e.stateNode===null)Pd(t,e),vk(e,n,r),Pp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=jn(n)?ho:sn.current,u=Ra(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hv(e,o,r,u),Ls=!1;var h=e.memoizedState;o.state=h,of(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Tn.current||Ls?(typeof d=="function"&&(jp(e,n,d,r),l=e.memoizedState),(a=Ls||Wv(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lr(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=jn(n)?ho:sn.current,l=Ra(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Hv(e,o,r,l),Ls=!1,h=e.memoizedState,o.state=h,of(e,r,o,s);var x=e.memoizedState;a!==f||h!==x||Tn.current||Ls?(typeof m=="function"&&(jp(e,n,m,r),x=e.memoizedState),(u=Ls||Wv(e,n,u,r,h,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Dp(t,e,n,r,i,s)}function Dp(t,e,n,r,s,i){Nk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Iv(e,n,!1),ws(t,e,i);r=e.stateNode,iR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fa(e,t.child,null,i),e.child=Fa(e,null,a,i)):un(t,e,a,i),e.memoizedState=r.state,s&&Iv(e,n,!0),e.child}function Ck(t){var e=t.stateNode;e.pendingContext?Rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rv(t,e.context,!1),py(t,e.containerInfo)}function Zv(t,e,n,r,s){return Ia(),cy(s),e.flags|=256,un(t,e,n,r),e.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Op(t){return{baseLanes:t,cachePool:null,transitions:null}}function kk(t,e,n){var r=e.pendingProps,s=ft.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),nt(ft,s&1),t===null)return kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ch(o,r,0,null),t=co(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Op(n),e.memoizedState=Ap,t):Sy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=di(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=di(a,i):(i=co(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Op(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ap,r}return i=t.child,t=i.sibling,r=di(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sy(t,e){return e=ch({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&cy(r),Fa(e,t.child,null,n),t=Sy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dm(Error(Q(422))),Wu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ch({mode:"visible",children:r.children},s,0,null),i=co(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fa(e,t.child,null,o),e.child.memoizedState=Op(o),e.memoizedState=Ap,i);if(!(e.mode&1))return Wu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=dm(i,r,void 0),Wu(t,e,o,r)}if(a=(o&t.childLanes)!==0,kn||a){if(r=Vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bs(t,s),xr(r,t,s,-1))}return Py(),r=dm(Error(Q(421))),Wu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=ai(s.nextSibling),Fn=e,ct=!0,hr=null,t!==null&&(Gn[Xn++]=us,Gn[Xn++]=ds,Gn[Xn++]=mo,us=t.id,ds=t.overflow,mo=e),e=Sy(e,r.children),e.flags|=4096,e)}function Jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tp(t.return,e,n)}function fm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Tk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(un(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jv(t,n,e);else if(t.tag===19)Jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&af(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&af(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fm(e,!0,n,null,i);break;case"together":fm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ws(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aR(t,e,n){switch(e.tag){case 3:Ck(e),Ia();break;case 5:JC(e);break;case 1:jn(e.type)&&ef(e);break;case 4:py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;nt(rf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?kk(t,e,n):(nt(ft,ft.current&1),t=ws(t,e,n),t!==null?t.sibling:null);nt(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),nt(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,Sk(t,e,n)}return ws(t,e,n)}var jk,Rp,Pk,Ek;jk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rp=function(){};Pk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ki($r.current);var i=null;switch(n){case"input":s=rp(t,s),r=rp(t,r),i=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),i=[];break;case"textarea":s=op(t,s),r=op(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zd)}lp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ek=function(t,e,n,r){n!==r&&(e.flags|=4)};function kl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lR(t,e,n){var r=e.pendingProps;switch(ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return jn(e.type)&&Jd(),Jt(e),null;case 3:return r=e.stateNode,La(),lt(Tn),lt(sn),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Up(hr),hr=null))),Rp(t,e),Jt(e),null;case 5:gy(e);var s=Ki(Ec.current);if(n=e.type,t!==null&&e.stateNode!=null)Pk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Jt(e),null}if(t=Ki($r.current),Bu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Or]=e,r[jc]=i,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(s=0;s<Wl.length;s++)it(Wl[s],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":lv(r,i),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},it("invalid",r);break;case"textarea":uv(r,i),it("invalid",r)}lp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&$u(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&$u(r.textContent,a,t),s=["children",""+a]):xc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":Au(r),cv(r,i,!0);break;case"textarea":Au(r),dv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[jc]=r,jk(t,e,!1,!1),e.stateNode=t;e:{switch(o=cp(n,r),n){case"dialog":it("cancel",t),it("close",t),s=r;break;case"iframe":case"object":case"embed":it("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wl.length;s++)it(Wl[s],t);s=r;break;case"source":it("error",t),s=r;break;case"img":case"image":case"link":it("error",t),it("load",t),s=r;break;case"details":it("toggle",t),s=r;break;case"input":lv(t,r),s=rp(t,r),it("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),it("invalid",t);break;case"textarea":uv(t,r),s=op(t,r),it("invalid",t);break;default:s=r}lp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?aC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vc(t,l):typeof l=="number"&&vc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&it("scroll",t):l!=null&&qg(t,i,l,o))}switch(n){case"input":Au(t),cv(t,r,!1);break;case"textarea":Au(t),dv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?aa(t,!!r.multiple,i,!1):r.defaultValue!=null&&aa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)Ek(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Ki(Ec.current),Ki($r.current),Bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(i=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:$u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$u(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return Jt(e),null;case 13:if(lt(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&In!==null&&e.mode&1&&!(e.flags&128))QC(),Ia(),e.flags|=98560,i=!1;else if(i=Bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Or]=e}else Ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else hr!==null&&(Up(hr),hr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ot===0&&(Ot=3):Py())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return La(),Rp(t,e),t===null&&kc(e.stateNode.containerInfo),Jt(e),null;case 10:return fy(e.type._context),Jt(e),null;case 17:return jn(e.type)&&Jd(),Jt(e),null;case 19:if(lt(ft),i=e.memoizedState,i===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)kl(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=af(t),o!==null){for(e.flags|=128,kl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(ft,ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&_t()>Va&&(e.flags|=128,r=!0,kl(i,!1),e.lanes=4194304)}else{if(!r)if(t=af(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return Jt(e),null}else 2*_t()-i.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,kl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=ft.current,nt(ft,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return jy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function cR(t,e){switch(ly(e),e.tag){case 1:return jn(e.type)&&Jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return La(),lt(Tn),lt(sn),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gy(e),null;case 13:if(lt(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ft),null;case 4:return La(),null;case 10:return fy(e.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var Hu=!1,nn=!1,uR=typeof WeakSet=="function"?WeakSet:Set,ae=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function Ip(t,e,n){try{n()}catch(r){yt(t,e,r)}}var e0=!1;function dR(t,e){if(vp=Kd,t=RC(),oy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bp={focusedElem:t,selectionRange:n},Kd=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,v=x.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:lr(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(_){yt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return x=e0,e0=!1,x}function sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ip(e,n,i)}s=s.next}while(s!==r)}}function ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mk(t){var e=t.alternate;e!==null&&(t.alternate=null,Mk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[jc],delete e[Sp],delete e[qO],delete e[QO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dk(t){return t.tag===5||t.tag===3||t.tag===4}function t0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zd));else if(r!==4&&(t=t.child,t!==null))for(Lp(t,e,n),t=t.sibling;t!==null;)Lp(t,e,n),t=t.sibling}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}var Wt=null,dr=!1;function Es(t,e,n){for(n=n.child;n!==null;)Ak(t,e,n),n=n.sibling}function Ak(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 5:nn||na(n,e);case 6:var r=Wt,s=dr;Wt=null,Es(t,e,n),Wt=r,dr=s,Wt!==null&&(dr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(dr?(t=Wt,n=n.stateNode,t.nodeType===8?im(t.parentNode,n):t.nodeType===1&&im(t,n),Sc(t)):im(Wt,n.stateNode));break;case 4:r=Wt,s=dr,Wt=n.stateNode.containerInfo,dr=!0,Es(t,e,n),Wt=r,dr=s;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ip(n,e,o),s=s.next}while(s!==r)}Es(t,e,n);break;case 1:if(!nn&&(na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Es(t,e,n);break;case 21:Es(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Es(t,e,n),nn=r):Es(t,e,n);break;default:Es(t,e,n)}}function n0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uR),e.forEach(function(r){var s=bR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,dr=!1;break e;case 3:Wt=a.stateNode.containerInfo,dr=!0;break e;case 4:Wt=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Wt===null)throw Error(Q(160));Ak(i,o,s),Wt=null,dr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){yt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ok(e,t),e=e.sibling}function Ok(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),kr(t),r&4){try{sc(3,t,t.return),ah(3,t)}catch(p){yt(t,t.return,p)}try{sc(5,t,t.return)}catch(p){yt(t,t.return,p)}}break;case 1:or(e,t),kr(t),r&512&&n!==null&&na(n,n.return);break;case 5:if(or(e,t),kr(t),r&512&&n!==null&&na(n,n.return),t.flags&32){var s=t.stateNode;try{vc(s,"")}catch(p){yt(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nC(s,i),cp(a,o);var u=cp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?aC(s,f):d==="dangerouslySetInnerHTML"?iC(s,f):d==="children"?vc(s,f):qg(s,d,f,u)}switch(a){case"input":sp(s,i);break;case"textarea":rC(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?aa(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?aa(s,!!i.multiple,i.defaultValue,!0):aa(s,!!i.multiple,i.multiple?[]:"",!1))}s[jc]=i}catch(p){yt(t,t.return,p)}}break;case 6:if(or(e,t),kr(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){yt(t,t.return,p)}}break;case 3:if(or(e,t),kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sc(e.containerInfo)}catch(p){yt(t,t.return,p)}break;case 4:or(e,t),kr(t);break;case 13:or(e,t),kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ky=_t())),r&4&&n0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(u=nn)||d,or(e,t),nn=u):or(e,t),kr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:sc(4,h,h.return);break;case 1:na(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(p){yt(r,n,p)}}break;case 5:na(h,h.return);break;case 22:if(h.memoizedState!==null){s0(f);continue}}m!==null?(m.return=h,ae=m):s0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oC("display",o))}catch(p){yt(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){yt(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),kr(t),r&4&&n0(t);break;case 21:break;default:or(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dk(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vc(s,""),r.flags&=-33);var i=t0(t);zp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=t0(t);Lp(t,a,o);break;default:throw Error(Q(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fR(t,e,n){ae=t,Rk(t)}function Rk(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Hu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||nn;a=Hu;var u=nn;if(Hu=o,(nn=l)&&!u)for(ae=s;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?i0(s):l!==null?(l.return=o,ae=l):i0(s);for(;i!==null;)ae=i,Rk(i),i=i.sibling;ae=s,Hu=a,nn=u}r0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):r0(t)}}function r0(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||ah(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$v(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$v(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}nn||e.flags&512&&Fp(e)}catch(h){yt(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function s0(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function i0(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ah(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){yt(e,s,l)}}var i=e.return;try{Fp(e)}catch(l){yt(e,i,l)}break;case 5:var o=e.return;try{Fp(e)}catch(l){yt(e,o,l)}}}catch(l){yt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var hR=Math.ceil,uf=Cs.ReactCurrentDispatcher,Ny=Cs.ReactCurrentOwner,er=Cs.ReactCurrentBatchConfig,Le=0,Vt=null,Pt=null,Yt=0,An=0,ra=Ci(0),Ot=0,Oc=null,go=0,lh=0,Cy=0,ic=null,Nn=null,ky=0,Va=1/0,rs=null,df=!1,Vp=null,ci=null,Yu=!1,Zs=null,ff=0,oc=0,$p=null,Ed=-1,Md=0;function pn(){return Le&6?_t():Ed!==-1?Ed:Ed=_t()}function ui(t){return t.mode&1?Le&2&&Yt!==0?Yt&-Yt:GO.transition!==null?(Md===0&&(Md=vC()),Md):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:kC(t.type)),t):1}function xr(t,e,n,r){if(50<oc)throw oc=0,$p=null,Error(Q(185));fu(t,n,r),(!(Le&2)||t!==Vt)&&(t===Vt&&(!(Le&2)&&(lh|=n),Ot===4&&Vs(t,Yt)),Pn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Va=_t()+500,sh&&ki()))}function Pn(t,e){var n=t.callbackNode;GA(t,e);var r=Qd(t,t===Vt?Yt:0);if(r===0)n!==null&&mv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mv(n),e===1)t.tag===0?KO(o0.bind(null,t)):HC(o0.bind(null,t)),HO(function(){!(Le&6)&&ki()}),n=null;else{switch(bC(r)){case 1:n=Zg;break;case 4:n=yC;break;case 16:n=qd;break;case 536870912:n=xC;break;default:n=qd}n=Uk(n,Ik.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ik(t,e){if(Ed=-1,Md=0,Le&6)throw Error(Q(327));var n=t.callbackNode;if(fa()&&t.callbackNode!==n)return null;var r=Qd(t,t===Vt?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hf(t,r);else{e=r;var s=Le;Le|=2;var i=Lk();(Vt!==t||Yt!==e)&&(rs=null,Va=_t()+500,lo(t,e));do try{gR();break}catch(a){Fk(t,a)}while(!0);dy(),uf.current=i,Le=s,Pt!==null?e=0:(Vt=null,Yt=0,e=Ot)}if(e!==0){if(e===2&&(s=mp(t),s!==0&&(r=s,e=Bp(t,s))),e===1)throw n=Oc,lo(t,0),Vs(t,r),Pn(t,_t()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!mR(s)&&(e=hf(t,r),e===2&&(i=mp(t),i!==0&&(r=i,e=Bp(t,i))),e===1))throw n=Oc,lo(t,0),Vs(t,r),Pn(t,_t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:$i(t,Nn,rs);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=ky+500-_t(),10<e)){if(Qd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_p($i.bind(null,t,Nn,rs),e);break}$i(t,Nn,rs);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-yr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hR(r/1960))-r,10<r){t.timeoutHandle=_p($i.bind(null,t,Nn,rs),r);break}$i(t,Nn,rs);break;case 5:$i(t,Nn,rs);break;default:throw Error(Q(329))}}}return Pn(t,_t()),t.callbackNode===n?Ik.bind(null,t):null}function Bp(t,e){var n=ic;return t.current.memoizedState.isDehydrated&&(lo(t,e).flags|=256),t=hf(t,e),t!==2&&(e=Nn,Nn=n,e!==null&&Up(e)),t}function Up(t){Nn===null?Nn=t:Nn.push.apply(Nn,t)}function mR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!br(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~Cy,e&=~lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function o0(t){if(Le&6)throw Error(Q(327));fa();var e=Qd(t,0);if(!(e&1))return Pn(t,_t()),null;var n=hf(t,e);if(t.tag!==0&&n===2){var r=mp(t);r!==0&&(e=r,n=Bp(t,r))}if(n===1)throw n=Oc,lo(t,0),Vs(t,e),Pn(t,_t()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,Nn,rs),Pn(t,_t()),null}function Ty(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Va=_t()+500,sh&&ki())}}function yo(t){Zs!==null&&Zs.tag===0&&!(Le&6)&&fa();var e=Le;Le|=1;var n=er.transition,r=Ze;try{if(er.transition=null,Ze=1,t)return t()}finally{Ze=r,er.transition=n,Le=e,!(Le&6)&&ki()}}function jy(){An=ra.current,lt(ra)}function lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WO(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jd();break;case 3:La(),lt(Tn),lt(sn),yy();break;case 5:gy(r);break;case 4:La();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:fy(r.type._context);break;case 22:case 23:jy()}n=n.return}if(Vt=t,Pt=t=di(t.current,null),Yt=An=e,Ot=0,Oc=null,Cy=lh=go=0,Nn=ic=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qi=null}return t}function Fk(t,e){do{var n=Pt;try{if(dy(),Td.current=cf,lf){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lf=!1}if(po=0,Lt=Dt=mt=null,rc=!1,Mc=0,Ny.current=null,n===null||n.return===null){Ot=1,Oc=e,Pt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qv(o);if(m!==null){m.flags&=-257,Qv(m,o,a,i,e),m.mode&1&&Yv(i,u,e),e=m,l=u;var x=e.updateQueue;if(x===null){var p=new Set;p.add(l),e.updateQueue=p}else x.add(l);break e}else{if(!(e&1)){Yv(i,u,e),Py();break e}l=Error(Q(426))}}else if(ct&&a.mode&1){var v=qv(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Qv(v,o,a,i,e),cy(za(l,a));break e}}i=l=za(l,a),Ot!==4&&(Ot=2),ic===null?ic=[i]:ic.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=bk(i,l,e);Vv(i,y);break e;case 1:a=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ci===null||!ci.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=wk(i,a,e);Vv(i,_);break e}}i=i.return}while(i!==null)}Vk(n)}catch(S){e=S,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function Lk(){var t=uf.current;return uf.current=cf,t===null?cf:t}function Py(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Vt===null||!(go&268435455)&&!(lh&268435455)||Vs(Vt,Yt)}function hf(t,e){var n=Le;Le|=2;var r=Lk();(Vt!==t||Yt!==e)&&(rs=null,lo(t,e));do try{pR();break}catch(s){Fk(t,s)}while(!0);if(dy(),Le=n,uf.current=r,Pt!==null)throw Error(Q(261));return Vt=null,Yt=0,Ot}function pR(){for(;Pt!==null;)zk(Pt)}function gR(){for(;Pt!==null&&!$A();)zk(Pt)}function zk(t){var e=Bk(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?Vk(t):Pt=e,Ny.current=null}function Vk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cR(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Pt=null;return}}else if(n=lR(n,e,An),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ot===0&&(Ot=5)}function $i(t,e,n){var r=Ze,s=er.transition;try{er.transition=null,Ze=1,yR(t,e,n,r)}finally{er.transition=s,Ze=r}return null}function yR(t,e,n,r){do fa();while(Zs!==null);if(Le&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XA(t,i),t===Vt&&(Pt=Vt=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yu||(Yu=!0,Uk(qd,function(){return fa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=er.transition,er.transition=null;var o=Ze;Ze=1;var a=Le;Le|=4,Ny.current=null,dR(t,n),Ok(n,t),FO(bp),Kd=!!vp,bp=vp=null,t.current=n,fR(n),BA(),Le=a,Ze=o,er.transition=i}else t.current=n;if(Yu&&(Yu=!1,Zs=t,ff=s),i=t.pendingLanes,i===0&&(ci=null),HA(n.stateNode),Pn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(df)throw df=!1,t=Vp,Vp=null,t;return ff&1&&t.tag!==0&&fa(),i=t.pendingLanes,i&1?t===$p?oc++:(oc=0,$p=t):oc=0,ki(),null}function fa(){if(Zs!==null){var t=bC(ff),e=er.transition,n=Ze;try{if(er.transition=null,Ze=16>t?16:t,Zs===null)var r=!1;else{if(t=Zs,Zs=null,ff=0,Le&6)throw Error(Q(331));var s=Le;for(Le|=4,ae=t.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:sc(8,d,i)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,m=d.return;if(Mk(d),d===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ae=y;break e}ae=i.return}}var g=t.current;for(ae=g;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=g;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ah(9,a)}}catch(S){yt(a,a.return,S)}if(a===o){ae=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ae=_;break e}ae=a.return}}if(Le=s,ki(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Jf,t)}catch{}r=!0}return r}finally{Ze=n,er.transition=e}}return!1}function a0(t,e,n){e=za(n,e),e=bk(t,e,1),t=li(t,e,1),e=pn(),t!==null&&(fu(t,1,e),Pn(t,e))}function yt(t,e,n){if(t.tag===3)a0(t,t,n);else for(;e!==null;){if(e.tag===3){a0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){t=za(n,t),t=wk(e,t,1),e=li(e,t,1),t=pn(),e!==null&&(fu(e,1,t),Pn(e,t));break}}e=e.return}}function xR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Yt&n)===n&&(Ot===4||Ot===3&&(Yt&130023424)===Yt&&500>_t()-ky?lo(t,0):Cy|=n),Pn(t,e)}function $k(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=pn();t=bs(t,e),t!==null&&(fu(t,e,n),Pn(t,n))}function vR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$k(t,n)}function bR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),$k(t,n)}var Bk;Bk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,aR(t,e,n);kn=!!(t.flags&131072)}else kn=!1,ct&&e.flags&1048576&&YC(e,nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pd(t,e),t=e.pendingProps;var s=Ra(e,sn.current);da(e,n),s=vy(null,e,r,t,s,n);var i=by();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(i=!0,ef(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,my(e),s.updater=oh,e.stateNode=s,s._reactInternals=e,Pp(e,r,t,n),e=Dp(null,e,r,!0,i,n)):(e.tag=0,ct&&i&&ay(e),un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=_R(r),t=lr(r,t),s){case 0:e=Mp(null,e,r,t,n);break e;case 1:e=Xv(null,e,r,t,n);break e;case 11:e=Kv(null,e,r,t,n);break e;case 14:e=Gv(null,e,r,lr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),Mp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),Xv(t,e,r,s,n);case 3:e:{if(Ck(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ZC(t,e),of(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=za(Error(Q(423)),e),e=Zv(t,e,r,n,s);break e}else if(r!==s){s=za(Error(Q(424)),e),e=Zv(t,e,r,n,s);break e}else for(In=ai(e.stateNode.containerInfo.firstChild),Fn=e,ct=!0,hr=null,n=GC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),r===s){e=ws(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return JC(e),t===null&&kp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,wp(r,s)?o=null:i!==null&&wp(r,i)&&(e.flags|=32),Nk(t,e),un(t,e,o,n),e.child;case 6:return t===null&&kp(e),null;case 13:return kk(t,e,n);case 4:return py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),Kv(t,e,r,s,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,nt(rf,r._currentValue),r._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===s.children&&!Tn.current){e=ws(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ms(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,da(e,n),s=tr(s),r=r(s),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,s=lr(r,e.pendingProps),s=lr(r.type,s),Gv(t,e,r,s,n);case 15:return _k(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),Pd(t,e),e.tag=1,jn(r)?(t=!0,ef(e)):t=!1,da(e,n),vk(e,r,s),Pp(e,r,s,n),Dp(null,e,r,!0,t,n);case 19:return Tk(t,e,n);case 22:return Sk(t,e,n)}throw Error(Q(156,e.tag))};function Uk(t,e){return gC(t,e)}function wR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new wR(t,e,n,r)}function Ey(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _R(t){if(typeof t=="function")return Ey(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kg)return 11;if(t===Gg)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ey(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qo:return co(n.children,s,i,e);case Qg:o=8,s|=8;break;case Jm:return t=Zn(12,n,e,s|2),t.elementType=Jm,t.lanes=i,t;case ep:return t=Zn(13,n,e,s),t.elementType=ep,t.lanes=i,t;case tp:return t=Zn(19,n,e,s),t.elementType=tp,t.lanes=i,t;case JN:return ch(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XN:o=10;break e;case ZN:o=9;break e;case Kg:o=11;break e;case Gg:o=14;break e;case Fs:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function co(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function ch(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=JN,t.lanes=n,t.stateNode={isHidden:!1},t}function hm(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function mm(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function My(t,e,n,r,s,i,o,a,l){return t=new SR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},my(i),t}function NR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wk(t){if(!t)return pi;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(jn(n))return WC(t,n,e)}return e}function Hk(t,e,n,r,s,i,o,a,l){return t=My(n,r,!0,t,s,i,o,a,l),t.context=Wk(null),n=t.current,r=pn(),s=ui(n),i=ms(r,s),i.callback=e??null,li(n,i,s),t.current.lanes=s,fu(t,s,r),Pn(t,r),t}function uh(t,e,n,r){var s=e.current,i=pn(),o=ui(s);return n=Wk(n),e.context===null?e.context=n:e.pendingContext=n,e=ms(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=li(s,e,o),t!==null&&(xr(t,s,o,i),kd(t,s,o)),o}function mf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dy(t,e){l0(t,e),(t=t.alternate)&&l0(t,e)}function CR(){return null}var Yk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ay(t){this._internalRoot=t}dh.prototype.render=Ay.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));uh(t,e,null,null)};dh.prototype.unmount=Ay.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yo(function(){uh(null,t,null,null)}),e[vs]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=SC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zs.length&&e!==0&&e<zs[n].priority;n++);zs.splice(n,0,t),n===0&&CC(t)}};function Oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c0(){}function kR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mf(o);i.call(u)}}var o=Hk(e,r,t,0,null,!1,!1,"",c0);return t._reactRootContainer=o,t[vs]=o.current,kc(t.nodeType===8?t.parentNode:t),yo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mf(l);a.call(u)}}var l=My(t,0,!1,null,null,!1,!1,"",c0);return t._reactRootContainer=l,t[vs]=l.current,kc(t.nodeType===8?t.parentNode:t),yo(function(){uh(e,l,n,r)}),l}function hh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=mf(o);a.call(l)}}uh(e,o,t,s)}else o=kR(n,e,t,s,r);return mf(o)}wC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ul(e.pendingLanes);n!==0&&(Jg(e,n|1),Pn(e,_t()),!(Le&6)&&(Va=_t()+500,ki()))}break;case 13:yo(function(){var r=bs(t,1);if(r!==null){var s=pn();xr(r,t,1,s)}}),Dy(t,1)}};ey=function(t){if(t.tag===13){var e=bs(t,134217728);if(e!==null){var n=pn();xr(e,t,134217728,n)}Dy(t,134217728)}};_C=function(t){if(t.tag===13){var e=ui(t),n=bs(t,e);if(n!==null){var r=pn();xr(n,t,e,r)}Dy(t,e)}};SC=function(){return Ze};NC=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};dp=function(t,e,n){switch(e){case"input":if(sp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rh(r);if(!s)throw Error(Q(90));tC(r),sp(r,s)}}}break;case"textarea":rC(t,n);break;case"select":e=n.value,e!=null&&aa(t,!!n.multiple,e,!1)}};uC=Ty;dC=yo;var TR={usingClientEntryPoint:!1,Events:[mu,Xo,rh,lC,cC,Ty]},Tl={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mC(t),t===null?null:t.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||CR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Jf=qu.inject(jR),Vr=qu}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(e))throw Error(Q(200));return NR(t,e,null,n)};$n.createRoot=function(t,e){if(!Oy(t))throw Error(Q(299));var n=!1,r="",s=Yk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=My(t,1,!1,null,null,n,!1,r,s),t[vs]=e.current,kc(t.nodeType===8?t.parentNode:t),new Ay(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=mC(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return yo(t)};$n.hydrate=function(t,e,n){if(!fh(e))throw Error(Q(200));return hh(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Oy(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Yk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hk(e,null,t,1,n??null,s,!1,i,o),t[vs]=e.current,kc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dh(e)};$n.render=function(t,e,n){if(!fh(e))throw Error(Q(200));return hh(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!fh(t))throw Error(Q(40));return t._reactRootContainer?(yo(function(){hh(null,null,t,!1,function(){t._reactRootContainer=null,t[vs]=null})}),!0):!1};$n.unstable_batchedUpdates=Ty;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return hh(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function qk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qk)}catch(t){console.error(t)}}qk(),qN.exports=$n;var Do=qN.exports;const PR=RN(Do);var Qk,u0=Do;Qk=u0.createRoot,u0.hydrateRoot;function ER(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Kk={exports:{}},Gk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=b;function MR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var DR=typeof Object.is=="function"?Object.is:MR,AR=$a.useState,OR=$a.useEffect,RR=$a.useLayoutEffect,IR=$a.useDebugValue;function FR(t,e){var n=e(),r=AR({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return RR(function(){s.value=n,s.getSnapshot=e,pm(s)&&i({inst:s})},[t,n,e]),OR(function(){return pm(s)&&i({inst:s}),t(function(){pm(s)&&i({inst:s})})},[t]),IR(n),n}function pm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!DR(t,n)}catch{return!0}}function LR(t,e){return e()}var zR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LR:FR;Gk.useSyncExternalStore=$a.useSyncExternalStore!==void 0?$a.useSyncExternalStore:zR;Kk.exports=Gk;var VR=Kk.exports;const $R=Wg.useInsertionEffect,BR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UR=BR?b.useLayoutEffect:b.useEffect,WR=$R||UR,Xk=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return WR(()=>{e[0]=t}),e[1]},HR="popstate",Ry="pushState",Iy="replaceState",YR="hashchange",d0=[HR,Ry,Iy,YR],qR=t=>{for(const e of d0)addEventListener(e,t);return()=>{for(const e of d0)removeEventListener(e,t)}},Zk=(t,e)=>VR.useSyncExternalStore(qR,t,e),QR=()=>location.search,KR=({ssrSearch:t=""}={})=>Zk(QR,()=>t),f0=()=>location.pathname,GR=({ssrPath:t}={})=>Zk(f0,t?()=>t:f0),XR=(t,{replace:e=!1,state:n=null}={})=>history[e?Iy:Ry](n,"",t),ZR=(t={})=>[GR(t),XR],h0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[h0]>"u"){for(const t of[Ry,Iy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,h0,{value:!0})}const JR=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Jk=(t="")=>t==="/"?"":t,eI=(t,e)=>t[0]==="~"?t.slice(1):Jk(e)+t,tI=(t="",e)=>JR(m0(Jk(t)),m0(e)),m0=t=>{try{return decodeURI(t)}catch{return t}},eT={hook:ZR,searchHook:KR,parser:ER,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},tT=b.createContext(eT),gu=()=>b.useContext(tT),nT={},rT=b.createContext(nT),nI=()=>b.useContext(rT),mh=t=>{const[e,n]=t.hook(t);return[tI(t.base,e),Xk((r,s)=>n(eI(r,t.base),s))]},Et=()=>mh(gu()),sT=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},rI=({children:t,...e})=>{var d,f;const n=gu(),r=e.hook?eT:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,u=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,(m!==r[h]||m!==s[h])&&(s=u)}return b.createElement(tT.Provider,{value:s,children:t})},p0=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,sI=t=>{let e=b.useRef(nT);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Tt=({path:t,nest:e,match:n,...r})=>{const s=gu(),[i]=mh(s),[o,a,l]=n??sT(s.parser,t,i,e),u=sI({...nI(),...a});if(!o)return null;const d=l?b.createElement(rI,{base:l},p0(r,u)):p0(r,u);return b.createElement(rT.Provider,{value:u,children:d})},fs=b.forwardRef((t,e)=>{const n=gu(),[r,s]=mh(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:f,state:h,...m}=t,x=Xk(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),s(o,t)))}),p=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&b.isValidElement(u)?b.cloneElement(u,{onClick:x,href:p}):b.createElement("a",{...m,onClick:x,href:p,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),iT=t=>Array.isArray(t)?t.flatMap(e=>iT(e&&e.type===b.Fragment?e.props.children:e)):[t],iI=({children:t,location:e})=>{const n=gu(),[r]=mh(n);for(const s of iT(t)){let i=0;if(b.isValidElement(s)&&(i=sT(n.parser,s.props.path,e||r,s.props.nest))[0])return b.cloneElement(s,{match:i})}return null};var al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xo=typeof window>"u"||"Deno"in globalThis;function dn(){}function oI(t,e){return typeof t=="function"?t(e):t}function Wp(t){return typeof t=="number"&&t>=0&&t!==1/0}function oT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fi(t,e){return typeof t=="function"?t(e):t}function Kn(t,e){return typeof t=="function"?t(e):t}function g0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Fy(o,e.options))return!1}else if(!Rc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function y0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(vo(e.options.mutationKey)!==vo(i))return!1}else if(!Rc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Fy(t,e){return((e==null?void 0:e.queryKeyHashFn)||vo)(t)}function vo(t){return JSON.stringify(t,(e,n)=>Hp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Rc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Rc(t[n],e[n])):!1}function aT(t,e){if(t===e)return t;const n=x0(t)&&x0(e);if(n||Hp(t)&&Hp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=aT(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function pf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function x0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hp(t){if(!v0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!v0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function v0(t){return Object.prototype.toString.call(t)==="[object Object]"}function aI(t){return new Promise(e=>{setTimeout(e,t)})}function Yp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aT(t,e):e}function lI(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function cI(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ly=Symbol();function lT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ly?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function cT(t,e){return typeof t=="function"?t(...e):!!t}var Ji,$s,_a,Uw,uI=(Uw=class extends al{constructor(){super();he(this,Ji);he(this,$s);he(this,_a);re(this,_a,e=>{if(!xo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,$s)||this.setEventListener(P(this,_a))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,$s))==null||e.call(this),re(this,$s,void 0))}setEventListener(e){var n;re(this,_a,e),(n=P(this,$s))==null||n.call(this),re(this,$s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,Ji)!==e&&(re(this,Ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,Ji)=="boolean"?P(this,Ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ji=new WeakMap,$s=new WeakMap,_a=new WeakMap,Uw),zy=new uI,Sa,Bs,Na,Ww,dI=(Ww=class extends al{constructor(){super();he(this,Sa,!0);he(this,Bs);he(this,Na);re(this,Na,e=>{if(!xo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,Bs)||this.setEventListener(P(this,Na))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Bs))==null||e.call(this),re(this,Bs,void 0))}setEventListener(e){var n;re(this,Na,e),(n=P(this,Bs))==null||n.call(this),re(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){P(this,Sa)!==e&&(re(this,Sa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,Sa)}},Sa=new WeakMap,Bs=new WeakMap,Na=new WeakMap,Ww),gf=new dI;function qp(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function fI(t){return Math.min(1e3*2**t,3e4)}function uT(t){return(t??"online")==="online"?gf.isOnline():!0}var dT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gm(t){return t instanceof dT}function fT(t){let e=!1,n=0,r=!1,s;const i=qp(),o=p=>{var v;r||(h(new dT(p)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>zy.isFocused()&&(t.networkMode==="always"||gf.isOnline())&&t.canRun(),d=()=>uT(t.networkMode)&&t.canRun(),f=p=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,p),s==null||s(),i.resolve(p))},h=p=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var v;s=y=>{(r||u())&&p(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var p;s=void 0,r||(p=t.onContinue)==null||p.call(t)}),x=()=>{if(r)return;let p;const v=n===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var k;if(r)return;const g=t.retry??(xo?0:3),w=t.retryDelay??fI,_=typeof w=="function"?w(n,y):w,S=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(e||!S){h(y);return}n++,(k=t.onFail)==null||k.call(t,n,y),aI(_).then(()=>u()?void 0:m()).then(()=>{e?h(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():m().then(x),i)}}var hI=t=>setTimeout(t,0);function mI(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=hI;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var At=mI(),eo,Hw,hT=(Hw=class{constructor(){he(this,eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wp(this.gcTime)&&re(this,eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xo?1/0:5*60*1e3))}clearGcTimeout(){P(this,eo)&&(clearTimeout(P(this,eo)),re(this,eo,void 0))}},eo=new WeakMap,Hw),Ca,to,qn,no,en,au,ro,cr,Jr,Yw,pI=(Yw=class extends hT{constructor(e){super();he(this,cr);he(this,Ca);he(this,to);he(this,qn);he(this,no);he(this,en);he(this,au);he(this,ro);re(this,ro,!1),re(this,au,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,no,e.client),re(this,qn,P(this,no).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Ca,gI(this.options)),this.state=e.state??P(this,Ca),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,en))==null?void 0:e.promise}setOptions(e){this.options={...P(this,au),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,qn).remove(this)}setData(e,n){const r=Yp(this.state.data,e,this.options);return Ce(this,cr,Jr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ce(this,cr,Jr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=P(this,en))==null?void 0:r.promise;return(s=P(this,en))==null||s.cancel(e),n?n.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,Ca))}isActive(){return this.observers.some(e=>Kn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ly||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>fi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!oT(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,en))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,en))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(P(this,en)&&(P(this,ro)?P(this,en).cancel({revert:!0}):P(this,en).cancelRetry()),this.scheduleGc()),P(this,qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ce(this,cr,Jr).call(this,{type:"invalidate"})}fetch(e,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,en))return P(this,en).continueRetry(),P(this,en).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(re(this,ro,!0),r.signal)})},i=()=>{const h=lT(this.options,n),x=(()=>{const p={client:P(this,no),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return re(this,ro,!1),this.options.persister?this.options.persister(h,x,this):h(x)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,no),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),re(this,to,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Ce(this,cr,Jr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,x,p,v;gm(h)&&h.silent||Ce(this,cr,Jr).call(this,{type:"error",error:h}),gm(h)||((x=(m=P(this,qn).config).onError)==null||x.call(m,h,this),(v=(p=P(this,qn).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return re(this,en,fT({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,x,p,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(x=(m=P(this,qn).config).onSuccess)==null||x.call(m,h,this),(v=(p=P(this,qn).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Ce(this,cr,Jr).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Ce(this,cr,Jr).call(this,{type:"pause"})},onContinue:()=>{Ce(this,cr,Jr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),P(this,en).start()}},Ca=new WeakMap,to=new WeakMap,qn=new WeakMap,no=new WeakMap,en=new WeakMap,au=new WeakMap,ro=new WeakMap,cr=new WeakSet,Jr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mT(r.data,this.options),fetchMeta:e.meta??null};case"success":return re(this,to,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return gm(s)&&s.revert&&P(this,to)?{...P(this,to),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),At.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,qn).notify({query:this,type:"updated",action:e})})},Yw);function mT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mr,qw,yI=(qw=class extends al{constructor(e={}){super();he(this,Mr);this.config=e,re(this,Mr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Fy(s,n);let o=this.get(i);return o||(o=new pI({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){P(this,Mr).has(e.queryHash)||(P(this,Mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,Mr).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,Mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){At.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,Mr).get(e)}getAll(){return[...P(this,Mr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>g0(e,r)):n}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){At.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mr=new WeakMap,qw),Dr,ln,so,Ar,Rs,Qw,xI=(Qw=class extends hT{constructor(e){super();he(this,Ar);he(this,Dr);he(this,ln);he(this,so);this.mutationId=e.mutationId,re(this,ln,e.mutationCache),re(this,Dr,[]),this.state=e.state||pT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,Dr).includes(e)||(P(this,Dr).push(e),this.clearGcTimeout(),P(this,ln).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,Dr,P(this,Dr).filter(n=>n!==e)),this.scheduleGc(),P(this,ln).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():P(this,ln).remove(this))}continue(){var e;return((e=P(this,so))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,d,f,h,m,x,p,v,y,g,w,_,S,k,T,C;const n=()=>{Ce(this,Ar,Rs).call(this,{type:"continue"})};re(this,so,fT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,A)=>{Ce(this,Ar,Rs).call(this,{type:"failed",failureCount:M,error:A})},onPause:()=>{Ce(this,Ar,Rs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,ln).canRun(this)}));const r=this.state.status==="pending",s=!P(this,so).canStart();try{if(r)n();else{Ce(this,Ar,Rs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=P(this,ln).config).onMutate)==null?void 0:o.call(i,e,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));A!==this.state.context&&Ce(this,Ar,Rs).call(this,{type:"pending",context:A,variables:e,isPaused:s})}const M=await P(this,so).start();return await((d=(u=P(this,ln).config).onSuccess)==null?void 0:d.call(u,M,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,M,e,this.state.context)),await((x=(m=P(this,ln).config).onSettled)==null?void 0:x.call(m,M,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,M,null,e,this.state.context)),Ce(this,Ar,Rs).call(this,{type:"success",data:M}),M}catch(M){try{throw await((g=(y=P(this,ln).config).onError)==null?void 0:g.call(y,M,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,M,e,this.state.context)),await((k=(S=P(this,ln).config).onSettled)==null?void 0:k.call(S,void 0,M,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,M,e,this.state.context)),M}finally{Ce(this,Ar,Rs).call(this,{type:"error",error:M})}}finally{P(this,ln).runNext(this)}}},Dr=new WeakMap,ln=new WeakMap,so=new WeakMap,Ar=new WeakSet,Rs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),At.batch(()=>{P(this,Dr).forEach(r=>{r.onMutationUpdate(e)}),P(this,ln).notify({mutation:this,type:"updated",action:e})})},Qw);function pT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var as,ur,lu,Kw,vI=(Kw=class extends al{constructor(e={}){super();he(this,as);he(this,ur);he(this,lu);this.config=e,re(this,as,new Set),re(this,ur,new Map),re(this,lu,0)}build(e,n,r){const s=new xI({mutationCache:this,mutationId:++Eu(this,lu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){P(this,as).add(e);const n=Qu(e);if(typeof n=="string"){const r=P(this,ur).get(n);r?r.push(e):P(this,ur).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,as).delete(e)){const n=Qu(e);if(typeof n=="string"){const r=P(this,ur).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&P(this,ur).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Qu(e);if(typeof n=="string"){const r=P(this,ur).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Qu(e);if(typeof n=="string"){const s=(r=P(this,ur).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{P(this,as).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,as).clear(),P(this,ur).clear()})}getAll(){return Array.from(P(this,as))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>y0(n,r))}findAll(e={}){return this.getAll().filter(n=>y0(e,n))}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(e.map(n=>n.continue().catch(dn))))}},as=new WeakMap,ur=new WeakMap,lu=new WeakMap,Kw);function Qu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function b0(t){return{onFetch:(e,n)=>{var d,f,h,m,x;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=lT(e.options,e.fetchOptions),g=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return v(F),F})(),C=await y(T),{maxPages:M}=e.options,A=S?cI:lI;return{pages:A(w.pages,C,M),pageParams:A(w.pageParams,_,M)}};if(s&&i.length){const w=s==="backward",_=w?bI:w0,S={pages:i,pageParams:o},k=_(r,S);a=await g(S,k,w)}else{const w=t??i.length;do{const _=l===0?o[0]??r.initialPageParam:w0(r,a);if(l>0&&_==null)break;a=await g(a,_),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var p,v;return(v=(p=e.options).persister)==null?void 0:v.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function w0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function bI(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var gt,Us,Ws,ka,Ta,Hs,ja,Pa,Gw,wI=(Gw=class{constructor(t={}){he(this,gt);he(this,Us);he(this,Ws);he(this,ka);he(this,Ta);he(this,Hs);he(this,ja);he(this,Pa);re(this,gt,t.queryCache||new yI),re(this,Us,t.mutationCache||new vI),re(this,Ws,t.defaultOptions||{}),re(this,ka,new Map),re(this,Ta,new Map),re(this,Hs,0)}mount(){Eu(this,Hs)._++,P(this,Hs)===1&&(re(this,ja,zy.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,gt).onFocus())})),re(this,Pa,gf.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,gt).onOnline())})))}unmount(){var t,e;Eu(this,Hs)._--,P(this,Hs)===0&&((t=P(this,ja))==null||t.call(this),re(this,ja,void 0),(e=P(this,Pa))==null||e.call(this),re(this,Pa,void 0))}isFetching(t){return P(this,gt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Us).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,gt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=P(this,gt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(fi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return P(this,gt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=P(this,gt).get(r.queryHash),i=s==null?void 0:s.state.data,o=oI(e,i);if(o!==void 0)return P(this,gt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return At.batch(()=>P(this,gt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,gt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,gt);At.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,gt);return At.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=At.batch(()=>P(this,gt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(dn).catch(dn)}invalidateQueries(t,e={}){return At.batch(()=>(P(this,gt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=At.batch(()=>P(this,gt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,gt).build(this,e);return n.isStaleByTime(fi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=b0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=b0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gf.isOnline()?P(this,Us).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,gt)}getMutationCache(){return P(this,Us)}getDefaultOptions(){return P(this,Ws)}setDefaultOptions(t){re(this,Ws,t)}setQueryDefaults(t,e){P(this,ka).set(vo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,ka).values()],n={};return e.forEach(r=>{Rc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){P(this,Ta).set(vo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,Ta).values()],n={};return e.forEach(r=>{Rc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,Ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ly&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,Ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,gt).clear(),P(this,Us).clear()}},gt=new WeakMap,Us=new WeakMap,Ws=new WeakMap,ka=new WeakMap,Ta=new WeakMap,Hs=new WeakMap,ja=new WeakMap,Pa=new WeakMap,Gw),wn,Ae,cu,cn,io,Ea,Ys,qs,uu,Ma,Da,oo,ao,Qs,Aa,Ye,Hl,Qp,Kp,Gp,Xp,Zp,Jp,eg,gT,Xw,_I=(Xw=class extends al{constructor(e,n){super();he(this,Ye);he(this,wn);he(this,Ae);he(this,cu);he(this,cn);he(this,io);he(this,Ea);he(this,Ys);he(this,qs);he(this,uu);he(this,Ma);he(this,Da);he(this,oo);he(this,ao);he(this,Qs);he(this,Aa,new Set);this.options=n,re(this,wn,e),re(this,qs,null),re(this,Ys,qp()),this.options.experimental_prefetchInRender||P(this,Ys).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Ae).addObserver(this),_0(P(this,Ae),this.options)?Ce(this,Ye,Hl).call(this):this.updateResult(),Ce(this,Ye,Xp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tg(P(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tg(P(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ce(this,Ye,Zp).call(this),Ce(this,Ye,Jp).call(this),P(this,Ae).removeObserver(this)}setOptions(e){const n=this.options,r=P(this,Ae);if(this.options=P(this,wn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kn(this.options.enabled,P(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ce(this,Ye,eg).call(this),P(this,Ae).setOptions(this.options),n._defaulted&&!pf(this.options,n)&&P(this,wn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Ae),observer:this});const s=this.hasListeners();s&&S0(P(this,Ae),r,this.options,n)&&Ce(this,Ye,Hl).call(this),this.updateResult(),s&&(P(this,Ae)!==r||Kn(this.options.enabled,P(this,Ae))!==Kn(n.enabled,P(this,Ae))||fi(this.options.staleTime,P(this,Ae))!==fi(n.staleTime,P(this,Ae)))&&Ce(this,Ye,Qp).call(this);const i=Ce(this,Ye,Kp).call(this);s&&(P(this,Ae)!==r||Kn(this.options.enabled,P(this,Ae))!==Kn(n.enabled,P(this,Ae))||i!==P(this,Qs))&&Ce(this,Ye,Gp).call(this,i)}getOptimisticResult(e){const n=P(this,wn).getQueryCache().build(P(this,wn),e),r=this.createResult(n,e);return NI(this,r)&&(re(this,cn,r),re(this,Ea,this.options),re(this,io,P(this,Ae).state)),r}getCurrentResult(){return P(this,cn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){P(this,Aa).add(e)}getCurrentQuery(){return P(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=P(this,wn).defaultQueryOptions(e),r=P(this,wn).getQueryCache().build(P(this,wn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ce(this,Ye,Hl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,cn)))}createResult(e,n){var M;const r=P(this,Ae),s=this.options,i=P(this,cn),o=P(this,io),a=P(this,Ea),u=e!==r?e.state:P(this,cu),{state:d}=e;let f={...d},h=!1,m;if(n._optimisticResults){const A=this.hasListeners(),F=!A&&_0(e,n),O=A&&S0(e,r,n,s);(F||O)&&(f={...f,...mT(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:v}=f;m=f.data;let y=!1;if(n.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(A=i.data,y=!0):A=typeof n.placeholderData=="function"?n.placeholderData((M=P(this,Da))==null?void 0:M.state.data,P(this,Da)):n.placeholderData,A!==void 0&&(v="success",m=Yp(i==null?void 0:i.data,A,n),h=!0)}if(n.select&&m!==void 0&&!y)if(i&&m===(o==null?void 0:o.data)&&n.select===P(this,uu))m=P(this,Ma);else try{re(this,uu,n.select),m=n.select(m),m=Yp(i==null?void 0:i.data,m,n),re(this,Ma,m),re(this,qs,null)}catch(A){re(this,qs,A)}P(this,qs)&&(x=P(this,qs),m=P(this,Ma),p=Date.now(),v="error");const g=f.fetchStatus==="fetching",w=v==="pending",_=v==="error",S=w&&g,k=m!==void 0,C={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:Vy(e,n),refetch:this.refetch,promise:P(this,Ys),isEnabled:Kn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=V=>{C.status==="error"?V.reject(C.error):C.data!==void 0&&V.resolve(C.data)},F=()=>{const V=re(this,Ys,C.promise=qp());A(V)},O=P(this,Ys);switch(O.status){case"pending":e.queryHash===r.queryHash&&A(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&F();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&F();break}}return C}updateResult(){const e=P(this,cn),n=this.createResult(P(this,Ae),this.options);if(re(this,io,P(this,Ae).state),re(this,Ea,this.options),P(this,io).data!==void 0&&re(this,Da,P(this,Ae)),pf(n,e))return;re(this,cn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!P(this,Aa).size)return!0;const o=new Set(i??P(this,Aa));return this.options.throwOnError&&o.add("error"),Object.keys(P(this,cn)).some(a=>{const l=a;return P(this,cn)[l]!==e[l]&&o.has(l)})};Ce(this,Ye,gT).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ce(this,Ye,Xp).call(this)}},wn=new WeakMap,Ae=new WeakMap,cu=new WeakMap,cn=new WeakMap,io=new WeakMap,Ea=new WeakMap,Ys=new WeakMap,qs=new WeakMap,uu=new WeakMap,Ma=new WeakMap,Da=new WeakMap,oo=new WeakMap,ao=new WeakMap,Qs=new WeakMap,Aa=new WeakMap,Ye=new WeakSet,Hl=function(e){Ce(this,Ye,eg).call(this);let n=P(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(dn)),n},Qp=function(){Ce(this,Ye,Zp).call(this);const e=fi(this.options.staleTime,P(this,Ae));if(xo||P(this,cn).isStale||!Wp(e))return;const r=oT(P(this,cn).dataUpdatedAt,e)+1;re(this,oo,setTimeout(()=>{P(this,cn).isStale||this.updateResult()},r))},Kp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Ae)):this.options.refetchInterval)??!1},Gp=function(e){Ce(this,Ye,Jp).call(this),re(this,Qs,e),!(xo||Kn(this.options.enabled,P(this,Ae))===!1||!Wp(P(this,Qs))||P(this,Qs)===0)&&re(this,ao,setInterval(()=>{(this.options.refetchIntervalInBackground||zy.isFocused())&&Ce(this,Ye,Hl).call(this)},P(this,Qs)))},Xp=function(){Ce(this,Ye,Qp).call(this),Ce(this,Ye,Gp).call(this,Ce(this,Ye,Kp).call(this))},Zp=function(){P(this,oo)&&(clearTimeout(P(this,oo)),re(this,oo,void 0))},Jp=function(){P(this,ao)&&(clearInterval(P(this,ao)),re(this,ao,void 0))},eg=function(){const e=P(this,wn).getQueryCache().build(P(this,wn),this.options);if(e===P(this,Ae))return;const n=P(this,Ae);re(this,Ae,e),re(this,cu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},gT=function(e){At.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(P(this,cn))}),P(this,wn).getQueryCache().notify({query:P(this,Ae),type:"observerResultsUpdated"})})},Xw);function SI(t,e){return Kn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _0(t,e){return SI(t,e)||t.state.data!==void 0&&tg(t,e,e.refetchOnMount)}function tg(t,e,n){if(Kn(e.enabled,t)!==!1&&fi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Vy(t,e)}return!1}function S0(t,e,n,r){return(t!==e||Kn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Vy(t,n)}function Vy(t,e){return Kn(e.enabled,t)!==!1&&t.isStaleByTime(fi(e.staleTime,t))}function NI(t,e){return!pf(t.getCurrentResult(),e)}var Ks,Gs,_n,ls,ys,Ad,ng,Zw,CI=(Zw=class extends al{constructor(n,r){super();he(this,ys);he(this,Ks);he(this,Gs);he(this,_n);he(this,ls);re(this,Ks,n),this.setOptions(r),this.bindMethods(),Ce(this,ys,Ad).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=P(this,Ks).defaultMutationOptions(n),pf(this.options,r)||P(this,Ks).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,_n),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&vo(r.mutationKey)!==vo(this.options.mutationKey)?this.reset():((s=P(this,_n))==null?void 0:s.state.status)==="pending"&&P(this,_n).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,_n))==null||n.removeObserver(this)}onMutationUpdate(n){Ce(this,ys,Ad).call(this),Ce(this,ys,ng).call(this,n)}getCurrentResult(){return P(this,Gs)}reset(){var n;(n=P(this,_n))==null||n.removeObserver(this),re(this,_n,void 0),Ce(this,ys,Ad).call(this),Ce(this,ys,ng).call(this)}mutate(n,r){var s;return re(this,ls,r),(s=P(this,_n))==null||s.removeObserver(this),re(this,_n,P(this,Ks).getMutationCache().build(P(this,Ks),this.options)),P(this,_n).addObserver(this),P(this,_n).execute(n)}},Ks=new WeakMap,Gs=new WeakMap,_n=new WeakMap,ls=new WeakMap,ys=new WeakSet,Ad=function(){var r;const n=((r=P(this,_n))==null?void 0:r.state)??pT();re(this,Gs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ng=function(n){At.batch(()=>{var r,s,i,o,a,l,u,d;if(P(this,ls)&&this.hasListeners()){const f=P(this,Gs).variables,h=P(this,Gs).context;(n==null?void 0:n.type)==="success"?((s=(r=P(this,ls)).onSuccess)==null||s.call(r,n.data,f,h),(o=(i=P(this,ls)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((l=(a=P(this,ls)).onError)==null||l.call(a,n.error,f,h),(d=(u=P(this,ls)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(P(this,Gs))})})},Zw),yT=b.createContext(void 0),Un=t=>{const e=b.useContext(yT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kI=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(yT.Provider,{value:t,children:e})),xT=b.createContext(!1),TI=()=>b.useContext(xT);xT.Provider;function jI(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var PI=b.createContext(jI()),EI=()=>b.useContext(PI),MI=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},DI=t=>{b.useEffect(()=>{t.clearReset()},[t])},AI=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||cT(n,[t.error,r])),OI=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},RI=(t,e)=>t.isLoading&&t.isFetching&&!e,II=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,N0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function FI(t,e,n){var f,h,m,x,p;const r=TI(),s=EI(),i=Un(),o=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",OI(o),MI(o,s),DI(s);const a=!i.getQueryCache().get(o.queryHash),[l]=b.useState(()=>new e(i,o)),u=l.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const y=d?l.subscribe(At.batchCalls(v)):dn;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(o)},[o,l]),II(o,u))throw N0(o,l,s);if(AI({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||x.call(m,o,u),o.experimental_prefetchInRender&&!xo&&RI(u,r)){const v=a?N0(o,l,s):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(dn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function on(t,e){return FI(t,_I)}function Ft(t,e){const n=Un(),[r]=b.useState(()=>new CI(n,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const s=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(At.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,a)=>{r.mutate(o,a).catch(dn)},[r]);if(s.error&&cT(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function LI(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}function vT(){return window.location.origin}async function Ue(t,e,n){const r=localStorage.getItem("authToken"),s={};let i;n instanceof FormData?i=n:n&&(s["Content-Type"]="application/json",i=JSON.stringify(n)),r&&(s.Authorization=`Bearer ${r}`);const o=vT(),a=e.startsWith("http")?e:`${o}${e}`,l=await fetch(a,{method:t,headers:s,body:i,credentials:"include"});if(!l.ok){const d=await l.text()||l.statusText;throw console.error("API Error:",l.status,d),l.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),new Error(`${l.status}: ${d}`)}if(l.status===204)return null;const u=l.headers.get("Content-Type");return u&&u.includes("application/json")?l.json():l.text()}const bT=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("authToken"),r={};n&&(r.Authorization=`Bearer ${n}`);const s=vT(),i=e.join("/"),o=i.startsWith("http")?i:`${s}${i}`,a=await fetch(o,{headers:r,credentials:"include"});return t==="returnNull"&&a.status===401?(localStorage.removeItem("authToken"),null):(a.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),await LI(a),await a.json())},Bi=new wI({defaultOptions:{queries:{queryFn:bT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),zI=1,VI=1e6;let ym=0;function $I(){return ym=(ym+1)%Number.MAX_SAFE_INTEGER,ym.toString()}const xm=new Map,C0=t=>{if(xm.has(t))return;const e=setTimeout(()=>{xm.delete(t),ac({type:"REMOVE_TOAST",toastId:t})},VI);xm.set(t,e)},BI=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,zI)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?C0(n):t.toasts.forEach(r=>{C0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Od=[];let Rd={toasts:[]};function ac(t){Rd=BI(Rd,t),Od.forEach(e=>{e(Rd)})}function UI({...t}){const e=$I(),n=s=>ac({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ac({type:"DISMISS_TOAST",toastId:e});return ac({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Xt(){const[t,e]=b.useState(Rd);return b.useEffect(()=>(Od.push(e),()=>{const n=Od.indexOf(e);n>-1&&Od.splice(n,1)}),[t]),{...t,toast:UI,dismiss:n=>ac({type:"DISMISS_TOAST",toastId:n})}}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function k0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=k0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():k0(t[s],null)}}}}function We(...t){return b.useCallback(wT(...t),t)}function WI(t,e){const n=b.createContext(e),r=i=>{const{children:o,...a}=i,l=b.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ao(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:m,...x}=f,p=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=b.useMemo(()=>x,Object.values(x));return c.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,x=b.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,HI(s,...e)]}function HI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ba(t){const e=YI(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(QI);if(l){const u=l.props.children,d=a.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var _T=Ba("Slot");function YI(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=GI(s),a=KI(i,s.props);return s.type!==b.Fragment&&(a.ref=r?wT(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ST=Symbol("radix.slottable");function qI(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=ST,e}function QI(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ST}function KI(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function GI(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $y(t){const e=t+"CollectionProvider",[n,r]=Ao(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,g=xe.useRef(null),w=xe.useRef(new Map).current;return c.jsx(s,{scope:v,itemMap:w,collectionRef:g,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Ba(a),u=xe.forwardRef((p,v)=>{const{scope:y,children:g}=p,w=i(a,y),_=We(v,w.collectionRef);return c.jsx(l,{ref:_,children:g})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ba(d),m=xe.forwardRef((p,v)=>{const{scope:y,children:g,...w}=p,_=xe.useRef(null),S=We(v,_),k=i(d,y);return xe.useEffect(()=>(k.itemMap.set(_,{ref:_,...w}),()=>void k.itemMap.delete(_))),c.jsx(h,{[f]:"",ref:S,children:g})});m.displayName=d;function x(p){const v=i(t+"CollectionConsumer",p);return xe.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,T)=>w.indexOf(k.ref.current)-w.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,r]}var XI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=XI.reduce((t,e)=>{const n=Ba(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function NT(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}function wr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ZI(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var JI="DismissableLayer",rg="dismissableLayer.update",eF="dismissableLayer.pointerDownOutside",tF="dismissableLayer.focusOutside",T0,CT=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yu=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=b.useContext(CT),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),x=We(e,T=>f(T)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),g=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=y,S=rF(T=>{const C=T.target,M=[...u.branches].some(A=>A.contains(C));!_||M||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),k=sF(T=>{const C=T.target;[...u.branches].some(A=>A.contains(C))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return ZI(T=>{g===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(T0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),j0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=T0)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),j0())},[d,u]),b.useEffect(()=>{const T=()=>m({});return document.addEventListener(rg,T),()=>document.removeEventListener(rg,T)},[]),c.jsx(je.div,{...l,ref:x,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,S.onPointerDownCapture)})});yu.displayName=JI;var nF="DismissableLayerBranch",kT=b.forwardRef((t,e)=>{const n=b.useContext(CT),r=b.useRef(null),s=We(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(je.div,{...t,ref:s})});kT.displayName=nF;function rF(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){TT(eF,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function sF(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&TT(tF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function j0(){const t=new CustomEvent(rg);document.dispatchEvent(t)}function TT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?NT(s,i):s.dispatchEvent(i)}var iF=yu,oF=kT,Qt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},aF="Portal",ph=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?PR.createPortal(c.jsx(je.div,{...r,ref:e}),o):null});ph.displayName=aF;function lF(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var ll=t=>{const{present:e,children:n}=t,r=cF(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=We(r.ref,uF(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};ll.displayName="Presence";function cF(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=lF(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Ku(r.current);i.current=a==="mounted"?u:"none"},[a]),Qt(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,m=Ku(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Qt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const p=Ku(r.current).includes(m.animationName);if(m.target===e&&p&&(l("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(i.current=Ku(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ku(t){return(t==null?void 0:t.animationName)||"none"}function uF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dF=Wg[" useInsertionEffect ".trim().toString()]||Qt;function Ic({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=fF({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=b.useCallback(d=>{var f;if(a){const h=hF(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,t,i,o]);return[l,u]}function fF({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return dF(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function hF(t){return typeof t=="function"}var jT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mF="VisuallyHidden",gh=b.forwardRef((t,e)=>c.jsx(je.span,{...t,ref:e,style:{...jT,...t.style}}));gh.displayName=mF;var pF=gh,By="ToastProvider",[Uy,gF,yF]=$y("Toast"),[PT,Y7]=Ao("Toast",[yF]),[xF,yh]=PT(By),ET=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${By}\`. Expected non-empty \`string\`.`),c.jsx(Uy.Provider,{scope:e,children:c.jsx(xF,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};ET.displayName=By;var MT="ToastViewport",vF=["F8"],sg="toast.viewportPause",ig="toast.viewportResume",DT=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=vF,label:s="Notifications ({hotkey})",...i}=t,o=yh(MT,n),a=gF(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=We(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;b.useEffect(()=>{const v=y=>{var w;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=l.current,y=f.current;if(x&&v&&y){const g=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(sg);y.dispatchEvent(k),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(ig);y.dispatchEvent(k),o.isClosePausedRef.current=!1}},_=k=>{!v.contains(k.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",g),v.addEventListener("focusout",_),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:v})=>{const g=a().map(w=>{const _=w.ref.current,S=[_,...DF(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?g.reverse():g).flat()},[a]);return b.useEffect(()=>{const v=f.current;if(v){const y=g=>{var S,k,T;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const C=document.activeElement,M=g.shiftKey;if(g.target===v&&M){(S=u.current)==null||S.focus();return}const O=p({tabbingDirection:M?"backwards":"forwards"}),V=O.findIndex($=>$===C);vm(O.slice(V+1))?g.preventDefault():M?(k=u.current)==null||k.focus():(T=d.current)==null||T.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[a,p]),c.jsxs(oF,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&c.jsx(og,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});vm(v)}}),c.jsx(Uy.Slot,{scope:n,children:c.jsx(je.ol,{tabIndex:-1,...i,ref:h})}),x&&c.jsx(og,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});vm(v)}})]})});DT.displayName=MT;var AT="ToastFocusProxy",og=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=yh(AT,n);return c.jsx(gh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});og.displayName=AT;var xu="Toast",bF="toast.swipeStart",wF="toast.swipeMove",_F="toast.swipeCancel",SF="toast.swipeEnd",OT=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Ic({prop:r,defaultProp:s??!0,onChange:i,caller:xu});return c.jsx(ll,{present:n||a,children:c.jsx(kF,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:wr(t.onPause),onResume:wr(t.onResume),onSwipeStart:ye(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ye(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});OT.displayName=xu;var[NF,CF]=PT(xu,{onClose(){}}),kF=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=t,p=yh(xu,n),[v,y]=b.useState(null),g=We(e,$=>y($)),w=b.useRef(null),_=b.useRef(null),S=s||p.duration,k=b.useRef(0),T=b.useRef(S),C=b.useRef(0),{onToastAdd:M,onToastRemove:A}=p,F=wr(()=>{var I;(v==null?void 0:v.contains(document.activeElement))&&((I=p.viewport)==null||I.focus()),o()}),O=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),k.current=new Date().getTime(),C.current=window.setTimeout(F,$))},[F]);b.useEffect(()=>{const $=p.viewport;if($){const I=()=>{O(T.current),u==null||u()},z=()=>{const B=new Date().getTime()-k.current;T.current=T.current-B,window.clearTimeout(C.current),l==null||l()};return $.addEventListener(sg,z),$.addEventListener(ig,I),()=>{$.removeEventListener(sg,z),$.removeEventListener(ig,I)}}},[p.viewport,S,l,u,O]),b.useEffect(()=>{i&&!p.isClosePausedRef.current&&O(S)},[i,S,p.isClosePausedRef,O]),b.useEffect(()=>(M(),()=>A()),[M,A]);const V=b.useMemo(()=>v?$T(v):null,[v]);return p.viewport?c.jsxs(c.Fragment,{children:[V&&c.jsx(TF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),c.jsx(NF,{scope:n,onClose:F,children:Do.createPortal(c.jsx(Uy.ItemSlot,{scope:n,children:c.jsx(iF,{asChild:!0,onEscapeKeyDown:ye(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||F(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ye(t.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:ye(t.onPointerMove,$=>{if(!w.current)return;const I=$.clientX-w.current.x,z=$.clientY-w.current.y,B=!!_.current,j=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=j?R(0,I):0,W=j?0:R(0,z),G=$.pointerType==="touch"?10:2,ne={x:D,y:W},se={originalEvent:$,delta:ne};B?(_.current=ne,Gu(wF,f,se,{discrete:!1})):P0(ne,p.swipeDirection,G)?(_.current=ne,Gu(bF,d,se,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(I)>G||Math.abs(z)>G)&&(w.current=null)}),onPointerUp:ye(t.onPointerUp,$=>{const I=_.current,z=$.target;if(z.hasPointerCapture($.pointerId)&&z.releasePointerCapture($.pointerId),_.current=null,w.current=null,I){const B=$.currentTarget,j={originalEvent:$,delta:I};P0(I,p.swipeDirection,p.swipeThreshold)?Gu(SF,m,j,{discrete:!0}):Gu(_F,h,j,{discrete:!0}),B.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),TF=t=>{const{__scopeToast:e,children:n,...r}=t,s=yh(xu,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return EF(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(ph,{asChild:!0,children:c.jsx(gh,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},jF="ToastTitle",RT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(je.div,{...r,ref:e})});RT.displayName=jF;var PF="ToastDescription",IT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(je.div,{...r,ref:e})});IT.displayName=PF;var FT="ToastAction",LT=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(VT,{altText:n,asChild:!0,children:c.jsx(Wy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FT}\`. Expected non-empty \`string\`.`),null)});LT.displayName=FT;var zT="ToastClose",Wy=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=CF(zT,n);return c.jsx(VT,{asChild:!0,children:c.jsx(je.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,s.onClose)})})});Wy.displayName=zT;var VT=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $T(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),MF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$T(r))}}),e}function Gu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?NT(s,i):s.dispatchEvent(i)}var P0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function EF(t=()=>{}){const e=wr(t);Qt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function MF(t){return t.nodeType===t.ELEMENT_NODE}function DF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var AF=ET,BT=DT,UT=OT,WT=RT,HT=IT,YT=LT,qT=Wy;function QT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=QT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function KT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=QT(t))&&(r&&(r+=" "),r+=e);return r}const E0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,M0=KT,Hy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return M0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=E0(d)||E0(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[p,v]=x;return Array.isArray(v)?v.includes({...i,...a}[p]):{...i,...a}[p]===v})?[...u,f,h]:u},[]);return M0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...RF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:GT("lucide",s),...a},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(IF,{ref:i,iconNode:e,className:GT(`lucide-${OF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Ti("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Ti("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Ti("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=Ti("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Ti("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Ti("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=Ti("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Ti("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qy="-",$F=t=>{const e=UF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(qy);return a[0]===""&&a.length!==1&&a.shift(),JT(a,e)||BF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},JT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?JT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(qy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},D0=/^\[(.+)\]$/,BF=t=>{if(D0.test(t)){const e=D0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},UF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return HF(Object.entries(t.classGroups),n).forEach(([i,o])=>{lg(o,r,i,e)}),r},lg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:A0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(WF(s)){lg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{lg(o,A0(e,i),n,r)})})},A0=(t,e)=>{let n=t;return e.split(qy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},WF=t=>t.isThemeGetter,HF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,YF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},ej="!",qF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let v=0;v<a.length;v++){let y=a[v];if(u===0){if(y===s&&(r||a.slice(v,v+i)===e)){l.push(a.slice(d,v)),d=v+i;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(ej),x=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},QF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},KF=t=>({cache:YF(t.cacheSize),parseClassName:qF(t),...$F(t)}),GF=/\s+/,XF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(GF);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let x=!!m,p=r(x?h.substring(0,m):h);if(!p){if(!x){a=u+(a.length>0?" "+a:a);continue}if(p=r(h),!p){a=u+(a.length>0?" "+a:a);continue}x=!1}const v=QF(d).join(":"),y=f?v+ej:v,g=y+p;if(i.includes(g))continue;i.push(g);const w=s(p,x);for(let _=0;_<w.length;++_){const S=w[_];i.push(y+S)}a=u+(a.length>0?" "+a:a)}return a};function ZF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tj(e))&&(r&&(r+=" "),r+=n);return r}const tj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tj(t[r]))&&(n&&(n+=" "),n+=e);return n};function JF(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=KF(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=XF(l,n);return s(l,d),d}return function(){return i(ZF.apply(null,arguments))}}const st=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nj=/^\[(?:([a-z-]+):)?(.+)\]$/i,eL=/^\d+\/\d+$/,tL=new Set(["px","full","screen"]),nL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gr=t=>ha(t)||tL.has(t)||eL.test(t),Ms=t=>cl(t,"length",mL),ha=t=>!!t&&!Number.isNaN(Number(t)),bm=t=>cl(t,"number",ha),jl=t=>!!t&&Number.isInteger(Number(t)),aL=t=>t.endsWith("%")&&ha(t.slice(0,-1)),Ne=t=>nj.test(t),Ds=t=>nL.test(t),lL=new Set(["length","size","percentage"]),cL=t=>cl(t,lL,rj),uL=t=>cl(t,"position",rj),dL=new Set(["image","url"]),fL=t=>cl(t,dL,gL),hL=t=>cl(t,"",pL),Pl=()=>!0,cl=(t,e,n)=>{const r=nj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},mL=t=>rL.test(t)&&!sL.test(t),rj=()=>!1,pL=t=>iL.test(t),gL=t=>oL.test(t),yL=()=>{const t=st("colors"),e=st("spacing"),n=st("blur"),r=st("brightness"),s=st("borderColor"),i=st("borderRadius"),o=st("borderSpacing"),a=st("borderWidth"),l=st("contrast"),u=st("grayscale"),d=st("hueRotate"),f=st("invert"),h=st("gap"),m=st("gradientColorStops"),x=st("gradientColorStopPositions"),p=st("inset"),v=st("margin"),y=st("opacity"),g=st("padding"),w=st("saturate"),_=st("scale"),S=st("sepia"),k=st("skew"),T=st("space"),C=st("translate"),M=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ne,e],O=()=>[Ne,e],V=()=>["",Gr,Ms],$=()=>["auto",ha,Ne],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ne],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ha,Ne];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[Gr,Ms],blur:["none","",Ds,Ne],brightness:W(),borderColor:[t],borderRadius:["none","","full",Ds,Ne],borderSpacing:O(),borderWidth:V(),contrast:W(),grayscale:R(),hueRotate:W(),invert:R(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[aL,Ms],inset:F(),margin:F(),opacity:W(),padding:O(),saturate:W(),scale:W(),sepia:R(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Ds]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ne]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jl,Ne]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",jl,Ne]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",jl,Ne]},Ne]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[jl,Ne]},Ne]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[Ds]},Ds]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ds,Ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bm]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",ha,bm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gr,Ms]}],"underline-offset":[{"underline-offset":["auto",Gr,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),uL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Gr,Ne]}],"outline-w":[{outline:[Gr,Ms]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Gr,Ms]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ds,hL]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ds,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[jl,Ne]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gr,Ms,bm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xL=JF(yL);function Oe(...t){return xL(KT(t))}function vL(t){return t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Activity"}function sj(t,e,n){if(!t||!e)return null;const[r,s]=t.split(":").map(Number),[i,o]=e.split(":").map(Number);let a=new Date;a.setHours(r,s,0,0);let l=new Date;if(l.setHours(i,o,0,0),n==="sleep"&&l<=a)l.setDate(l.getDate()+1);else if(n!=="sleep"&&l<=a)return null;const u=l.getTime()-a.getTime(),d=Math.floor(u/(1e3*60)),f=Math.floor(d/60),h=d%60;return{hours:f,minutes:h}}function bL(t){if(!t)return"";const e=[];return t.hours>0&&e.push(`${t.hours} hr`),t.minutes>0&&e.push(`${t.minutes} min`),e.join(" ")||"0 min"}const wL=AF,ij=b.forwardRef(({className:t,...e},n)=>c.jsx(BT,{ref:n,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ij.displayName=BT.displayName;const _L=Hy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oj=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(UT,{ref:r,className:Oe(_L({variant:e}),t),...n}));oj.displayName=UT.displayName;const SL=b.forwardRef(({className:t,...e},n)=>c.jsx(YT,{ref:n,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));SL.displayName=YT.displayName;const aj=b.forwardRef(({className:t,...e},n)=>c.jsx(qT,{ref:n,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(Yy,{className:"h-4 w-4"})}));aj.displayName=qT.displayName;const lj=b.forwardRef(({className:t,...e},n)=>c.jsx(WT,{ref:n,className:Oe("text-sm font-semibold",t),...e}));lj.displayName=WT.displayName;const cj=b.forwardRef(({className:t,...e},n)=>c.jsx(HT,{ref:n,className:Oe("text-sm opacity-90",t),...e}));cj.displayName=HT.displayName;function NL(){const{toasts:t}=Xt();return c.jsxs(wL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(oj,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(lj,{children:n}),r&&c.jsx(cj,{children:r})]}),s,c.jsx(aj,{})]},e)}),c.jsx(ij,{})]})}var CL=Wg[" useId ".trim().toString()]||(()=>{}),kL=0;function ma(t){const[e,n]=b.useState(CL());return Qt(()=>{n(r=>r??String(kL++))},[t]),e?`radix-${e}`:""}const TL=["top","right","bottom","left"],gi=Math.min,Rn=Math.max,yf=Math.round,Xu=Math.floor,Br=t=>({x:t,y:t}),jL={left:"right",right:"left",bottom:"top",top:"bottom"},PL={start:"end",end:"start"};function cg(t,e,n){return Rn(t,gi(e,n))}function _s(t,e){return typeof t=="function"?t(e):t}function Ss(t){return t.split("-")[0]}function ul(t){return t.split("-")[1]}function Qy(t){return t==="x"?"y":"x"}function Ky(t){return t==="y"?"height":"width"}const EL=new Set(["top","bottom"]);function Lr(t){return EL.has(Ss(t))?"y":"x"}function Gy(t){return Qy(Lr(t))}function ML(t,e,n){n===void 0&&(n=!1);const r=ul(t),s=Gy(t),i=Ky(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=xf(o)),[o,xf(o)]}function DL(t){const e=xf(t);return[ug(t),e,ug(e)]}function ug(t){return t.replace(/start|end/g,e=>PL[e])}const O0=["left","right"],R0=["right","left"],AL=["top","bottom"],OL=["bottom","top"];function RL(t,e,n){switch(t){case"top":case"bottom":return n?e?R0:O0:e?O0:R0;case"left":case"right":return e?AL:OL;default:return[]}}function IL(t,e,n,r){const s=ul(t);let i=RL(Ss(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ug)))),i}function xf(t){return t.replace(/left|right|bottom|top/g,e=>jL[e])}function FL(t){return{top:0,right:0,bottom:0,left:0,...t}}function uj(t){return typeof t!="number"?FL(t):{top:t,right:t,bottom:t,left:t}}function vf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function I0(t,e,n){let{reference:r,floating:s}=t;const i=Lr(e),o=Gy(e),a=Ky(o),l=Ss(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ul(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const LL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=I0(u,r,l),h=r,m={},x=0;for(let p=0;p<a.length;p++){const{name:v,fn:y}=a[p],{x:g,y:w,data:_,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=g??d,f=w??f,m={...m,[v]:{...m[v],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:f}=I0(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Fc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=_s(e,t),x=uj(m),v=a[h?f==="floating"?"reference":"floating":f],y=vf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=vf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:w,strategy:l}):g);return{top:(y.top-S.top+x.top)/_.y,bottom:(S.bottom-y.bottom+x.bottom)/_.y,left:(y.left-S.left+x.left)/_.x,right:(S.right-y.right+x.right)/_.x}}const zL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=_s(t,e)||{};if(u==null)return{};const f=uj(d),h={x:n,y:r},m=Gy(s),x=Ky(m),p=await o.getDimensions(u),v=m==="y",y=v?"top":"left",g=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[m]-h[m]-i.floating[x],S=h[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=k?k[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=a.floating[w]||i.floating[x]);const C=_/2-S/2,M=T/2-p[x]/2-1,A=gi(f[y],M),F=gi(f[g],M),O=A,V=T-p[x]-F,$=T/2-p[x]/2+C,I=cg(O,$,V),z=!l.arrow&&ul(s)!=null&&$!==I&&i.reference[x]/2-($<O?A:F)-p[x]/2<0,B=z?$<O?$-O:$-V:0;return{[m]:h[m]+B,data:{[m]:I,centerOffset:$-I-B,...z&&{alignmentOffset:B}},reset:z}}}),VL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...v}=_s(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ss(s),g=Lr(a),w=Ss(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(w||!p?[xf(a)]:DL(a)),k=x!=="none";!h&&k&&S.push(...IL(a,p,x,_));const T=[a,...S],C=await Fc(e,v),M=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&M.push(C[y]),f){const $=ML(s,o,_);M.push(C[$[0]],C[$[1]])}if(A=[...A,{placement:s,overflows:M}],!M.every($=>$<=0)){var F,O;const $=(((F=i.flip)==null?void 0:F.index)||0)+1,I=T[$];if(I&&(!(f==="alignment"?g!==Lr(I):!1)||A.every(j=>j.overflows[0]>0&&Lr(j.placement)===g)))return{data:{index:$,overflows:A},reset:{placement:I}};let z=(O=A.filter(B=>B.overflows[0]<=0).sort((B,j)=>B.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!z)switch(m){case"bestFit":{var V;const B=(V=A.filter(j=>{if(k){const R=Lr(j.placement);return R===g||R==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(R=>R>0).reduce((R,D)=>R+D,0)]).sort((j,R)=>j[1]-R[1])[0])==null?void 0:V[0];B&&(z=B);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function F0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function L0(t){return TL.some(e=>t[e]>=0)}const $L=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=_s(t,e);switch(r){case"referenceHidden":{const i=await Fc(e,{...s,elementContext:"reference"}),o=F0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:L0(o)}}}case"escaped":{const i=await Fc(e,{...s,altBoundary:!0}),o=F0(i,n.floating);return{data:{escapedOffsets:o,escaped:L0(o)}}}default:return{}}}}},dj=new Set(["left","top"]);async function BL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ss(n),a=ul(n),l=Lr(n)==="y",u=dj.has(o)?-1:1,d=i&&l?-1:1,f=_s(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const UL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await BL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},WL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:g}=v;return{x:y,y:g}}},...l}=_s(t,e),u={x:n,y:r},d=await Fc(e,l),f=Lr(Ss(s)),h=Qy(f);let m=u[h],x=u[f];if(i){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=m+d[v],w=m-d[y];m=cg(g,m,w)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=x+d[v],w=x-d[y];x=cg(g,x,w)}const p=a.fn({...e,[h]:m,[f]:x});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[f]:o}}}}}},HL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=_s(t,e),d={x:n,y:r},f=Lr(s),h=Qy(f);let m=d[h],x=d[f];const p=_s(a,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var y,g;const w=h==="y"?"width":"height",_=dj.has(Ss(s)),S=i.reference[f]-i.floating[w]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),k=i.reference[f]+i.reference[w]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?v.crossAxis:0);x<S?x=S:x>k&&(x=k)}return{[h]:m,[f]:x}}}},YL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=_s(t,e),d=await Fc(e,u),f=Ss(s),h=ul(s),m=Lr(s)==="y",{width:x,height:p}=i.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const g=p-d.top-d.bottom,w=x-d.left-d.right,_=gi(p-d[v],g),S=gi(x-d[y],w),k=!e.middlewareData.shift;let T=_,C=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=g),k&&!h){const A=Rn(d.left,0),F=Rn(d.right,0),O=Rn(d.top,0),V=Rn(d.bottom,0);m?C=x-2*(A!==0||F!==0?A+F:Rn(d.left,d.right)):T=p-2*(O!==0||V!==0?O+V:Rn(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:T});const M=await o.getDimensions(a.floating);return x!==M.width||p!==M.height?{reset:{rects:!0}}:{}}}};function xh(){return typeof window<"u"}function dl(t){return fj(t)?(t.nodeName||"").toLowerCase():"#document"}function Ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Kr(t){var e;return(e=(fj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fj(t){return xh()?t instanceof Node||t instanceof Ln(t).Node:!1}function _r(t){return xh()?t instanceof Element||t instanceof Ln(t).Element:!1}function Hr(t){return xh()?t instanceof HTMLElement||t instanceof Ln(t).HTMLElement:!1}function z0(t){return!xh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ln(t).ShadowRoot}const qL=new Set(["inline","contents"]);function vu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Sr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qL.has(s)}const QL=new Set(["table","td","th"]);function KL(t){return QL.has(dl(t))}const GL=[":popover-open",":modal"];function vh(t){return GL.some(e=>{try{return t.matches(e)}catch{return!1}})}const XL=["transform","translate","scale","rotate","perspective"],ZL=["transform","translate","scale","rotate","perspective","filter"],JL=["paint","layout","strict","content"];function Xy(t){const e=Zy(),n=_r(t)?Sr(t):t;return XL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ZL.some(r=>(n.willChange||"").includes(r))||JL.some(r=>(n.contain||"").includes(r))}function e4(t){let e=yi(t);for(;Hr(e)&&!Ua(e);){if(Xy(e))return e;if(vh(e))return null;e=yi(e)}return null}function Zy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const t4=new Set(["html","body","#document"]);function Ua(t){return t4.has(dl(t))}function Sr(t){return Ln(t).getComputedStyle(t)}function bh(t){return _r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yi(t){if(dl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||z0(t)&&t.host||Kr(t);return z0(e)?e.host:e}function hj(t){const e=yi(t);return Ua(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hr(e)&&vu(e)?e:hj(e)}function Lc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=hj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ln(s);if(i){const a=dg(o);return e.concat(o,o.visualViewport||[],vu(s)?s:[],a&&n?Lc(a):[])}return e.concat(s,Lc(s,[],n))}function dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mj(t){const e=Sr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Hr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=yf(n)!==i||yf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Jy(t){return _r(t)?t:t.contextElement}function pa(t){const e=Jy(t);if(!Hr(e))return Br(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=mj(e);let o=(i?yf(n.width):n.width)/r,a=(i?yf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const n4=Br(0);function pj(t){const e=Ln(t);return!Zy()||!e.visualViewport?n4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function r4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ln(t)?!1:e}function bo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Jy(t);let o=Br(1);e&&(r?_r(r)&&(o=pa(r)):o=pa(t));const a=r4(i,n,r)?pj(i):Br(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Ln(i),m=r&&_r(r)?Ln(r):r;let x=h,p=dg(x);for(;p&&r&&m!==x;){const v=pa(p),y=p.getBoundingClientRect(),g=Sr(p),w=y.left+(p.clientLeft+parseFloat(g.paddingLeft))*v.x,_=y.top+(p.clientTop+parseFloat(g.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=w,u+=_,x=Ln(p),p=dg(x)}}return vf({width:d,height:f,x:l,y:u})}function ex(t,e){const n=bh(t).scrollLeft;return e?e.left+n:bo(Kr(t)).left+n}function gj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:ex(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function s4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Kr(r),a=e?vh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Br(1);const d=Br(0),f=Hr(r);if((f||!f&&!i)&&((dl(r)!=="body"||vu(o))&&(l=bh(r)),Hr(r))){const m=bo(r);u=pa(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?gj(o,l,!0):Br(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function i4(t){return Array.from(t.getClientRects())}function o4(t){const e=Kr(t),n=bh(t),r=t.ownerDocument.body,s=Rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ex(t);const a=-n.scrollTop;return Sr(r).direction==="rtl"&&(o+=Rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function a4(t,e){const n=Ln(t),r=Kr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Zy();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const l4=new Set(["absolute","fixed"]);function c4(t,e){const n=bo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Hr(t)?pa(t):Br(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function V0(t,e,n){let r;if(e==="viewport")r=a4(t,n);else if(e==="document")r=o4(Kr(t));else if(_r(e))r=c4(e,n);else{const s=pj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return vf(r)}function yj(t,e){const n=yi(t);return n===e||!_r(n)||Ua(n)?!1:Sr(n).position==="fixed"||yj(n,e)}function u4(t,e){const n=e.get(t);if(n)return n;let r=Lc(t,[],!1).filter(a=>_r(a)&&dl(a)!=="body"),s=null;const i=Sr(t).position==="fixed";let o=i?yi(t):t;for(;_r(o)&&!Ua(o);){const a=Sr(o),l=Xy(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&l4.has(s.position)||vu(o)&&!l&&yj(t,o))?r=r.filter(d=>d!==o):s=a,o=yi(o)}return e.set(t,r),r}function d4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?vh(e)?[]:u4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=V0(e,d,s);return u.top=Rn(f.top,u.top),u.right=gi(f.right,u.right),u.bottom=gi(f.bottom,u.bottom),u.left=Rn(f.left,u.left),u},V0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f4(t){const{width:e,height:n}=mj(t);return{width:e,height:n}}function h4(t,e,n){const r=Hr(e),s=Kr(e),i=n==="fixed",o=bo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Br(0);function u(){l.x=ex(s)}if(r||!r&&!i)if((dl(e)!=="body"||vu(s))&&(a=bh(e)),r){const m=bo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?gj(s,a):Br(0),f=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function wm(t){return Sr(t).position==="static"}function $0(t,e){if(!Hr(t)||Sr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Kr(t)===n&&(n=n.ownerDocument.body),n}function xj(t,e){const n=Ln(t);if(vh(t))return n;if(!Hr(t)){let s=yi(t);for(;s&&!Ua(s);){if(_r(s)&&!wm(s))return s;s=yi(s)}return n}let r=$0(t,e);for(;r&&KL(r)&&wm(r);)r=$0(r,e);return r&&Ua(r)&&wm(r)&&!Xy(r)?n:r||e4(t)||n}const m4=async function(t){const e=this.getOffsetParent||xj,n=this.getDimensions,r=await n(t.floating);return{reference:h4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p4(t){return Sr(t).direction==="rtl"}const g4={convertOffsetParentRelativeRectToViewportRelativeRect:s4,getDocumentElement:Kr,getClippingRect:d4,getOffsetParent:xj,getElementRects:m4,getClientRects:i4,getDimensions:f4,getScale:pa,isElement:_r,isRTL:p4};function vj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function y4(t,e){let n=null,r;const s=Kr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const x=Xu(f),p=Xu(s.clientWidth-(d+h)),v=Xu(s.clientHeight-(f+m)),y=Xu(d),w={rootMargin:-x+"px "+-p+"px "+-v+"px "+-y+"px",threshold:Rn(0,gi(1,l))||1};let _=!0;function S(k){const T=k[0].intersectionRatio;if(T!==l){if(!_)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!vj(u,t.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return o(!0),i}function x4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Jy(t),d=s||i?[...u?Lc(u):[],...Lc(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&a?y4(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let x,p=l?bo(t):null;l&&v();function v(){const y=bo(t);p&&!vj(p,y)&&n(),p=y,x=requestAnimationFrame(v)}return n(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const v4=UL,b4=WL,w4=VL,_4=YL,S4=$L,B0=zL,N4=HL,C4=(t,e,n)=>{const r=new Map,s={platform:g4,...n},i={...s.platform,_c:r};return LL(t,e,{...s,platform:i})};var k4=typeof document<"u",T4=function(){},Id=k4?b.useLayoutEffect:T4;function bf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!bf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function U0(t,e){const n=bj(t);return Math.round(e*n)/n}function _m(t){const e=b.useRef(t);return Id(()=>{e.current=t}),e}function j4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(r);bf(h,r)||m(r);const[x,p]=b.useState(null),[v,y]=b.useState(null),g=b.useCallback(j=>{j!==k.current&&(k.current=j,p(j))},[]),w=b.useCallback(j=>{j!==T.current&&(T.current=j,y(j))},[]),_=i||x,S=o||v,k=b.useRef(null),T=b.useRef(null),C=b.useRef(d),M=l!=null,A=_m(l),F=_m(s),O=_m(u),V=b.useCallback(()=>{if(!k.current||!T.current)return;const j={placement:e,strategy:n,middleware:h};F.current&&(j.platform=F.current),C4(k.current,T.current,j).then(R=>{const D={...R,isPositioned:O.current!==!1};$.current&&!bf(C.current,D)&&(C.current=D,Do.flushSync(()=>{f(D)}))})},[h,e,n,F,O]);Id(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const $=b.useRef(!1);Id(()=>($.current=!0,()=>{$.current=!1}),[]),Id(()=>{if(_&&(k.current=_),S&&(T.current=S),_&&S){if(A.current)return A.current(_,S,V);V()}},[_,S,V,A,M]);const I=b.useMemo(()=>({reference:k,floating:T,setReference:g,setFloating:w}),[g,w]),z=b.useMemo(()=>({reference:_,floating:S}),[_,S]),B=b.useMemo(()=>{const j={position:n,left:0,top:0};if(!z.floating)return j;const R=U0(z.floating,d.x),D=U0(z.floating,d.y);return a?{...j,transform:"translate("+R+"px, "+D+"px)",...bj(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:D}},[n,a,z.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:V,refs:I,elements:z,floatingStyles:B}),[d,V,I,z,B])}const P4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?B0({element:r.current,padding:s}).fn(n):{}:r?B0({element:r,padding:s}).fn(n):{}}}},E4=(t,e)=>({...v4(t),options:[t,e]}),M4=(t,e)=>({...b4(t),options:[t,e]}),D4=(t,e)=>({...N4(t),options:[t,e]}),A4=(t,e)=>({...w4(t),options:[t,e]}),O4=(t,e)=>({..._4(t),options:[t,e]}),R4=(t,e)=>({...S4(t),options:[t,e]}),I4=(t,e)=>({...P4(t),options:[t,e]});var F4="Arrow",wj=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});wj.displayName=F4;var L4=wj;function _j(t){const[e,n]=b.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tx="Popper",[Sj,wh]=Ao(tx),[z4,Nj]=Sj(tx),Cj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return c.jsx(z4,{scope:e,anchor:r,onAnchorChange:s,children:n})};Cj.displayName=tx;var kj="PopperAnchor",Tj=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Nj(kj,n),o=b.useRef(null),a=We(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(je.div,{...s,ref:a})});Tj.displayName=kj;var nx="PopperContent",[V4,$4]=Sj(nx),jj=b.forwardRef((t,e)=>{var H,Z,Fe,Pe,be,Me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=t,v=Nj(nx,n),[y,g]=b.useState(null),w=We(e,Ut=>g(Ut)),[_,S]=b.useState(null),k=_j(_),T=(k==null?void 0:k.width)??0,C=(k==null?void 0:k.height)??0,M=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],O=F.length>0,V={padding:A,boundary:F.filter(U4),altBoundary:O},{refs:$,floatingStyles:I,placement:z,isPositioned:B,middlewareData:j}=j4({strategy:"fixed",placement:M,whileElementsMounted:(...Ut)=>x4(...Ut,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[E4({mainAxis:s+C,alignmentAxis:o}),l&&M4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?D4():void 0,...V}),l&&A4({...V}),O4({...V,apply:({elements:Ut,rects:Dn,availableWidth:js,availableHeight:Oi})=>{const{width:Ri,height:Zx}=Dn.reference,Ii=Ut.floating.style;Ii.setProperty("--radix-popper-available-width",`${js}px`),Ii.setProperty("--radix-popper-available-height",`${Oi}px`),Ii.setProperty("--radix-popper-anchor-width",`${Ri}px`),Ii.setProperty("--radix-popper-anchor-height",`${Zx}px`)}}),_&&I4({element:_,padding:a}),W4({arrowWidth:T,arrowHeight:C}),h&&R4({strategy:"referenceHidden",...V})]}),[R,D]=Mj(z),W=wr(x);Qt(()=>{B&&(W==null||W())},[B,W]);const G=(H=j.arrow)==null?void 0:H.x,ne=(Z=j.arrow)==null?void 0:Z.y,se=((Fe=j.arrow)==null?void 0:Fe.centerOffset)!==0,[ge,ve]=b.useState();return Qt(()=>{y&&ve(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:B?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Pe=j.transformOrigin)==null?void 0:Pe.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((Me=j.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(V4,{scope:n,placedSide:R,onArrowChange:S,arrowX:G,arrowY:ne,shouldHideArrow:se,children:c.jsx(je.div,{"data-side":R,"data-align":D,...p,ref:w,style:{...p.style,animation:B?void 0:"none"}})})})});jj.displayName=nx;var Pj="PopperArrow",B4={top:"bottom",right:"left",bottom:"top",left:"right"},Ej=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=$4(Pj,r),o=B4[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(L4,{...s,ref:n,style:{...s.style,display:"block"}})})});Ej.displayName=Pj;function U4(t){return t!==null}var W4=t=>({name:"transformOrigin",options:t,fn(e){var v,y,g;const{placement:n,rects:r,middlewareData:s}=e,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=Mj(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let x="",p="";return u==="bottom"?(x=o?f:`${h}px`,p=`${-l}px`):u==="top"?(x=o?f:`${h}px`,p=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,p=o?f:`${m}px`):u==="left"&&(x=`${r.floating.width+l}px`,p=o?f:`${m}px`),{data:{x,y:p}}}});function Mj(t){const[e,n="center"]=t.split("-");return[e,n]}var H4=Cj,Dj=Tj,Aj=jj,Oj=Ej,[_h,q7]=Ao("Tooltip",[wh]),rx=wh(),Rj="TooltipProvider",Y4=700,W0="tooltip.open",[q4,Ij]=_h(Rj),Fj=t=>{const{__scopeTooltip:e,delayDuration:n=Y4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(q4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Fj.displayName=Rj;var Lj="Tooltip",[Q7,Sh]=_h(Lj),fg="TooltipTrigger",Q4=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Sh(fg,n),i=Ij(fg,n),o=rx(n),a=b.useRef(null),l=We(e,a,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(Dj,{asChild:!0,...o,children:c.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ye(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ye(t.onBlur,s.onClose),onClick:ye(t.onClick,s.onClose)})})});Q4.displayName=fg;var K4="TooltipPortal",[K7,G4]=_h(K4,{forceMount:void 0}),Wa="TooltipContent",zj=b.forwardRef((t,e)=>{const n=G4(Wa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Sh(Wa,t.__scopeTooltip);return c.jsx(ll,{present:r||o.open,children:o.disableHoverableContent?c.jsx(Vj,{side:s,...i,ref:e}):c.jsx(X4,{side:s,...i,ref:e})})}),X4=b.forwardRef((t,e)=>{const n=Sh(Wa,t.__scopeTooltip),r=Ij(Wa,t.__scopeTooltip),s=b.useRef(null),i=We(e,s),[o,a]=b.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((x,p)=>{const v=x.currentTarget,y={x:x.clientX,y:x.clientY},g=n5(y,v.getBoundingClientRect()),w=r5(y,g),_=s5(p.getBoundingClientRect()),S=o5([...w,..._]);a(S),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const x=v=>m(v,d),p=v=>m(v,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),b.useEffect(()=>{if(o){const x=p=>{const v=p.target,y={x:p.clientX,y:p.clientY},g=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),w=!i5(y,o);g?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,u,h]),c.jsx(Vj,{...t,ref:i})}),[Z4,J4]=_h(Lj,{isInside:!1}),e5=qI("TooltipContent"),Vj=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Sh(Wa,n),u=rx(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(W0,d),()=>document.removeEventListener(W0,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(yu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(Aj,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(e5,{children:r}),c.jsx(Z4,{scope:n,isInside:!0,children:c.jsx(pF,{id:l.contentId,role:"tooltip",children:s||r})})]})})});zj.displayName=Wa;var $j="TooltipArrow",t5=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rx(n);return J4($j,n).isInside?null:c.jsx(Oj,{...s,...r,ref:e})});t5.displayName=$j;function n5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function r5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function s5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function i5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function o5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),a5(e)}function a5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var l5=Fj,Bj=zj;const c5=l5,u5=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(Bj,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));u5.displayName=Bj.displayName;function d5(){const[t]=Et();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const f5=Hy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?_T:"button";return c.jsx(o,{className:Oe(f5({variant:e,size:n,className:t})),ref:i,...s})});K.displayName="Button";const ce=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ce.displayName="Card";const Kt=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));Kt.displayName="CardHeader";const Gt=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Gt.displayName="CardTitle";const h5=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));h5.displayName="CardDescription";const de=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Oe("p-6 pt-0",t),...e}));de.displayName="CardContent";const m5=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",t),...e}));m5.displayName="CardFooter";function p5(){const[t,e]=b.useState(!1),[n,r]=b.useState(null),[s,i]=b.useState(!1),[o,a]=b.useState(!1);b.useEffect(()=>{(()=>{const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");a(m)})();const f=m=>{const x=m;m.preventDefault(),r(x),o||setTimeout(()=>{e(!0)},3e3)},h=()=>{e(!1),r(null),a(!0)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[o]);const l=async()=>{if(n){i(!0);try{await n.prompt();const{outcome:d}=await n.userChoice;console.log(d==="accepted"?"✅ PWA install accepted":"❌ PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{i(!1),e(!1),r(null)}}},u=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return!t||!n||o||sessionStorage.getItem("pwa-install-dismissed")?null:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 transition-opacity duration-300",onClick:u}),c.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 flex justify-center animate-in slide-in-from-top-4 duration-500",children:c.jsxs(ce,{className:"w-full max-w-md bg-white shadow-2xl border-0 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-purple-600 p-4",children:c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:c.jsx(ag,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Install Journey"}),c.jsx("p",{className:"text-white/90 text-sm",children:"Get the full app experience"})]})]}),c.jsx(K,{variant:"ghost",size:"sm",onClick:u,className:"text-white hover:bg-white/20 h-8 w-8 p-0",children:c.jsx(Yy,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(zF,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Native Experience"}),c.jsx("div",{className:"text-gray-500",children:"No browser bars"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(VF,{className:"w-4 h-4 text-green-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Offline Access"}),c.jsx("div",{className:"text-gray-500",children:"Works anywhere"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-rocket text-purple-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Faster Loading"}),c.jsx("div",{className:"text-gray-500",children:"Instant startup"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-home text-orange-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Home Screen"}),c.jsx("div",{className:"text-gray-500",children:"Easy access"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["📱 ",c.jsx("strong",{children:"Installation takes seconds:"})]}),c.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[c.jsx("li",{children:'1. Click "Install App" below'}),c.jsx("li",{children:"2. Confirm installation"}),c.jsx("li",{children:"3. Find Journey on your home screen"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx(K,{onClick:l,disabled:s,className:"flex-1 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg",size:"lg",children:s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ag,{className:"w-4 h-4 mr-2"}),"Install App"]})}),c.jsx(K,{variant:"outline",onClick:u,className:"px-6",size:"lg",children:"Later"})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Free • No app store required • Uninstall anytime"})]})]})})]})}function g5(){const[t,e]=b.useState(!1),[n,r]=b.useState(!1);return b.useEffect(()=>{(()=>{const a=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");r(a)})();const i=a=>{a.preventDefault(),n||e(!0)},o=()=>{e(!1),r(!0)};return window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",o)}},[n]),{canInstall:t,isInstalled:n}}function Oo(){const{data:t,isLoading:e}=on({queryKey:["/api/user"],queryFn:bT({on401:"returnNull"}),retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function y5(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(ce,{className:"w-full max-w-md mx-4",children:c.jsxs(de,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(LF,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var bu=t=>t.type==="checkbox",Gi=t=>t instanceof Date,fn=t=>t==null;const Uj=t=>typeof t=="object";var kt=t=>!fn(t)&&!Array.isArray(t)&&Uj(t)&&!Gi(t),Wj=t=>kt(t)&&t.target?bu(t.target)?t.target.checked:t.target.value:t,x5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Hj=(t,e)=>t.has(x5(e)),v5=t=>{const e=t.constructor&&t.constructor.prototype;return kt(e)&&e.hasOwnProperty("isPrototypeOf")},sx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(sx&&(t instanceof Blob||r))&&(n||kt(t)))if(e=n?[]:{},!n&&!v5(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Mt(t[s]));else return t;return e}var Nh=t=>/^\w*$/.test(t),wt=t=>t===void 0,ix=t=>Array.isArray(t)?t.filter(Boolean):[],ox=t=>ix(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ee=(t,e,n)=>{if(!e||!kt(t))return n;const r=(Nh(e)?[e]:ox(e)).reduce((s,i)=>fn(s)?s:s[i],t);return wt(r)||r===t?wt(t[e])?n:t[e]:r},On=t=>typeof t=="boolean",Qe=(t,e,n)=>{let r=-1;const s=Nh(e)?[e]:ox(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=kt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const wf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ax=xe.createContext(null);ax.displayName="HookFormContext";const Ch=()=>xe.useContext(ax),b5=t=>{const{children:e,...n}=t;return xe.createElement(ax.Provider,{value:n},e)};var Yj=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==mr.all&&(e._proxyFormState[o]=!r||mr.all),n&&(n[o]=!0),t[o]}});return s};const lx=typeof window<"u"?xe.useLayoutEffect:xe.useEffect;function w5(t){const e=Ch(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=xe.useState(n._formState),l=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return lx(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[s,r,i]),xe.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),xe.useMemo(()=>Yj(o,n,l.current,!1),[o,n])}var zr=t=>typeof t=="string",qj=(t,e,n,r,s)=>zr(t)?(r&&e.watch.add(t),ee(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ee(n,i))):(r&&(e.watchAll=!0),n),hg=t=>fn(t)||!Uj(t);function cs(t,e,n=new WeakSet){if(hg(t)||hg(e))return t===e;if(Gi(t)&&Gi(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Gi(o)&&Gi(a)||kt(o)&&kt(a)||Array.isArray(o)&&Array.isArray(a)?!cs(o,a,n):o!==a)return!1}}return!0}function _5(t){const e=Ch(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:a}=t||{},l=xe.useRef(s),u=xe.useRef(a),d=xe.useRef(void 0);u.current=a;const f=xe.useMemo(()=>n._getWatch(r,l.current),[n,r]),[h,m]=xe.useState(u.current?u.current(f):f);return lx(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:x=>{if(!i){const p=qj(r,n._names,x.values||n._formValues,!1,l.current);if(u.current){const v=u.current(p);cs(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[n,i,r,o]),xe.useEffect(()=>n._removeUnmounted()),h}function S5(t){const e=Ch(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,a=Hj(s._names.array,n),l=xe.useMemo(()=>ee(s._formValues,n,ee(s._defaultValues,n,o)),[s,n,o]),u=_5({control:s,name:n,defaultValue:l,exact:!0}),d=w5({control:s,name:n,exact:!0}),f=xe.useRef(t),h=xe.useRef(s.register(n,{...t.rules,value:u,...On(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const m=xe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ee(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ee(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ee(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ee(d.validatingFields,n)},error:{enumerable:!0,get:()=>ee(d.errors,n)}}),[d,n]),x=xe.useCallback(g=>h.current.onChange({target:{value:Wj(g),name:n},type:wf.CHANGE}),[n]),p=xe.useCallback(()=>h.current.onBlur({target:{value:ee(s._formValues,n),name:n},type:wf.BLUR}),[n,s._formValues]),v=xe.useCallback(g=>{const w=ee(s._fields,n);w&&g&&(w._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:_=>g.setCustomValidity(_),reportValidity:()=>g.reportValidity()})},[s._fields,n]),y=xe.useMemo(()=>({name:n,value:u,...On(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:x,onBlur:p,ref:v}),[n,r,d.disabled,x,p,v,u]);return xe.useEffect(()=>{const g=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...On(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,S)=>{const k=ee(s._fields,_);k&&k._f&&(k._f.mount=S)};if(w(n,!0),g){const _=Mt(ee(s._options.defaultValues,n));Qe(s._defaultValues,n,_),wt(ee(s._formValues,n))&&Qe(s._formValues,n,_)}return!a&&s.register(n),()=>{(a?g&&!s._state.action:g)?s.unregister(n):w(n,!1)}},[n,s,a,i]),xe.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),xe.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const N5=t=>t.render(S5(t));var Qj=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},lc=t=>Array.isArray(t)?t:[t],H0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Sn=t=>kt(t)&&!Object.keys(t).length,cx=t=>t.type==="file",pr=t=>typeof t=="function",_f=t=>{if(!sx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Kj=t=>t.type==="select-multiple",ux=t=>t.type==="radio",C5=t=>ux(t)||bu(t),Sm=t=>_f(t)&&t.isConnected;function k5(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wt(t)?r++:t[e[r++]];return t}function T5(t){for(const e in t)if(t.hasOwnProperty(e)&&!wt(t[e]))return!1;return!0}function jt(t,e){const n=Array.isArray(e)?e:Nh(e)?[e]:ox(e),r=n.length===1?t:k5(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(kt(r)&&Sn(r)||Array.isArray(r)&&T5(r))&&jt(t,n.slice(0,-1)),t}var Gj=t=>{for(const e in t)if(pr(t[e]))return!0;return!1};function Sf(t,e={}){const n=Array.isArray(t);if(kt(t)||n)for(const r in t)Array.isArray(t[r])||kt(t[r])&&!Gj(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Sf(t[r],e[r])):fn(t[r])||(e[r]=!0);return e}function Xj(t,e,n){const r=Array.isArray(t);if(kt(t)||r)for(const s in t)Array.isArray(t[s])||kt(t[s])&&!Gj(t[s])?wt(e)||hg(n[s])?n[s]=Array.isArray(t[s])?Sf(t[s],[]):{...Sf(t[s])}:Xj(t[s],fn(e)?{}:e[s],n[s]):n[s]=!cs(t[s],e[s]);return n}var El=(t,e)=>Xj(t,e,Sf(e));const Y0={value:!1,isValid:!1},q0={value:!0,isValid:!0};var Zj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wt(t[0].attributes.value)?wt(t[0].value)||t[0].value===""?q0:{value:t[0].value,isValid:!0}:q0:Y0}return Y0},Jj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wt(t)?t:e?t===""?NaN:t&&+t:n&&zr(t)?new Date(t):r?r(t):t;const Q0={isValid:!1,value:null};var eP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Q0):Q0;function K0(t){const e=t.ref;return cx(e)?e.files:ux(e)?eP(t.refs).value:Kj(e)?[...e.selectedOptions].map(({value:n})=>n):bu(e)?Zj(t.refs).value:Jj(wt(e.value)?t.ref.value:e.value,t)}var j5=(t,e,n,r)=>{const s={};for(const i of t){const o=ee(e,i);o&&Qe(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Nf=t=>t instanceof RegExp,Ml=t=>wt(t)?t:Nf(t)?t.source:kt(t)?Nf(t.value)?t.value.source:t.value:t,G0=t=>({isOnSubmit:!t||t===mr.onSubmit,isOnBlur:t===mr.onBlur,isOnChange:t===mr.onChange,isOnAll:t===mr.all,isOnTouch:t===mr.onTouched});const X0="AsyncFunction";var P5=t=>!!t&&!!t.validate&&!!(pr(t.validate)&&t.validate.constructor.name===X0||kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===X0)),E5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Z0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const cc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ee(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(cc(a,e))break}else if(kt(a)&&cc(a,e))break}}};function J0(t,e,n){const r=ee(t,n);if(r||Nh(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ee(e,i),a=ee(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var M5=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Sn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||mr.all))},D5=(t,e,n)=>!t||!e||t===e||lc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),A5=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,O5=(t,e)=>!ix(ee(t,e)).length&&jt(t,e),R5=(t,e,n)=>{const r=lc(ee(t,n));return Qe(r,"root",e[n]),Qe(t,n,r),t},Fd=t=>zr(t);function eb(t,e,n="validate"){if(Fd(t)||Array.isArray(t)&&t.every(Fd)||On(t)&&!t)return{type:n,message:Fd(t)?t:"",ref:e}}var Lo=t=>kt(t)&&!Nf(t)?t:{value:t,message:""},tb=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:x,name:p,valueAsNumber:v,mount:y}=t._f,g=ee(n,p);if(!y||e.has(p))return{};const w=a?a[0]:o,_=O=>{s&&w.reportValidity&&(w.setCustomValidity(On(O)?"":O||""),w.reportValidity())},S={},k=ux(o),T=bu(o),C=k||T,M=(v||cx(o))&&wt(o.value)&&wt(g)||_f(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,A=Qj.bind(null,p,r,S),F=(O,V,$,I=Xr.maxLength,z=Xr.minLength)=>{const B=O?V:$;S[p]={type:O?I:z,message:B,ref:o,...A(O?I:z,B)}};if(i?!Array.isArray(g)||!g.length:l&&(!C&&(M||fn(g))||On(g)&&!g||T&&!Zj(a).isValid||k&&!eP(a).isValid)){const{value:O,message:V}=Fd(l)?{value:!!l,message:l}:Lo(l);if(O&&(S[p]={type:Xr.required,message:V,ref:w,...A(Xr.required,V)},!r))return _(V),S}if(!M&&(!fn(f)||!fn(h))){let O,V;const $=Lo(h),I=Lo(f);if(!fn(g)&&!isNaN(g)){const z=o.valueAsNumber||g&&+g;fn($.value)||(O=z>$.value),fn(I.value)||(V=z<I.value)}else{const z=o.valueAsDate||new Date(g),B=D=>new Date(new Date().toDateString()+" "+D),j=o.type=="time",R=o.type=="week";zr($.value)&&g&&(O=j?B(g)>B($.value):R?g>$.value:z>new Date($.value)),zr(I.value)&&g&&(V=j?B(g)<B(I.value):R?g<I.value:z<new Date(I.value))}if((O||V)&&(F(!!O,$.message,I.message,Xr.max,Xr.min),!r))return _(S[p].message),S}if((u||d)&&!M&&(zr(g)||i&&Array.isArray(g))){const O=Lo(u),V=Lo(d),$=!fn(O.value)&&g.length>+O.value,I=!fn(V.value)&&g.length<+V.value;if(($||I)&&(F($,O.message,V.message),!r))return _(S[p].message),S}if(m&&!M&&zr(g)){const{value:O,message:V}=Lo(m);if(Nf(O)&&!g.match(O)&&(S[p]={type:Xr.pattern,message:V,ref:o,...A(Xr.pattern,V)},!r))return _(V),S}if(x){if(pr(x)){const O=await x(g,n),V=eb(O,w);if(V&&(S[p]={...V,...A(Xr.validate,V.message)},!r))return _(V.message),S}else if(kt(x)){let O={};for(const V in x){if(!Sn(O)&&!r)break;const $=eb(await x[V](g,n),w,V);$&&(O={...$,...A(V,$.message)},_($.message),r&&(S[p]=O))}if(!Sn(O)&&(S[p]={ref:w,...O},!r))return S}}return _(!0),S};const I5={mode:mr.onSubmit,reValidateMode:mr.onChange,shouldFocusError:!0};function F5(t={}){let e={...I5,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:pr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=kt(e.defaultValues)||kt(e.values)?Mt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Mt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:H0(),state:H0()},m=e.criteriaMode===mr.all,x=E=>L=>{clearTimeout(u),u=setTimeout(E,L)},p=async E=>{if(!e.disabled&&(d.isValid||f.isValid||E)){const L=e.resolver?Sn((await T()).errors):await M(r,!0);L!==n.isValid&&h.state.next({isValid:L})}},v=(E,L)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((E||Array.from(a.mount)).forEach(U=>{U&&(L?Qe(n.validatingFields,U,L):jt(n.validatingFields,U))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Sn(n.validatingFields)}))},y=(E,L=[],U,ie,J=!0,X=!0)=>{if(ie&&U&&!e.disabled){if(o.action=!0,X&&Array.isArray(ee(r,E))){const fe=U(ee(r,E),ie.argA,ie.argB);J&&Qe(r,E,fe)}if(X&&Array.isArray(ee(n.errors,E))){const fe=U(ee(n.errors,E),ie.argA,ie.argB);J&&Qe(n.errors,E,fe),O5(n.errors,E)}if((d.touchedFields||f.touchedFields)&&X&&Array.isArray(ee(n.touchedFields,E))){const fe=U(ee(n.touchedFields,E),ie.argA,ie.argB);J&&Qe(n.touchedFields,E,fe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=El(s,i)),h.state.next({name:E,isDirty:F(E,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Qe(i,E,L)},g=(E,L)=>{Qe(n.errors,E,L),h.state.next({errors:n.errors})},w=E=>{n.errors=E,h.state.next({errors:n.errors,isValid:!1})},_=(E,L,U,ie)=>{const J=ee(r,E);if(J){const X=ee(i,E,wt(U)?ee(s,E):U);wt(X)||ie&&ie.defaultChecked||L?Qe(i,E,L?X:K0(J._f)):$(E,X),o.mount&&p()}},S=(E,L,U,ie,J)=>{let X=!1,fe=!1;const qe={name:E};if(!e.disabled){if(!U||ie){(d.isDirty||f.isDirty)&&(fe=n.isDirty,n.isDirty=qe.isDirty=F(),X=fe!==qe.isDirty);const et=cs(ee(s,E),L);fe=!!ee(n.dirtyFields,E),et?jt(n.dirtyFields,E):Qe(n.dirtyFields,E,!0),qe.dirtyFields=n.dirtyFields,X=X||(d.dirtyFields||f.dirtyFields)&&fe!==!et}if(U){const et=ee(n.touchedFields,E);et||(Qe(n.touchedFields,E,U),qe.touchedFields=n.touchedFields,X=X||(d.touchedFields||f.touchedFields)&&et!==U)}X&&J&&h.state.next(qe)}return X?qe:{}},k=(E,L,U,ie)=>{const J=ee(n.errors,E),X=(d.isValid||f.isValid)&&On(L)&&n.isValid!==L;if(e.delayError&&U?(l=x(()=>g(E,U)),l(e.delayError)):(clearTimeout(u),l=null,U?Qe(n.errors,E,U):jt(n.errors,E)),(U?!cs(J,U):J)||!Sn(ie)||X){const fe={...ie,...X&&On(L)?{isValid:L}:{},errors:n.errors,name:E};n={...n,...fe},h.state.next(fe)}},T=async E=>{v(E,!0);const L=await e.resolver(i,e.context,j5(E||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(E),L},C=async E=>{const{errors:L}=await T(E);if(E)for(const U of E){const ie=ee(L,U);ie?Qe(n.errors,U,ie):jt(n.errors,U)}else n.errors=L;return L},M=async(E,L,U={valid:!0})=>{for(const ie in E){const J=E[ie];if(J){const{_f:X,...fe}=J;if(X){const qe=a.array.has(X.name),et=J._f&&P5(J._f);et&&d.validatingFields&&v([ie],!0);const Hn=await tb(J,a.disabled,i,m,e.shouldUseNativeValidation&&!L,qe);if(et&&d.validatingFields&&v([ie]),Hn[X.name]&&(U.valid=!1,L))break;!L&&(ee(Hn,X.name)?qe?R5(n.errors,Hn,X.name):Qe(n.errors,X.name,Hn[X.name]):jt(n.errors,X.name))}!Sn(fe)&&await M(fe,L,U)}}return U.valid},A=()=>{for(const E of a.unMount){const L=ee(r,E);L&&(L._f.refs?L._f.refs.every(U=>!Sm(U)):!Sm(L._f.ref))&&H(E)}a.unMount=new Set},F=(E,L)=>!e.disabled&&(E&&L&&Qe(i,E,L),!cs(D(),s)),O=(E,L,U)=>qj(E,a,{...o.mount?i:wt(L)?s:zr(E)?{[E]:L}:L},U,L),V=E=>ix(ee(o.mount?i:s,E,e.shouldUnregister?ee(s,E,[]):[])),$=(E,L,U={})=>{const ie=ee(r,E);let J=L;if(ie){const X=ie._f;X&&(!X.disabled&&Qe(i,E,Jj(L,X)),J=_f(X.ref)&&fn(L)?"":L,Kj(X.ref)?[...X.ref.options].forEach(fe=>fe.selected=J.includes(fe.value)):X.refs?bu(X.ref)?X.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(J)?fe.checked=!!J.find(qe=>qe===fe.value):fe.checked=J===fe.value||!!J)}):X.refs.forEach(fe=>fe.checked=fe.value===J):cx(X.ref)?X.ref.value="":(X.ref.value=J,X.ref.type||h.state.next({name:E,values:Mt(i)})))}(U.shouldDirty||U.shouldTouch)&&S(E,J,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&R(E)},I=(E,L,U)=>{for(const ie in L){if(!L.hasOwnProperty(ie))return;const J=L[ie],X=E+"."+ie,fe=ee(r,X);(a.array.has(E)||kt(J)||fe&&!fe._f)&&!Gi(J)?I(X,J,U):$(X,J,U)}},z=(E,L,U={})=>{const ie=ee(r,E),J=a.array.has(E),X=Mt(L);Qe(i,E,X),J?(h.array.next({name:E,values:Mt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:E,dirtyFields:El(s,i),isDirty:F(E,X)})):ie&&!ie._f&&!fn(X)?I(E,X,U):$(E,X,U),Z0(E,a)&&h.state.next({...n,name:E}),h.state.next({name:o.mount?E:void 0,values:Mt(i)})},B=async E=>{o.mount=!0;const L=E.target;let U=L.name,ie=!0;const J=ee(r,U),X=et=>{ie=Number.isNaN(et)||Gi(et)&&isNaN(et.getTime())||cs(et,ee(i,U,et))},fe=G0(e.mode),qe=G0(e.reValidateMode);if(J){let et,Hn;const Pu=L.type?K0(J._f):Wj(E),Ps=E.type===wf.BLUR||E.type===wf.FOCUS_OUT,Z2=!E5(J._f)&&!e.resolver&&!ee(n.errors,U)&&!J._f.deps||A5(Ps,ee(n.touchedFields,U),n.isSubmitted,qe,fe),Vh=Z0(U,a,Ps);Qe(i,U,Pu),Ps?(J._f.onBlur&&J._f.onBlur(E),l&&l(0)):J._f.onChange&&J._f.onChange(E);const $h=S(U,Pu,Ps),J2=!Sn($h)||Vh;if(!Ps&&h.state.next({name:U,type:E.type,values:Mt(i)}),Z2)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ps&&p():Ps||p()),J2&&h.state.next({name:U,...Vh?{}:$h});if(!Ps&&Vh&&h.state.next({...n}),e.resolver){const{errors:Jx}=await T([U]);if(X(Pu),ie){const eA=J0(n.errors,r,U),ev=J0(Jx,r,eA.name||U);et=ev.error,U=ev.name,Hn=Sn(Jx)}}else v([U],!0),et=(await tb(J,a.disabled,i,m,e.shouldUseNativeValidation))[U],v([U]),X(Pu),ie&&(et?Hn=!1:(d.isValid||f.isValid)&&(Hn=await M(r,!0)));ie&&(J._f.deps&&R(J._f.deps),k(U,Hn,et,$h))}},j=(E,L)=>{if(ee(n.errors,L)&&E.focus)return E.focus(),1},R=async(E,L={})=>{let U,ie;const J=lc(E);if(e.resolver){const X=await C(wt(E)?E:J);U=Sn(X),ie=E?!J.some(fe=>ee(X,fe)):U}else E?(ie=(await Promise.all(J.map(async X=>{const fe=ee(r,X);return await M(fe&&fe._f?{[X]:fe}:fe)}))).every(Boolean),!(!ie&&!n.isValid)&&p()):ie=U=await M(r);return h.state.next({...!zr(E)||(d.isValid||f.isValid)&&U!==n.isValid?{}:{name:E},...e.resolver||!E?{isValid:U}:{},errors:n.errors}),L.shouldFocus&&!ie&&cc(r,j,E?J:a.mount),ie},D=E=>{const L={...o.mount?i:s};return wt(E)?L:zr(E)?ee(L,E):E.map(U=>ee(L,U))},W=(E,L)=>({invalid:!!ee((L||n).errors,E),isDirty:!!ee((L||n).dirtyFields,E),error:ee((L||n).errors,E),isValidating:!!ee(n.validatingFields,E),isTouched:!!ee((L||n).touchedFields,E)}),G=E=>{E&&lc(E).forEach(L=>jt(n.errors,L)),h.state.next({errors:E?n.errors:{}})},ne=(E,L,U)=>{const ie=(ee(r,E,{_f:{}})._f||{}).ref,J=ee(n.errors,E)||{},{ref:X,message:fe,type:qe,...et}=J;Qe(n.errors,E,{...et,...L,ref:ie}),h.state.next({name:E,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&ie&&ie.focus&&ie.focus()},se=(E,L)=>pr(E)?h.state.subscribe({next:U=>"values"in U&&E(O(void 0,L),U)}):O(E,L,!0),ge=E=>h.state.subscribe({next:L=>{D5(E.name,L.name,E.exact)&&M5(L,E.formState||d,Ri,E.reRenderRoot)&&E.callback({values:{...i},...n,...L,defaultValues:s})}}).unsubscribe,ve=E=>(o.mount=!0,f={...f,...E.formState},ge({...E,formState:f})),H=(E,L={})=>{for(const U of E?lc(E):a.mount)a.mount.delete(U),a.array.delete(U),L.keepValue||(jt(r,U),jt(i,U)),!L.keepError&&jt(n.errors,U),!L.keepDirty&&jt(n.dirtyFields,U),!L.keepTouched&&jt(n.touchedFields,U),!L.keepIsValidating&&jt(n.validatingFields,U),!e.shouldUnregister&&!L.keepDefaultValue&&jt(s,U);h.state.next({values:Mt(i)}),h.state.next({...n,...L.keepDirty?{isDirty:F()}:{}}),!L.keepIsValid&&p()},Z=({disabled:E,name:L})=>{(On(E)&&o.mount||E||a.disabled.has(L))&&(E?a.disabled.add(L):a.disabled.delete(L))},Fe=(E,L={})=>{let U=ee(r,E);const ie=On(L.disabled)||On(e.disabled);return Qe(r,E,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:E}},name:E,mount:!0,...L}}),a.mount.add(E),U?Z({disabled:On(L.disabled)?L.disabled:e.disabled,name:E}):_(E,!0,L.value),{...ie?{disabled:L.disabled||e.disabled}:{},...e.progressive?{required:!!L.required,min:Ml(L.min),max:Ml(L.max),minLength:Ml(L.minLength),maxLength:Ml(L.maxLength),pattern:Ml(L.pattern)}:{},name:E,onChange:B,onBlur:B,ref:J=>{if(J){Fe(E,L),U=ee(r,E);const X=wt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,fe=C5(X),qe=U._f.refs||[];if(fe?qe.find(et=>et===X):X===U._f.ref)return;Qe(r,E,{_f:{...U._f,...fe?{refs:[...qe.filter(Sm),X,...Array.isArray(ee(s,E))?[{}]:[]],ref:{type:X.type,name:E}}:{ref:X}}}),_(E,!1,void 0,X)}else U=ee(r,E,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(Hj(a.array,E)&&o.action)&&a.unMount.add(E)}}},Pe=()=>e.shouldFocusError&&cc(r,j,a.mount),be=E=>{On(E)&&(h.state.next({disabled:E}),cc(r,(L,U)=>{const ie=ee(r,U);ie&&(L.disabled=ie._f.disabled||E,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(J=>{J.disabled=ie._f.disabled||E}))},0,!1))},Me=(E,L)=>async U=>{let ie;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let J=Mt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:fe}=await T();n.errors=X,J=Mt(fe)}else await M(r);if(a.disabled.size)for(const X of a.disabled)jt(J,X);if(jt(n.errors,"root"),Sn(n.errors)){h.state.next({errors:{}});try{await E(J,U)}catch(X){ie=X}}else L&&await L({...n.errors},U),Pe(),setTimeout(Pe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Ut=(E,L={})=>{ee(r,E)&&(wt(L.defaultValue)?z(E,Mt(ee(s,E))):(z(E,L.defaultValue),Qe(s,E,Mt(L.defaultValue))),L.keepTouched||jt(n.touchedFields,E),L.keepDirty||(jt(n.dirtyFields,E),n.isDirty=L.defaultValue?F(E,Mt(ee(s,E))):F()),L.keepError||(jt(n.errors,E),d.isValid&&p()),h.state.next({...n}))},Dn=(E,L={})=>{const U=E?Mt(E):s,ie=Mt(U),J=Sn(E),X=J?s:ie;if(L.keepDefaultValues||(s=U),!L.keepValues){if(L.keepDirtyValues){const fe=new Set([...a.mount,...Object.keys(El(s,i))]);for(const qe of Array.from(fe))ee(n.dirtyFields,qe)?Qe(X,qe,ee(i,qe)):z(qe,ee(X,qe))}else{if(sx&&wt(E))for(const fe of a.mount){const qe=ee(r,fe);if(qe&&qe._f){const et=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(_f(et)){const Hn=et.closest("form");if(Hn){Hn.reset();break}}}}if(L.keepFieldsRef)for(const fe of a.mount)z(fe,ee(X,fe));else r={}}i=e.shouldUnregister?L.keepDefaultValues?Mt(s):{}:Mt(X),h.array.next({values:{...X}}),h.state.next({values:{...X}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:J?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!cs(E,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:L.keepDirtyValues?L.keepDefaultValues&&i?El(s,i):n.dirtyFields:L.keepDefaultValues&&E?El(s,E):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},js=(E,L)=>Dn(pr(E)?E(i):E,L),Oi=(E,L={})=>{const U=ee(r,E),ie=U&&U._f;if(ie){const J=ie.refs?ie.refs[0]:ie.ref;J.focus&&(J.focus(),L.shouldSelect&&pr(J.select)&&J.select())}},Ri=E=>{n={...n,...E}},Ii={control:{register:Fe,unregister:H,getFieldState:W,handleSubmit:Me,setError:ne,_subscribe:ge,_runSchema:T,_focusError:Pe,_getWatch:O,_getDirty:F,_setValid:p,_setFieldArray:y,_setDisabledField:Z,_setErrors:w,_getFieldArray:V,_reset:Dn,_resetDefaultValues:()=>pr(e.defaultValues)&&e.defaultValues().then(E=>{js(E,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:be,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(E){o=E},get _defaultValues(){return s},get _names(){return a},set _names(E){a=E},get _formState(){return n},get _options(){return e},set _options(E){e={...e,...E}}},subscribe:ve,trigger:R,register:Fe,handleSubmit:Me,watch:se,setValue:z,getValues:D,reset:js,resetField:Ut,clearErrors:G,unregister:H,setError:ne,setFocus:Oi,getFieldState:W};return{...Ii,formControl:Ii}}function fl(t={}){const e=xe.useRef(void 0),n=xe.useRef(void 0),[r,s]=xe.useState({isDirty:!1,isValidating:!1,isLoading:pr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:pr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!pr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=F5(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,lx(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),xe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),xe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),xe.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),xe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),xe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),xe.useEffect(()=>{t.values&&!cs(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),xe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Yj(r,i),e.current}const nb=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ee(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},tP=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?nb(r.ref,n,t):r.refs&&r.refs.forEach(s=>nb(s,n,t))}},L5=(t,e)=>{e.shouldUseNativeValidation&&tP(t,e);const n={};for(const r in t){const s=ee(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(z5(e.names||Object.keys(t),r)){const o=Object.assign({},ee(n,r));Qe(o,"root",i),Qe(n,r,o)}else Qe(n,r,i)}return n},z5=(t,e)=>t.some(n=>n.startsWith(e+"."));var V5=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=Qj(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},hl=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&tP({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:L5(V5(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const ke=b.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ke.displayName="Input";var $5="Label",nP=b.forwardRef((t,e)=>c.jsx(je.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nP.displayName=$5;var rP=nP;const B5=Hy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=b.forwardRef(({className:t,...e},n)=>c.jsx(rP,{ref:n,className:Oe(B5(),t),...e}));ze.displayName=rP.displayName;const Y=Symbol.for("drizzle:entityKind");function Ht(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Y))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(Y in n&&n[Y]===e[Y])return!0;n=Object.getPrototypeOf(n)}return!1}var Jw;Jw=Y;class Ha{constructor(e,n){N(this,"name");N(this,"keyAsName");N(this,"primary");N(this,"notNull");N(this,"default");N(this,"defaultFn");N(this,"onUpdateFn");N(this,"hasDefault");N(this,"isUnique");N(this,"uniqueName");N(this,"uniqueType");N(this,"dataType");N(this,"columnType");N(this,"enumValues");N(this,"generated");N(this,"generatedIdentity");N(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}N(Ha,Jw,"Column");var e_;e_=Y;class sP{constructor(e,n,r){N(this,"config");N(this,"$default",this.$defaultFn);N(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}N(sP,e_,"ColumnBuilder");const ga=Symbol.for("drizzle:Name");var t_;t_=Y;class iP{constructor(e,n){N(this,"reference");N(this,"_onUpdate","no action");N(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new oP(e,this)}}N(iP,t_,"PgForeignKeyBuilder");var n_;n_=Y;class oP{constructor(e,n){N(this,"reference");N(this,"onUpdate");N(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[ga],...s,r[0].table[ga],...i];return e??`${o.join("_")}_fk`}}N(oP,n_,"PgForeignKey");function U5(t,...e){return t(...e)}function W5(t,e){return`${t[ga]}_${e.join("_")}_unique`}function rb(t,e,n){for(let r=e;r<t.length;r++){const s=t[r];if(s==="\\"){r++;continue}if(s==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function aP(t,e=0){const n=[];let r=e,s=!1;for(;r<t.length;){const i=t[r];if(i===","){(s||r===e)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[l,u]=rb(t,r+1,!0);n.push(l),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[l,u]=aP(t,r+1);n.push(l),r=u;continue}const[o,a]=rb(t,r,!1);n.push(o),r=a}return[n,r]}function H5(t){const[e]=aP(t,1);return e}function lP(t){return`{${t.map(e=>Array.isArray(e)?lP(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var r_,s_;class Ie extends(s_=sP,r_=Y,s_){constructor(){super(...arguments);N(this,"foreignKeyConfigs",[])}array(n){return new uP(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>U5((o,a)=>{const l=new iP(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(r)},s,i))}buildExtraConfigColumn(n){return new cP(n,this.config)}}N(Ie,r_,"PgColumnBuilder");var i_,o_;class Se extends(o_=Ha,i_=Y,o_){constructor(e,n){n.uniqueName||(n.uniqueName=W5(e,[n.name])),super(e,n),this.table=e}}N(Se,i_,"PgColumn");var a_,l_;class cP extends(l_=Se,a_=Y,l_){constructor(){super(...arguments);N(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});N(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}N(cP,a_,"ExtraConfigColumn");var c_,u_;class uP extends(u_=Ie,c_=Y,u_){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new mg(e,this.config,n)}}N(uP,c_,"PgArrayBuilder");var d_,f_;const Xf=class Xf extends(f_=Se,d_=Y,f_){constructor(n,r,s,i){super(n,r);N(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=H5(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:Ht(this.baseColumn,Xf)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:lP(s)}};N(Xf,d_,"PgArray");let mg=Xf;const sb=Symbol.for("drizzle:isPgEnum");function Y5(t){return!!t&&typeof t=="function"&&sb in t&&t[sb]===!0}var h_;h_=Y;class dx{constructor(e,n,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s}}}N(dx,h_,"Subquery");const q5={startActiveSpan(t,e){return e()}},ya=Symbol.for("drizzle:ViewBaseConfig"),Nm=Symbol.for("drizzle:Schema"),ib=Symbol.for("drizzle:Columns"),ob=Symbol.for("drizzle:ExtraConfigColumns"),Cm=Symbol.for("drizzle:OriginalName"),km=Symbol.for("drizzle:BaseName"),Cf=Symbol.for("drizzle:IsAlias"),ab=Symbol.for("drizzle:ExtraConfigBuilder"),dP=Symbol.for("drizzle:IsDrizzleTable");var m_,p_,g_,y_,x_,v_,b_,w_,__,S_;S_=Y,__=ga,w_=Cm,b_=Nm,v_=ib,x_=ob,y_=km,g_=Cf,p_=dP,m_=ab;class hn{constructor(e,n,r){N(this,__);N(this,w_);N(this,b_);N(this,v_);N(this,x_);N(this,y_);N(this,g_,!1);N(this,p_,!0);N(this,m_);this[ga]=this[Cm]=e,this[Nm]=n,this[km]=r}}N(hn,S_,"Table"),N(hn,"Symbol",{Name:ga,Schema:Nm,OriginalName:Cm,Columns:ib,ExtraConfigColumns:ob,BaseName:km,IsAlias:Cf,ExtraConfigBuilder:ab});function fP(t){return typeof t=="object"&&t!==null&&dP in t}function Q5(t){return t!=null&&typeof t.getSQL=="function"}function K5(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var N_;N_=Y;class Qn{constructor(e){N(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Rt([this])}}N(Qn,N_,"StringChunk");var C_;C_=Y;const Yi=class Yi{constructor(e){N(this,"decoder",hP);N(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return q5.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:u}=r;return K5(e.map(d=>{var f;if(Ht(d,Qn))return{sql:d.value.join(""),params:[]};if(Ht(d,kf))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Qn("(")];for(const[m,x]of d.entries())h.push(x),m<d.length-1&&h.push(new Qn(", "));return h.push(new Qn(")")),this.buildQueryFromSourceParams(h,r)}if(Ht(d,Yi))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(Ht(d,hn)){const h=d[hn.Symbol.Schema],m=d[hn.Symbol.Name];return{sql:h===void 0||d[Cf]?i(m):i(h)+"."+i(m),params:[]}}if(Ht(d,Ha)){const h=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const m=d.table[hn.Symbol.Schema];return{sql:d.table[Cf]||m===void 0?i(d.table[hn.Symbol.Name])+"."+i(h):i(m)+"."+i(d.table[hn.Symbol.Name])+"."+i(h),params:[]}}if(Ht(d,gP)){const h=d[ya].schema,m=d[ya].name;return{sql:h===void 0||d[ya].isAlias?i(m):i(h)+"."+i(m),params:[]}}if(Ht(d,fx)){if(Ht(d.value,jf))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Ht(h,Yi))return this.buildQueryFromSourceParams([h],r);if(l)return{sql:this.mapInlineParam(h,r),params:[]};let m=["none"];return a&&(m=[a(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:m}}return Ht(d,jf)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Ht(d,Yi.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Ht(d,dx)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Qn("("),d._.sql,new Qn(") "),new kf(d._.alias)],r):Y5(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:Q5(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Qn("("),d.getSQL(),new Qn(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Yi.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};N(Yi,C_,"SQL");let Rt=Yi;var k_;k_=Y;class kf{constructor(e){N(this,"brand");this.value=e}getSQL(){return new Rt([this])}}N(kf,k_,"Name");const hP={mapFromDriverValue:t=>t},mP={mapToDriverValue:t=>t};({...hP,...mP});var T_;T_=Y;class fx{constructor(e,n=mP){N(this,"brand");this.value=e,this.encoder=n}getSQL(){return new Rt([this])}}N(fx,T_,"Param");function Tf(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Qn(t[0]));for(const[r,s]of e.entries())n.push(s,new Qn(t[r+1]));return new Rt(n)}(t=>{function e(){return new Rt([])}t.empty=e;function n(l){return new Rt(l)}t.fromList=n;function r(l){return new Rt([new Qn(l)])}t.raw=r;function s(l,u){const d=[];for(const[f,h]of l.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Rt(d)}t.join=s;function i(l){return new kf(l)}t.identifier=i;function o(l){return new jf(l)}t.placeholder=o;function a(l,u){return new fx(l,u)}t.param=a})(Tf||(Tf={}));(t=>{var n;n=Y;const r=class r{constructor(i,o){N(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};N(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(Rt||(Rt={}));var j_;j_=Y;class jf{constructor(e){this.name=e}getSQL(){return new Rt([this])}}N(jf,j_,"Placeholder");const pP=Symbol.for("drizzle:IsDrizzleView");var P_,E_,M_;M_=Y,E_=ya,P_=pP;class gP{constructor({name:e,schema:n,selectedFields:r,query:s}){N(this,E_);N(this,P_,!0);this[ya]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Rt([this])}}N(gP,M_,"View");function G5(t){return typeof t=="object"&&t!==null&&pP in t}Ha.prototype.getSQL=function(){return new Rt([this])};hn.prototype.getSQL=function(){return new Rt([this])};dx.prototype.getSQL=function(){return new Rt([this])};function X5(t){return t[hn.Symbol.Columns]}function Z5(t){return t[ya].selectedFields}function Bt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var D_,A_;class wu extends(A_=Ie,D_=Y,A_){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}N(wu,D_,"PgIntColumnBaseBuilder");var O_,R_;class yP extends(R_=wu,O_=Y,R_){constructor(e){super(e,"number","PgBigInt53")}build(e){return new xP(e,this.config)}}N(yP,O_,"PgBigInt53Builder");var I_,F_;class xP extends(F_=Se,I_=Y,F_){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}N(xP,I_,"PgBigInt53");var L_,z_;class vP extends(z_=wu,L_=Y,z_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new bP(e,this.config)}}N(vP,L_,"PgBigInt64Builder");var V_,$_;class bP extends($_=Se,V_=Y,$_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}N(bP,V_,"PgBigInt64");function J5(t,e){const{name:n,config:r}=Bt(t,e);return r.mode==="number"?new yP(n):new vP(n)}var B_,U_;class wP extends(U_=Ie,B_=Y,U_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new _P(e,this.config)}}N(wP,B_,"PgBigSerial53Builder");var W_,H_;class _P extends(H_=Se,W_=Y,H_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}N(_P,W_,"PgBigSerial53");var Y_,q_;class SP extends(q_=Ie,Y_=Y,q_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new NP(e,this.config)}}N(SP,Y_,"PgBigSerial64Builder");var Q_,K_;class NP extends(K_=Se,Q_=Y,K_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}N(NP,Q_,"PgBigSerial64");function ez(t,e){const{name:n,config:r}=Bt(t,e);return r.mode==="number"?new wP(n):new SP(n)}var G_,X_;class CP extends(X_=Ie,G_=Y,X_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new kP(e,this.config)}}N(CP,G_,"PgBooleanBuilder");var Z_,J_;class kP extends(J_=Se,Z_=Y,J_){getSQLType(){return"boolean"}}N(kP,Z_,"PgBoolean");function Ya(t){return new CP(t??"")}var eS,tS;class TP extends(tS=Ie,eS=Y,tS){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new jP(e,this.config)}}N(TP,eS,"PgCharBuilder");var nS,rS;class jP extends(rS=Se,nS=Y,rS){constructor(){super(...arguments);N(this,"length",this.config.length);N(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}N(jP,nS,"PgChar");function tz(t,e={}){const{name:n,config:r}=Bt(t,e);return new TP(n,r)}var sS,iS;class PP extends(iS=Ie,sS=Y,iS){constructor(e){super(e,"string","PgCidr")}build(e){return new EP(e,this.config)}}N(PP,sS,"PgCidrBuilder");var oS,aS;class EP extends(aS=Se,oS=Y,aS){getSQLType(){return"cidr"}}N(EP,oS,"PgCidr");function nz(t){return new PP(t??"")}var lS,cS;class MP extends(cS=Ie,lS=Y,cS){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new DP(e,this.config)}}N(MP,lS,"PgCustomColumnBuilder");var uS,dS;class DP extends(dS=Se,uS=Y,dS){constructor(n,r){super(n,r);N(this,"sqlName");N(this,"mapTo");N(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}N(DP,uS,"PgCustomColumn");function rz(t){return(e,n)=>{const{name:r,config:s}=Bt(e,n);return new MP(r,s,t)}}var fS,hS;class ml extends(hS=Ie,fS=Y,hS){defaultNow(){return this.default(Tf`now()`)}}N(ml,fS,"PgDateColumnBaseBuilder");var mS,pS;class AP extends(pS=ml,mS=Y,pS){constructor(e){super(e,"date","PgDate")}build(e){return new OP(e,this.config)}}N(AP,mS,"PgDateBuilder");var gS,yS;class OP extends(yS=Se,gS=Y,yS){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}N(OP,gS,"PgDate");var xS,vS;class RP extends(vS=ml,xS=Y,vS){constructor(e){super(e,"string","PgDateString")}build(e){return new IP(e,this.config)}}N(RP,xS,"PgDateStringBuilder");var bS,wS;class IP extends(wS=Se,bS=Y,wS){getSQLType(){return"date"}}N(IP,bS,"PgDateString");function hx(t,e){const{name:n,config:r}=Bt(t,e);return(r==null?void 0:r.mode)==="date"?new AP(n):new RP(n)}var _S,SS;class FP extends(SS=Ie,_S=Y,SS){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new LP(e,this.config)}}N(FP,_S,"PgDoublePrecisionBuilder");var NS,CS;class LP extends(CS=Se,NS=Y,CS){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}N(LP,NS,"PgDoublePrecision");function sz(t){return new FP(t??"")}var kS,TS;class zP extends(TS=Ie,kS=Y,TS){constructor(e){super(e,"string","PgInet")}build(e){return new VP(e,this.config)}}N(zP,kS,"PgInetBuilder");var jS,PS;class VP extends(PS=Se,jS=Y,PS){getSQLType(){return"inet"}}N(VP,jS,"PgInet");function iz(t){return new zP(t??"")}var ES,MS;class $P extends(MS=wu,ES=Y,MS){constructor(e){super(e,"number","PgInteger")}build(e){return new BP(e,this.config)}}N($P,ES,"PgIntegerBuilder");var DS,AS;class BP extends(AS=Se,DS=Y,AS){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}N(BP,DS,"PgInteger");function $t(t){return new $P(t??"")}var OS,RS;class UP extends(RS=Ie,OS=Y,RS){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new WP(e,this.config)}}N(UP,OS,"PgIntervalBuilder");var IS,FS;class WP extends(FS=Se,IS=Y,FS){constructor(){super(...arguments);N(this,"fields",this.config.intervalConfig.fields);N(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}N(WP,IS,"PgInterval");function oz(t,e={}){const{name:n,config:r}=Bt(t,e);return new UP(n,r)}var LS,zS;class HP extends(zS=Ie,LS=Y,zS){constructor(e){super(e,"json","PgJson")}build(e){return new YP(e,this.config)}}N(HP,LS,"PgJsonBuilder");var VS,$S;class YP extends($S=Se,VS=Y,$S){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}N(YP,VS,"PgJson");function az(t){return new HP(t??"")}var BS,US;class qP extends(US=Ie,BS=Y,US){constructor(e){super(e,"json","PgJsonb")}build(e){return new QP(e,this.config)}}N(qP,BS,"PgJsonbBuilder");var WS,HS;class QP extends(HS=Se,WS=Y,HS){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}N(QP,WS,"PgJsonb");function KP(t){return new qP(t??"")}var YS,qS;class GP extends(qS=Ie,YS=Y,qS){constructor(e){super(e,"array","PgLine")}build(e){return new XP(e,this.config)}}N(GP,YS,"PgLineBuilder");var QS,KS;class XP extends(KS=Se,QS=Y,KS){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}N(XP,QS,"PgLine");var GS,XS;class ZP extends(XS=Ie,GS=Y,XS){constructor(e){super(e,"json","PgLineABC")}build(e){return new JP(e,this.config)}}N(ZP,GS,"PgLineABCBuilder");var ZS,JS;class JP extends(JS=Se,ZS=Y,JS){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}N(JP,ZS,"PgLineABC");function lz(t,e){const{name:n,config:r}=Bt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new GP(n):new ZP(n)}var e1,t1;class eE extends(t1=Ie,e1=Y,t1){constructor(e){super(e,"string","PgMacaddr")}build(e){return new tE(e,this.config)}}N(eE,e1,"PgMacaddrBuilder");var n1,r1;class tE extends(r1=Se,n1=Y,r1){getSQLType(){return"macaddr"}}N(tE,n1,"PgMacaddr");function cz(t){return new eE(t??"")}var s1,i1;class nE extends(i1=Ie,s1=Y,i1){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new rE(e,this.config)}}N(nE,s1,"PgMacaddr8Builder");var o1,a1;class rE extends(a1=Se,o1=Y,a1){getSQLType(){return"macaddr8"}}N(rE,o1,"PgMacaddr8");function uz(t){return new nE(t??"")}var l1,c1;class sE extends(c1=Ie,l1=Y,c1){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new iE(e,this.config)}}N(sE,l1,"PgNumericBuilder");var u1,d1;class iE extends(d1=Se,u1=Y,d1){constructor(n,r){super(n,r);N(this,"precision");N(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}N(iE,u1,"PgNumeric");function ps(t,e){const{name:n,config:r}=Bt(t,e);return new sE(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const uc=ps;var f1,h1;class oE extends(h1=Ie,f1=Y,h1){constructor(e){super(e,"array","PgPointTuple")}build(e){return new aE(e,this.config)}}N(oE,f1,"PgPointTupleBuilder");var m1,p1;class aE extends(p1=Se,m1=Y,p1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}N(aE,m1,"PgPointTuple");var g1,y1;class lE extends(y1=Ie,g1=Y,y1){constructor(e){super(e,"json","PgPointObject")}build(e){return new cE(e,this.config)}}N(lE,g1,"PgPointObjectBuilder");var x1,v1;class cE extends(v1=Se,x1=Y,v1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}N(cE,x1,"PgPointObject");function dz(t,e){const{name:n,config:r}=Bt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new oE(n):new lE(n)}function fz(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function lb(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,t[e+s]);return r.getFloat64(0,!0)}function uE(t){const e=fz(t);let n=0;const r=e[n];n+=1;const s=new DataView(e.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const o=lb(e,n);n+=8;const a=lb(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}var b1,w1;class dE extends(w1=Ie,b1=Y,w1){constructor(e){super(e,"array","PgGeometry")}build(e){return new fE(e,this.config)}}N(dE,b1,"PgGeometryBuilder");var _1,S1;class fE extends(S1=Se,_1=Y,S1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return uE(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}N(fE,_1,"PgGeometry");var N1,C1;class hE extends(C1=Ie,N1=Y,C1){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new mE(e,this.config)}}N(hE,N1,"PgGeometryObjectBuilder");var k1,T1;class mE extends(T1=Se,k1=Y,T1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=uE(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}N(mE,k1,"PgGeometryObject");function hz(t,e){const{name:n,config:r}=Bt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new dE(n):new hE(n)}var j1,P1;class pE extends(P1=Ie,j1=Y,P1){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new gE(e,this.config)}}N(pE,j1,"PgRealBuilder");var E1,M1;class gE extends(M1=Se,E1=Y,M1){constructor(n,r){super(n,r);N(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}N(gE,E1,"PgReal");function mz(t){return new pE(t??"")}var D1,A1;class yE extends(A1=Ie,D1=Y,A1){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new xE(e,this.config)}}N(yE,D1,"PgSerialBuilder");var O1,R1;class xE extends(R1=Se,O1=Y,R1){getSQLType(){return"serial"}}N(xE,O1,"PgSerial");function vn(t){return new yE(t??"")}var I1,F1;class vE extends(F1=wu,I1=Y,F1){constructor(e){super(e,"number","PgSmallInt")}build(e){return new bE(e,this.config)}}N(vE,I1,"PgSmallIntBuilder");var L1,z1;class bE extends(z1=Se,L1=Y,z1){constructor(){super(...arguments);N(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}N(bE,L1,"PgSmallInt");function pz(t){return new vE(t??"")}var V1,$1;class wE extends($1=Ie,V1=Y,$1){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new _E(e,this.config)}}N(wE,V1,"PgSmallSerialBuilder");var B1,U1;class _E extends(U1=Se,B1=Y,U1){getSQLType(){return"smallserial"}}N(_E,B1,"PgSmallSerial");function gz(t){return new wE(t??"")}var W1,H1;class SE extends(H1=Ie,W1=Y,H1){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new NE(e,this.config)}}N(SE,W1,"PgTextBuilder");var Y1,q1;class NE extends(q1=Se,Y1=Y,q1){constructor(){super(...arguments);N(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}N(NE,Y1,"PgText");function mx(t,e={}){const{name:n,config:r}=Bt(t,e);return new SE(n,r)}var Q1,K1;class CE extends(K1=ml,Q1=Y,K1){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new kE(e,this.config)}}N(CE,Q1,"PgTimeBuilder");var G1,X1;class kE extends(X1=Se,G1=Y,X1){constructor(n,r){super(n,r);N(this,"withTimezone");N(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(kE,G1,"PgTime");function yz(t,e={}){const{name:n,config:r}=Bt(t,e);return new CE(n,r.withTimezone??!1,r.precision)}var Z1,J1;class TE extends(J1=ml,Z1=Y,J1){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new jE(e,this.config)}}N(TE,Z1,"PgTimestampBuilder");var eN,tN;class jE extends(tN=Se,eN=Y,tN){constructor(n,r){super(n,r);N(this,"withTimezone");N(this,"precision");N(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));N(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(jE,eN,"PgTimestamp");var nN,rN;class PE extends(rN=ml,nN=Y,rN){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new EE(e,this.config)}}N(PE,nN,"PgTimestampStringBuilder");var sN,iN;class EE extends(iN=Se,sN=Y,iN){constructor(n,r){super(n,r);N(this,"withTimezone");N(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(EE,sN,"PgTimestampString");function Je(t,e={}){const{name:n,config:r}=Bt(t,e);return(r==null?void 0:r.mode)==="string"?new PE(n,r.withTimezone??!1,r.precision):new TE(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var oN,aN;class ME extends(aN=Ie,oN=Y,aN){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Tf`gen_random_uuid()`)}build(e){return new DE(e,this.config)}}N(ME,oN,"PgUUIDBuilder");var lN,cN;class DE extends(cN=Se,lN=Y,cN){getSQLType(){return"uuid"}}N(DE,lN,"PgUUID");function xz(t){return new ME(t??"")}var uN,dN;class AE extends(dN=Ie,uN=Y,dN){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new OE(e,this.config)}}N(AE,uN,"PgVarcharBuilder");var fN,hN;class OE extends(hN=Se,fN=Y,hN){constructor(){super(...arguments);N(this,"length",this.config.length);N(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}N(OE,fN,"PgVarchar");function Ve(t,e={}){const{name:n,config:r}=Bt(t,e);return new AE(n,r)}var mN,pN;class RE extends(pN=Ie,mN=Y,pN){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new IE(e,this.config)}}N(RE,mN,"PgBinaryVectorBuilder");var gN,yN;class IE extends(yN=Se,gN=Y,yN){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}N(IE,gN,"PgBinaryVector");function vz(t,e){const{name:n,config:r}=Bt(t,e);return new RE(n,r)}var xN,vN;class FE extends(vN=Ie,xN=Y,vN){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new LE(e,this.config)}}N(FE,xN,"PgHalfVectorBuilder");var bN,wN;class LE extends(wN=Se,bN=Y,wN){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}N(LE,bN,"PgHalfVector");function bz(t,e){const{name:n,config:r}=Bt(t,e);return new FE(n,r)}var _N,SN;class zE extends(SN=Ie,_N=Y,SN){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new VE(e,this.config)}}N(zE,_N,"PgSparseVectorBuilder");var NN,CN;class VE extends(CN=Se,NN=Y,CN){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}N(VE,NN,"PgSparseVector");function wz(t,e){const{name:n,config:r}=Bt(t,e);return new zE(n,r)}var kN,TN;class $E extends(TN=Ie,kN=Y,TN){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new BE(e,this.config)}}N($E,kN,"PgVectorBuilder");var jN,PN;class BE extends(PN=Se,jN=Y,PN){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}N(BE,jN,"PgVector");function _z(t,e){const{name:n,config:r}=Bt(t,e);return new $E(n,r)}function Sz(){return{bigint:J5,bigserial:ez,boolean:Ya,char:tz,cidr:nz,customType:rz,date:hx,doublePrecision:sz,inet:iz,integer:$t,interval:oz,json:az,jsonb:KP,line:lz,macaddr:cz,macaddr8:uz,numeric:ps,point:dz,geometry:hz,real:mz,serial:vn,smallint:pz,smallserial:gz,text:mx,time:yz,timestamp:Je,uuid:xz,varchar:Ve,bit:vz,halfvec:bz,sparsevec:wz,vector:_z}}const pg=Symbol.for("drizzle:PgInlineForeignKeys"),cb=Symbol.for("drizzle:EnableRLS");var EN,MN,DN,AN,ON;class Pf extends(ON=hn,AN=Y,DN=pg,MN=cb,EN=hn.Symbol.ExtraConfigBuilder,ON){constructor(){super(...arguments);N(this,DN,[]);N(this,MN,!1);N(this,EN)}}N(Pf,AN,"PgTable"),N(Pf,"Symbol",Object.assign({},hn.Symbol,{InlineForeignKeys:pg,EnableRLS:cb}));function Nz(t,e,n,r,s=t){const i=new Pf(t,r,s),o=typeof e=="function"?e(Sz()):e,a=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(i);return i[pg].push(...h.buildForeignKeys(m,i)),[d,m]})),l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(i);return[d,m]})),u=Object.assign(i,a);return u[hn.Symbol.Columns]=a,u[hn.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[Pf.Symbol.EnableRLS]=!0,u)})}const Mn=(t,e,n)=>Nz(t,e,n,void 0);var Re;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Re||(Re={}));var gg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(gg||(gg={}));const oe=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),is=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return Number.isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},q=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Cz=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class zn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof zn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}zn.create=t=>new zn(t);const qa=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Re.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Re.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Re.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Re.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Re.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Re.assertNever(t)}return{message:n}};let UE=qa;function kz(t){UE=t}function Ef(){return UE}const Mf=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},Tz=[];function te(t,e){const n=Ef(),r=Mf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qa?void 0:qa].filter(s=>!!s)});t.common.issues.push(r)}class an{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return me;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return an.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return me;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),sa=t=>({status:"dirty",value:t}),gn=t=>({status:"valid",value:t}),yg=t=>t.status==="aborted",xg=t=>t.status==="dirty",wo=t=>t.status==="valid",zc=t=>typeof Promise<"u"&&t instanceof Promise;var le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(le||(le={}));class Yr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ub=(t,e)=>{if(wo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new zn(t.common.issues);return this._error=n,this._error}}};function _e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Te{get description(){return this._def.description}_getType(e){return is(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new an,ctx:{common:e.parent.common,data:e.data,parsedType:is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(zc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:is(e)},s=this._parseSync({data:e,path:r.path,parent:r});return ub(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:is(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return wo(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>wo(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:is(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(zc(s)?s:Promise.resolve(s));return ub(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Nr({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ur.create(this,this._def)}nullable(){return wi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vr.create(this)}promise(){return Ka.create(this,this._def)}or(e){return Uc.create([this,e],this._def)}and(e){return Wc.create(this,e,this._def)}transform(e){return new Nr({..._e(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Kc({..._e(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new px({typeName:pe.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Gc({..._e(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return _u.create(this,e)}readonly(){return Xc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jz=/^c[^\s-]{8,}$/i,Pz=/^[0-9a-z]+$/,Ez=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Mz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dz=/^[a-z0-9_-]{21}$/i,Az=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Oz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Rz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Iz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tm;const Fz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Vz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$z=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,WE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Uz=new RegExp(`^${WE}$`);function HE(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Wz(t){return new RegExp(`^${HE(t)}$`)}function YE(t){let e=`${WE}T${HE(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Hz(t,e){return!!((e==="v4"||!e)&&Fz.test(t)||(e==="v6"||!e)&&zz.test(t))}function Yz(t,e){if(!Az.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function qz(t,e){return!!((e==="v4"||!e)&&Lz.test(t)||(e==="v6"||!e)&&Vz.test(t))}class gr extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.string,received:i.parsedType}),me}const r=new an;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?te(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&te(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Rz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Tm||(Tm=new RegExp(Iz,"u")),Tm.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Mz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Dz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")jz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Pz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Ez.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),te(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?YE(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Uz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Wz(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Oz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Hz(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Yz(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?qz(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?$z.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Bz.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):Re.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...le.errToObj(r)})}_addCheck(e){return new gr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...le.errToObj(n)})}nonempty(e){return this.min(1,le.errToObj(e))}trim(){return new gr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gr.create=t=>new gr({checks:[],typeName:pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});function Qz(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class xi extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.number,received:i.parsedType}),me}let r;const s=new an;for(const i of this._def.checks)i.kind==="int"?Re.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Qz(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_finite,message:i.message}),s.dirty()):Re.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new xi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new xi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Re.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}xi.create=t=>new xi({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class vi extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let r;const s=new an;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Re.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:q.invalid_type,expected:oe.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new vi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new vi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vi.create=t=>new vi({checks:[],typeName:pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});class Vc extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.boolean,received:r.parsedType}),me}return gn(e.data)}}Vc.create=t=>new Vc({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class _o extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.date,received:i.parsedType}),me}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_date}),me}const r=new an;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Re.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _o({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}_o.create=t=>new _o({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,..._e(t)});class Df extends Te{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.symbol,received:r.parsedType}),me}return gn(e.data)}}Df.create=t=>new Df({typeName:pe.ZodSymbol,..._e(t)});class $c extends Te{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.undefined,received:r.parsedType}),me}return gn(e.data)}}$c.create=t=>new $c({typeName:pe.ZodUndefined,..._e(t)});class Bc extends Te{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.null,received:r.parsedType}),me}return gn(e.data)}}Bc.create=t=>new Bc({typeName:pe.ZodNull,..._e(t)});class Qa extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return gn(e.data)}}Qa.create=t=>new Qa({typeName:pe.ZodAny,..._e(t)});class uo extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gn(e.data)}}uo.create=t=>new uo({typeName:pe.ZodUnknown,..._e(t)});class Ns extends Te{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:q.invalid_type,expected:oe.never,received:n.parsedType}),me}}Ns.create=t=>new Ns({typeName:pe.ZodNever,..._e(t)});class Af extends Te{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.void,received:r.parsedType}),me}return gn(e.data)}}Af.create=t=>new Af({typeName:pe.ZodVoid,..._e(t)});class vr extends Te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return te(n,{code:q.invalid_type,expected:oe.array,received:n.parsedType}),me;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(te(n,{code:o?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(te(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(te(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Yr(n,o,n.path,a)))).then(o=>an.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Yr(n,o,n.path,a)));return an.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new vr({...this._def,minLength:{value:e,message:le.toString(n)}})}max(e,n){return new vr({...this._def,maxLength:{value:e,message:le.toString(n)}})}length(e,n){return new vr({...this._def,exactLength:{value:e,message:le.toString(n)}})}nonempty(e){return this.min(1,e)}}vr.create=(t,e)=>new vr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,..._e(e)});function Ho(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ur.create(Ho(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof vr?new vr({...t._def,type:Ho(t.element)}):t instanceof Ur?Ur.create(Ho(t.unwrap())):t instanceof wi?wi.create(Ho(t.unwrap())):t instanceof qr?qr.create(t.items.map(e=>Ho(e))):t}class dt extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Re.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==oe.object){const u=this._getOrReturnCtx(e);return te(u,{code:q.invalid_type,expected:oe.object,received:u.parsedType}),me}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ns&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Yr(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ns){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(te(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Yr(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>an.mergeObjectSync(r,u)):an.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return le.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:le.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};for(const r of Re.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new dt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Re.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new dt({...this._def,shape:()=>n})}deepPartial(){return Ho(this)}partial(e){const n={};for(const r of Re.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new dt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Re.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ur;)i=i._def.innerType;n[r]=i}return new dt({...this._def,shape:()=>n})}keyof(){return qE(Re.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:Ns.create(),typeName:pe.ZodObject,..._e(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:Ns.create(),typeName:pe.ZodObject,..._e(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:Ns.create(),typeName:pe.ZodObject,..._e(e)});class Uc extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new zn(a.ctx.common.issues));return te(n,{code:q.invalid_union,unionErrors:o}),me}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new zn(l));return te(n,{code:q.invalid_union,unionErrors:a}),me}}get options(){return this._def.options}}Uc.create=(t,e)=>new Uc({options:t,typeName:pe.ZodUnion,..._e(e)});const es=t=>t instanceof Yc?es(t.schema):t instanceof Nr?es(t.innerType()):t instanceof qc?[t.value]:t instanceof bi?t.options:t instanceof Qc?Re.objectValues(t.enum):t instanceof Kc?es(t._def.innerType):t instanceof $c?[void 0]:t instanceof Bc?[null]:t instanceof Ur?[void 0,...es(t.unwrap())]:t instanceof wi?[null,...es(t.unwrap())]:t instanceof px||t instanceof Xc?es(t.unwrap()):t instanceof Gc?es(t._def.innerType):[];class kh extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return te(n,{code:q.invalid_type,expected:oe.object,received:n.parsedType}),me;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=es(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new kh({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,..._e(r)})}}function vg(t,e){const n=is(t),r=is(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=Re.objectKeys(e),i=Re.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=vg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=vg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Wc extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(yg(i)||yg(o))return me;const a=vg(i.value,o.value);return a.valid?((xg(i)||xg(o))&&n.dirty(),{status:n.value,value:a.data}):(te(r,{code:q.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wc.create=(t,e,n)=>new Wc({left:t,right:e,typeName:pe.ZodIntersection,..._e(n)});class qr extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return te(r,{code:q.invalid_type,expected:oe.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return te(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Yr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>an.mergeArray(n,o)):an.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new qr({...this._def,rest:e})}}qr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qr({items:t,typeName:pe.ZodTuple,rest:null,..._e(e)})};class Hc extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return te(r,{code:q.invalid_type,expected:oe.object,received:r.parsedType}),me;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Yr(r,a,r.path,a)),value:o._parse(new Yr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?an.mergeObjectAsync(n,s):an.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Te?new Hc({keyType:e,valueType:n,typeName:pe.ZodRecord,..._e(r)}):new Hc({keyType:gr.create(),valueType:e,typeName:pe.ZodRecord,..._e(n)})}}class Of extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return te(r,{code:q.invalid_type,expected:oe.map,received:r.parsedType}),me;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Yr(r,a,r.path,[u,"key"])),value:i._parse(new Yr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}Of.create=(t,e,n)=>new Of({valueType:e,keyType:t,typeName:pe.ZodMap,..._e(n)});class So extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return te(r,{code:q.invalid_type,expected:oe.set,received:r.parsedType}),me;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(te(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(te(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return me;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Yr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new So({...this._def,minSize:{value:e,message:le.toString(n)}})}max(e,n){return new So({...this._def,maxSize:{value:e,message:le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}So.create=(t,e)=>new So({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,..._e(e)});class xa extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return te(n,{code:q.invalid_type,expected:oe.function,received:n.parsedType}),me;function r(a,l){return Mf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ef(),qa].filter(u=>!!u),issueData:{code:q.invalid_arguments,argumentsError:l}})}function s(a,l){return Mf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ef(),qa].filter(u=>!!u),issueData:{code:q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ka){const a=this;return gn(async function(...l){const u=new zn([]),d=await a._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(r(l,m)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const a=this;return gn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new zn([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new zn([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xa({...this._def,args:qr.create(e).rest(uo.create())})}returns(e){return new xa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new xa({args:e||qr.create([]).rest(uo.create()),returns:n||uo.create(),typeName:pe.ZodFunction,..._e(r)})}}class Yc extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yc.create=(t,e)=>new Yc({getter:t,typeName:pe.ZodLazy,..._e(e)});class qc extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}qc.create=(t,e)=>new qc({value:t,typeName:pe.ZodLiteral,..._e(e)});function qE(t,e){return new bi({values:t,typeName:pe.ZodEnum,..._e(e)})}class bi extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{expected:Re.joinValues(r),received:n.parsedType,code:q.invalid_type}),me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{received:n.data,code:q.invalid_enum_value,options:r}),me}return gn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return bi.create(e,{...this._def,...n})}exclude(e,n=this._def){return bi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}bi.create=qE;class Qc extends Te{_parse(e){const n=Re.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=Re.objectValues(n);return te(r,{expected:Re.joinValues(s),received:r.parsedType,code:q.invalid_type}),me}if(this._cache||(this._cache=new Set(Re.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Re.objectValues(n);return te(r,{received:r.data,code:q.invalid_enum_value,options:s}),me}return gn(e.data)}get enum(){return this._def.values}}Qc.create=(t,e)=>new Qc({values:t,typeName:pe.ZodNativeEnum,..._e(e)});class Ka extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return te(n,{code:q.invalid_type,expected:oe.promise,received:n.parsedType}),me;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return gn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ka.create=(t,e)=>new Ka({type:t,typeName:pe.ZodPromise,..._e(e)});class Nr extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{te(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return me;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?me:l.status==="dirty"||n.value==="dirty"?sa(l.value):l});{if(n.value==="aborted")return me;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?me:a.status==="dirty"||n.value==="dirty"?sa(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wo(o))return me;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>wo(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):me);Re.assertNever(s)}}Nr.create=(t,e,n)=>new Nr({schema:t,typeName:pe.ZodEffects,effect:e,..._e(n)});Nr.createWithPreprocess=(t,e,n)=>new Nr({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,..._e(n)});class Ur extends Te{_parse(e){return this._getType(e)===oe.undefined?gn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ur.create=(t,e)=>new Ur({innerType:t,typeName:pe.ZodOptional,..._e(e)});class wi extends Te{_parse(e){return this._getType(e)===oe.null?gn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wi.create=(t,e)=>new wi({innerType:t,typeName:pe.ZodNullable,..._e(e)});class Kc extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Kc.create=(t,e)=>new Kc({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class Gc extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return zc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gc.create=(t,e)=>new Gc({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class Rf extends Te{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}Rf.create=t=>new Rf({typeName:pe.ZodNaN,..._e(t)});const Kz=Symbol("zod_brand");class px extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _u extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),sa(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new _u({in:e,out:n,typeName:pe.ZodPipeline})}}class Xc extends Te{_parse(e){const n=this._def.innerType._parse(e),r=s=>(wo(s)&&(s.value=Object.freeze(s.value)),s);return zc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Xc.create=(t,e)=>new Xc({innerType:t,typeName:pe.ZodReadonly,..._e(e)});function db(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function gx(t,e={},n){return t?Qa.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(o=>{if(!o){const a=db(e,r),l=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:l})}});if(!i){const o=db(e,r),a=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:a})}}):Qa.create()}const Gz={object:dt.lazycreate};var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const Xz=(t,e={message:`Input not instance of ${t.name}`})=>gx(n=>n instanceof t,e),we=gr.create,Wr=xi.create,Zz=Rf.create,Jz=vi.create,yx=Vc.create,e3=_o.create,t3=Df.create,n3=$c.create,QE=Bc.create,If=Qa.create,r3=uo.create,s3=Ns.create,i3=Af.create,xx=vr.create,ks=dt.create,o3=dt.strictCreate,gs=Uc.create,a3=kh.create,l3=Wc.create,c3=qr.create,vx=Hc.create,u3=Of.create,d3=So.create,f3=xa.create,h3=Yc.create,m3=qc.create,p3=bi.create,g3=Qc.create,y3=Ka.create,fb=Nr.create,x3=Ur.create,v3=wi.create,b3=Nr.createWithPreprocess,w3=_u.create,_3=()=>we().optional(),S3=()=>Wr().optional(),N3=()=>yx().optional(),Ld={string:t=>gr.create({...t,coerce:!0}),number:t=>xi.create({...t,coerce:!0}),boolean:t=>Vc.create({...t,coerce:!0}),bigint:t=>vi.create({...t,coerce:!0}),date:t=>_o.create({...t,coerce:!0})},C3=me,k3=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Kz,DIRTY:sa,EMPTY_PATH:Tz,INVALID:me,NEVER:C3,OK:gn,ParseStatus:an,Schema:Te,ZodAny:Qa,ZodArray:vr,ZodBigInt:vi,ZodBoolean:Vc,ZodBranded:px,ZodCatch:Gc,ZodDate:_o,ZodDefault:Kc,ZodDiscriminatedUnion:kh,ZodEffects:Nr,ZodEnum:bi,ZodError:zn,get ZodFirstPartyTypeKind(){return pe},ZodFunction:xa,ZodIntersection:Wc,ZodIssueCode:q,ZodLazy:Yc,ZodLiteral:qc,ZodMap:Of,ZodNaN:Rf,ZodNativeEnum:Qc,ZodNever:Ns,ZodNull:Bc,ZodNullable:wi,ZodNumber:xi,ZodObject:dt,ZodOptional:Ur,ZodParsedType:oe,ZodPipeline:_u,ZodPromise:Ka,ZodReadonly:Xc,ZodRecord:Hc,ZodSchema:Te,ZodSet:So,ZodString:gr,ZodSymbol:Df,ZodTransformer:Nr,ZodTuple:qr,ZodType:Te,ZodUndefined:$c,ZodUnion:Uc,ZodUnknown:uo,ZodVoid:Af,addIssueToContext:te,any:If,array:xx,bigint:Jz,boolean:yx,coerce:Ld,custom:gx,date:e3,datetimeRegex:YE,defaultErrorMap:qa,discriminatedUnion:a3,effect:fb,enum:p3,function:f3,getErrorMap:Ef,getParsedType:is,instanceof:Xz,intersection:l3,isAborted:yg,isAsync:zc,isDirty:xg,isValid:wo,late:Gz,lazy:h3,literal:m3,makeIssue:Mf,map:u3,nan:Zz,nativeEnum:g3,never:s3,null:QE,nullable:v3,number:Wr,object:ks,get objectUtil(){return gg},oboolean:N3,onumber:S3,optional:x3,ostring:_3,pipeline:w3,preprocess:b3,promise:y3,quotelessJson:Cz,record:vx,set:d3,setErrorMap:kz,strictObject:o3,string:we,symbol:t3,transformer:fb,tuple:c3,undefined:n3,union:gs,unknown:r3,get util(){return Re},void:i3},Symbol.toStringTag,{value:"Module"})),ut={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function bt(t,e){return e.includes(t.columnType)}function T3(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const j3=gs([we(),Wr(),yx(),QE()]),P3=gs([j3,vx(If()),xx(If())]),E3=gx(t=>t instanceof Buffer);function KE(t,e){const n=(e==null?void 0:e.zodInstance)??k3,r=(e==null?void 0:e.coerce)??{};let s;return T3(t)&&(s=t.enumValues.length?n.enum(t.enumValues):n.string()),s||(bt(t,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):bt(t,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):bt(t,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=t.dimensions?s.length(t.dimensions):s):bt(t,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):bt(t,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):bt(t,["PgArray"])?(s=n.array(KE(t.baseColumn,n)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=n.array(n.any()):t.dataType==="number"?s=M3(t,n,r):t.dataType==="bigint"?s=D3(t,n,r):t.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?s=A3(t,n,r):t.dataType==="json"?s=P3:t.dataType==="custom"?s=n.any():t.dataType==="buffer"&&(s=E3)),s||(s=n.any()),s}function M3(t,e,n){let r=t.getSQLType().includes("unsigned"),s,i,o=!1;bt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:ut.INT8_MIN,i=r?ut.INT8_UNSIGNED_MAX:ut.INT8_MAX,o=!0):bt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:ut.INT16_MIN,i=r?ut.INT16_UNSIGNED_MAX:ut.INT16_MAX,o=!0):bt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:ut.INT24_MIN,i=r?ut.INT24_UNSIGNED_MAX:ut.INT24_MAX,o=bt(t,["MySqlMediumInt","SingleStoreMediumInt"])):bt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:ut.INT32_MIN,i=r?ut.INT32_UNSIGNED_MAX:ut.INT32_MAX,o=!0):bt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:ut.INT48_MIN,i=r?ut.INT48_UNSIGNED_MAX:ut.INT48_MAX):bt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||bt(t,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):bt(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?e.coerce.number():e.number();return a=a.min(s).max(i),o?a.int():a}function D3(t,e,n){const r=t.getSQLType().includes("unsigned"),s=r?0n:ut.INT64_MIN,i=r?ut.INT64_UNSIGNED_MAX:ut.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function A3(t,e,n){if(bt(t,["PgUUID"]))return e.string().uuid();let r,s,i=!1;bt(t,["PgVarchar","SQLiteText"])?r=t.length:bt(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??ut.INT16_UNSIGNED_MAX:bt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=ut.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=ut.INT24_UNSIGNED_MAX:t.textType==="text"?r=ut.INT16_UNSIGNED_MAX:r=ut.INT8_UNSIGNED_MAX),bt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),bt(t,["PgBinaryVector"])&&(s=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=s?o.regex(s):o,r&&i?o.length(r):r?o.max(r):o}function GE(t){return fP(t)?X5(t):Z5(t)}function XE(t,e,n,r){const s={};for(const[i,o]of Object.entries(t)){if(!Ht(o,Ha)&&!Ht(o,Rt)&&!Ht(o,Rt.Aliased)&&typeof o=="object"){const f=fP(o)||G5(o)?GE(o):o;s[i]=XE(f,e[i]??{},n,r);continue}const a=e[i];if(a!==void 0&&typeof a!="function"){s[i]=a;continue}const l=Ht(o,Ha)?o:void 0,u=l?KE(l,r):If(),d=typeof a=="function"?a(u):u;n.never(l)||(s[i]=d,l&&(n.nullable(l)&&(s[i]=s[i].nullable()),n.optional(l)&&(s[i]=s[i].optional())))}return ks(s)}const O3={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},ir=(t,e)=>{const n=GE(t);return XE(n,{},O3)},Wn=Mn("users",{id:vn("id").primaryKey(),email:Ve("email").unique().notNull(),username:Ve("username").unique().notNull(),passwordHash:Ve("password_hash").notNull(),firstName:Ve("first_name"),lastName:Ve("last_name"),profileImageUrl:Ve("profile_image_url"),isEmailVerified:Ya("is_email_verified").default(!1),photosPin:Ve("photos_pin"),photosPinEnabled:Ya("photos_pin_enabled"),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),R3=Mn("user_profiles",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),gender:Ve("gender"),birthday:hx("birthday"),height:Ve("height"),weight:Ve("weight"),bodyType:Ve("body_type"),onboardingCompleted:Ya("onboarding_completed").default(!1),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),I3=Mn("user_goals",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),goalType:Ve("goal_type").notNull(),isActive:Ya("is_active").default(!0),createdAt:Je("created_at").defaultNow()}),F3=Mn("progress_entries",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),goalType:Ve("goal_type").notNull(),progressValue:$t("progress_value").notNull(),entryDate:Je("entry_date").notNull().defaultNow(),createdAt:Je("created_at").defaultNow()}),ZE=Mn("goal_targets",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),goalType:Ve("goal_type",{length:100}).notNull(),goalName:Ve("goal_name",{length:255}).notNull(),targetValuePrimary:uc("target_value_primary",{precision:10,scale:2}).notNull(),targetUnitPrimary:Ve("target_unit_primary",{length:50}).notNull(),targetValueSecondary:uc("target_value_secondary",{precision:10,scale:2}),targetUnitSecondary:Ve("target_unit_secondary",{length:50}),isActive:Ya("is_active").default(!0),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()}),L3=Mn("goal_progress",{id:vn("id").primaryKey(),goalTargetId:$t("goal_target_id").notNull().references(()=>ZE.id),userId:$t("user_id").notNull().references(()=>Wn.id),progressDate:hx("progress_date").notNull(),actualValuePrimary:uc("actual_value_primary",{precision:10,scale:2}).notNull(),actualValueSecondary:uc("actual_value_secondary",{precision:10,scale:2}),percentageAchieved:uc("percentage_achieved",{precision:5,scale:2}),createdAt:Je("created_at").defaultNow()}),z3=Mn("photos",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),filename:Ve("filename").notNull(),originalName:Ve("original_name").notNull(),mimeType:Ve("mime_type").notNull(),size:$t("size").notNull(),imagePath:Ve("image_path").notNull(),thumbnailPath:Ve("thumbnail_path").notNull(),bucketPath:Ve("bucket_path").notNull(),date:Je("date").notNull(),uploadDate:Je("upload_date").defaultNow()});Mn("user_sessions",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),tokenHash:Ve("token_hash").notNull(),expiresAt:Je("expires_at").notNull(),createdAt:Je("created_at").defaultNow()});const V3=Mn("metrics",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),date:Je("date").notNull(),weight:ps("weight",{precision:5,scale:2}),customFields:KP("custom_fields").$type().default({}),createdAt:Je("created_at").defaultNow()});ir(V3).omit({id:!0,createdAt:!0});const $3=Mn("custom_metric_fields",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),fieldName:Ve("field_name").notNull(),unit:Ve("unit").notNull(),createdAt:Je("created_at").defaultNow()});ir($3).omit({id:!0,createdAt:!0});const B3=Mn("activities",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),activityType:Ve("activity_type").notNull(),startTime:Je("start_time").notNull(),endTime:Je("end_time").notNull(),durationMinutes:$t("duration_minutes"),date:Je("date").notNull(),location:Ve("location"),notes:mx("notes"),createdAt:Je("created_at").defaultNow()});ir(B3).omit({id:!0,createdAt:!0,location:!0,notes:!0});const U3=Mn("custom_activities",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),name:Ve("name").notNull(),category:Ve("category").notNull().default("STRAIN"),icon:Ve("icon").default("fa-dumbbell"),createdAt:Je("created_at").defaultNow()});ir(U3).omit({id:!0,createdAt:!0});const W3=Mn("macros",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id),description:mx("description").notNull(),protein:ps("protein",{precision:5,scale:1}).notNull().$type(),fats:ps("fats",{precision:5,scale:1}).notNull().$type(),carbs:ps("carbs",{precision:5,scale:1}).notNull().$type(),date:Je("date").notNull(),createdAt:Je("created_at").defaultNow()});ir(W3).omit({id:!0,createdAt:!0}).extend({protein:gs([we(),Wr()]).transform(t=>String(t)),fats:gs([we(),Wr()]).transform(t=>String(t)),carbs:gs([we(),Wr()]).transform(t=>String(t))});const H3=Mn("macro_targets",{id:vn("id").primaryKey(),userId:$t("user_id").notNull().references(()=>Wn.id).unique(),proteinTarget:ps("protein_target",{precision:5,scale:1}).notNull().default("0").$type(),fatsTarget:ps("fats_target",{precision:5,scale:1}).notNull().default("0").$type(),carbsTarget:ps("carbs_target",{precision:5,scale:1}).notNull().default("0").$type(),createdAt:Je("created_at").defaultNow(),updatedAt:Je("updated_at").defaultNow()});ir(H3).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({proteinTarget:gs([we(),Wr()]).transform(t=>String(t)),fatsTarget:gs([we(),Wr()]).transform(t=>String(t)),carbsTarget:gs([we(),Wr()]).transform(t=>String(t))});ir(R3).omit({id:!0,createdAt:!0,updatedAt:!0});ir(I3).omit({id:!0,createdAt:!0});ir(F3).omit({id:!0,createdAt:!0});ir(z3).omit({id:!0,uploadDate:!0});ir(ZE).omit({id:!0,createdAt:!0,updatedAt:!0});ir(L3).omit({id:!0,createdAt:!0});const Y3=ks({usernameOrEmail:we().min(1,"Username or email is required"),password:we().min(6,"Password must be at least 6 characters")}),q3=ks({username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),password:we().min(6,"Password must be at least 6 characters"),firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required")});ks({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional(),goals:xx(we()).min(1,"Please select at least one goal"),progress:vx(we(),Wr().min(0).max(100))});function Q3({onToggleMode:t}){const{toast:e}=Xt(),n=Un(),r=b.useRef(null),[s,i]=b.useState("text"),{register:o,handleSubmit:a,formState:{errors:l}}=fl({resolver:hl(Y3)}),u=()=>{setTimeout(()=>{i("password")},100)},d=Ft({mutationFn:async m=>await Ue("POST","/api/login",m),onSuccess:async m=>{localStorage.setItem("authToken",m.token),e({title:"Welcome back!",description:"You have been logged in successfully."});try{const x=await Ue("GET","/api/user");n.setQueryData(["/api/user"],x),console.log("Login successful, user data updated:",x)}catch(x){console.error("Failed to fetch user data after login:",x),window.location.reload()}},onError:m=>{e({title:"Login Failed",description:m.message||"Invalid credentials. Please try again.",variant:"destructive"})}}),f=m=>{d.mutate(m)},[,h]=Et();return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(de,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Welcome back!"})]}),c.jsxs("form",{onSubmit:a(f),className:"space-y-6",autoComplete:"off","data-form-type":"login",noValidate:!0,"data-webkit-autofill":"off","data-password-manager":"off","data-1p-ignore":"true",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"login-username",children:"Username or Email"}),c.jsx(ke,{id:"login-username",name:"username",type:"text",...o("usernameOrEmail"),placeholder:"Enter your username or email",className:"mt-2",autoComplete:"off",inputMode:"text","data-lpignore":"true","data-form-type":"other",spellCheck:"false",autoCapitalize:"none",autoCorrect:"off","data-webkit-autofill":"off","data-1p-ignore":"true"}),l.usernameOrEmail&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.usernameOrEmail.message})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"login-password",children:"Password"}),c.jsx("input",{type:"password",autoComplete:"new-password",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none"},tabIndex:-1,"aria-hidden":"true"}),c.jsx(ke,{ref:r,id:"login-password",name:"password",type:s,placeholder:"Enter your password",className:"mt-2",spellCheck:"false",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off","data-lpignore":"true","data-form-type":"other","data-webkit-autofill":"off","data-1p-ignore":"true","data-password-generator":"off","data-password-manager":"off",onFocus:u,...o("password")}),l.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.password.message})]}),c.jsx(K,{type:"submit",disabled:d.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:d.isPending?"Signing In...":"Sign In"})]}),c.jsxs("div",{className:"mt-6 text-center space-y-3",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Create Account"})]}),c.jsx("p",{className:"text-sm",children:c.jsx("button",{onClick:()=>h("/forgot-password"),className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Forgot Password?"})})]})]})})})}function K3({onToggleMode:t}){const{toast:e}=Xt(),n=Un(),{register:r,handleSubmit:s,formState:{errors:i}}=fl({resolver:hl(q3)}),o=Ft({mutationFn:async l=>await Ue("POST","/api/register",l),onSuccess:async l=>{localStorage.setItem("authToken",l.token),e({title:"Account Created!",description:"Welcome to Journey! Let's set up your profile."});try{const u=await Ue("GET","/api/user");n.setQueryData(["/api/user"],u),console.log("Registration successful, user data updated:",u)}catch(u){console.error("Failed to fetch user data after registration:",u),window.location.reload()}},onError:l=>{e({title:"Registration Failed",description:l.message||"Failed to create account. Please try again.",variant:"destructive"})}}),a=l=>{o.mutate(l)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(de,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Create your account"})]}),c.jsxs("form",{onSubmit:s(a),className:"space-y-6",autoComplete:"on","data-form-type":"register",children:[c.jsx("input",{type:"hidden",name:"signup-form",value:"true"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"firstName",children:"First Name"}),c.jsx(ke,{id:"firstName",name:"given-name",...r("firstName"),placeholder:"First name",className:"mt-2",autoComplete:"given-name","data-form-type":"register"}),i.firstName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.firstName.message})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"lastName",children:"Last Name"}),c.jsx(ke,{id:"lastName",name:"family-name",...r("lastName"),placeholder:"Last name",className:"mt-2",autoComplete:"family-name","data-form-type":"register"}),i.lastName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"register-username",children:"Username"}),c.jsx(ke,{id:"register-username",name:"username",...r("username"),placeholder:"Choose a unique username",className:"mt-2",autoComplete:"username","data-form-type":"register"}),i.username&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.username.message})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"register-email",children:"Email"}),c.jsx(ke,{id:"register-email",name:"email",type:"email",...r("email"),placeholder:"Enter your email address",className:"mt-2",autoComplete:"email","data-form-type":"register"}),i.email&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.email.message})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"register-password",children:"Password"}),c.jsx(ke,{id:"register-password",name:"password",type:"password",...r("password"),placeholder:"Create a secure password",className:"mt-2",autoComplete:"new-password",autoCorrect:"off",spellCheck:"false",autoCapitalize:"none","data-form-type":"register","data-webkit-autofill":"off","data-1p-ignore":"true"}),i.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.password.message})]}),c.jsx(K,{type:"submit",disabled:o.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:o.isPending?"Creating Account...":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Sign In"})]})})]})})})}function G3(){const[t,e]=b.useState(!0),n=()=>{e(!t)};return t?c.jsx(Q3,{onToggleMode:n}):c.jsx(K3,{onToggleMode:n})}var jm="focusScope.autoFocusOnMount",Pm="focusScope.autoFocusOnUnmount",hb={bubbles:!1,cancelable:!0},X3="FocusScope",bx=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=b.useState(null),u=wr(s),d=wr(i),f=b.useRef(null),h=We(e,p=>l(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let p=function(w){if(m.paused||!a)return;const _=w.target;a.contains(_)?f.current=_:Is(f.current,{select:!0})},v=function(w){if(m.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Is(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Is(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const g=new MutationObserver(y);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),g.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){pb.add(m);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(jm,hb);a.addEventListener(jm,u),a.dispatchEvent(y),y.defaultPrevented||(Z3(rV(JE(a)),{select:!0}),document.activeElement===p&&Is(a))}return()=>{a.removeEventListener(jm,u),setTimeout(()=>{const y=new CustomEvent(Pm,hb);a.addEventListener(Pm,d),a.dispatchEvent(y),y.defaultPrevented||Is(p??document.body,{select:!0}),a.removeEventListener(Pm,d),pb.remove(m)},0)}}},[a,u,d,m]);const x=b.useCallback(p=>{if(!n&&!r||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const g=p.currentTarget,[w,_]=J3(g);w&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&Is(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&Is(_,{select:!0})):y===g&&p.preventDefault()}},[n,r,m.paused]);return c.jsx(je.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});bx.displayName=X3;function Z3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Is(r,{select:e}),document.activeElement!==n)return}function J3(t){const e=JE(t),n=mb(e,t),r=mb(e.reverse(),t);return[n,r]}function JE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mb(t,e){for(const n of t)if(!eV(n,{upTo:e}))return n}function eV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tV(t){return t instanceof HTMLInputElement&&"select"in t}function Is(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&tV(t)&&e&&t.select()}}var pb=nV();function nV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=gb(t,e),t.unshift(e)},remove(e){var n;t=gb(t,e),(n=t[0])==null||n.resume()}}}function gb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function rV(t){return t.filter(e=>e.tagName!=="A")}var Em=0;function eM(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yb()),document.body.insertAdjacentElement("beforeend",t[1]??yb()),Em++,()=>{Em===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Em--}},[])}function yb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rr=function(){return Rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rr.apply(this,arguments)};function tM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function sV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zd="right-scroll-bar-position",Vd="width-before-scroll-bar",iV="with-scroll-bars-hidden",oV="--removed-body-scroll-bar-size";function Mm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aV(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var lV=typeof window<"u"?b.useLayoutEffect:b.useEffect,xb=new WeakMap;function cV(t,e){var n=aV(null,function(r){return t.forEach(function(s){return Mm(s,r)})});return lV(function(){var r=xb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Mm(a,null)}),i.forEach(function(a){s.has(a)||Mm(a,o)})}xb.set(n,t)},[t]),n}function uV(t){return t}function dV(t,e){e===void 0&&(e=uV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function fV(t){t===void 0&&(t={});var e=dV(null);return e.options=Rr({async:!0,ssr:!1},t),e}var nM=function(t){var e=t.sideCar,n=tM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Rr({},n))};nM.isSideCarExport=!0;function hV(t,e){return t.useMedium(e),nM}var rM=fV(),Dm=function(){},Th=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Dm,onWheelCapture:Dm,onTouchMoveCapture:Dm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,x=t.noIsolation,p=t.inert,v=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,w=t.gapMode,_=tM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=cV([n,e]),T=Rr(Rr({},_),s);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:rM,removeScrollBar:u,shards:f,noRelative:m,noIsolation:x,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?b.cloneElement(b.Children.only(a),Rr(Rr({},T),{ref:k})):b.createElement(g,Rr({},T,{className:l,ref:k}),a))});Th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Th.classNames={fullWidth:Vd,zeroRight:zd};var mV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=mV();return e&&t.setAttribute("nonce",e),t}function gV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pV())&&(gV(e,n),yV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vV=function(){var t=xV();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},sM=function(){var t=vV(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},bV={left:0,top:0,right:0,gap:0},Am=function(t){return parseInt(t||"",10)||0},wV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Am(n),Am(r),Am(s)]},_V=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bV;var e=wV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},SV=sM(),va="data-scroll-locked",NV=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(iV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(va,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vd," .").concat(Vd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(va,`] {
    `).concat(oV,": ").concat(a,`px;
  }
`)},vb=function(){var t=parseInt(document.body.getAttribute(va)||"0",10);return isFinite(t)?t:0},CV=function(){b.useEffect(function(){return document.body.setAttribute(va,(vb()+1).toString()),function(){var t=vb()-1;t<=0?document.body.removeAttribute(va):document.body.setAttribute(va,t.toString())}},[])},kV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;CV();var i=b.useMemo(function(){return _V(s)},[s]);return b.createElement(SV,{styles:NV(i,!e,s,n?"":"!important")})},bg=!1;if(typeof window<"u")try{var Zu=Object.defineProperty({},"passive",{get:function(){return bg=!0,!0}});window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{bg=!1}var zo=bg?{passive:!1}:!1,TV=function(t){return t.tagName==="TEXTAREA"},iM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!TV(t)&&n[e]==="visible")},jV=function(t){return iM(t,"overflowY")},PV=function(t){return iM(t,"overflowX")},bb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=oM(t,r);if(s){var i=aM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},MV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},oM=function(t,e){return t==="v"?jV(e):PV(e)},aM=function(t,e){return t==="v"?EV(e):MV(e)},DV=function(t,e){return t==="h"&&e==="rtl"?-1:1},AV=function(t,e,n,r,s){var i=DV(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{if(!a)break;var m=aM(t,a),x=m[0],p=m[1],v=m[2],y=p-v-i*x;(x||y)&&oM(t,a)&&(f+=y,h+=x);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Ju=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},wb=function(t){return[t.deltaX,t.deltaY]},_b=function(t){return t&&"current"in t?t.current:t},OV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},RV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IV=0,Vo=[];function FV(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(IV++)[0],i=b.useState(sM)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=sV([t.lockRef.current],(t.shards||[]).map(_b),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Ju(p),g=n.current,w="deltaX"in p?p.deltaX:g[0]-y[0],_="deltaY"in p?p.deltaY:g[1]-y[1],S,k=p.target,T=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&T==="h"&&k.type==="range")return!1;var C=bb(T,k);if(!C)return!0;if(C?S=T:(S=T==="v"?"h":"v",C=bb(T,k)),!C)return!1;if(!r.current&&"changedTouches"in p&&(w||_)&&(r.current=S),!S)return!0;var M=r.current||S;return AV(M,v,p,M==="h"?w:_)},[]),l=b.useCallback(function(p){var v=p;if(!(!Vo.length||Vo[Vo.length-1]!==i)){var y="deltaY"in v?wb(v):Ju(v),g=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&OV(S.delta,y)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(_b).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?a(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(p,v,y,g){var w={name:p,delta:v,target:y,should:g,shadowParent:LV(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=b.useCallback(function(p){n.current=Ju(p),r.current=void 0},[]),f=b.useCallback(function(p){u(p.type,wb(p),p.target,a(p,t.lockRef.current))},[]),h=b.useCallback(function(p){u(p.type,Ju(p),p.target,a(p,t.lockRef.current))},[]);b.useEffect(function(){return Vo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,zo),document.addEventListener("touchmove",l,zo),document.addEventListener("touchstart",d,zo),function(){Vo=Vo.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,zo),document.removeEventListener("touchmove",l,zo),document.removeEventListener("touchstart",d,zo)}},[]);var m=t.removeScrollBar,x=t.inert;return b.createElement(b.Fragment,null,x?b.createElement(i,{styles:RV(s)}):null,m?b.createElement(kV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function LV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zV=hV(rM,FV);var wx=b.forwardRef(function(t,e){return b.createElement(Th,Rr({},t,{ref:e,sideCar:zV}))});wx.classNames=Th.classNames;var VV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$o=new WeakMap,ed=new WeakMap,td={},Om=0,lM=function(t){return t&&(t.host||lM(t.parentNode))},$V=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},BV=function(t,e,n,r){var s=$V(e,Array.isArray(t)?t:[t]);td[n]||(td[n]=new WeakMap);var i=td[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",p=($o.get(h)||0)+1,v=(i.get(h)||0)+1;$o.set(h,p),i.set(h,v),o.push(h),p===1&&x&&ed.set(h,!0),v===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),Om++,function(){o.forEach(function(f){var h=$o.get(f)-1,m=i.get(f)-1;$o.set(f,h),i.set(f,m),h||(ed.has(f)||f.removeAttribute(r),ed.delete(f)),m||f.removeAttribute(n)}),Om--,Om||($o=new WeakMap,$o=new WeakMap,ed=new WeakMap,td={})}},cM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=VV(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),BV(r,s,n,"aria-hidden")):function(){return null}},jh="Dialog",[uM,G7]=Ao(jh),[UV,Cr]=uM(jh),dM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=b.useRef(null),l=b.useRef(null),[u,d]=Ic({prop:r,defaultProp:s??!1,onChange:i,caller:jh});return c.jsx(UV,{scope:e,triggerRef:a,contentRef:l,contentId:ma(),titleId:ma(),descriptionId:ma(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};dM.displayName=jh;var fM="DialogTrigger",hM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(fM,n),i=We(e,s.triggerRef);return c.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nx(s.open),...r,ref:i,onClick:ye(t.onClick,s.onOpenToggle)})});hM.displayName=fM;var _x="DialogPortal",[WV,mM]=uM(_x,{forceMount:void 0}),pM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Cr(_x,e);return c.jsx(WV,{scope:e,forceMount:n,children:b.Children.map(r,o=>c.jsx(ll,{present:n||i.open,children:c.jsx(ph,{asChild:!0,container:s,children:o})}))})};pM.displayName=_x;var Ff="DialogOverlay",gM=b.forwardRef((t,e)=>{const n=mM(Ff,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cr(Ff,t.__scopeDialog);return i.modal?c.jsx(ll,{present:r||i.open,children:c.jsx(YV,{...s,ref:e})}):null});gM.displayName=Ff;var HV=Ba("DialogOverlay.RemoveScroll"),YV=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(Ff,n);return c.jsx(wx,{as:HV,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(je.div,{"data-state":Nx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),No="DialogContent",yM=b.forwardRef((t,e)=>{const n=mM(No,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cr(No,t.__scopeDialog);return c.jsx(ll,{present:r||i.open,children:i.modal?c.jsx(qV,{...s,ref:e}):c.jsx(QV,{...s,ref:e})})});yM.displayName=No;var qV=b.forwardRef((t,e)=>{const n=Cr(No,t.__scopeDialog),r=b.useRef(null),s=We(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return cM(i)},[]),c.jsx(xM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,i=>i.preventDefault())})}),QV=b.forwardRef((t,e)=>{const n=Cr(No,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return c.jsx(xM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xM=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Cr(No,n),l=b.useRef(null),u=We(e,l);return eM(),c.jsxs(c.Fragment,{children:[c.jsx(bx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(yu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Nx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(KV,{titleId:a.titleId}),c.jsx(XV,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Sx="DialogTitle",vM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(Sx,n);return c.jsx(je.h2,{id:s.titleId,...r,ref:e})});vM.displayName=Sx;var bM="DialogDescription",wM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(bM,n);return c.jsx(je.p,{id:s.descriptionId,...r,ref:e})});wM.displayName=bM;var _M="DialogClose",SM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(_M,n);return c.jsx(je.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>s.onOpenChange(!1))})});SM.displayName=_M;function Nx(t){return t?"open":"closed"}var NM="DialogTitleWarning",[X7,CM]=WI(NM,{contentName:No,titleName:Sx,docsSlug:"dialog"}),KV=({titleId:t})=>{const e=CM(NM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},GV="DialogDescriptionWarning",XV=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CM(GV).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ZV=dM,JV=hM,e$=pM,kM=gM,TM=yM,jM=vM,PM=wM,t$=SM;const ji=ZV,EM=JV,n$=e$,MM=b.forwardRef(({className:t,...e},n)=>c.jsx(kM,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));MM.displayName=kM.displayName;const Ts=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(n$,{children:[c.jsx(MM,{}),c.jsxs(TM,{ref:r,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(t$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Yy,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ts.displayName=TM.displayName;const Pi=({className:t,...e})=>c.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Pi.displayName="DialogHeader";const Ei=b.forwardRef(({className:t,...e},n)=>c.jsx(jM,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Ei.displayName=jM.displayName;const Cx=b.forwardRef(({className:t,...e},n)=>c.jsx(PM,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));Cx.displayName=PM.displayName;const r$={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-20 h-20 text-xl",xl:"w-32 h-32 text-3xl"};function s$(t,e){var s,i;const n=((s=t==null?void 0:t.charAt(0))==null?void 0:s.toUpperCase())||"",r=((i=e==null?void 0:e.charAt(0))==null?void 0:i.toUpperCase())||"";return n+r||"U"}function Ph({firstName:t,lastName:e,profileImageUrl:n,size:r="md",onImageUpload:s,editable:i=!1}){const[o,a]=b.useState(null),[l,u]=b.useState({x:0,y:0}),[d,f]=b.useState(1),[h,m]=b.useState(!1),[x,p]=b.useState(!1),[v,y]=b.useState(!1),[g,w]=b.useState(null),[_,S]=b.useState(null),k=b.useRef(null),T=b.useRef(null),C=s$(t,e),M=r$[r],A=D=>{a(D),u({x:0,y:0}),f(1),m(!0)},F=()=>{o&&s&&(s(o),m(!1),a(null))},O=D=>{const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},V=D=>{D.preventDefault(),D.touches.length===1?(y(!0),w({x:D.touches[0].clientX,y:D.touches[0].clientY})):D.touches.length===2&&(y(!1),S(O(D.touches)))},$=D=>{if(D.preventDefault(),D.touches.length===1&&v&&g){const W=D.touches[0].clientX-g.x,G=D.touches[0].clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.touches[0].clientX,y:D.touches[0].clientY})}else if(D.touches.length===2&&_){const W=O(D.touches),G=W/_;f(ne=>Math.max(.5,Math.min(3,ne*G))),S(W)}},I=D=>{D.preventDefault(),y(!1),w(null),S(null)},z=D=>{y(!0),w({x:D.clientX,y:D.clientY})},B=D=>{if(v&&g){const W=D.clientX-g.x,G=D.clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.clientX,y:D.clientY})}},j=()=>{y(!1),w(null)},R=D=>{D.preventDefault();const W=D.deltaY>0?.9:1.1;f(G=>Math.max(.5,Math.min(3,G*W)))};return c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:`${M} rounded-full flex items-center justify-center overflow-hidden`,children:n?c.jsx("img",{src:n,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-700 to-accent-300 shadow-lg ring-2 ring-black/30",children:c.jsx("span",{className:"font-semibold text-black text-lg",children:C})})}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=document.getElementById("avatar-photo-upload"))==null?void 0:D.click()},className:"text-sm text-center",children:"Choose a different picture"})}),c.jsx("input",{id:"avatar-photo-upload",type:"file",accept:"image/*",onChange:D=>{var G;const W=(G=D.target.files)==null?void 0:G[0];W&&A(W)},className:"hidden"}),c.jsx(ji,{open:h,onOpenChange:m,children:c.jsxs(Ts,{className:"max-w-md",children:[c.jsxs(Pi,{children:[c.jsx(Ei,{className:"text-center",children:"Adjust Your Photo"}),c.jsx(Cx,{className:"sr-only",children:"Use touch gestures to adjust your profile photo"})]}),o&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{ref:T,className:"relative w-64 h-64 mx-auto bg-gray-100 rounded-lg overflow-hidden touch-none",onTouchStart:V,onTouchMove:$,onTouchEnd:I,onMouseDown:z,onMouseMove:B,onMouseUp:j,onMouseLeave:j,onWheel:R,children:[c.jsx("img",{ref:k,src:URL.createObjectURL(o),alt:"Preview",className:"w-full h-full object-cover select-none",style:{transform:`scale(${d}) translate(${l.x}px, ${l.y}px)`},draggable:!1}),c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsxs("svg",{className:"w-full h-full",children:[c.jsx("defs",{children:c.jsxs("mask",{id:"circleMask",children:[c.jsx("rect",{width:"100%",height:"100%",fill:"white"}),c.jsx("circle",{cx:"50%",cy:"50%",r:"100",fill:"black"})]})}),c.jsx("rect",{width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.5)",mask:"url(#circleMask)"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-[200px] h-[200px] rounded-full border-2 border-white shadow-lg"})})]})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Adjust image as needed"}),c.jsxs("div",{className:"flex space-x-2 pt-4",children:[c.jsx(K,{onClick:()=>m(!1),variant:"outline",className:"flex-1 text-center",children:"Cancel"}),c.jsx(K,{onClick:F,className:"flex-1 text-center bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500",children:"Save Photo"})]})]})]})})]})]})}function i$({trigger:t,children:e,className:n=""}){const[r,s]=b.useState(!1),i=b.useRef(null),o=b.useRef(null);return b.useEffect(()=>{function a(l){i.current&&!i.current.contains(l.target)&&o.current&&!o.current.contains(l.target)&&s(!1)}if(r)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[r]),c.jsxs("div",{className:"relative",children:[c.jsx("div",{ref:o,onClick:()=>s(!r),children:t}),r&&c.jsx("div",{ref:i,className:`absolute top-full left-0 mt-2 z-50 bg-white rounded-md shadow-lg border min-w-[200px] ${n}`,style:{transform:"translateZ(0)",willChange:"auto"},children:e})]})}const o$=[{label:"Dashboard",path:"/",icon:"fas fa-home"},{label:"Progress",path:"/progress",icon:"fas fa-chart-line"},{label:"Goals",path:"/goals",icon:"fas fa-target"},{label:"Photos",path:"/photos",icon:"fas fa-camera"},{label:"Workouts",path:"/workouts",icon:"fas fa-dumbbell"},{label:"Nutrition",path:"/nutrition",icon:"fas fa-apple-alt"},{label:"Sleep",path:"/sleep",icon:"fas fa-calculator"},{label:"Feedback",path:"/feedback",icon:"fas fa-comment"}];function a$(){const[t]=Et(),e=c.jsx(K,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"})]})});return c.jsx(i$,{trigger:e,className:"w-56",children:c.jsx("div",{className:"py-1",children:o$.map(n=>c.jsxs(fs,{href:n.path,className:`flex items-center space-x-3 px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 transition-colors ${t===n.path?"bg-primary-50 text-primary-600":"text-gray-700"}`,children:[c.jsx("i",{className:`${n.icon} w-4 h-4`}),c.jsx("span",{children:n.label})]},n.path))})})}function En({title:t,showBackButton:e=!1,onBack:n,showHomeButton:r=!1}={}){const{user:s}=Oo();return c.jsx("header",{className:`bg-white/75 backdrop-blur-sm shadow-lg border-0 px-4 fixed top-0 left-0 right-0 z-50 
      pt-[calc(env(safe-area-inset-top)+0.75rem)] pb-3 min-h-[calc(env(safe-area-inset-top)+4rem)]`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[e?c.jsxs(K,{variant:"ghost",size:"sm",onClick:n||(()=>window.history.back()),className:"text-primary-600 hover:text-primary-700 hover:bg-primary-50/50 p-2 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-arrow-left text-lg"}),c.jsx("span",{children:"Back"})]}):c.jsx(a$,{}),c.jsx("h1",{className:"text-xl font-bold text-gray-800",children:t||"Journey"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[r&&c.jsx(fs,{href:"/",children:c.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-700 transition-colors",children:c.jsx("i",{className:"fas fa-home text-sm",style:{color:"#000000"}})})}),c.jsx(fs,{href:"/profile",children:c.jsx("div",{className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:c.jsx(Ph,{firstName:(s==null?void 0:s.firstName)||void 0,lastName:(s==null?void 0:s.lastName)||void 0,profileImageUrl:(s==null?void 0:s.profileImageUrl)||void 0,size:"sm"})})})]})]})})}function ue(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function tt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function pl(t,e){const n=ue(t);return isNaN(e)?tt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Su(t,e){const n=ue(t);if(isNaN(e))return tt(t,NaN);if(!e)return n;const r=n.getDate(),s=tt(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function Eh(t,e){const n=+ue(t);return tt(t,n+e)}const DM=6048e5,l$=864e5,Nu=6e4,Cu=36e5,c$=1e3;function u$(t,e){return Eh(t,e*Cu)}let d$={};function Ro(){return d$}function Qr(t,e){var a,l,u,d;const n=Ro(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ue(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ga(t){return Qr(t,{weekStartsOn:1})}function AM(t){const e=ue(t),n=e.getFullYear(),r=tt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ga(r),i=tt(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ga(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Xa(t){const e=ue(t);return e.setHours(0,0,0,0),e}function Lf(t){const e=ue(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function OM(t,e){const n=Xa(t),r=Xa(e),s=+n-Lf(n),i=+r-Lf(r);return Math.round((s-i)/l$)}function f$(t){const e=AM(t),n=tt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ga(n)}function h$(t,e){return Eh(t,e*Nu)}function m$(t,e){const n=e*3;return Su(t,n)}function p$(t,e){return Eh(t,e*1e3)}function g$(t,e){const n=e*7;return pl(t,n)}function y$(t,e){return Su(t,e*12)}function dc(t,e){const n=ue(t),r=ue(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function x$(t){return tt(t,Date.now())}function RM(t,e){const n=Xa(t),r=Xa(e);return+n==+r}function v$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function IM(t){if(!v$(t)&&typeof t!="number")return!1;const e=ue(t);return!isNaN(Number(e))}function b$(t,e){const n=ue(t),r=ue(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function w$(t,e){const n=ue(t),r=ue(e);return n.getFullYear()-r.getFullYear()}function FM(t,e){const n=ue(t),r=ue(e),s=Sb(n,r),i=Math.abs(OM(n,r));n.setDate(n.getDate()-s*i);const o=+(Sb(n,r)===-s),a=s*(i-o);return a===0?0:a}function Sb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function ku(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Mh(t,e){return+ue(t)-+ue(e)}function _$(t,e,n){const r=Mh(t,e)/Cu;return ku(n==null?void 0:n.roundingMethod)(r)}function S$(t,e,n){const r=Mh(t,e)/Nu;return ku(n==null?void 0:n.roundingMethod)(r)}function LM(t){const e=ue(t);return e.setHours(23,59,59,999),e}function kx(t){const e=ue(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function N$(t){const e=ue(t);return+LM(e)==+kx(e)}function zM(t,e){const n=ue(t),r=ue(e),s=dc(n,r),i=Math.abs(b$(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=dc(n,r)===-s;N$(ue(t))&&i===1&&dc(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function C$(t,e,n){const r=zM(t,e)/3;return ku(n==null?void 0:n.roundingMethod)(r)}function k$(t,e,n){const r=Mh(t,e)/1e3;return ku(n==null?void 0:n.roundingMethod)(r)}function T$(t,e,n){const r=FM(t,e)/7;return ku(n==null?void 0:n.roundingMethod)(r)}function j$(t,e){const n=ue(t),r=ue(e),s=dc(n,r),i=Math.abs(w$(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=dc(n,r)===-s,a=s*(i-+o);return a===0?0:a}function P$(t,e){const n=ue(t.start),r=ue(t.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(ue(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function E$(t){const e=ue(t);return e.setSeconds(0,0),e}function M$(t){const e=ue(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function VM(t){const e=ue(t);return e.setDate(1),e.setHours(0,0,0,0),e}function D$(t){const e=ue(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function $M(t){const e=ue(t),n=tt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function A$(t){const e=ue(t);return e.setMinutes(59,59,999),e}function O$(t,e){var a,l;const n=Ro(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=ue(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function R$(t){const e=ue(t);return e.setSeconds(59,999),e}function I$(t){const e=ue(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function F$(t){const e=ue(t);return e.setMilliseconds(999),e}const L$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},z$=(t,e,n)=>{let r;const s=L$[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Rm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const V$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},B$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U$={date:Rm({formats:V$,defaultWidth:"full"}),time:Rm({formats:$$,defaultWidth:"full"}),dateTime:Rm({formats:B$,defaultWidth:"full"})},W$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},H$=(t,e,n,r)=>W$[t];function Dl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Y$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},K$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z$=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},J$={ordinalNumber:Z$,era:Dl({values:Y$,defaultWidth:"wide"}),quarter:Dl({values:q$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Dl({values:Q$,defaultWidth:"wide"}),day:Dl({values:K$,defaultWidth:"wide"}),dayPeriod:Dl({values:G$,defaultWidth:"wide",formattingValues:X$,defaultFormattingWidth:"wide"})};function Al(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?tB(a,f=>f.test(o)):eB(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function eB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function tB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const rB=/^(\d+)(th|st|nd|rd)?/i,sB=/\d+/i,iB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oB={any:[/^b/i,/^(a|c)/i]},aB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lB={any:[/1/i,/2/i,/3/i,/4/i]},cB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pB={ordinalNumber:nB({matchPattern:rB,parsePattern:sB,valueCallback:t=>parseInt(t,10)}),era:Al({matchPatterns:iB,defaultMatchWidth:"wide",parsePatterns:oB,defaultParseWidth:"any"}),quarter:Al({matchPatterns:aB,defaultMatchWidth:"wide",parsePatterns:lB,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Al({matchPatterns:cB,defaultMatchWidth:"wide",parsePatterns:uB,defaultParseWidth:"any"}),day:Al({matchPatterns:dB,defaultMatchWidth:"wide",parsePatterns:fB,defaultParseWidth:"any"}),dayPeriod:Al({matchPatterns:hB,defaultMatchWidth:"any",parsePatterns:mB,defaultParseWidth:"any"})},BM={code:"en-US",formatDistance:z$,formatLong:U$,formatRelative:H$,localize:J$,match:pB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gB(t){const e=ue(t);return OM(e,$M(e))+1}function UM(t){const e=ue(t),n=+Ga(e)-+f$(e);return Math.round(n/DM)+1}function Tx(t,e){var d,f,h,m;const n=ue(t),r=n.getFullYear(),s=Ro(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=tt(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Qr(o,e),l=tt(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Qr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function yB(t,e){var a,l,u,d;const n=Ro(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Tx(t,e),i=tt(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Qr(i,e)}function WM(t,e){const n=ue(t),r=+Qr(n,e)-+yB(n,e);return Math.round(r/DM)+1}function Ke(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const As={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ke(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ke(n+1,2)},d(t,e){return Ke(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ke(t.getHours()%12||12,e.length)},H(t,e){return Ke(t.getHours(),e.length)},m(t,e){return Ke(t.getMinutes(),e.length)},s(t,e){return Ke(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ke(s,e.length)}},Bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return As.y(t,e)},Y:function(t,e,n,r){const s=Tx(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ke(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ke(i,e.length)},R:function(t,e){const n=AM(t);return Ke(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ke(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ke(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ke(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return As.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ke(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=WM(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ke(s,e.length)},I:function(t,e,n){const r=UM(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ke(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):As.d(t,e)},D:function(t,e,n){const r=gB(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ke(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ke(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ke(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ke(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Bo.noon:r===0?s=Bo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Bo.evening:r>=12?s=Bo.afternoon:r>=4?s=Bo.morning:s=Bo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return As.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):As.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ke(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ke(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):As.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):As.s(t,e)},S:function(t,e){return As.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return kb(r);case"XXXX":case"XX":return Ui(r);case"XXXXX":case"XXX":default:return Ui(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return kb(r);case"xxxx":case"xx":return Ui(r);case"xxxxx":case"xxx":default:return Ui(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Cb(r,":");case"OOOO":default:return"GMT"+Ui(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Cb(r,":");case"zzzz":default:return"GMT"+Ui(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ke(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ke(r,e.length)}};function Cb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Ke(i,2)}function kb(t,e){return t%60===0?(t>0?"-":"+")+Ke(Math.abs(t)/60,2):Ui(t,e)}function Ui(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ke(Math.trunc(r/60),2),i=Ke(r%60,2);return n+s+e+i}const Tb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},HM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xB=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Tb(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Tb(r,e)).replace("{{time}}",HM(s,e))},wg={p:HM,P:xB},vB=/^D+$/,bB=/^Y+$/,wB=["D","DD","YY","YYYY"];function YM(t){return vB.test(t)}function qM(t){return bB.test(t)}function _g(t,e,n){const r=_B(t,e,n);if(console.warn(r),wB.includes(t))throw new RangeError(r)}function _B(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const SB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CB=/^'([^]*?)'?$/,kB=/''/g,TB=/[a-zA-Z]/;function Be(t,e,n){var d,f,h,m,x,p,v,y;const r=Ro(),s=(n==null?void 0:n.locale)??r.locale??BM,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,a=ue(t);if(!IM(a))throw new RangeError("Invalid time value");let l=e.match(NB).map(g=>{const w=g[0];if(w==="p"||w==="P"){const _=wg[w];return _(g,s.formatLong)}return g}).join("").match(SB).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:jB(g)};if(Nb[w])return{isToken:!0,value:g};if(w.match(TB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&qM(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&YM(w))&&_g(w,e,String(t));const _=Nb[w[0]];return _(a,w,s.localize,u)}).join("")}function jB(t){const e=t.match(CB);return e?e[1].replace(kB,"'"):t}function PB(){return Object.assign({},Ro())}function EB(t){let n=ue(t).getDay();return n===0&&(n=7),n}function MB(t,e){const n=e instanceof Date?tt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const DB=10;class QM{constructor(){N(this,"subPriority",0)}validate(e,n){return!0}}class AB extends QM{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class OB extends QM{constructor(){super(...arguments);N(this,"priority",DB);N(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:tt(n,MB(n,Date))}}class He{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new AB(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class RB extends He{constructor(){super(...arguments);N(this,"priority",140);N(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const St={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ir={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Nt(t,e){return t&&{value:e(t.value),rest:t.rest}}function ht(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Fr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Cu+i*Nu+o*c$),rest:e.slice(n[0].length)}}function KM(t){return ht(St.anyDigitsSigned,t)}function vt(t,e){switch(t){case 1:return ht(St.singleDigit,e);case 2:return ht(St.twoDigits,e);case 3:return ht(St.threeDigits,e);case 4:return ht(St.fourDigits,e);default:return ht(new RegExp("^\\d{1,"+t+"}"),e)}}function zf(t,e){switch(t){case 1:return ht(St.singleDigitSigned,e);case 2:return ht(St.twoDigitsSigned,e);case 3:return ht(St.threeDigitsSigned,e);case 4:return ht(St.fourDigitsSigned,e);default:return ht(new RegExp("^-?\\d{1,"+t+"}"),e)}}function jx(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function GM(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function XM(t){return t%400===0||t%4===0&&t%100!==0}class IB extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Nt(vt(4,n),i);case"yo":return Nt(s.ordinalNumber(n,{unit:"year"}),i);default:return Nt(vt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=GM(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class FB extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Nt(vt(4,n),i);case"Yo":return Nt(s.ordinalNumber(n,{unit:"year"}),i);default:return Nt(vt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=Tx(n,i);if(s.isTwoDigitYear){const l=GM(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Qr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Qr(n,i)}}class LB extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return zf(r==="R"?4:r.length,n)}set(n,r,s){const i=tt(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Ga(i)}}class zB extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return zf(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class VB extends He{constructor(){super(...arguments);N(this,"priority",120);N(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return vt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class $B extends He{constructor(){super(...arguments);N(this,"priority",120);N(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return vt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class BB extends He{constructor(){super(...arguments);N(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);N(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return Nt(ht(St.month,n),i);case"MM":return Nt(vt(2,n),i);case"Mo":return Nt(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class UB extends He{constructor(){super(...arguments);N(this,"priority",110);N(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return Nt(ht(St.month,n),i);case"LL":return Nt(vt(2,n),i);case"Lo":return Nt(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function WB(t,e,n){const r=ue(t),s=WM(r,n)-e;return r.setDate(r.getDate()-s*7),r}class HB extends He{constructor(){super(...arguments);N(this,"priority",100);N(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return ht(St.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Qr(WB(n,s,i),i)}}function YB(t,e){const n=ue(t),r=UM(n)-e;return n.setDate(n.getDate()-r*7),n}class qB extends He{constructor(){super(...arguments);N(this,"priority",100);N(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return ht(St.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return Ga(YB(n,s))}}const QB=[31,28,31,30,31,30,31,31,30,31,30,31],KB=[31,29,31,30,31,30,31,31,30,31,30,31];class GB extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"subPriority",1);N(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return ht(St.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return vt(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=XM(s),o=n.getMonth();return i?r>=1&&r<=KB[o]:r>=1&&r<=QB[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class XB extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"subpriority",1);N(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return ht(St.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return vt(r.length,n)}}validate(n,r){const s=n.getFullYear();return XM(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Px(t,e,n){var f,h,m,x;const r=Ro(),s=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=ue(t),o=i.getDay(),l=(e%7+7)%7,u=7-s,d=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return pl(i,d)}class ZB extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Px(n,s,i),n.setHours(0,0,0,0),n}}class JB extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Nt(vt(r.length,n),o);case"eo":return Nt(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Px(n,s,i),n.setHours(0,0,0,0),n}}class e6 extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Nt(vt(r.length,n),o);case"co":return Nt(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Px(n,s,i),n.setHours(0,0,0,0),n}}function t6(t,e){const n=ue(t),r=EB(n),s=e-r;return pl(n,s)}class n6 extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return vt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Nt(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Nt(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Nt(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Nt(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=t6(n,s),n.setHours(0,0,0,0),n}}class r6 extends He{constructor(){super(...arguments);N(this,"priority",80);N(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(jx(s),0,0,0),n}}class s6 extends He{constructor(){super(...arguments);N(this,"priority",80);N(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(jx(s),0,0,0),n}}class i6 extends He{constructor(){super(...arguments);N(this,"priority",80);N(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(jx(s),0,0,0),n}}class o6 extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return ht(St.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class a6 extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return ht(St.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class l6 extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return ht(St.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class c6 extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return ht(St.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return vt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class u6 extends He{constructor(){super(...arguments);N(this,"priority",60);N(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return ht(St.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class d6 extends He{constructor(){super(...arguments);N(this,"priority",50);N(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return ht(St.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return vt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class f6 extends He{constructor(){super(...arguments);N(this,"priority",30);N(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Nt(vt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class h6 extends He{constructor(){super(...arguments);N(this,"priority",10);N(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Fr(Ir.basicOptionalMinutes,n);case"XX":return Fr(Ir.basic,n);case"XXXX":return Fr(Ir.basicOptionalSeconds,n);case"XXXXX":return Fr(Ir.extendedOptionalSeconds,n);case"XXX":default:return Fr(Ir.extended,n)}}set(n,r,s){return r.timestampIsSet?n:tt(n,n.getTime()-Lf(n)-s)}}class m6 extends He{constructor(){super(...arguments);N(this,"priority",10);N(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Fr(Ir.basicOptionalMinutes,n);case"xx":return Fr(Ir.basic,n);case"xxxx":return Fr(Ir.basicOptionalSeconds,n);case"xxxxx":return Fr(Ir.extendedOptionalSeconds,n);case"xxx":default:return Fr(Ir.extended,n)}}set(n,r,s){return r.timestampIsSet?n:tt(n,n.getTime()-Lf(n)-s)}}class p6 extends He{constructor(){super(...arguments);N(this,"priority",40);N(this,"incompatibleTokens","*")}parse(n){return KM(n)}set(n,r,s){return[tt(n,s*1e3),{timestampIsSet:!0}]}}class g6 extends He{constructor(){super(...arguments);N(this,"priority",20);N(this,"incompatibleTokens","*")}parse(n){return KM(n)}set(n,r,s){return[tt(n,s),{timestampIsSet:!0}]}}const y6={G:new RB,y:new IB,Y:new FB,R:new LB,u:new zB,Q:new VB,q:new $B,M:new BB,L:new UB,w:new HB,I:new qB,d:new GB,D:new XB,E:new ZB,e:new JB,c:new e6,i:new n6,a:new r6,b:new s6,B:new i6,h:new o6,H:new a6,K:new l6,k:new c6,m:new u6,s:new d6,S:new f6,X:new h6,x:new m6,t:new p6,T:new g6},x6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,v6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b6=/^'([^]*?)'?$/,w6=/''/g,_6=/\S/,S6=/[a-zA-Z]/;function N6(t,e,n,r){var p,v,y,g,w,_,S,k;const s=PB(),i=(r==null?void 0:r.locale)??s.locale??BM,o=(r==null?void 0:r.firstWeekContainsDate)??((v=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(y=s.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((_=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??s.weekStartsOn??((k=(S=s.locale)==null?void 0:S.options)==null?void 0:k.weekStartsOn)??0;if(e==="")return t===""?ue(n):tt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},u=[new OB],d=e.match(v6).map(T=>{const C=T[0];if(C in wg){const M=wg[C];return M(T,i.formatLong)}return T}).join("").match(x6),f=[];for(let T of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&qM(T)&&_g(T,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&YM(T)&&_g(T,e,t);const C=T[0],M=y6[C];if(M){const{incompatibleTokens:A}=M;if(Array.isArray(A)){const O=f.find(V=>A.includes(V.token)||V.token===C);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${T}\` at the same time`)}else if(M.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);f.push({token:C,fullToken:T});const F=M.run(t,T,i.match,l);if(!F)return tt(n,NaN);u.push(F.setter),t=F.rest}else{if(C.match(S6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(T==="''"?T="'":C==="'"&&(T=C6(T)),t.indexOf(T)===0)t=t.slice(T.length);else return tt(n,NaN)}}if(t.length>0&&_6.test(t))return tt(n,NaN);const h=u.map(T=>T.priority).sort((T,C)=>C-T).filter((T,C,M)=>M.indexOf(T)===C).map(T=>u.filter(C=>C.priority===T).sort((C,M)=>M.subPriority-C.subPriority)).map(T=>T[0]);let m=ue(n);if(isNaN(m.getTime()))return tt(n,NaN);const x={};for(const T of h){if(!T.validate(m,l))return tt(n,NaN);const C=T.set(m,x,l);Array.isArray(C)?(m=C[0],Object.assign(x,C[1])):m=C}return tt(n,m)}function C6(t){return t.match(b6)[1].replace(w6,"'")}function k6(t){const e=ue(t);return e.setMinutes(0,0,0),e}function T6(t,e){const n=ue(t),r=ue(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function j6(t){const e=ue(t);return e.setMilliseconds(0),e}function _i(t){return RM(t,x$(t))}function Zc(t,e){return pl(t,-e)}function Ex(t,e){const n=(e==null?void 0:e.additionalDigits)??2,r=D6(t);let s;if(r.date){const l=A6(r.date,n);s=O6(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=R6(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=I6(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+a)}const nd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},P6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,E6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,M6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function D6(t){const e={},n=t.split(nd.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],nd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(nd.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=nd.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function A6(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function O6(t,e){if(e===null)return new Date(NaN);const n=t.match(P6);if(!n)return new Date(NaN);const r=!!n[4],s=Ol(n[1]),i=Ol(n[2])-1,o=Ol(n[3]),a=Ol(n[4]),l=Ol(n[5])-1;if(r)return $6(e,a,l)?F6(e,a,l):new Date(NaN);{const u=new Date(0);return!z6(e,i,o)||!V6(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}}function Ol(t){return t?parseInt(t):1}function R6(t){const e=t.match(E6);if(!e)return NaN;const n=Im(e[1]),r=Im(e[2]),s=Im(e[3]);return B6(n,r,s)?n*Cu+r*Nu+s*1e3:NaN}function Im(t){return t&&parseFloat(t.replace(",","."))||0}function I6(t){if(t==="Z")return 0;const e=t.match(M6);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return U6(r,s)?n*(r*Cu+s*Nu):NaN}function F6(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const L6=[31,null,31,30,31,30,31,31,30,31,30,31];function ZM(t){return t%400===0||t%4===0&&t%100!==0}function z6(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(L6[e]||(ZM(t)?29:28))}function V6(t,e){return e>=1&&e<=(ZM(t)?366:365)}function $6(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function B6(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function U6(t,e){return e>=0&&e<=59}function W6(t,e){return Su(t,-1)}function H6({selectedDate:t,onDateSelect:e,onClose:n}){const[r,s]=b.useState(t),i=VM(r),o=kx(r),a=P$({start:i,end:o}),l=()=>{s(W6(r))},u=()=>{s(Su(r,1))},d=f=>{e(f),n==null||n()};return c.jsx(ce,{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-white/95 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:c.jsxs(de,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(K,{variant:"ghost",size:"sm",onClick:l,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-left text-sm"})}),c.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:Be(r,"MMMM yyyy").toUpperCase()}),c.jsx(K,{variant:"ghost",size:"sm",onClick:u,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-right text-sm"})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(f=>c.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:f},f))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:a.map(f=>c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>d(f),className:`
                h-8 w-8 p-0 text-sm font-normal
                ${RM(f,t)?"bg-gray-800 text-white hover:bg-gray-700":_i(f)?"text-yellow-600 font-semibold hover:bg-yellow-50":T6(f,r)?"text-gray-700 hover:bg-gray-100":"text-gray-400 hover:bg-gray-50"}
              `,children:Be(f,"d")},f.toISOString()))})]})})}function Y6({selectedDate:t,onDateChange:e}){const[n,r]=b.useState(!1),s=()=>{e(Zc(t,1))},i=()=>{e(pl(t,1))},o=()=>{r(!n)},a=l=>{e(l),r(!1)};return c.jsxs("div",{className:"relative mb-6",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:s,className:`bg-gray-800 text-white border-gray-800 
      hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center`,children:" prev "}),c.jsx(K,{variant:"outline",onClick:o,className:`
            px-6 py-2 font-semibold transition-all duration-200 min-w-[140px] h-10
            ${_i(t),"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg"}
          `,children:_i(t)?"TODAY":Be(t,"EEE, MMM d").toUpperCase()}),c.jsx(K,{variant:"outline",size:"sm",onClick:i,className:"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center",children:"next"})]}),n&&c.jsx(H6,{selectedDate:t,onDateSelect:a,onClose:()=>r(!1)})]})}function q6({selectedDate:t}){const[,e]=Et(),{data:n=[]}=on({queryKey:[`/api/activities/date/${Be(t,"yyyy-MM-dd")}`]}),r=[...n].sort((l,u)=>!l.startTime||!u.startTime?0:new Date(l.startTime).getTime()-new Date(u.startTime).getTime()),s=l=>{e(`/add-activity?edit=${l.id}&activityType=${encodeURIComponent(l.activityType||"")}&startTime=${encodeURIComponent(l.startTime||"")}&endTime=${encodeURIComponent(l.endTime||"")}&date=${encodeURIComponent(l.date||"")}`)},i=l=>{switch(l){case"walking":return"fa-walking";case"running":return"fa-running";case"cycling":return"fa-biking";case"sleep":return"fa-bed";default:return"fa-dumbbell"}},o=l=>{switch(l){case"walking":return"bg-blue-500";case"running":return"bg-green-500";case"cycling":return"bg-yellow-500";case"sleep":return"bg-purple-500";default:return"bg-gray-500"}},a=l=>{const u=typeof l=="string"?new Date(l):l;return Be(u,"h:mm a")};return c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Kt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Gt,{className:"text-xl font-bold text-gray-800",children:"My Day"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Tap activity to edit"})]})}),c.jsxs(de,{className:"pt-0",children:[c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsx("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 mb-3",children:c.jsx("span",{children:"ACTIVITIES"})}),r.length>0?r.map(l=>c.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3 cursor-pointer hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(l),children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`${o(l.activityType||"")} rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12`,children:c.jsx("i",{className:`fas ${i(l.activityType||"")} text-white text-sm`})}),c.jsx("div",{children:c.jsx("div",{className:"text-white font-medium",children:vL(l.activityType||"")})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-gray-300 text-sm font-medium",children:l.startTime&&l.endTime&&bL(sj(Be(new Date(l.startTime),"HH:mm"),Be(new Date(l.endTime),"HH:mm"),l.activityType))}),c.jsxs("div",{className:"text-right text-gray-300 text-sm",children:[c.jsx("div",{children:l.startTime&&a(l.startTime)}),c.jsx("div",{children:l.endTime&&a(l.endTime)})]})]})]},l.id)):c.jsxs("div",{className:"text-gray-500 text-center py-4",children:["No activities logged ",_i(t)?"today":"for this date"]})]}),c.jsx(fs,{href:`/add-activity?date=${Be(t,"yyyy-MM-dd")}`,onClick:()=>{const l=Be(t,"yyyy-MM-dd");console.log("🔗 MyDayBlock Link Debug - selectedDate:",t),console.log("🔗 MyDayBlock Link Debug - formatted date param:",l),console.log("🔗 MyDayBlock Link Debug - full URL:",`/add-activity?date=${l}`)},children:c.jsxs(K,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD ACTIVITY"]})})]})]})}const JM=b5,eD=b.createContext({}),Xi=({...t})=>c.jsx(eD.Provider,{value:{name:t.name},children:c.jsx(N5,{...t})}),Dh=()=>{const t=b.useContext(eD),e=b.useContext(tD),{getFieldState:n,formState:r}=Ch(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},tD=b.createContext({}),Js=b.forwardRef(({className:t,...e},n)=>{const r=b.useId();return c.jsx(tD.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:Oe("space-y-2",t),...e})})});Js.displayName="FormItem";const ei=b.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Dh();return c.jsx(ze,{ref:n,className:Oe(r&&"text-destructive",t),htmlFor:s,...e})});ei.displayName="FormLabel";const ti=b.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Dh();return c.jsx(_T,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});ti.displayName="FormControl";const Q6=b.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Dh();return c.jsx("p",{ref:n,id:r,className:Oe("text-sm text-muted-foreground",t),...e})});Q6.displayName="FormDescription";const ni=b.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Dh(),o=s?String((s==null?void 0:s.message)??""):e;return o?c.jsx("p",{ref:r,id:i,className:Oe("text-sm font-medium text-destructive",t),...n,children:o}):null});ni.displayName="FormMessage";const Fm={fat:9,protein:4,carbs:4};function nD(t,e,n){return t*Fm.protein+e*Fm.fat+n*Fm.carbs}function rD(t){const e=t.reduce((n,r)=>({protein:n.protein+(Number(r.protein)||0),fats:n.fats+(Number(r.fats)||0),carbs:n.carbs+(Number(r.carbs)||0)}),{protein:0,fats:0,carbs:0});return{...e,totalCalories:nD(e.protein,e.fats,e.carbs)}}function K6(t,e=7){const n=new Date,r=[];for(let s=e-1;s>=0;s--){const i=Zc(n,s),o=Be(i,"yyyy-MM-dd"),a=t[o]||[],l=rD(a);r.push({date:o,value:l.totalCalories})}return r}function G6(t,e){return{protein:e.proteinTarget>0?t.protein/e.proteinTarget*100:0,fats:e.fatsTarget>0?t.fats/e.fatsTarget*100:0,carbs:e.carbsTarget>0?t.carbs/e.carbsTarget*100:0}}const X6=ks({proteinTarget:Ld.number().min(0),fatsTarget:Ld.number().min(0),carbsTarget:Ld.number().min(0)});function Z6({selectedDate:t}){const e=Un(),{toast:n}=Xt(),[r,s]=b.useState(!1),{data:i=[]}=on({queryKey:[`/api/macros/date/${Be(t,"yyyy-MM-dd")}`]}),{data:o}=on({queryKey:["/api/macro-targets"]}),a=fl({resolver:hl(X6),defaultValues:{proteinTarget:o!=null&&o.proteinTarget?parseFloat(o.proteinTarget.toString()):0,fatsTarget:o!=null&&o.fatsTarget?parseFloat(o.fatsTarget.toString()):0,carbsTarget:o!=null&&o.carbsTarget?parseFloat(o.carbsTarget.toString()):0}});b.useEffect(()=>{o&&a.reset({proteinTarget:parseFloat(o.proteinTarget.toString()),fatsTarget:parseFloat(o.fatsTarget.toString()),carbsTarget:parseFloat(o.carbsTarget.toString())})},[o,a]);const l=Ft({mutationFn:async h=>await Ue("POST","/api/macro-targets",h),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/macro-targets"]}),s(!1),n({title:"Success",description:"Macro targets updated successfully"})},onError:()=>{n({title:"Error",description:"Failed to update macro targets",variant:"destructive"})}}),d=i.reduce((h,m)=>({protein:h.protein+parseFloat(m.protein.toString()),fats:h.fats+parseFloat(m.fats.toString()),carbs:h.carbs+parseFloat(m.carbs.toString())}),{protein:0,fats:0,carbs:0}),f=h=>{l.mutate(h)};return c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Kt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Gt,{className:"text-xl font-bold text-gray-800",children:"Macros"}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsxs(ji,{open:r,onOpenChange:s,children:[c.jsx(EM,{asChild:!0,children:c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("button",{className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:["Target: P:",o?parseFloat(o.proteinTarget.toString()):0,"g | F:",o?parseFloat(o.fatsTarget.toString()):0,"g | C:",o?parseFloat(o.carbsTarget.toString()):0,"g"]}),c.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Click to edit targets"})]})}),c.jsxs(Ts,{className:"sm:max-w-[425px] bg-white border-0 shadow-2xl",children:[c.jsx(Pi,{className:"pb-4",children:c.jsx(Ei,{className:"text-xl font-bold text-gray-800 text-center",children:"Edit Macro Targets"})}),c.jsx(JM,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6 px-1",children:[c.jsx(Xi,{control:a.control,name:"proteinTarget",render:({field:h})=>c.jsxs(Js,{children:[c.jsx(ei,{className:"text-gray-700 font-medium",children:"Protein Target (grams)"}),c.jsx(ti,{children:c.jsx(ke,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ni,{})]})}),c.jsx(Xi,{control:a.control,name:"fatsTarget",render:({field:h})=>c.jsxs(Js,{children:[c.jsx(ei,{className:"text-gray-700 font-medium",children:"Fats Target (grams)"}),c.jsx(ti,{children:c.jsx(ke,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ni,{})]})}),c.jsx(Xi,{control:a.control,name:"carbsTarget",render:({field:h})=>c.jsxs(Js,{children:[c.jsx(ei,{className:"text-gray-700 font-medium",children:"Carbs Target (grams)"}),c.jsx(ti,{children:c.jsx(ke,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ni,{})]})}),c.jsx("div",{className:"pt-6 border-t border-gray-200 bg-gray-50 -mx-1 px-4 py-4 rounded-lg",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Total Calories"}),c.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Math.round(nD(parseFloat(a.watch("proteinTarget"))||0,parseFloat(a.watch("fatsTarget"))||0,parseFloat(a.watch("carbsTarget"))||0))}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["P: ",parseFloat(a.watch("proteinTarget"))||0,"g × 4 + F: ",parseFloat(a.watch("fatsTarget"))||0,"g × 9 + C: ",parseFloat(a.watch("carbsTarget"))||0,"g × 4"]})]})}),c.jsx(K,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:l.isPending,children:l.isPending?"Updating...":"Update Targets"})]})})]})]})})]})}),c.jsxs(de,{className:"pt-0",children:[c.jsxs("div",{className:"space-y-3 mb-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 mb-3",children:[c.jsx("span",{children:"NUTRITION"}),i.length>0&&c.jsxs("span",{className:"text-xs text-right",children:["P: ",d.protein,"g | F: ",d.fats,"g | C: ",d.carbs,"g"]})]}),i.length>0?i.map(h=>c.jsx("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-green-500 rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12",children:c.jsx("i",{className:"fas fa-utensils text-white text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-medium",children:h.description}),c.jsxs("div",{className:"text-gray-300 text-xs",children:["P: ",h.protein,"g • F: ",h.fats,"g • C: ",h.carbs,"g"]})]})]})},h.id)):c.jsxs("div",{className:"text-gray-500 text-center py-4",children:["No macros logged ",_i(t)?"today":"for this date"]})]}),c.jsx(fs,{href:`/add-macros?date=${Be(t,"yyyy-MM-dd")}`,children:c.jsxs(K,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD MACROS"]})})]})]})}function Vf(t,[e,n]){return Math.min(n,Math.max(e,t))}var J6=b.createContext(void 0);function sD(t){const e=b.useContext(J6);return t||e||"ltr"}function iD(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var eU=[" ","Enter","ArrowUp","ArrowDown"],tU=[" ","Enter"],Co="Select",[Ah,Oh,nU]=$y(Co),[gl,Z7]=Ao(Co,[nU,wh]),Rh=wh(),[rU,Mi]=gl(Co),[sU,iU]=gl(Co),oD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=t,p=Rh(e),[v,y]=b.useState(null),[g,w]=b.useState(null),[_,S]=b.useState(!1),k=sD(u),[T,C]=Ic({prop:r,defaultProp:s??!1,onChange:i,caller:Co}),[M,A]=Ic({prop:o,defaultProp:a,onChange:l,caller:Co}),F=b.useRef(null),O=v?x||!!v.closest("form"):!0,[V,$]=b.useState(new Set),I=Array.from(V).map(z=>z.props.value).join(";");return c.jsx(H4,{...p,children:c.jsxs(rU,{required:m,scope:e,trigger:v,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:ma(),value:M,onValueChange:A,open:T,onOpenChange:C,dir:k,triggerPointerDownPosRef:F,disabled:h,children:[c.jsx(Ah.Provider,{scope:e,children:c.jsx(sU,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(z=>{$(B=>new Set(B).add(z))},[]),onNativeOptionRemove:b.useCallback(z=>{$(B=>{const j=new Set(B);return j.delete(z),j})},[]),children:n})}),O?c.jsxs(ED,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:z=>A(z.target.value),disabled:h,form:x,children:[M===void 0?c.jsx("option",{value:""}):null,Array.from(V)]},I):null]})})};oD.displayName=Co;var aD="SelectTrigger",lD=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Rh(n),o=Mi(aD,n),a=o.disabled||r,l=We(e,o.onTriggerChange),u=Oh(n),d=b.useRef("touch"),[f,h,m]=DD(p=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),g=AD(v,p,y);g!==void 0&&o.onValueChange(g.value)}),x=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx(Dj,{asChild:!0,...i,children:c.jsx(je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":MD(o.value)?"":void 0,...s,ref:l,onClick:ye(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&x(p)}),onPointerDown:ye(s.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:ye(s.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&eU.includes(p.key)&&(x(),p.preventDefault())})})})});lD.displayName=aD;var cD="SelectValue",uD=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Mi(cD,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=We(e,l.onValueNodeChange);return Qt(()=>{u(d)},[u,d]),c.jsx(je.span,{...a,ref:f,style:{pointerEvents:"none"},children:MD(l.value)?c.jsx(c.Fragment,{children:o}):i})});uD.displayName=cD;var oU="SelectIcon",dD=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(je.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});dD.displayName=oU;var aU="SelectPortal",fD=t=>c.jsx(ph,{asChild:!0,...t});fD.displayName=aU;var ko="SelectContent",hD=b.forwardRef((t,e)=>{const n=Mi(ko,t.__scopeSelect),[r,s]=b.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Do.createPortal(c.jsx(mD,{scope:t.__scopeSelect,children:c.jsx(Ah.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(pD,{...t,ref:e})});hD.displayName=ko;var ar=10,[mD,Di]=gl(ko),lU="SelectContentImpl",cU=Ba("SelectContent.RemoveScroll"),pD=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v,...y}=t,g=Mi(ko,n),[w,_]=b.useState(null),[S,k]=b.useState(null),T=We(e,H=>_(H)),[C,M]=b.useState(null),[A,F]=b.useState(null),O=Oh(n),[V,$]=b.useState(!1),I=b.useRef(!1);b.useEffect(()=>{if(w)return cM(w)},[w]),eM();const z=b.useCallback(H=>{const[Z,...Fe]=O().map(Me=>Me.ref.current),[Pe]=Fe.slice(-1),be=document.activeElement;for(const Me of H)if(Me===be||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===Z&&S&&(S.scrollTop=0),Me===Pe&&S&&(S.scrollTop=S.scrollHeight),Me==null||Me.focus(),document.activeElement!==be))return},[O,S]),B=b.useCallback(()=>z([C,w]),[z,C,w]);b.useEffect(()=>{V&&B()},[V,B]);const{onOpenChange:j,triggerPointerDownPosRef:R}=g;b.useEffect(()=>{if(w){let H={x:0,y:0};const Z=Pe=>{var be,Me;H={x:Math.abs(Math.round(Pe.pageX)-(((be=R.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Me=R.current)==null?void 0:Me.y)??0))}},Fe=Pe=>{H.x<=10&&H.y<=10?Pe.preventDefault():w.contains(Pe.target)||j(!1),document.removeEventListener("pointermove",Z),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[w,j,R]),b.useEffect(()=>{const H=()=>j(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[j]);const[D,W]=DD(H=>{const Z=O().filter(be=>!be.disabled),Fe=Z.find(be=>be.ref.current===document.activeElement),Pe=AD(Z,H,Fe);Pe&&setTimeout(()=>Pe.ref.current.focus())}),G=b.useCallback((H,Z,Fe)=>{const Pe=!I.current&&!Fe;(g.value!==void 0&&g.value===Z||Pe)&&(M(H),Pe&&(I.current=!0))},[g.value]),ne=b.useCallback(()=>w==null?void 0:w.focus(),[w]),se=b.useCallback((H,Z,Fe)=>{const Pe=!I.current&&!Fe;(g.value!==void 0&&g.value===Z||Pe)&&F(H)},[g.value]),ge=r==="popper"?Sg:gD,ve=ge===Sg?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v}:{};return c.jsx(mD,{scope:n,content:w,viewport:S,onViewportChange:k,itemRefCallback:G,selectedItem:C,onItemLeave:ne,itemTextRefCallback:se,focusSelectedItem:B,selectedItemText:A,position:r,isPositioned:V,searchRef:D,children:c.jsx(wx,{as:cU,allowPinchZoom:!0,children:c.jsx(bx,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ye(s,H=>{var Z;(Z=g.trigger)==null||Z.focus({preventScroll:!0}),H.preventDefault()}),children:c.jsx(yu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(ge,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...y,...ve,onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,H=>{const Z=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Z&&H.key.length===1&&W(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Pe=O().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const be=H.target,Me=Pe.indexOf(be);Pe=Pe.slice(Me+1)}setTimeout(()=>z(Pe)),H.preventDefault()}})})})})})})});pD.displayName=lU;var uU="SelectItemAlignedPosition",gD=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Mi(ko,n),o=Di(ko,n),[a,l]=b.useState(null),[u,d]=b.useState(null),f=We(e,T=>d(T)),h=Oh(n),m=b.useRef(!1),x=b.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:g}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&p&&v&&y){const T=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const be=A.left-C.left,Me=M.left-be,Ut=T.left-Me,Dn=T.width+Ut,js=Math.max(Dn,C.width),Oi=window.innerWidth-ar,Ri=Vf(Me,[ar,Math.max(ar,Oi-js)]);a.style.minWidth=Dn+"px",a.style.left=Ri+"px"}else{const be=C.right-A.right,Me=window.innerWidth-M.right-be,Ut=window.innerWidth-T.right-Me,Dn=T.width+Ut,js=Math.max(Dn,C.width),Oi=window.innerWidth-ar,Ri=Vf(Me,[ar,Math.max(ar,Oi-js)]);a.style.minWidth=Dn+"px",a.style.right=Ri+"px"}const F=h(),O=window.innerHeight-ar*2,V=p.scrollHeight,$=window.getComputedStyle(u),I=parseInt($.borderTopWidth,10),z=parseInt($.paddingTop,10),B=parseInt($.borderBottomWidth,10),j=parseInt($.paddingBottom,10),R=I+z+V+j+B,D=Math.min(v.offsetHeight*5,R),W=window.getComputedStyle(p),G=parseInt(W.paddingTop,10),ne=parseInt(W.paddingBottom,10),se=T.top+T.height/2-ar,ge=O-se,ve=v.offsetHeight/2,H=v.offsetTop+ve,Z=I+z+H,Fe=R-Z;if(Z<=se){const be=F.length>0&&v===F[F.length-1].ref.current;a.style.bottom="0px";const Me=u.clientHeight-p.offsetTop-p.offsetHeight,Ut=Math.max(ge,ve+(be?ne:0)+Me+B),Dn=Z+Ut;a.style.height=Dn+"px"}else{const be=F.length>0&&v===F[0].ref.current;a.style.top="0px";const Ut=Math.max(se,I+p.offsetTop+(be?G:0)+ve)+Fe;a.style.height=Ut+"px",p.scrollTop=Z-se+p.offsetTop}a.style.margin=`${ar}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,u,p,v,y,i.dir,r]);Qt(()=>w(),[w]);const[_,S]=b.useState();Qt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=b.useCallback(T=>{T&&x.current===!0&&(w(),g==null||g(),x.current=!1)},[w,g]);return c.jsx(fU,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(je.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gD.displayName=uU;var dU="SelectPopperPosition",Sg=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ar,...i}=t,o=Rh(n);return c.jsx(Aj,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sg.displayName=dU;var[fU,Mx]=gl(ko,{}),Ng="SelectViewport",yD=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Di(Ng,n),o=Mx(Ng,n),a=We(e,i.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Ah.Slot,{scope:n,children:c.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ye(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const x=window.innerHeight-ar*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(p,v);if(y<x){const g=y+m,w=Math.min(x,g),_=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});yD.displayName=Ng;var xD="SelectGroup",[hU,mU]=gl(xD),pU=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ma();return c.jsx(hU,{scope:n,id:s,children:c.jsx(je.div,{role:"group","aria-labelledby":s,...r,ref:e})})});pU.displayName=xD;var vD="SelectLabel",bD=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mU(vD,n);return c.jsx(je.div,{id:s.id,...r,ref:e})});bD.displayName=vD;var $f="SelectItem",[gU,wD]=gl($f),_D=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Mi($f,n),l=Di($f,n),u=a.value===r,[d,f]=b.useState(i??""),[h,m]=b.useState(!1),x=We(e,g=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,g,r,s)}),p=ma(),v=b.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(gU,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:b.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(Ah.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(je.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ye(o.onFocus,()=>m(!0)),onBlur:ye(o.onBlur,()=>m(!1)),onClick:ye(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:ye(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:ye(o.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:ye(o.onPointerMove,g=>{var w;v.current=g.pointerType,s?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ye(o.onKeyDown,g=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(tU.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});_D.displayName=$f;var Yl="SelectItemText",SD=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Mi(Yl,n),a=Di(Yl,n),l=wD(Yl,n),u=iU(Yl,n),[d,f]=b.useState(null),h=We(e,y=>f(y),l.onItemTextChange,y=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,x=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Qt(()=>(p(x),()=>v(x)),[p,v,x]),c.jsxs(c.Fragment,{children:[c.jsx(je.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Do.createPortal(i.children,o.valueNode):null]})});SD.displayName=Yl;var ND="SelectItemIndicator",CD=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wD(ND,n).isSelected?c.jsx(je.span,{"aria-hidden":!0,...r,ref:e}):null});CD.displayName=ND;var Cg="SelectScrollUpButton",kD=b.forwardRef((t,e)=>{const n=Di(Cg,t.__scopeSelect),r=Mx(Cg,t.__scopeSelect),[s,i]=b.useState(!1),o=We(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(jD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});kD.displayName=Cg;var kg="SelectScrollDownButton",TD=b.forwardRef((t,e)=>{const n=Di(kg,t.__scopeSelect),r=Mx(kg,t.__scopeSelect),[s,i]=b.useState(!1),o=We(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(jD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});TD.displayName=kg;var jD=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Di("SelectScrollButton",n),o=b.useRef(null),a=Oh(n),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Qt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(je.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ye(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ye(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ye(s.onPointerLeave,()=>{l()})})}),yU="SelectSeparator",PD=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(je.div,{"aria-hidden":!0,...r,ref:e})});PD.displayName=yU;var Tg="SelectArrow",xU=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Rh(n),i=Mi(Tg,n),o=Di(Tg,n);return i.open&&o.position==="popper"?c.jsx(Oj,{...s,...r,ref:e}):null});xU.displayName=Tg;var vU="SelectBubbleInput",ED=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=We(r,s),o=iD(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(je.select,{...n,style:{...jT,...n.style},ref:i,defaultValue:e})});ED.displayName=vU;function MD(t){return t===""||t===void 0}function DD(t){const e=wr(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function AD(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=bU(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function bU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wU=oD,OD=lD,_U=uD,SU=dD,NU=fD,RD=hD,CU=yD,ID=bD,FD=_D,kU=SD,TU=CD,LD=kD,zD=TD,VD=PD;const Za=wU,Ja=_U,To=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(OD,{ref:r,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(SU,{asChild:!0,children:c.jsx(ZT,{className:"h-4 w-4 opacity-50"})})]}));To.displayName=OD.displayName;const $D=b.forwardRef(({className:t,...e},n)=>c.jsx(LD,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(FF,{className:"h-4 w-4"})}));$D.displayName=LD.displayName;const BD=b.forwardRef(({className:t,...e},n)=>c.jsx(zD,{ref:n,className:Oe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(ZT,{className:"h-4 w-4"})}));BD.displayName=zD.displayName;const jo=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(NU,{children:c.jsxs(RD,{ref:s,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx($D,{}),c.jsx(CU,{className:Oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(BD,{})]})}));jo.displayName=RD.displayName;const jU=b.forwardRef(({className:t,...e},n)=>c.jsx(ID,{ref:n,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));jU.displayName=ID.displayName;const at=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(FD,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(TU,{children:c.jsx(XT,{className:"h-4 w-4"})})}),c.jsx(kU,{children:e})]}));at.displayName=FD.displayName;const PU=b.forwardRef(({className:t,...e},n)=>c.jsx(VD,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));PU.displayName=VD.displayName;const EU={weight:["lbs","kg"],length:["in","cm"],percentage:["%"],count:["reps","count"]},MU=[{name:"Waist",unit:"length"},{name:"Chest",unit:"length"},{name:"Arms",unit:"length"},{name:"Thighs",unit:"length"},{name:"Hips",unit:"length"},{name:"Body Fat %",unit:"percentage"},{name:"Muscle Mass",unit:"percentage"}];function DU({selectedDate:t}){const[e,n]=b.useState(!1),[r,s]=b.useState(!1),[i,o]=b.useState(""),[a,l]=b.useState("length"),[u,d]=b.useState(null),[f,h]=b.useState(""),m=Un(),x=Be(t,"yyyy-MM-dd"),{data:p=[]}=on({queryKey:[`/api/metrics/date/${x}`]}),{data:v=[]}=on({queryKey:["/api/custom-metric-fields"]}),y=p.find(C=>Be(new Date(C.date),"yyyy-MM-dd")===x);console.log("Metrics Block Debug:",{dateStr:x,metricsCount:p.length,currentMetric:y,customFieldsCount:v.length,editingField:u,tempValue:f,saveMetricsPending:_.isPending});const g=Ft({mutationFn:async C=>{console.log("Creating custom metric field:",C);const M=await Ue("POST","/api/custom-metric-fields",C);return console.log("Custom metric field created:",M),M},onSuccess:C=>{console.log("Custom field creation successful:",C),m.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),o(""),l("length"),s(!1)},onError:C=>{console.error("Error creating custom metric field:",C)}}),w=Ft({mutationFn:async C=>Ue(`/api/custom-metric-fields/${C}`,"DELETE"),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),v.length<=1&&n(!1)}}),_=Ft({mutationFn:async C=>Ue("/api/metrics","POST",{date:x,weight:C.weight,customFields:C.customFields}),onSuccess:C=>{console.log("Metric saved successfully:",C),console.log("Invalidating cache for:",`/api/metrics/date/${x}`),m.invalidateQueries({queryKey:[`/api/metrics/date/${x}`]}),d(null),h("")},onError:C=>{console.error("Error saving metric:",C)}}),S=(C,M)=>{console.log("🖊️ handleFieldEdit called:",{fieldName:C,currentValue:M}),d(C),h(M),console.log("🖊️ State updated - editingField set to:",C)},k=C=>{if(console.log("handleFieldSave called:",{fieldName:C,tempValue:f,currentMetric:y}),C==="weight"){const M=f?parseFloat(f):void 0,A=(y==null?void 0:y.customFields)||{},F={weight:M,customFields:A};console.log("Saving weight data:",F),_.mutate(F)}else{const M=y!=null&&y.weight?parseFloat(y.weight.toString()):void 0,A={...(y==null?void 0:y.customFields)||{},[C]:f?parseFloat(f):0},F={weight:M,customFields:A};console.log("Saving custom field data:",F),_.mutate(F)}},T=()=>{if(console.log("addCustomField called",{newFieldName:i,newFieldUnit:a}),i.trim()){const M=EU[a][0];console.log("Creating field with:",{fieldName:i.trim(),unit:M}),g.mutate({fieldName:i.trim(),unit:M})}else console.log("Field name is empty, not creating")};return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Kt,{children:c.jsxs(Gt,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-weight text-purple-500 mr-2"}),"Metrics"]})}),c.jsxs(de,{children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("div",{className:"w-6 h-6 flex items-center justify-center opacity-30",children:c.jsx("i",{className:"fas fa-ban text-gray-400 text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weight"})]}),u==="weight"?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ke,{type:"number",inputMode:"decimal",value:f,onChange:C=>h(C.target.value),className:"w-20 h-8",autoFocus:!0}),c.jsx("span",{className:"text-xs text-gray-500",children:"lbs"}),c.jsx(K,{size:"sm",onClick:()=>{console.log("💾 Weight Save Button Clicked!"),k("weight")},onMouseDown:()=>console.log("🖱️ Button mouse down"),onMouseUp:()=>console.log("🖱️ Button mouse up"),disabled:_.isPending,className:"h-8 bg-purple-500 hover:bg-purple-600 text-white relative z-10",style:{pointerEvents:"auto"},children:_.isPending?"Saving...":"Save"})]}):c.jsx("button",{onClick:()=>{var C;console.log("📝 Tap to add clicked for weight"),S("weight",((C=y==null?void 0:y.weight)==null?void 0:C.toString())||"")},className:"px-3 py-1 bg-gray-200 rounded text-sm text-gray-700 hover:bg-gray-300 transition-colors",children:y!=null&&y.weight?`${y.weight} lbs`:"Tap to add"})]}),v.map(C=>{var M;return c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("button",{onClick:()=>w.mutate(C.id),className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:c.jsx("i",{className:"fas fa-times text-white text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:C.fieldName})]}),u===C.fieldName?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ke,{type:"number",inputMode:"decimal",value:f,onChange:A=>h(A.target.value),className:"w-20 h-8",autoFocus:!0}),c.jsx("span",{className:"text-xs text-gray-500",children:C.unit}),c.jsx(K,{size:"sm",onClick:()=>k(C.fieldName),disabled:_.isPending,className:"h-8 bg-purple-500 hover:bg-purple-600 text-white",children:_.isPending?"Saving...":"Save"})]}):c.jsx("button",{onClick:()=>{var A,F;return S(C.fieldName,((F=(A=y==null?void 0:y.customFields)==null?void 0:A[C.fieldName])==null?void 0:F.toString())||"")},className:"px-3 py-1 bg-gray-200 rounded text-sm text-gray-700 hover:bg-gray-300 transition-colors",children:(M=y==null?void 0:y.customFields)!=null&&M[C.fieldName]?`${y.customFields[C.fieldName]} ${C.unit}`:"Tap to add"})]},C.id)}),v.length===0&&!(y!=null&&y.weight)&&c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No metrics tracked yet. Tap the + button to add custom measurements."})]}),c.jsxs("div",{className:"space-y-3 mt-4",children:[c.jsxs(ji,{open:r,onOpenChange:s,children:[c.jsx(EM,{asChild:!0,children:c.jsxs(K,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",onClick:()=>n(!1),children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD CUSTOM METRIC"]})}),c.jsxs(Ts,{children:[c.jsx(Pi,{children:c.jsx(Ei,{children:"Add Custom Metric"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ze,{children:"Metric Name"}),c.jsxs(Za,{value:i,onValueChange:o,children:[c.jsx(To,{children:c.jsx(Ja,{placeholder:"Select or type custom metric"})}),c.jsx(jo,{children:MU.map(C=>c.jsx(at,{value:C.name,children:C.name},C.name))})]}),c.jsx(ke,{placeholder:"Or type custom metric name",value:i,onChange:C=>o(C.target.value),className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(ze,{children:"Unit Type"}),c.jsxs(Za,{value:a,onValueChange:l,children:[c.jsx(To,{children:c.jsx(Ja,{})}),c.jsxs(jo,{children:[c.jsx(at,{value:"length",children:"Length (in/cm)"}),c.jsx(at,{value:"percentage",children:"Percentage (%)"}),c.jsx(at,{value:"count",children:"Count/Reps"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(K,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),c.jsx(K,{onClick:()=>{console.log("Add Metric button clicked"),T()},disabled:!i.trim()||g.isPending,className:"bg-purple-500 hover:bg-purple-600 text-white",children:g.isPending?"Adding...":"Add Metric"})]})]})]})]}),v.length>0&&c.jsxs(K,{onClick:()=>n(!e),className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-edit mr-2"}),e?"DONE EDITING":"EDIT METRICS"]})]})]})]})}function AU({selectedDate:t}){var _;const[e,n]=b.useState(!1),[r,s]=b.useState(0),[i,o]=b.useState(!1),a=b.useRef(null),{toast:l}=Xt(),u=Be(t,"yyyy-MM-dd"),{data:d=[]}=on({queryKey:[`/api/photos/date/${u}`]}),f=Ft({mutationFn:async S=>{const k=new FormData;return Array.from(S).forEach(T=>{k.append("photos",T)}),k.append("date",u),Ue("POST","/api/photos",k)},onSuccess:()=>{Bi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Bi.invalidateQueries({queryKey:["/api/photos"]}),Bi.invalidateQueries({predicate:S=>{var k;return(k=S.queryKey[0])==null?void 0:k.toString().includes("/api/photos")}}),l({title:"Success",description:"Photos uploaded successfully!"})},onError:S=>{l({title:"Error",description:`Failed to upload photos: ${S.message}`,variant:"destructive"})}}),h=Ft({mutationFn:async S=>Ue("DELETE",`/api/photos/${S}`),onSuccess:()=>{Bi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Bi.invalidateQueries({queryKey:["/api/photos"]}),Bi.invalidateQueries({predicate:S=>{var k;return(k=S.queryKey[0])==null?void 0:k.toString().includes("/api/photos")}}),l({title:"Success",description:"Photo deleted successfully!"})},onError:S=>{l({title:"Error",description:`Failed to delete photo: ${S.message}`,variant:"destructive"})}}),m=S=>{const k=S.target.files;k&&k.length>0&&f.mutate(k)},x=()=>{var S;(S=a.current)==null||S.click()},p=()=>{if(d.length>0&&r<d.length){const S=d[r];h.mutate(S.id),n(!1)}},v=S=>{s(S),o(!1),n(!0)},y=S=>{o(!1),s(S==="prev"?k=>k>0?k-1:d.length-1:k=>k<d.length-1?k+1:0)};b.useEffect(()=>{const S=k=>{e&&(k.key==="Escape"?n(!1):k.key==="ArrowLeft"&&d.length>1?y("prev"):k.key==="ArrowRight"&&d.length>1&&y("next"))};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[e,d.length]);const g=S=>{if(S.thumbnailUrl)return S.thumbnailUrl;const k=localStorage.getItem("authToken");return k?`/api/photos/${S.filename}?thumbnail=true&token=${k}`:"/placeholder-image.jpg"},w=S=>{if(S.imageUrl)return S.imageUrl;const k=localStorage.getItem("authToken");return k?`/api/photos/${S.filename}?token=${k}`:"/placeholder-image.jpg"};return c.jsxs(c.Fragment,{children:[c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxHeight:"70vh"},children:[c.jsx(Kt,{children:c.jsxs(Gt,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-camera text-blue-500 mr-2"}),"Progress Photos",c.jsx("span",{className:"text-sm text-gray-500 ml-2",children:_i(t)?"Today":Be(t,"MMM d, yyyy")})]})}),c.jsxs(de,{className:"pt-0",children:[d.length>0?c.jsx("div",{className:"grid gap-2 mb-4 overflow-y-auto",style:{gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",maxHeight:"calc(70vh - 200px)"},children:d.map((S,k)=>c.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>v(k),children:c.jsx("img",{src:g(S),alt:`Progress photo ${k+1}`,className:"w-full h-full object-cover",style:{filter:"blur(6px)"}})},S.id))}):c.jsxs("div",{className:"text-gray-500 text-center py-8",children:["No photos uploaded ",_i(t)?"today":"for this date"]}),c.jsxs("div",{className:"flex space-x-2 mt-4",children:[c.jsxs(K,{onClick:x,disabled:f.isPending,className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2 text-xs"}),f.isPending?"Uploading...":"ADD PHOTOS"]}),d.length>0&&c.jsx(K,{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 text-sm",children:c.jsx("i",{className:"fas fa-trash text-xs"})})]}),c.jsx("input",{ref:a,type:"file",accept:"image/*",multiple:!0,onChange:m,className:"hidden"})]})]}),c.jsx(ji,{open:e,onOpenChange:n,children:c.jsxs(Ts,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Pi,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsxs(Ei,{className:"text-center text-lg font-semibold",children:["Progress Photo ",r+1," of ",d.length]})}),d.length>0&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[d.length>1&&c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>y("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!i&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:w(d[r]),alt:`Progress photo ${r+1}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${i?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>o(!0),onError:()=>o(!0)})]}),d.length>1&&c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>y("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:(_=d[r])==null?void 0:_.originalName}),c.jsxs(K,{onClick:p,variant:"destructive",size:"sm",children:[c.jsx("i",{className:"fas fa-trash mr-2"}),"Delete Photo"]})]})]})})]})}function jb(t,e){const[n,r,s]=t.split("-").map(Number),[i,o]=e.split(":").map(Number);return new Date(n,r-1,s,i,o,0,0)}function UD(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r,0,0,0,0)}function Lm(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function OU(t,e,n){if(n==="sleep"&&e<=t){const r=new Date(e);return r.setDate(r.getDate()+1),r}return e}function RU(){const{user:t}=Oo(),[e,n]=b.useState(new Date);b.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("date");if(console.log("🏠🏠🏠 DETAILED Home Page URL Debug:"),console.log("1. Current URL:",window.location.href),console.log("2. URL Search Params:",window.location.search),console.log("3. dateParam from URL:",a),console.log("4. Current selectedDate before update:",e),console.log("5. Current selectedDate toString():",e.toString()),a){const l=UD(a);console.log("6. Creating new Date from dateParam using createDateFromString:",a),console.log("7. New Date Object:",l),console.log("8. New Date toString():",l.toString()),console.log("9. New Date toDateString():",l.toDateString()),console.log("10. New Date getDate():",l.getDate()),console.log("11. New Date getMonth():",l.getMonth()),console.log("12. New Date getFullYear():",l.getFullYear()),n(l),console.log("13. Set selectedDate to new date"),window.history.replaceState({},"","/"),console.log("14. Cleaned URL")}else console.log("6. NO dateParam found, keeping selectedDate as:",e.toString())},[]);const{data:r=[]}=on({queryKey:_i(e)?["/api/progress"]:[`/api/progress/date/${Be(e,"yyyy-MM-dd")}`],enabled:!!t}),{data:s=[]}=on({queryKey:["/api/photos"],enabled:!!t});console.log("Home page - photos:",s),console.log("Home page - photos length:",s.length);const i=()=>{const o=["Every step counts! Keep pushing forward.","You're stronger than yesterday.","Progress, not perfection.","Your only competition is who you were yesterday.","Believe in yourself and keep going!"];return o[Math.floor(Math.random()*o.length)]};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(En,{}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome back, ",(t==null?void 0:t.firstName)||(t==null?void 0:t.username),"!"]}),c.jsx("h2",{className:"text-gray-800 text-lg flex mb-6 items-center",children:i()}),c.jsx(Y6,{selectedDate:e,onDateChange:n})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mb-4 gap-x-4",children:[c.jsx(q6,{selectedDate:e}),c.jsx(DU,{selectedDate:e}),c.jsx(AU,{selectedDate:e}),c.jsx(Z6,{selectedDate:e})]}),Array.isArray(r)&&r.length>0&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mt-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Kt,{children:c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"Recent Progress"})}),c.jsx(de,{children:c.jsx("div",{className:"space-y-4",children:r.slice(0,3).map((o,a)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ec4899"}}),c.jsx("span",{className:"font-medium text-gray-700 capitalize",children:o.goalType.replace("-"," ")})]}),c.jsx("div",{className:"text-right",children:c.jsxs("span",{className:"text-lg font-bold",style:{color:"#be185d"},children:[o.progressValue,"%"]})})]},a))})})]})]})]})}const IU=ks({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function FU({data:t,updateData:e,onNext:n}){const{user:r}=Oo(),{register:s,handleSubmit:i,setValue:o,watch:a,formState:{errors:l}}=fl({resolver:hl(IU),defaultValues:{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType}}),u=f=>{console.log("Image uploaded:",f)},d=f=>{e(f),n()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(de,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Create Your Profile"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Tell us about yourself to personalize your journey"}),c.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Ph,{firstName:r==null?void 0:r.firstName,lastName:r==null?void 0:r.lastName,profileImageUrl:r==null?void 0:r.profileImageUrl,size:"xl",onImageUpload:u,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a photo or use your initials"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"gender",children:"Gender"}),c.jsxs(Za,{onValueChange:f=>o("gender",f),defaultValue:t.gender,children:[c.jsx(To,{className:"mt-2",children:c.jsx(Ja,{placeholder:"Select"})}),c.jsxs(jo,{children:[c.jsx(at,{value:"female",children:"Female"}),c.jsx(at,{value:"male",children:"Male"}),c.jsx(at,{value:"non-binary",children:"Non-binary"}),c.jsx(at,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"birthday",children:"Birthday"}),c.jsx(ke,{id:"birthday",type:"date",...s("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"height",children:"Height"}),c.jsx(ke,{id:"height",...s("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"weight",children:"Weight"}),c.jsx(ke,{id:"weight",...s("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Za,{onValueChange:f=>o("bodyType",f),defaultValue:t.bodyType,children:[c.jsx(To,{className:"mt-2",children:c.jsx(Ja,{placeholder:"Select"})}),c.jsxs(jo,{children:[c.jsx(at,{value:"petite",children:"Petite"}),c.jsx(at,{value:"lean",children:"Lean"}),c.jsx(at,{value:"average",children:"Average"}),c.jsx(at,{value:"athletic",children:"Athletic"}),c.jsx(at,{value:"muscular",children:"Muscular"}),c.jsx(at,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsx(K,{type:"submit",className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl text-center",children:"Continue"})]})]})})}const LU=[{id:"general-fitness",label:"General Fitness",icon:"fas fa-running"},{id:"cardio",label:"Cardio",icon:"fas fa-heartbeat"},{id:"strength",label:"Strength",icon:"fas fa-dumbbell"},{id:"muscle-mass",label:"Muscle Mass",icon:"fas fa-fist-raised"},{id:"weight-loss",label:"Weight Loss",icon:"fas fa-weight"},{id:"improve-diet",label:"Improve Diet",icon:"fas fa-apple-alt"}];function zU({data:t,updateData:e,onNext:n}){const[r,s]=b.useState(t.goals);b.useEffect(()=>{e({goals:r})},[r,e]);const i=a=>{s(l=>l.includes(a)?l.filter(u=>u!==a):[...l,a])},o=()=>{r.length!==0&&n()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(de,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"What Are Your Goals?"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Select all that apply to personalize your experience"}),c.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:LU.map(a=>c.jsxs("button",{onClick:()=>i(a.id),className:`p-4 border-2 rounded-xl text-center transition-all duration-300 ${r.includes(a.id)?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-primary-50"}`,children:[c.jsx("i",{className:`${a.icon} text-2xl text-primary-300 mb-2`}),c.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.id))}),c.jsx(K,{onClick:o,disabled:r.length===0,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed text-center",children:"Continue"}),r.length===0&&c.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Please select at least one goal to continue"})]})})}var WD=["PageUp","PageDown"],HD=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],YD={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yl="Slider",[jg,VU,$U]=$y(yl),[qD,J7]=Ao(yl,[$U]),[BU,Ih]=qD(yl),QD=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:x,...p}=t,v=b.useRef(new Set),y=b.useRef(0),w=o==="horizontal"?UU:WU,[_=[],S]=Ic({prop:d,defaultProp:u,onChange:F=>{var V;(V=[...v.current][y.current])==null||V.focus(),f(F)}}),k=b.useRef(_);function T(F){const O=KU(_,F);A(F,O)}function C(F){A(F,y.current)}function M(){const F=k.current[y.current];_[y.current]!==F&&h(_)}function A(F,O,{commit:V}={commit:!1}){const $=JU(i),I=e8(Math.round((F-r)/i)*i+r,$),z=Vf(I,[r,s]);S((B=[])=>{const j=qU(B,z,O);if(ZU(j,l*i)){y.current=j.indexOf(z);const R=String(j)!==String(B);return R&&V&&h(j),R?j:B}else return B})}return c.jsx(BU,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:y,thumbs:v.current,values:_,orientation:o,form:x,children:c.jsx(jg.Provider,{scope:t.__scopeSlider,children:c.jsx(jg.Slot,{scope:t.__scopeSlider,children:c.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...p,ref:e,onPointerDown:ye(p.onPointerDown,()=>{a||(k.current=_)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:T,onSlideMove:a?void 0:C,onSlideEnd:a?void 0:M,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(s,_.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:O})=>{if(!a){const I=WD.includes(F.key)||F.shiftKey&&HD.includes(F.key)?10:1,z=y.current,B=_[z],j=i*I*O;A(B+j,z,{commit:!0})}}})})})})});QD.displayName=yl;var[KD,GD]=qD(yl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),UU=b.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=b.useState(null),m=We(e,w=>h(w)),x=b.useRef(void 0),p=sD(s),v=p==="ltr",y=v&&!i||!v&&i;function g(w){const _=x.current||f.getBoundingClientRect(),S=[0,_.width],T=Dx(S,y?[n,r]:[r,n]);return x.current=_,T(w-_.left)}return c.jsx(KD,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:c.jsx(XD,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=g(w.clientX);o==null||o(_)},onSlideMove:w=>{const _=g(w.clientX);a==null||a(_)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:w=>{const S=YD[y?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),WU=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=b.useRef(null),f=We(e,d),h=b.useRef(void 0),m=!s;function x(p){const v=h.current||d.current.getBoundingClientRect(),y=[0,v.height],w=Dx(y,m?[r,n]:[n,r]);return h.current=v,w(p-v.top)}return c.jsx(KD,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(XD,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=x(p.clientY);i==null||i(v)},onSlideMove:p=>{const v=x(p.clientY);o==null||o(v)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:p=>{const y=YD[m?"from-bottom":"from-top"].includes(p.key);l==null||l({event:p,direction:y?-1:1})}})})}),XD=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=Ih(yl,n);return c.jsx(je.span,{...u,ref:e,onKeyDown:ye(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):WD.concat(HD).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:ye(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ye(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ye(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),ZD="SliderTrack",JD=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Ih(ZD,n);return c.jsx(je.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});JD.displayName=ZD;var Pg="SliderRange",e2=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Ih(Pg,n),i=GD(Pg,n),o=b.useRef(null),a=We(e,o),l=s.values.length,u=s.values.map(h=>r2(h,s.min,s.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(je.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});e2.displayName=Pg;var Eg="SliderThumb",t2=b.forwardRef((t,e)=>{const n=VU(t.__scopeSlider),[r,s]=b.useState(null),i=We(e,a=>s(a)),o=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(HU,{...t,ref:i,index:o})}),HU=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Ih(Eg,n),a=GD(Eg,n),[l,u]=b.useState(null),d=We(e,g=>u(g)),f=l?o.form||!!l.closest("form"):!0,h=_j(l),m=o.values[r],x=m===void 0?0:r2(m,o.min,o.max),p=QU(r,o.values.length),v=h==null?void 0:h[a.size],y=v?GU(v,x,a.direction):0;return b.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${y}px)`},children:[c.jsx(jg.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(je.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:ye(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&c.jsx(n2,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});t2.displayName=Eg;var YU="RadioBubbleInput",n2=b.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=b.useRef(null),i=We(s,r),o=iD(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(je.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});n2.displayName=YU;function qU(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function r2(t,e,n){const i=100/(n-e)*(t-e);return Vf(i,[0,100])}function QU(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function KU(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function GU(t,e,n){const r=t/2,i=Dx([0,50],[0,r]);return(r-i(e)*n)*n}function XU(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function ZU(t,e){if(e>0){const n=XU(t);return Math.min(...n)>=e}return!0}function Dx(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function JU(t){return(String(t).split(".")[1]||"").length}function e8(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var s2=QD,t8=JD,n8=e2,r8=t2;const i2=b.forwardRef(({className:t,...e},n)=>c.jsxs(s2,{ref:n,className:Oe("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(t8,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(n8,{className:"absolute h-full bg-primary"})}),c.jsx(r8,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));i2.displayName=s2.displayName;function s8({isOpen:t,onClose:e,onFileSelect:n}){const r=b.useRef(null),s=b.useRef(null),i=u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];d&&d.type.startsWith("image/")&&(n(d),e())},o=()=>{var u;(u=r.current)==null||u.click()},a=()=>{var u;(u=s.current)==null||u.click()},l=()=>{var u;(u=r.current)==null||u.click()};return c.jsxs(c.Fragment,{children:[c.jsx(ji,{open:t,onOpenChange:e,children:c.jsxs(Ts,{className:"max-w-sm",children:[c.jsxs(Pi,{children:[c.jsx(Ei,{className:"text-center",children:"Select Photo"}),c.jsx(Cx,{className:"text-center",children:"Choose how you'd like to add your profile photo"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(K,{onClick:o,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-images mr-2"}),"Photo Library"]}),c.jsxs(K,{onClick:a,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-camera mr-2"}),"Take Photo"]}),c.jsxs(K,{onClick:l,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-folder mr-2"}),"Choose Files"]}),c.jsx(K,{onClick:e,variant:"ghost",className:"w-full text-center justify-center",children:"Cancel"})]})]})}),c.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:i,className:"hidden"}),c.jsx("input",{ref:s,type:"file",accept:"image/*",capture:"environment",onChange:i,className:"hidden"})]})}function i8({photos:t,onPhotosChange:e,maxPhotos:n=5}){b.useRef(null);const[r,s]=b.useState(!1),[i,o]=b.useState(!1),a=x=>{if(!x)return;const p=Array.from(x).filter(y=>y.type.startsWith("image/"));if(t.length+p.length>n){alert(`Maximum ${n} photos allowed`);return}e([...t,...p])},l=()=>{o(!0)},u=x=>{e([...t,x]),o(!1)},d=x=>{x.preventDefault(),s(!1),a(x.dataTransfer.files)},f=x=>{x.preventDefault(),s(!0)},h=x=>{x.preventDefault(),s(!1)},m=x=>{e(t.filter((p,v)=>v!==x))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{onClick:l,onDrop:d,onDragOver:f,onDragLeave:h,className:`
          photo-upload-area rounded-xl p-8 text-center cursor-pointer transition-all duration-300
          ${r?"border-primary-300 bg-primary-50":"border-secondary-300"}
          ${t.length>=n?"opacity-50 cursor-not-allowed":""}
        `,children:[c.jsx("i",{className:"fas fa-camera text-3xl text-secondary-300 mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t.length>=n?"Maximum photos reached":"Tap to add photos"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[t.length,"/",n," photos"]})]}),c.jsx(s8,{isOpen:i,onClose:()=>o(!1),onFileSelect:u}),t.length>0&&c.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.map((x,p)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[c.jsx("img",{src:URL.createObjectURL(x),alt:`Preview ${p+1}`,className:"w-full h-full object-cover"}),c.jsx("button",{onClick:v=>{v.stopPropagation(),m(p)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:c.jsx("i",{className:"fas fa-times"})})]},p))})]})}function o8(t){return/^401: .*Unauthorized/.test(t.message)}const a8={"general-fitness":"General Fitness",cardio:"Cardio",strength:"Strength","muscle-mass":"Muscle Mass","weight-loss":"Weight Loss","improve-diet":"Improve Diet"};function l8({data:t,updateData:e}){const[n,r]=b.useState(t.progress),[s,i]=b.useState(t.photos),{toast:o}=Xt();b.useEffect(()=>{const f={};t.goals.forEach(h=>{f[h]=n[h]||50}),r(f),e({progress:f})},[t.goals]);const a=Ft({mutationFn:async()=>{if(await Ue("POST","/api/onboarding/complete",{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType,goals:t.goals,progress:n}),s.length>0){const f=new FormData;s.forEach(h=>{f.append("photos",h)}),await fetch("/api/photos",{method:"POST",body:f,credentials:"include"})}},onSuccess:()=>{o({title:"Welcome to Journey!",description:"Your account has been created successfully."}),window.location.reload()},onError:f=>{if(o8(f)){o({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}o({title:"Error",description:"Failed to complete onboarding. Please try again.",variant:"destructive"})}}),l=(f,h)=>{const m={...n,[f]:h[0]};r(m),e({progress:m})},u=f=>{i(f),e({photos:f})},d=()=>{a.mutate()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(de,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Current Progress"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Rate your current level in each selected area"}),c.jsx("div",{className:"space-y-6 mb-8",children:t.goals.map(f=>c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(ze,{className:"text-sm font-medium text-gray-700",children:a8[f]}),c.jsxs("span",{className:"text-sm font-semibold text-primary-300",children:[n[f]||50,"%"]})]}),c.jsx(i2,{value:[n[f]||50],onValueChange:h=>l(f,h),max:100,step:5,className:"w-full"})]},f))}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Progress Photos (Optional)"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload up to 5 photos to track your visual progress"}),c.jsx(i8,{photos:s,onPhotosChange:u,maxPhotos:5})]}),c.jsx(K,{onClick:d,disabled:a.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 text-center",children:a.isPending?"Creating Account...":"Create My Account"})]})})}function c8(){const[t,e]=b.useState(1),[n,r]=b.useState({gender:"",birthday:"",height:"",weight:"",bodyType:"",goals:[],progress:{},photos:[]}),s=b.useCallback(l=>{r(u=>({...u,...l}))},[]),i=()=>{t<3&&e(l=>l+1)},o=()=>{t>1&&e(l=>l-1)},a=()=>{localStorage.removeItem("authToken"),window.location.reload()};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm p-4",children:c.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[c.jsx("button",{onClick:t>1?o:a,className:"text-gray-600 hover:text-gray-800 transition-colors",children:c.jsx("i",{className:"fas fa-arrow-left text-xl"})}),c.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(l=>c.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${l<=t?"bg-primary-300":"bg-gray-300"}`},l))}),c.jsx("div",{className:"w-6"})]})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[t===1&&c.jsx(FU,{data:n,updateData:s,onNext:i}),t===2&&c.jsx(zU,{data:n,updateData:s,onNext:i}),t===3&&c.jsx(l8,{data:n,updateData:s})]})})]})}function o2({isOpen:t,onClose:e,mode:n,onSuccess:r}){const[s,i]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState("ask"),{toast:d}=Xt(),f=Un(),h=Ft({mutationFn:async g=>await Ue("PUT","/api/user/photos-pin",g),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/user"]}),r&&r(),x()},onError:()=>{d({title:"Error",description:"Failed to update PIN settings",variant:"destructive"})}}),m=Ft({mutationFn:async g=>await Ue("POST","/api/user/verify-photos-pin",{pin:g}),onSuccess:()=>{r&&r(),x()},onError:()=>{d({title:"Incorrect PIN",description:"Please try again",variant:"destructive"}),i("")}}),x=()=>{i(""),a(""),u("ask"),e()},p=g=>{g?u("enter"):h.mutate({enabled:!1})},v=()=>{if(n==="verify"){m.mutate(s);return}if(l==="enter"){if(s.length!==4){d({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}u("confirm");return}if(l==="confirm"){if(s!==o){d({title:"PINs don't match",description:"Please try again",variant:"destructive"}),i(""),a(""),u("enter");return}h.mutate({pin:s,enabled:!0})}},y=()=>{if(n==="verify")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Enter PIN"}),c.jsx("p",{className:"text-gray-600",children:"Please enter your 4-digit PIN to access photos"}),c.jsx(ke,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(K,{onClick:v,disabled:s.length!==4||m.isPending,className:"w-full",children:m.isPending?"Verifying...":"Unlock"})]});if(l==="ask")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Protect Your Photos"}),c.jsx("p",{className:"text-gray-600",children:"We know your progress can be personal, so we securely store your photos here in the app instead of your camera roll.  Would you like to set up a 4 digit PIN to access the photos page? If you opt out now and change your mind, you can always create one in the settings."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(K,{onClick:()=>p(!0),className:"w-full",children:"Yes, Set PIN"}),c.jsx(K,{onClick:()=>p(!1),variant:"outline",className:"w-full",children:"No Thanks"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"You can always enable PIN protection later in Settings"})]});if(l==="enter")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Set Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Choose a 4-digit PIN"}),c.jsx(ke,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(K,{onClick:v,disabled:s.length!==4,className:"w-full",children:"Continue"})]});if(l==="confirm")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Enter your PIN again to confirm"}),c.jsx(ke,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:g=>a(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(K,{onClick:v,disabled:o.length!==4||h.isPending,className:"w-full",children:h.isPending?"Setting up...":"Set PIN"})]})};return c.jsx(ji,{open:t,onOpenChange:x,children:c.jsxs(Ts,{className:"max-w-sm",children:[c.jsx(Pi,{children:c.jsx(Ei,{className:"text-center",children:n==="setup"?"Photo Protection":n==="update"?"Update PIN":"Photos Protected"})}),y()]})})}function u8({variant:t="default",size:e="md",className:n=""}){const[r,s]=b.useState(null),[i,o]=b.useState(!1),{canInstall:a,isInstalled:l}=g5();b.useEffect(()=>{const d=h=>{const m=h;h.preventDefault(),s(m)},f=()=>{s(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const u=async()=>{if(r){o(!0);try{await r.prompt();const{outcome:d}=await r.userChoice;console.log(d==="accepted"?"✅ PWA install accepted":"❌ PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{o(!1),s(null)}}};return l?c.jsxs(K,{variant:t,size:e,disabled:!0,className:n,children:[c.jsx(XT,{className:"w-4 h-4 mr-2"}),"App Installed"]}):!a||!r?null:c.jsx(K,{onClick:u,disabled:i,variant:t,size:e,className:n,children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ag,{className:"w-4 h-4 mr-2"}),"Install App"]})})}function d8(){const{user:t}=Oo(),[,e]=Et(),n=Un(),{toast:r}=Xt(),[s,i]=b.useState(!1),o=async()=>{try{await Ue("POST","/api/logout"),localStorage.removeItem("authToken"),n.clear(),r({title:"Logged out successfully",description:"You have been logged out. See you next time!"}),setTimeout(()=>{window.location.href="/"},1e3)}catch(l){console.error("Logout error:",l),localStorage.removeItem("authToken"),n.clear(),window.location.href="/"}},a=()=>{e("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(En,{title:"Profile & Settings",showBackButton:!0,onBack:a,showHomeButton:!0}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-4xl mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsx("div",{children:c.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})})}),c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Kt,{children:c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"Profile Information"})}),c.jsxs(de,{children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[c.jsx(Ph,{firstName:(t==null?void 0:t.firstName)||void 0,lastName:(t==null?void 0:t.lastName)||void 0,profileImageUrl:(t==null?void 0:t.profileImageUrl)||void 0,size:"lg",editable:!1}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),c.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Username: ",t==null?void 0:t.username]})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsx(K,{variant:"outline",className:"w-full shadow-md",onClick:()=>e("/edit-profile"),children:"Edit Profile"})})]})]}),c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Kt,{children:c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"Settings"})}),c.jsx(de,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs(K,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-bell mr-3"}),"Notifications"]}),c.jsxs(K,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),"Privacy"]}),c.jsxs(K,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-chart-bar mr-3"}),"Data Export"]}),c.jsxs(K,{onClick:()=>e("/change-password"),variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-key mr-3"}),"Change Password"]}),c.jsx("hr",{className:"my-6"}),c.jsxs(K,{onClick:()=>i(!0),variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),t!=null&&t.photosPinEnabled?"Update":"Set"," Photos PIN"]}),c.jsx(u8,{variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4"}),c.jsxs(K,{onClick:o,variant:"destructive",className:"w-full shadow-md hover:shadow-lg transition-shadow",children:[c.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Logout"]})]})})]})]}),c.jsx(o2,{isOpen:s,onClose:()=>i(!1),mode:"update"})]})}const f8=ks({firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required"),username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function h8(){const{user:t}=Oo(),[,e]=Et(),{toast:n}=Xt(),r=Un(),[s,i]=b.useState(!1),{data:o,isLoading:a}=on({queryKey:["/api/profile"],queryFn:async()=>await Ue("GET","/api/profile")}),{register:l,handleSubmit:u,setValue:d,watch:f,formState:{errors:h,isDirty:m},reset:x}=fl({resolver:hl(f8),defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",gender:"",birthday:"",height:"",weight:"",bodyType:""}});b.useEffect(()=>{t&&o&&x({firstName:t.firstName||"",lastName:t.lastName||"",username:t.username||"",email:t.email||"",gender:o.gender||"",birthday:o.birthday||"",height:o.height||"",weight:o.weight||"",bodyType:o.bodyType||""})},[t,o,x]);const p=Ft({mutationFn:async _=>{const S=await Ue("PUT","/api/profile/user",_.user),k=await Ue("PUT","/api/profile/profile",_.profile);return{user:S,profile:k}},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/profile"]}),r.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile updated successfully!"}),e("/profile")},onError:_=>{n({title:"Error",description:_.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),v=Ft({mutationFn:async _=>{const S=new FormData;return S.append("profileImage",_),await Ue("POST","/api/profile/avatar",S)},onSuccess:_=>{r.invalidateQueries({queryKey:["/api/profile"]}),r.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile picture updated successfully!"})},onError:_=>{n({title:"Error",description:_.message||"Failed to update profile picture. Please try again.",variant:"destructive"})}}),y=async _=>{i(!0);try{await v.mutateAsync(_)}finally{i(!1)}},g=_=>{const S={firstName:_.firstName,lastName:_.lastName,username:_.username,email:_.email},k={gender:_.gender,birthday:_.birthday,height:_.height,weight:_.weight,bodyType:_.bodyType};p.mutate({user:S,profile:k})},w=()=>{e("/profile")};return a?c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(En,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-white",children:"Loading profile..."})})})]}):c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(En,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0 mb-8",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Kt,{children:c.jsx(Gt,{className:"text-lg font-semibold text-gray-800 text-center",children:"Update Your Profile"})}),c.jsx(de,{className:"p-8",children:c.jsxs("form",{onSubmit:u(g),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Ph,{firstName:t==null?void 0:t.firstName,lastName:t==null?void 0:t.lastName,profileImageUrl:t==null?void 0:t.profileImageUrl,size:"xl",onImageUpload:y,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s?"Uploading...":"Click to change your profile picture"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"firstName",children:"First Name *"}),c.jsx(ke,{id:"firstName",...l("firstName"),className:"mt-2",placeholder:"First name"}),h.firstName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.firstName.message})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"lastName",children:"Last Name *"}),c.jsx(ke,{id:"lastName",...l("lastName"),className:"mt-2",placeholder:"Last name"}),h.lastName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"username",children:"Username *"}),c.jsx(ke,{id:"username",...l("username"),className:"mt-2",placeholder:"Username"}),h.username&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"email",children:"Email *"}),c.jsx(ke,{id:"email",type:"email",...l("email"),className:"mt-2",placeholder:"Email address"}),h.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"gender",children:"Gender"}),c.jsxs(Za,{onValueChange:_=>d("gender",_),value:f("gender"),children:[c.jsx(To,{className:"mt-2",children:c.jsx(Ja,{placeholder:"Select gender"})}),c.jsxs(jo,{children:[c.jsx(at,{value:"female",children:"Female"}),c.jsx(at,{value:"male",children:"Male"}),c.jsx(at,{value:"non-binary",children:"Non-binary"}),c.jsx(at,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"birthday",children:"Birthday"}),c.jsx(ke,{id:"birthday",type:"date",...l("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"height",children:"Height"}),c.jsx(ke,{id:"height",...l("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"weight",children:"Weight"}),c.jsx(ke,{id:"weight",...l("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Za,{onValueChange:_=>d("bodyType",_),value:f("bodyType"),children:[c.jsx(To,{className:"mt-2",children:c.jsx(Ja,{placeholder:"Select type"})}),c.jsxs(jo,{children:[c.jsx(at,{value:"petite",children:"Petite"}),c.jsx(at,{value:"lean",children:"Lean"}),c.jsx(at,{value:"average",children:"Average"}),c.jsx(at,{value:"athletic",children:"Athletic"}),c.jsx(at,{value:"muscular",children:"Muscular"}),c.jsx(at,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsxs("div",{className:"flex space-x-4 pt-6",children:[c.jsx(K,{type:"button",variant:"outline",onClick:w,className:"flex-1",children:"Cancel"}),c.jsx(K,{type:"submit",disabled:p.isPending||s||!m,className:"flex-1 bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500 text-white font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50",children:p.isPending?"Updating...":m?"Save Changes":"No Changes"})]})]})})]})})]})}const Ax=b.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Ax.displayName="Textarea";function m8(){const[t,e]=b.useState(""),[n,r]=b.useState(!1),{toast:s}=Xt(),[,i]=Et(),o=async()=>{if(!t.trim()){s({title:"No Feedback",description:"Please enter your feedback before submitting.",variant:"destructive"});return}if(t.trim().length<10){s({title:"Too Short",description:"Please provide more detailed feedback (at least 10 characters).",variant:"destructive"});return}r(!0);try{await Ue("POST","/api/feedback",{feedback:t.trim()}),s({title:"Feedback Sent",description:"Thank you for your feedback! We'll review it and get back to you if needed."}),e(""),setTimeout(()=>i("/"),2e3)}catch(l){s({title:"Failed to Send",description:(l==null?void 0:l.message)||"Something went wrong. Please try again later.",variant:"destructive"})}finally{r(!1)}},a=()=>{i("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(En,{title:"Feedback",showBackButton:!0,showHomeButton:!0,onBack:a}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsxs(Kt,{children:[c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"We'd Love Your Feedback"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Help us improve Journey by sharing your thoughts, suggestions, or reporting issues."})]}),c.jsxs(de,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Feedback"}),c.jsx(Ax,{value:t,onChange:l=>e(l.target.value),placeholder:"Tell us what you think about Journey, suggest improvements, or report any issues you've encountered...",className:"min-h-[240px] resize-none",maxLength:2e3}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Share anything that would help us make Journey better for you"}),c.jsxs("p",{className:"text-xs text-gray-400",children:[t.length,"/2000"]})]})]}),c.jsx(K,{onClick:o,disabled:n||!t.trim(),className:"w-full shadow-md hover:shadow-lg transition-shadow",children:n?c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Sending Feedback..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Send Feedback"]})}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback helps us improve Journey for everyone"})})]})]})})]})}function Rl({options:t,value:e,onChange:n,className:r=""}){const[s,i]=b.useState(!1),o=b.useRef(null),a=40,[l,u]=b.useState(!1),d=t.findIndex(m=>m===e),f=m=>{const x=m.currentTarget.scrollTop,p=Math.round(x/a),v=Math.max(0,Math.min(p,t.length-1));t[v]!==e&&n(t[v])},h=()=>{if(!o.current)return;const m=o.current.scrollTop,x=Math.round(m/a),p=Math.max(0,Math.min(x,t.length-1));o.current.scrollTo({top:p*a,behavior:"smooth"}),t[p]!==e&&n(t[p])};return b.useEffect(()=>{o.current&&!l&&d>=0&&(o.current.scrollTop=d*a,u(!0))},[d,a,l]),c.jsxs("div",{className:`relative ${r}`,children:[c.jsx("div",{className:"absolute left-0 right-0 bg-blue-500/20 border-y-2 border-blue-500 pointer-events-none z-10",style:{top:"50%",transform:"translateY(-50%)",height:`${a}px`}}),c.jsx("div",{ref:o,className:"h-32 overflow-y-scroll scrollbar-hide",style:{scrollSnapType:"y mandatory",paddingTop:`${a}px`,paddingBottom:`${a}px`},onScroll:f,onTouchStart:()=>i(!0),onTouchEnd:()=>{i(!1),h()},onMouseDown:()=>i(!0),onMouseUp:()=>{i(!1),h()},children:t.map((m,x)=>c.jsx("div",{className:`flex items-center justify-center text-center select-none transition-all duration-200 cursor-pointer ${m===e?"text-blue-600 font-semibold text-lg":"text-gray-600 text-base"}`,style:{height:`${a}px`,scrollSnapAlign:"center"},onClick:()=>{n(m),o.current&&o.current.scrollTo({top:x*a,behavior:"smooth"})},children:m},m))})]})}function Pb({label:t,value:e,onChange:n,className:r=""}){const[s,i]=b.useState(!1),[o,a]=b.useState(e.date),[l,u]=b.useState(e.time),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=new Date().getFullYear(),h=new Date().getMonth(),m=ne=>h===11&&ne===0?f+1:h!==11&&ne===11?f-1:f,x=Array.from({length:12},(ne,se)=>String(se===0?12:se).padStart(2,"0")),p=Array.from({length:60},(ne,se)=>String(se).padStart(2,"0")),v=["AM","PM"],[y,g,w]=o.split("-"),_=parseInt(y),S=parseInt(g)-1,k=w,T=d[S],C=l.split(":"),M=parseInt(C[0]),A=C[1],F=M===0?"12":M>12?String(M-12).padStart(2,"0"):String(M).padStart(2,"0"),O=M>=12?"PM":"AM",V=new Date(_,S+1,0).getDate(),$=Array.from({length:V},(ne,se)=>String(se+1).padStart(2,"0")),I=()=>{const[ne,se,ge]=e.date.split("-"),ve=parseInt(se)-1,H=parseInt(ge),Z=e.time,[Fe,Pe]=Z.split(":"),be=parseInt(Fe),Me=be>=12?"PM":"AM",Ut=be===0?12:be>12?be-12:be;return`${d[ve]} ${H} at ${Ut}:${Pe} ${Me}`},z=ne=>{const se=d.indexOf(ne),ge=m(se),ve=Math.min(parseInt(k),new Date(ge,se+1,0).getDate()),H=`${ge}-${String(se+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`;a(H)},B=ne=>{const se=m(S),ge=`${se}-${String(S+1).padStart(2,"0")}-${String(parseInt(ne)).padStart(2,"0")}`;console.log("🗓️ Day Change Debug:",{selectedDay:ne,selectedMonthIndex:S,yearForMonth:se,newDate:ge,tempDate:o}),a(ge)},j=ne=>{const se=O==="AM"?ne==="12"?0:parseInt(ne):ne==="12"?12:parseInt(ne)+12;u(`${String(se).padStart(2,"0")}:${A}`)},R=ne=>{const se=O==="AM"?F==="12"?0:parseInt(F):F==="12"?12:parseInt(F)+12;u(`${String(se).padStart(2,"0")}:${ne}`)},D=ne=>{const se=parseInt(F),ge=ne==="AM"?se===12?0:se:se===12?12:se+12;u(`${String(ge).padStart(2,"0")}:${A}`)},W=()=>{console.log("💾 DateTime Save Debug:",{tempDate:o,tempTime:l,formatDisplayValue:I()}),n({date:o,time:l}),i(!1)},G=()=>{a(e.date),u(e.time),i(!1)};return s?c.jsx("div",{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 ${r}`,children:c.jsx(ce,{className:"bg-white max-w-md w-full max-h-[90vh] overflow-hidden",children:c.jsxs(de,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:t}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Month"}),c.jsx(Rl,{options:d,value:T,onChange:z})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Day"}),c.jsx(Rl,{options:$,value:k,onChange:B})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Hour"}),c.jsx(Rl,{options:x,value:F,onChange:j})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Min"}),c.jsx(Rl,{options:p,value:A,onChange:R})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"AM/PM"}),c.jsx(Rl,{options:v,value:O,onChange:D})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(K,{variant:"outline",onClick:G,className:"flex-1",children:"Cancel"}),c.jsx(K,{onClick:W,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})}):c.jsxs("div",{className:r,children:[c.jsx("label",{className:"text-white mb-2 block text-sm font-medium",children:t}),c.jsx(ce,{className:"bg-gray-800 border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>i(!0),children:c.jsx(de,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-white",children:I()}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})})]})}const p8=[{value:"walking",label:"Walking",icon:"fa-walking"},{value:"running",label:"Running",icon:"fa-running"},{value:"cycling",label:"Cycling",icon:"fa-biking"},{value:"sleep",label:"Sleep",icon:"fa-bed"}],rd="journey_custom_activities";function g8(){const[t,e]=Et(),{toast:n}=Xt(),r=Un(),[s,i]=b.useState(""),[o,a]=b.useState({date:Lm(new Date),time:"09:00"}),[l,u]=b.useState({date:Lm(new Date),time:"10:00"}),[d,f]=b.useState(new Date),[h,m]=b.useState(!1),[x,p]=b.useState(!1),[v,y]=b.useState(null),[g,w]=b.useState({activityType:"",startDateTime:{date:"",time:""},endDateTime:{date:"",time:""}}),[_,S]=b.useState(!1),{data:k=[]}=on({queryKey:["/api/custom-activities"],queryFn:async()=>{const j=T();if(j)return j;const R=await Ue("GET","/api/custom-activities");return C(R),R}}),T=()=>{try{const j=localStorage.getItem(rd);if(!j)return null;const R=JSON.parse(j),W=Date.now()-R.timestamp,G=24*60*60*1e3;return W>G?(localStorage.removeItem(rd),null):R.data}catch{return localStorage.removeItem(rd),null}},C=j=>{try{const R={data:j,timestamp:Date.now()};localStorage.setItem(rd,JSON.stringify(R))}catch(R){console.error("Error caching custom activities:",R)}},M=k.map(j=>({value:`custom-${j.id}`,label:j.name.toUpperCase(),icon:j.icon})),A=[...p8,...M];b.useEffect(()=>{if(h)return;const j=new URLSearchParams(window.location.search),R=j.get("activity"),D=j.get("edit"),W=j.get("activityType"),G=j.get("startTime"),ne=j.get("endTime"),se=j.get("date");if(console.log("🔍 Add-Activity URL Debug - dateParam from URL:",se),console.log("🔍 Add-Activity URL Debug - current selectedDate before update:",d),se){const ge=new Date(se),ve=Lm(ge);console.log("🔍 Add-Activity URL Debug - creating new Date from dateParam:",ge),f(ge),D||(a(H=>({...H,date:ve})),u(H=>({...H,date:ve}))),console.log("🔍 Add-Activity URL Debug - set selectedDate to:",ge)}else console.log("🔍 Add-Activity URL Debug - NO dateParam found, keeping default selectedDate:",d);if(D&&W&&G&&ne){p(!0),y(parseInt(D));let ge=W.toLowerCase();const ve=k.find(be=>be.name.toLowerCase()===W.toLowerCase());ve&&(ge=`custom-${ve.id}`),i(ge);const H=new Date(G),Z=new Date(ne),Fe={date:Be(H,"yyyy-MM-dd"),time:Be(H,"HH:mm")},Pe={date:Be(Z,"yyyy-MM-dd"),time:Be(Z,"HH:mm")};a(Fe),u(Pe),w({activityType:ge,startDateTime:Fe,endDateTime:Pe}),window.history.replaceState({},"","/add-activity")}else R&&(i(R),window.history.replaceState({},"","/add-activity"));m(!0)},[k,h]),b.useEffect(()=>{if(x){const j=s!==g.activityType||o.date!==g.startDateTime.date||o.time!==g.startDateTime.time||l.date!==g.endDateTime.date||l.time!==g.endDateTime.time;S(j)}},[s,o,l,g,x]);const F=Ft({mutationFn:async j=>{console.log("Frontend sending activity data:",j);try{const R=await Ue("POST","/api/activities",j);return console.log("Frontend received result:",R),R}catch(R){throw console.error("Frontend API request error:",R),R}},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity added successfully!"});const j=o.date;console.log("🏠 Navigation Debug - Returning to home with date:",j,"startDateTime.date:",o.date),e(`/?date=${j}`)},onError:j=>{console.error("Frontend mutation error:",j),n({title:"Error",description:"Failed to add activity. Please try again.",variant:"destructive"})}}),O=Ft({mutationFn:async j=>await Ue("PUT",`/api/activities/${v}`,j),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity updated successfully!"});const j=o.date;e(`/?date=${j}`)},onError:j=>{n({title:"Error",description:"Failed to update activity. Please try again.",variant:"destructive"})}}),V=Ft({mutationFn:async()=>await Ue("DELETE",`/api/activities/${v}`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity deleted successfully!"});const j=o.date;e(`/?date=${j}`)},onError:j=>{n({title:"Error",description:"Failed to delete activity. Please try again.",variant:"destructive"})}}),$=()=>{if(!s||!o.time||!l.time){n({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}let j=s;if(s.startsWith("custom-")){const se=parseInt(s.replace("custom-","")),ge=k.find(ve=>ve.id===se);j=ge?ge.name:s}const R=sj(o.time,l.time,j);if(!R){n({title:"Invalid Time",description:j==="sleep"?"Please check your sleep times.":"End time must be after start time.",variant:"destructive"});return}let D=jb(o.date,o.time),W=jb(l.date,l.time);W=OU(D,W,j);const G=UD(o.date),ne={activityType:j,startTime:D.toISOString(),endTime:W.toISOString(),durationMinutes:R.hours*60+R.minutes,date:G.toISOString()};console.log("🚀🚀🚀 DETAILED Activity Creation Debug:"),console.log("1. Start DateTime Input:",o),console.log("2. End DateTime Input:",l),console.log("3. Activity Type:",j),console.log("4. Created startDateTimeObj:",D),console.log("5. Created startDateTimeObj toString():",D.toString()),console.log("6. Created startDateTimeObj toISOString():",D.toISOString()),console.log("7. Created endDateTimeObj:",W),console.log("8. Created endDateTimeObj toString():",W.toString()),console.log("9. Created endDateTimeObj toISOString():",W.toISOString()),console.log("10. Clean Date Object:",G),console.log("11. Clean Date toString():",G.toString()),console.log("12. Clean Date toISOString():",G.toISOString()),console.log("13. Duration:",R),console.log("14. Final Activity Data:",ne),x?O.mutate(ne):F.mutate(ne)},I=()=>{window.confirm("Are you sure you want to delete this activity?")&&V.mutate()},z=()=>{const j=A.find(R=>R.value===s);return j?j.icon:"fa-dumbbell"},B=()=>{const j=A.find(R=>R.value===s);return j?j.label:"SELECT ACTIVITY"};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{const j=o.date;e(`/?date=${j}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:x?"EDIT ACTIVITY":"ADD ACTIVITY"}),c.jsx("div",{onClick:()=>{const j=o.date;e(`/?date=${j}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx(ce,{className:"mb-6 bg-gray-800 border-0 cursor-pointer hover:bg-gray-700 transition-all duration-200",onClick:()=>e("/select-activity"),children:c.jsx(de,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${z()} text-gray-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:B()})]}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DATE & TIME"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pb,{label:"Start Date & Time",value:o,onChange:a}),c.jsx(Pb,{label:"End Date & Time",value:l,onChange:u})]})]}),c.jsx(K,{onClick:$,disabled:x?!_||O.isPending:F.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:x?O.isPending?"UPDATING...":"UPDATE":F.isPending?"SAVING...":"SAVE"}),x&&c.jsx(K,{onClick:I,disabled:V.isPending,variant:"destructive",className:"w-full py-3 rounded-lg transition-all duration-200 mb-8",children:V.isPending?"DELETING...":"DELETE ACTIVITY"})]})]})}const y8=[{id:"ALL",label:"ALL",active:!0},{id:"STRAIN",label:"STRAIN",active:!1},{id:"RECOVERY",label:"RECOVERY",active:!1},{id:"SLEEP",label:"SLEEP",active:!1}],zm=[{id:"walking",label:"WALKING",icon:"fa-walking",category:"STRAIN"},{id:"running",label:"RUNNING",icon:"fa-running",category:"STRAIN"},{id:"cycling",label:"CYCLING",icon:"fa-biking",category:"STRAIN"},{id:"sleep",label:"SLEEP",icon:"fa-bed",category:"RECOVERY"}],x8=["sleep"],Vm="journey_custom_activities",sd="journey_recent_activities",$m="journey_pinned_activities",v8=24,b8=5;function w8(){const[,t]=Et(),{toast:e}=Xt(),n=Un(),[r,s]=b.useState(""),[i,o]=b.useState("ALL"),[a,l]=b.useState([]),[u,d]=b.useState("");b.useEffect(()=>{const I=y();l(I)},[]);const{data:f=[],isLoading:h}=on({queryKey:["/api/custom-activities"],queryFn:async()=>{const I=x(Vm);if(I)return I;const z=await Ue("GET","/api/custom-activities");return p(Vm,z),z}}),m=Ft({mutationFn:async I=>await Ue("POST","/api/custom-activities",I),onSuccess:I=>{const z=[...f,I];p(Vm,z);const B=x(sd)||zm,j={id:`custom-${I.id}`,label:I.name.toUpperCase(),icon:I.icon,category:I.category,isCustom:!0},R=B.filter(W=>W.id!==j.id),D=[j,...R].slice(0,3);p(sd,D),n.invalidateQueries({queryKey:["/api/custom-activities"]}),e({title:"Success",description:`"${I.name.toUpperCase()}" added to your activities!`}),V(j.id)},onError:I=>{I.status===409?e({title:"Activity exists",description:"This activity is already in your list.",variant:"destructive"}):e({title:"Error",description:"Failed to add custom activity. Please try again.",variant:"destructive"})}}),x=I=>{try{const z=localStorage.getItem(I);if(!z)return null;const B=JSON.parse(z),R=Date.now()-B.timestamp,D=v8*60*60*1e3;return R>D?(localStorage.removeItem(I),null):B.data}catch(z){return console.error(`Error reading cached data for ${I}:`,z),localStorage.removeItem(I),null}},p=(I,z)=>{try{const B={data:z,timestamp:Date.now()};localStorage.setItem(I,JSON.stringify(B))}catch(B){console.error(`Error caching data for ${I}:`,B)}},v=()=>x(sd)||zm,y=()=>x($m)||x8,g=I=>{const z=y();if(z.includes(I)){const j=z.filter(R=>R!==I);l(j),p($m,j)}else{if(z.length>=b8){d("Pin limit reached! Unpin an activity to add another."),setTimeout(()=>d(""),3e3);return}const j=[...z,I];l(j),p($m,j)}},w=I=>{const B=v().filter(R=>R.id!==I.id),j=[I,...B].slice(0,3);p(sd,j)},_=()=>{const I=f.map(z=>({id:`custom-${z.id}`,label:z.name.toUpperCase(),icon:z.icon,category:z.category,isCustom:!0}));return[...zm,...I]},k=(()=>{if(!r.trim()){const B=v();return i==="ALL"?B:B.filter(j=>j.category===i)}return _().filter(B=>{const j=B.label.toLowerCase().includes(r.toLowerCase()),R=i==="ALL"||B.category===i;return j&&R})})(),T=()=>r.trim()?[]:_().filter(z=>a.includes(z.id)),C=()=>r.trim()?k:k.filter(I=>!a.includes(I.id)),M=T(),A=C(),F=r.trim()&&k.length===0,O=({activity:I,showPinButton:z=!0})=>{const B=a.includes(I.id);return c.jsx(ce,{className:"mb-3 bg-gray-800 border-0",children:c.jsx(de,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1 cursor-pointer",onClick:()=>V(I.id),children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${I.icon} text-blue-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:I.label})]}),z&&c.jsx(K,{onClick:j=>{j.stopPropagation(),g(I.id)},variant:"ghost",size:"sm",className:"p-2 hover:bg-gray-700",children:c.jsx("i",{className:`fas fa-thumbtack ${B?"text-yellow-400":"text-gray-400"} transform ${B?"rotate-45":""} transition-all duration-200`})})]})})},I.id)},V=I=>{const B=_().find(j=>j.id===I);B&&w(B),t(`/add-activity?activity=${I}`)},$=()=>{if(!r.trim()){e({title:"Error",description:"Please enter an activity name.",variant:"destructive"});return}const I=i==="ALL"?"STRAIN":i,z=r.trim().toLowerCase();m.mutate({name:z,category:I,icon:"fa-dumbbell"})};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-center p-4 mb-6 relative",children:[c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>t("/add-activity"),className:"absolute left-4 p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"SELECT ACTIVITY"})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx(ke,{type:"text",placeholder:"Search activities",value:r,onChange:I=>s(I.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-400"})]})}),c.jsx("div",{className:"flex space-x-4 mb-6 overflow-x-auto",children:y8.map(I=>c.jsx(K,{variant:"ghost",onClick:()=>o(I.id),className:`whitespace-nowrap px-4 py-2 text-sm font-medium transition-all duration-200 ${i===I.id?"text-white border-b-2 border-white bg-transparent hover:bg-white/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:I.label},I.id))}),u&&c.jsx("div",{className:"mb-4 p-3 bg-purple-600/90 text-white rounded-lg animate-in slide-in-from-top duration-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-300"}),c.jsx("span",{className:"text-sm font-medium",children:u})]})}),F&&c.jsx(ce,{className:"mb-6 bg-gray-800 border-0",children:c.jsx(de,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-plus text-blue-400 text-lg"})}),c.jsxs("span",{className:"text-white font-medium",children:['Add "',r.toUpperCase(),'" to activities']})]}),c.jsx(K,{onClick:$,disabled:m.isPending,className:"bg-blue-600 hover:bg-blue-500 text-white px-6",children:m.isPending?"ADDING...":"ADD"})]})})}),r.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"SEARCH RESULTS"})}),c.jsx("div",{className:"space-y-3 mb-8",children:k.map(I=>c.jsx(O,{activity:I,showPinButton:!0},I.id))})]}),!r.trim()&&M.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"PINNED"})}),c.jsx("div",{className:"space-y-3 mb-6",children:M.map(I=>c.jsx(O,{activity:I,showPinButton:!0},I.id))})]}),!r.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"RECENT ACTIVITIES"})}),c.jsx("div",{className:"space-y-3 mb-8",children:A.map(I=>c.jsx(O,{activity:I,showPinButton:!0},I.id))})]}),k.length===0&&!F&&r.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"No activities found matching your search"})}),h&&!r.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"Loading recent activities..."})})]})]})}function _8(){const[,t]=Et(),{toast:e}=Xt(),n=Un(),[r,s]=b.useState(""),[i,o]=b.useState(""),[a,l]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(new Date);b.useEffect(()=>{const v=new URLSearchParams(window.location.search).get("date");v&&h(new Date(v))},[]);const m=Ft({mutationFn:async p=>{console.log("Frontend sending macro data:",p);try{const v=await Ue("POST","/api/macros",p);return console.log("Frontend received result:",v),v}catch(v){throw console.error("Frontend API request error:",v),v}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/macros"]});const p=f.toISOString().split("T")[0];n.invalidateQueries({queryKey:[`/api/macros/date/${p}`]}),e({title:"Success",description:"Macros added successfully!"});const v=Be(f,"yyyy-MM-dd");t(`/?date=${v}`)},onError:p=>{console.error("Frontend mutation error:",p),e({title:"Error",description:"Failed to add macros. Please try again.",variant:"destructive"})}}),x=()=>{if(!r.trim()||!i||!a||!u){e({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const p={description:r.trim(),protein:parseFloat(i),fats:parseFloat(a),carbs:parseFloat(u),date:f.toISOString()};m.mutate(p)};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{const p=Be(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"ADD MACROS"}),c.jsx("div",{onClick:()=>{const p=Be(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DESCRIPTION"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(de,{className:"p-4",children:c.jsx(Ax,{placeholder:"e.g., Breakfast, Lunch, Snack...",value:r,onChange:p=>s(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 resize-none focus:ring-0 focus:outline-none",rows:3})})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"MACRONUTRIENTS (GRAMS)"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ze,{className:"text-white mb-2 block",children:"Protein"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(de,{className:"p-4",children:c.jsx(ke,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:i,onChange:p=>o(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(ze,{className:"text-white mb-2 block",children:"Fats"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(de,{className:"p-4",children:c.jsx(ke,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:a,onChange:p=>l(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(ze,{className:"text-white mb-2 block",children:"Carbs"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(de,{className:"p-4",children:c.jsx(ke,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:u,onChange:p=>d(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]})]})]}),c.jsx(K,{onClick:x,disabled:m.isPending,className:"w-full bg-white/20 hover:bg-white/30 text-white py-4 rounded-lg text-lg font-medium transition-all duration-200 disabled:opacity-50",children:m.isPending?"SAVING...":"SAVE"})]})]})}function xl(){return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Kt,{children:c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"Quick Actions"})}),c.jsx(de,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(fs,{href:"/progress",children:c.jsxs(K,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #ec4899, #db2777)",boxShadow:"0 10px 25px rgba(236, 72, 153, 0.3)"},children:[c.jsx("i",{className:"fas fa-plus text-lg"}),c.jsx("span",{className:"text-sm",children:"Log Progress"})]})}),c.jsx(fs,{href:"/photos",children:c.jsxs(K,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #2dd4bf, #14b8a6)",boxShadow:"0 10px 25px rgba(45, 212, 191, 0.3)"},children:[c.jsx("i",{className:"fas fa-camera text-lg"}),c.jsx("span",{className:"text-sm",children:"Add Photos"})]})}),c.jsx(fs,{href:"/goals",children:c.jsxs(K,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #fbbf24, #f59e0b)",boxShadow:"0 10px 25px rgba(251, 191, 36, 0.3)"},children:[c.jsx("i",{className:"fas fa-target text-lg"}),c.jsx("span",{className:"text-sm",children:"View Goals"})]})}),c.jsx(fs,{href:"/workouts",children:c.jsxs(K,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #a855f7, #9333ea)",boxShadow:"0 10px 25px rgba(168, 85, 247, 0.3)"},children:[c.jsx("i",{className:"fas fa-dumbbell text-lg"}),c.jsx("span",{className:"text-sm",children:"Workouts"})]})})]})})]})}function S8({isOpen:t,onClose:e,date1:n,date2:r,date1Photos:s,date2Photos:i,selectedPhotos:o,onPhotoSelect:a}){const[l,u]=b.useState({scale:1,x:0,y:0}),[d,f]=b.useState({scale:1,x:0,y:0}),[h,m]=b.useState(!1),[x,p]=b.useState(!1),[v,y]=b.useState({x:0,y:0}),[g,w]=b.useState({x:0,y:0}),[_,S]=b.useState(null),[k,T]=b.useState(null),C=b.useRef(null),M=b.useRef(null),A=D=>{try{const W=Ex(D);return Be(W,"MMM d, yyyy")}catch{return D}},F=D=>{D===1?u({scale:1,x:0,y:0}):f({scale:1,x:0,y:0})},O=(D,W)=>{D.preventDefault();const G=D.deltaY*-.01,ne=Math.min(Math.max(.5,(W===1?l.scale:d.scale)+G),3);W===1?u(se=>({...se,scale:ne})):f(se=>({...se,scale:ne}))},V=(D,W)=>{D.preventDefault(),W===1?(m(!0),y({x:D.clientX-l.x,y:D.clientY-l.y})):(p(!0),w({x:D.clientX-d.x,y:D.clientY-d.y}))},$=D=>{h&&u(W=>({...W,x:D.clientX-v.x,y:D.clientY-v.y})),x&&f(W=>({...W,x:D.clientX-g.x,y:D.clientY-g.y}))},I=()=>{m(!1),p(!1)},z=D=>{if(D.length<2)return 0;const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},B=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1?(m(!0),y({x:G.clientX-l.x,y:G.clientY-l.y})):(p(!0),w({x:G.clientX-d.x,y:G.clientY-d.y}))}else if(D.touches.length===2){const G=z(D.touches);W===1?(S(G),m(!1)):(T(G),p(!1))}},j=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1&&h?u(ne=>({...ne,x:G.clientX-v.x,y:G.clientY-v.y})):W===2&&x&&f(ne=>({...ne,x:G.clientX-g.x,y:G.clientY-g.y}))}else if(D.touches.length===2){const G=z(D.touches),ne=W===1?_:k;if(ne){const se=G/ne,ve=Math.min(Math.max(.5,(W===1?l:d).scale*se),3);W===1?(u(H=>({...H,scale:ve})),S(G)):(f(H=>({...H,scale:ve})),T(G))}}},R=(D,W)=>{D.touches.length===0?(m(!1),p(!1),S(null),T(null)):D.touches.length===1&&(W===1?S(null):T(null))};return b.useEffect(()=>{if(h||x)return document.addEventListener("mousemove",$),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",I)}},[h,x,v,g]),c.jsx(ji,{open:t,onOpenChange:e,children:c.jsx(Ts,{className:"max-w-[95vw] max-h-[76vh] w-full h-full p-4",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Photo Comparison"}),c.jsx(K,{onClick:e,variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-800",children:c.jsx("i",{className:"fas fa-times"})})]}),(o.date1Photo||o.date2Photo)&&c.jsxs("div",{className:"flex-1 flex gap-4 mb-4 min-h-0",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:A(n)}),o.date1Photo&&c.jsx(K,{onClick:()=>F(1),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:C,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>O(D,1),onMouseDown:D=>V(D,1),onTouchStart:D=>B(D,1),onTouchMove:D=>j(D,1),onTouchEnd:D=>R(D,1),style:{userSelect:"none",touchAction:"none"},children:o.date1Photo?c.jsx("img",{src:o.date1Photo.imageUrl,alt:`Photo from ${A(n)}`,className:"w-full h-full object-contain",style:{transform:`scale(${l.scale}) translate(${l.x/l.scale}px, ${l.y/l.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",A(n)]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:A(r)}),o.date2Photo&&c.jsx(K,{onClick:()=>F(2),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:M,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>O(D,2),onMouseDown:D=>V(D,2),onTouchStart:D=>B(D,2),onTouchMove:D=>j(D,2),onTouchEnd:D=>R(D,2),style:{userSelect:"none",touchAction:"none"},children:o.date2Photo?c.jsx("img",{src:o.date2Photo.imageUrl,alt:`Photo from ${A(r)}`,className:"w-full h-full object-contain",style:{transform:`scale(${d.scale}) translate(${d.x/d.scale}px, ${d.y/d.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",A(r)]})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:A(n)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=o.date1Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>a(D,0),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:A(r)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=o.date2Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>a(D,1),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]})]})]})})})}function N8(){const[,t]=Et(),[e,n]=b.useState("newest"),[r,s]=b.useState(!1),[i,o]=b.useState(null),[a,l]=b.useState(0),[u,d]=b.useState([]),[f,h]=b.useState(!1),[m,x]=b.useState("setup"),[p,v]=b.useState(!1),{user:y}=Oo(),[g,w]=b.useState(!1),[_,S]=b.useState(!1),[k,T]=b.useState([]),[C,M]=b.useState(!1),[A,F]=b.useState({}),{data:O=[],isLoading:V}=on({queryKey:["/api/photos"]});b.useEffect(()=>{y&&(y.photosPinEnabled===null?(x("setup"),h(!0)):y.photosPinEnabled===!0?(x("verify"),h(!0)):v(!0))},[y]);const $=()=>{v(!0)},I=()=>{S(!0),T([])},z=H=>{if(k.includes(H))T(k.filter(Z=>Z!==H));else if(k.length<2){const Z=[...k,H];T(Z),Z.length===2&&M(!0)}},B=()=>{S(!1),T([]),M(!1),F({})},j=(H,Z)=>{F(Z===0?Fe=>({...Fe,date1Photo:H}):Fe=>({...Fe,date2Photo:H}))},R={};O.forEach(H=>{const Z=H.date;R[Z]||(R[Z]=[]),R[Z].push(H)});const D=Object.keys(R).sort((H,Z)=>e==="newest"?new Date(Z).getTime()-new Date(H).getTime():new Date(H).getTime()-new Date(Z).getTime()),W=()=>{window.history.length>1?window.history.back():t("/")},G=H=>{if(H.thumbnailUrl)return H.thumbnailUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?thumbnail=true&token=${Z}`:"/placeholder-image.jpg"},ne=H=>{if(H.imageUrl)return H.imageUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?token=${Z}`:"/placeholder-image.jpg"},se=(H,Z)=>{o(H),d(Z),l(Z.findIndex(Fe=>Fe.id===H.id)),w(!1),s(!0)},ge=H=>{if(u.length===0)return;let Z;H==="prev"?Z=a>0?a-1:u.length-1:Z=a<u.length-1?a+1:0,l(Z),o(u[Z]),w(!1)};b.useEffect(()=>{const H=Z=>{r&&(Z.key==="ArrowLeft"?ge("prev"):Z.key==="ArrowRight"?ge("next"):Z.key==="Escape"&&s(!1))};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[r,a,u]);const ve=H=>{try{const Z=Ex(H);return Be(Z,"EEEE, MMMM d, yyyy")}catch{return H}};return V||!p?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Photos",showBackButton:!1,onBack:W}),c.jsx("div",{className:"flex items-center justify-center pt-[calc(env(safe-area-inset-top)+6rem)]",children:V&&c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),c.jsx(o2,{isOpen:f,onClose:()=>h(!1),mode:m,onSuccess:$})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Photos",showBackButton:!1,onBack:W}),c.jsxs("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsx(K,{onClick:_?B:I,variant:_?"destructive":"default",size:"sm",className:`${_?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:_?"EXIT":"COMPARE"})}),c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsxs(K,{variant:"default",size:"sm",onClick:()=>n(e==="newest"?"oldest":"newest"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[c.jsx("i",{className:`fas ${e==="newest"?"fa-arrow-up":"fa-arrow-down"} mr-2`}),"Sort"]})})]}),D.length>0?c.jsx("div",{className:"space-y-8",children:D.map(H=>{const Z=R[H],Fe=Z.slice(0,5),Pe=Z.length>5;return c.jsxs("div",{className:`space-y-3 relative ${_?"cursor-pointer":""}`,onClick:_?()=>z(H):void 0,children:[c.jsxs("div",{className:"flex justify-end items-center",children:[_&&c.jsx("div",{className:"mr-4",children:c.jsx("input",{type:"checkbox",checked:k.includes(H),onChange:()=>z(H),className:"w-5 h-5 text-blue-600 rounded",disabled:!k.includes(H)&&k.length>=2})}),c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:ve(H)}),c.jsxs("p",{className:"text-sm text-gray-600",children:[Z.length," photo",Z.length!==1?"s":""]})]})]}),c.jsxs("div",{className:`bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl relative ${_&&!k.includes(H)?"opacity-50":""}`,children:[_&&!k.includes(H)&&c.jsx("div",{className:"absolute inset-0 bg-gray-600/50 rounded-xl z-10 pointer-events-none"}),c.jsxs("div",{className:"grid gap-3",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",maxWidth:"100%"},children:[Fe.map((be,Me)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>se(be,Z),children:[c.jsx("img",{src:G(be),alt:`Photo ${Me+1} from ${ve(H)}`,className:"w-full h-full object-cover",loading:"lazy"}),c.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:Me+1})]},be.id)),Pe&&c.jsx("div",{className:"relative aspect-square bg-gray-200 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-300 transition-colors duration-200 flex items-center justify-center",onClick:()=>se(Z[5],Z),children:c.jsxs("div",{className:"text-center text-gray-600",children:[c.jsx("i",{className:"fas fa-plus text-2xl mb-2"}),c.jsxs("p",{className:"text-sm font-medium",children:["+",Z.length-5," more"]})]})})]})]})]},H)})}):c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-camera text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Photos Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start your fitness journey by adding progress photos from the dashboard."}),c.jsxs(K,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),c.jsx(xl,{})]})]}),c.jsx(ji,{open:r,onOpenChange:s,children:c.jsxs(Ts,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Pi,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsx(Ei,{className:"text-center text-lg font-semibold",children:i&&c.jsxs(c.Fragment,{children:["Photo ",a+1," of ",u.length,c.jsx("span",{className:"block text-sm text-gray-600 font-normal",children:ve(i.date)})]})})}),i&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[u.length>1&&c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>ge("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!g&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:ne(i),alt:`Photo from ${ve(i.date)}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${g?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>w(!0),onError:()=>w(!0)})]}),u.length>1&&c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>ge("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:i==null?void 0:i.originalName}),c.jsx("div",{className:"text-xs text-gray-400",children:"Press ← → to navigate • ESC to close"})]})]})}),C&&k.length===2&&c.jsx(S8,{isOpen:C,onClose:B,date1:k[0],date2:k[1],date1Photos:R[k[0]]||[],date2Photos:R[k[1]]||[],selectedPhotos:A,onPhotoSelect:j})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Tu(t){return t+.5|0}const ri=(t,e,n)=>Math.max(Math.min(t,n),e);function ql(t){return ri(Tu(t*2.55),0,255)}function hi(t){return ri(Tu(t*255),0,255)}function os(t){return ri(Tu(t/2.55)/100,0,1)}function Eb(t){return ri(Tu(t*100),0,100)}const Yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mg=[..."0123456789ABCDEF"],C8=t=>Mg[t&15],k8=t=>Mg[(t&240)>>4]+Mg[t&15],id=t=>(t&240)>>4===(t&15),T8=t=>id(t.r)&&id(t.g)&&id(t.b)&&id(t.a);function j8(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Yn[t[1]]*17,g:255&Yn[t[2]]*17,b:255&Yn[t[3]]*17,a:e===5?Yn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Yn[t[1]]<<4|Yn[t[2]],g:Yn[t[3]]<<4|Yn[t[4]],b:Yn[t[5]]<<4|Yn[t[6]],a:e===9?Yn[t[7]]<<4|Yn[t[8]]:255})),n}const P8=(t,e)=>t<255?e(t):"";function E8(t){var e=T8(t)?C8:k8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+P8(t.a,e):void 0}const M8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function a2(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function D8(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function A8(t,e,n){const r=a2(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function O8(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Ox(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=O8(n,r,s,d,i),l=l*60+.5),[l|0,u||0,a]}function Rx(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(hi)}function Ix(t,e,n){return Rx(a2,t,e,n)}function R8(t,e,n){return Rx(A8,t,e,n)}function I8(t,e,n){return Rx(D8,t,e,n)}function l2(t){return(t%360+360)%360}function F8(t){const e=M8.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ql(+e[5]):hi(+e[5]));const s=l2(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=R8(s,i,o):e[1]==="hsv"?r=I8(s,i,o):r=Ix(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function L8(t,e){var n=Ox(t);n[0]=l2(n[0]+e),n=Ix(n),t.r=n[0],t.g=n[1],t.b=n[2]}function z8(t){if(!t)return;const e=Ox(t),n=e[0],r=Eb(e[1]),s=Eb(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${os(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Mb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Db={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function V8(){const t={},e=Object.keys(Db),n=Object.keys(Mb);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,Mb[i]);i=parseInt(Db[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let od;function $8(t){od||(od=V8(),od.transparent=[0,0,0,0]);const e=od[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const B8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function U8(t){const e=B8.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?ql(o):ri(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?ql(r):ri(r,0,255)),s=255&(e[4]?ql(s):ri(s,0,255)),i=255&(e[6]?ql(i):ri(i,0,255)),{r,g:s,b:i,a:n}}}function W8(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${os(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Bm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Uo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function H8(t,e,n){const r=Uo(os(t.r)),s=Uo(os(t.g)),i=Uo(os(t.b));return{r:hi(Bm(r+n*(Uo(os(e.r))-r))),g:hi(Bm(s+n*(Uo(os(e.g))-s))),b:hi(Bm(i+n*(Uo(os(e.b))-i))),a:t.a+n*(e.a-t.a)}}function ad(t,e,n){if(t){let r=Ox(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ix(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function c2(t,e){return t&&Object.assign(e||{},t)}function Ab(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=hi(t[3]))):(e=c2(t,{r:0,g:0,b:0,a:1}),e.a=hi(e.a)),e}function Y8(t){return t.charAt(0)==="r"?U8(t):F8(t)}class Jc{constructor(e){if(e instanceof Jc)return e;const n=typeof e;let r;n==="object"?r=Ab(e):n==="string"&&(r=j8(e)||$8(e)||Y8(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=c2(this._rgb);return e&&(e.a=os(e.a)),e}set rgb(e){this._rgb=Ab(e)}rgbString(){return this._valid?W8(this._rgb):void 0}hexString(){return this._valid?E8(this._rgb):void 0}hslString(){return this._valid?z8(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=H8(this._rgb,e._rgb,n)),this}clone(){return new Jc(this.rgb)}alpha(e){return this._rgb.a=hi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Tu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ad(this._rgb,2,e),this}darken(e){return ad(this._rgb,2,-e),this}saturate(e){return ad(this._rgb,1,e),this}desaturate(e){return ad(this._rgb,1,-e),this}rotate(e){return L8(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zr(){}const q8=(()=>{let t=0;return()=>t++})();function rt(t){return t==null}function zt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function rr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Tr(t,e){return rr(t)?t:e}function De(t,e){return typeof t>"u"?e:t}const Q8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,u2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ot(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ge(t,e,n,r){let s,i,o;if(zt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if($e(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Bf(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Uf(t){if(zt(t))return t.map(Uf);if($e(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Uf(t[n[s]]);return e}return t}function d2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function K8(t,e,n,r){if(!d2(t))return;const s=e[t],i=n[t];$e(s)&&$e(i)?eu(s,i,r):e[t]=Uf(i)}function eu(t,e,n){const r=zt(e)?e:[e],s=r.length;if(!$e(t))return t;n=n||{};const i=n.merger||K8;let o;for(let a=0;a<s;++a){if(o=r[a],!$e(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],t,o,n)}return t}function fc(t,e){return eu(t,e,{merger:G8})}function G8(t,e,n){if(!d2(t))return;const r=e[t],s=n[t];$e(r)&&$e(s)?fc(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Uf(s))}const Ob={"":t=>t,x:t=>t.x,y:t=>t.y};function X8(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Z8(t){const e=X8(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function tu(t,e){return(Ob[e]||(Ob[e]=Z8(e)))(t)}function Fx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Wf=t=>typeof t<"u",Si=t=>typeof t=="function",Rb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function J8(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Xe=Math.PI,xt=2*Xe,eW=xt+Xe,Hf=Number.POSITIVE_INFINITY,tW=Xe/180,It=Xe/2,Fi=Xe/4,Ib=Xe*2/3,f2=Math.log10,el=Math.sign;function hc(t,e,n){return Math.abs(t-e)<n}function Fb(t){const e=Math.round(t);t=hc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(f2(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function nW(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function rW(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function nu(t){return!rW(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function sW(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function iW(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function hs(t){return t*(Xe/180)}function oW(t){return t*(180/Xe)}function Lb(t){if(!rr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function h2(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Xe&&(i+=xt),{angle:i,distance:s}}function Dg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function aW(t,e){return(t-e+eW)%xt-Xe}function fr(t){return(t%xt+xt)%xt}function ru(t,e,n,r){const s=fr(t),i=fr(e),o=fr(n),a=fr(i-s),l=fr(o-s),u=fr(s-i),d=fr(s-o);return s===i||s===o||r&&i===o||a>l&&u<d}function mn(t,e,n){return Math.max(e,Math.min(n,t))}function lW(t){return mn(t,-32768,32767)}function ia(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Lx(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Zi=(t,e,n,r)=>Lx(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),cW=(t,e,n)=>Lx(t,n,r=>t[r][e]>=n);function uW(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const m2=["push","pop","shift","splice","unshift"];function dW(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),m2.forEach(n=>{const r="_onData"+Fx(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function zb(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(m2.forEach(i=>{delete t[i]}),delete t._chartjs)}function fW(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const p2=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function g2(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,p2.call(window,()=>{r=!1,t.apply(e,n)}))}}function hW(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const zx=t=>t==="start"?"left":t==="end"?"right":"center",tn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,mW=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function pW(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:m,maxDefined:x}=o.getUserBounds();if(m){if(s=Math.min(Zi(l,d,f).lo,n?r:Zi(e,d,o.getPixelForValue(f)).lo),u){const p=l.slice(0,s+1).reverse().findIndex(v=>!rt(v[a.axis]));s-=Math.max(0,p)}s=mn(s,0,r-1)}if(x){let p=Math.max(Zi(l,o.axis,h,!0).hi+1,n?0:Zi(e,d,o.getPixelForValue(h),!0).hi+1);if(u){const v=l.slice(p-1).findIndex(y=>!rt(y[a.axis]));p+=Math.max(0,v)}i=mn(p,s,r)-s}else i=r-s}return{start:s,count:i}}function gW(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const ld=t=>t===0||t===1,Vb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*xt/n)),$b=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*xt/n)+1,mc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*It)+1,easeOutSine:t=>Math.sin(t*It),easeInOutSine:t=>-.5*(Math.cos(Xe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ld(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ld(t)?t:Vb(t,.075,.3),easeOutElastic:t=>ld(t)?t:$b(t,.075,.3),easeInOutElastic(t){return ld(t)?t:t<.5?.5*Vb(t*2,.1125,.45):.5+.5*$b(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-mc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?mc.easeInBounce(t*2)*.5:mc.easeOutBounce(t*2-1)*.5+.5};function Vx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bb(t){return Vx(t)?t:new Jc(t)}function Um(t){return Vx(t)?t:new Jc(t).saturate(.5).darken(.1).hexString()}const yW=["x","y","borderWidth","radius","tension"],xW=["color","borderColor","backgroundColor"];function vW(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xW},numbers:{type:"number",properties:yW}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function bW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ub=new Map;function wW(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Ub.get(n);return r||(r=new Intl.NumberFormat(t,e),Ub.set(n,r)),r}function $x(t,e,n){return wW(e,n).format(t)}const _W={values(t){return zt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=SW(t,n)}const o=f2(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$x(t,r,l)}};function SW(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var y2={formatters:_W};function NW(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:y2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Po=Object.create(null),Ag=Object.create(null);function pc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Wm(t,e,n){return typeof e=="string"?eu(pc(t,e),n):eu(pc(t,""),e)}class CW{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Um(s.backgroundColor),this.hoverBorderColor=(r,s)=>Um(s.borderColor),this.hoverColor=(r,s)=>Um(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Wm(this,e,n)}get(e){return pc(this,e)}describe(e,n){return Wm(Ag,e,n)}override(e,n){return Wm(Po,e,n)}route(e,n,r,s){const i=pc(this,e),o=pc(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return $e(l)?Object.assign({},u,l):De(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ct=new CW({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vW,bW,NW]);function kW(t){return!t||rt(t.size)||rt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Wb(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Li(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Hb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Og(t,e,n,r){x2(t,e,n,r,null)}function x2(t,e,n,r,s){let i,o,a,l,u,d,f,h;const m=e.pointStyle,x=e.rotation,p=e.radius;let v=(x||0)*tW;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(v),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,p,0,0,xt):t.arc(n,r,p,0,xt),t.closePath();break;case"triangle":d=s?s/2:p,t.moveTo(n+Math.sin(v)*d,r-Math.cos(v)*p),v+=Ib,t.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*p),v+=Ib,t.lineTo(n+Math.sin(v)*d,r-Math.cos(v)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,o=Math.cos(v+Fi)*l,f=Math.cos(v+Fi)*(s?s/2-u:l),a=Math.sin(v+Fi)*l,h=Math.sin(v+Fi)*(s?s/2-u:l),t.arc(n-f,r-a,u,v-Xe,v-It),t.arc(n+h,r-o,u,v-It,v),t.arc(n+f,r+a,u,v,v+It),t.arc(n-h,r+o,u,v+It,v+Xe),t.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*p,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}v+=Fi;case"rectRot":f=Math.cos(v)*(s?s/2:p),o=Math.cos(v)*p,a=Math.sin(v)*p,h=Math.sin(v)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":v+=Fi;case"cross":f=Math.cos(v)*(s?s/2:p),o=Math.cos(v)*p,a=Math.sin(v)*p,h=Math.sin(v)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(v)*(s?s/2:p),o=Math.cos(v)*p,a=Math.sin(v)*p,h=Math.sin(v)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),v+=Fi,f=Math.cos(v)*(s?s/2:p),o=Math.cos(v)*p,a=Math.sin(v)*p,h=Math.sin(v)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(v)*p,a=Math.sin(v)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(v)*(s?s/2:p),r+Math.sin(v)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function su(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Bx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ux(t){t.restore()}function TW(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function jW(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function PW(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),rt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function EW(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function MW(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function iu(t,e,n,r,s,i={}){const o=zt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,PW(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&MW(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),rt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),EW(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function Rg(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Xe,Xe,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Xe,It,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,It,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-It,!0),t.lineTo(n+o.topLeft,r)}const DW=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AW=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OW(t,e){const n=(""+t).match(DW);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const RW=t=>+t||0;function Wx(t,e){const n={},r=$e(e),s=r?Object.keys(e):e,i=$e(t)?r?o=>De(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=RW(i(o));return n}function IW(t){return Wx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gc(t){return Wx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function sr(t){const e=IW(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rn(t,e){t=t||{},e=e||Ct.font;let n=De(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=De(t.style,e.style);r&&!(""+r).match(AW)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:De(t.family,e.family),lineHeight:OW(De(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:De(t.weight,e.weight),string:""};return s.string=kW(s),s}function cd(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function FW(t,e,n){const{min:r,max:s}=t,i=u2(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Io(t,e){return Object.assign(Object.create(t),e)}function Hx(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=_2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Hx([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return b2(a,l,()=>HW(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return qb(a).includes(l)},ownKeys(a){return qb(a)},set(a,l,u){const d=a._storage||(a._storage=s());return a[l]=d[l]=u,delete a._keys,!0}})}function tl(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:v2(t,r),setContext:i=>tl(t,i,n,r),override:i=>tl(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return b2(i,o,()=>zW(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function v2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Si(n)?n:()=>n,isIndexable:Si(r)?r:()=>r}}const LW=(t,e)=>t?t+Fx(e):e,Yx=(t,e)=>$e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function b2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function zW(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Si(a)&&o.isScriptable(e)&&(a=VW(e,a,t,n)),zt(a)&&a.length&&(a=$W(e,a,t,o.isIndexable)),Yx(e,a)&&(a=tl(a,s,i&&i[e],o)),a}function VW(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),Yx(t,l)&&(l=qx(s._scopes,s,t,l)),l}function $W(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if($e(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=qx(u,s,t,d);e.push(tl(f,i,o&&o[t],a))}}return e}function w2(t,e,n){return Si(t)?t(e,n):t}const BW=(t,e)=>t===!0?e:typeof t=="string"?tu(e,t):void 0;function UW(t,e,n,r,s){for(const i of e){const o=BW(n,i);if(o){t.add(o);const a=w2(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function qx(t,e,n,r){const s=e._rootScopes,i=w2(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=Yb(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Yb(a,o,i,l,r),l===null)?!1:Hx(Array.from(a),[""],s,i,()=>WW(e,n,r))}function Yb(t,e,n,r,s){for(;n;)n=UW(t,e,n,r,s);return n}function WW(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return zt(s)&&$e(n)?n:s||{}}function HW(t,e,n,r){let s;for(const i of e)if(s=_2(LW(i,t),n),typeof s<"u")return Yx(t,s)?qx(n,r,t,s):s}function _2(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function qb(t){let e=t._keys;return e||(e=t._keys=YW(t._scopes)),e}function YW(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const qW=Number.EPSILON||1e-14,nl=(t,e)=>e<t.length&&!t[e].skip&&t[e],S2=t=>t==="x"?"y":"x";function QW(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=Dg(i,s),l=Dg(o,i);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,h=r*d;return{previous:{x:i.x-f*(o.x-s.x),y:i.y-f*(o.y-s.y)},next:{x:i.x+h*(o.x-s.x),y:i.y+h*(o.y-s.y)}}}function KW(t,e,n){const r=t.length;let s,i,o,a,l,u=nl(t,0);for(let d=0;d<r-1;++d)if(l=u,u=nl(t,d+1),!(!l||!u)){if(hc(e[d],0,qW)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*e[d],n[d+1]=i*o*e[d])}}function GW(t,e,n="x"){const r=S2(n),s=t.length;let i,o,a,l=nl(t,0);for(let u=0;u<s;++u){if(o=a,a=l,l=nl(t,u+1),!a)continue;const d=a[n],f=a[r];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${r}`]=f-i*e[u]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${r}`]=f+i*e[u])}}function XW(t,e="x"){const n=S2(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,u=nl(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=nl(t,o+1),!!l){if(u){const d=u[e]-l[e];s[o]=d!==0?(u[n]-l[n])/d:0}i[o]=a?u?el(s[o-1])!==el(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}KW(t,s,i),GW(t,i,e)}function ud(t,e,n){return Math.max(Math.min(t,n),e)}function ZW(t,e){let n,r,s,i,o,a=su(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&su(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=ud(s.cp1x,e.left,e.right),s.cp1y=ud(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=ud(s.cp2x,e.left,e.right),s.cp2y=ud(s.cp2y,e.top,e.bottom)))}function JW(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")XW(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=QW(u,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&ZW(t,n)}function Qx(){return typeof window<"u"&&typeof document<"u"}function Kx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yf(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Fh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function eH(t,e){return Fh(t).getPropertyValue(e)}const tH=["top","right","bottom","left"];function fo(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=tH[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const nH=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function rH(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(nH(s,i,t.target))a=s,l=i;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Wi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Fh(n),i=s.boxSizing==="border-box",o=fo(s,"padding"),a=fo(s,"border","width"),{x:l,y:u,box:d}=rH(t,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:m,height:x}=e;return i&&(m-=o.width+a.width,x-=o.height+a.height),{x:Math.round((l-f)/m*n.width/r),y:Math.round((u-h)/x*n.height/r)}}function sH(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Kx(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=Fh(i),l=fo(a,"border","width"),u=fo(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=Yf(a.maxWidth,i,"clientWidth"),s=Yf(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Hf,maxHeight:s||Hf}}const dd=t=>Math.round(t*10)/10;function iH(t,e,n,r){const s=Fh(t),i=fo(s,"margin"),o=Yf(s.maxWidth,t,"clientWidth")||Hf,a=Yf(s.maxHeight,t,"clientHeight")||Hf,l=sH(t,e,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const h=fo(s,"border","width"),m=fo(s,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=dd(Math.min(u,o,l.maxWidth)),d=dd(Math.min(d,a,l.maxHeight)),u&&!d&&(d=dd(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=dd(Math.floor(d*r))),{width:u,height:d}}function Qb(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const oH=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Kb(t,e){const n=eH(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Hi(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function aH(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function lH(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Hi(t,s,n),a=Hi(s,i,n),l=Hi(i,e,n),u=Hi(o,a,n),d=Hi(a,l,n);return Hi(u,d,n)}const cH=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},uH=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ba(t,e,n){return t?cH(e,n):uH()}function N2(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function C2(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function k2(t){return t==="angle"?{between:ru,compare:aW,normalize:fr}:{between:ia,compare:(e,n)=>e-n,normalize:e=>e}}function Gb({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function dH(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=k2(r),l=e.length;let{start:u,end:d,loop:f}=t,h,m;if(f){for(u+=l,d+=l,h=0,m=l;h<m&&o(a(e[u%l][r]),s,i);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function fH(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:u}=k2(r),{start:d,end:f,loop:h,style:m}=dH(t,e,n),x=[];let p=!1,v=null,y,g,w;const _=()=>l(s,w,y)&&a(s,w)!==0,S=()=>a(i,y)===0||l(i,w,y),k=()=>p||_(),T=()=>!p||S();for(let C=d,M=d;C<=f;++C)g=e[C%o],!g.skip&&(y=u(g[r]),y!==w&&(p=l(y,s,i),v===null&&k()&&(v=a(y,s)===0?C:M),v!==null&&T()&&(x.push(Gb({start:v,end:C,loop:h,count:o,style:m})),v=null),M=C,w=y));return v!==null&&x.push(Gb({start:v,end:f,loop:h,count:o,style:m})),x}function hH(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=fH(r[s],t.points,e);i.length&&n.push(...i)}return n}function mH(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function pH(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function gH(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=mH(n,s,i,r);if(r===!0)return Xb(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,u=!!t._fullLoop&&o===0&&a===s-1;return Xb(t,pH(n,o,l,u),n,e)}function Xb(t,e,n,r){return!r||!r.setContext||!n?e:yH(t,e,n,r)}function yH(t,e,n,r){const s=t._chart.getContext(),i=Zb(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=i,f=e[0].start,h=f;function m(x,p,v,y){const g=a?-1:1;if(x!==p){for(x+=l;n[x%l].skip;)x-=g;for(;n[p%l].skip;)p+=g;x%l!==p%l&&(u.push({start:x%l,end:p%l,loop:v,style:y}),d=y,f=p%l)}}for(const x of e){f=a?f:x.start;let p=n[f%l],v;for(h=f+1;h<=x.end;h++){const y=n[h%l];v=Zb(r.setContext(Io(s,{type:"segment",p0:p,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),xH(v,d)&&m(f,h-1,x.loop,d),p=y,d=v}f<h-1&&m(f,h-1,x.loop,d)}return u}function Zb(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xH(t,e){if(!e)return!1;const n=[],r=function(s,i){return Vx(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function fd(t,e,n){return t.options.clip?t[n]:e[n]}function vH(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:fd(n,e,"left"),right:fd(n,e,"right"),top:fd(r,e,"top"),bottom:fd(r,e,"bottom")}:e}function bH(t,e){const n=e._clip;if(n.disabled)return!1;const r=vH(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=p2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ts=new wH;const Jb="transparent",_H={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Bb(t||Jb),s=r.valid&&Bb(e||Jb);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class SH{constructor(e,n,r,s){const i=n[r];s=cd([e.to,s,i,e.from]);const o=cd([e.from,i,s]);this._active=!0,this._fn=e.fn||_H[e.type||typeof o],this._easing=mc[e.easing]||mc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=cd([e.to,n,s,e.from]),this._from=cd([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class T2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$e(e))return;const n=Object.keys(Ct.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!$e(i))return;const o={};for(const a of n)o[a]=i[a];(zt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=CH(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&NH(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}i[u]=f=new SH(h,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ts.add(this._chart,r),!0}}function NH(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function CH(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ew(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function kH(t,e,n){if(n===!1)return!1;const r=ew(t,n),s=ew(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function TH(t){let e,n,r,s;return $e(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function j2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function tw(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}u=t.values[l],rr(u)&&(i||e===0||el(e)===el(u))&&(e+=u)}return!d&&!r.all?0:e}function jH(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[s]:d,[i]:t[d]};return a}function Hm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function PH(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function EH(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function MH(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function nw(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function rw(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,u=o.axis,d=PH(i,o,r),f=e.length;let h;for(let m=0;m<f;++m){const x=e[m],{[l]:p,[u]:v}=x,y=x._stacks||(x._stacks={});h=y[u]=MH(s,d,p),h[a]=v,h._top=nw(h,o,!0,r.type),h._bottom=nw(h,o,!1,r.type);const g=h._visualValues||(h._visualValues={});g[a]=v}}function Ym(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function DH(t,e){return Io(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function AH(t,e,n){return Io(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Il(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const qm=t=>t==="reset"||t==="none",sw=(t,e)=>e?t:Object.assign({},t),OH=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:j2(n,!0),values:null};class wa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Il(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,m,x)=>f==="x"?h:f==="r"?x:m,i=n.xAxisID=De(r.xAxisID,Ym(e,"x")),o=n.yAxisID=De(r.yAxisID,Ym(e,"y")),a=n.rAxisID=De(r.rAxisID,Ym(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zb(this._data,this),e._stacked&&Il(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if($e(n)){const s=this._cachedMeta;this._data=jH(n,s)}else if(r!==n){if(r){zb(r,this);const s=this._cachedMeta;Il(s),s._parsed=[]}n&&Object.isExtensible(n)&&dW(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Hm(n.vScale,n),n.stack!==r.stack&&(s=!0,Il(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(rw(this,n._parsed),n._stacked=Hm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{zt(s[e])?h=this.parseArrayData(r,s,e,n):$e(s[e])?h=this.parseObjectData(r,s,e,n):h=this.parsePrimitiveData(r,s,e,n);const m=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<n;++d)r._parsed[d+e]=f=h[d],l&&(m()&&(l=!1),u=f);r._sorted=l}o&&rw(this,h)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,f=new Array(s);let h,m,x;for(h=0,m=s;h<m;++h)x=h+r,f[h]={[a]:d||i.parse(u[x],x),[l]:o.parse(n[x],x)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,u,d,f;for(l=0,u=s;l<u;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,f,h,m;for(d=0,f=s;d<f;++d)h=d+r,m=n[h],u[d]={x:i.parse(tu(m,a),h),y:o.parse(tu(m,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:j2(s,!0),values:n._stacks[e.axis]._visualValues};return tw(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=tw(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=OH(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=EH(a);let h,m;function x(){m=s[h];const p=m[a.axis];return!rr(m[e.axis])||d>p||f<p}for(h=0;h<o&&!(!x()&&(this.updateRangeFromParsed(u,e,m,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!x()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],rr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=TH(De(this.options.clip,kH(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=AH(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=DH(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&Wf(r);if(a)return sw(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(Ct.elements[e]),x=()=>this.getContext(r,s,n),p=u.resolveNamedOptions(h,m,x,f);return p.$shared&&(p.$shared=l,i[o]=Object.freeze(sw(p,l))),p}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,r,n))}const u=new T2(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||qm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){qm(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!qm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Il(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}N(wa,"defaults",{}),N(wa,"datasetElementType",null),N(wa,"dataElementType",null);function RH(t,e,n){let r=1,s=1,i=0,o=0;if(e<xt){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),m=(w,_,S)=>ru(w,a,l,!0)?1:Math.max(_,_*n,S,S*n),x=(w,_,S)=>ru(w,a,l,!0)?-1:Math.min(_,_*n,S,S*n),p=m(0,u,f),v=m(It,d,h),y=x(Xe,u,f),g=x(Xe+It,d,h);r=(p-y)/2,s=(v-g)/2,i=-(p+y)/2,o=-(v+g)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class Ql extends wa{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if($e(r[e])){const{key:l="value"}=this._parsing;i=u=>+tu(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return hs(this.options.rotation-90)}_getCircumference(){return hs(this.options.circumference)}_getRotationExtents(){let e=xt,n=-xt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(Q8(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:x,offsetY:p}=RH(f,d,l),v=(r.width-o)/h,y=(r.height-o)/m,g=Math.max(Math.min(v,y)/2,0),w=u2(this.options.radius,g),_=Math.max(w*l,0),S=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=x*w,this.offsetY=p*w,s.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/xt)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&u.animateScale,m=h?0:this.innerRadius,x=h?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(n,s);let y=this._getRotation(),g;for(g=0;g<n;++g)y+=this._circumference(g,i);for(g=n;g<n+r;++g){const w=this._circumference(g,i),_=e[g],S={x:d+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:x,innerRadius:m};v&&(S.options=p||this.resolveDataElementOptions(g,_.active?"active":s)),y+=w,this.updateElement(_,g,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?xt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=$x(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(De(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}N(Ql,"id","doughnut"),N(Ql,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),N(Ql,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),N(Ql,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class $d extends wa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=pW(n,s,o);this._drawStart=a,this._drawCount=l,gW(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),h=o.axis,m=a.axis,{spanGaps:x,segment:p}=this.options,v=nu(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",g=n+r,w=e.length;let _=n>0&&this.getParsed(n-1);for(let S=0;S<w;++S){const k=e[S],T=y?k:{};if(S<n||S>=g){T.skip=!0;continue}const C=this.getParsed(S),M=rt(C[m]),A=T[h]=o.getPixelForValue(C[h],S),F=T[m]=i||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[m],S);T.skip=isNaN(A)||isNaN(F)||M,T.stop=S>0&&Math.abs(C[h]-_[h])>v,p&&(T.parsed=C,T.raw=u.data[S]),f&&(T.options=d||this.resolveDataElementOptions(S,k.active?"active":s)),y||this.updateElement(k,S,T,s),_=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}N($d,"id","line"),N($d,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),N($d,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gx{constructor(e){N(this,"options");this.options=e||{}}static override(e){Object.assign(Gx.prototype,e)}init(){}formats(){return zi()}parse(){return zi()}format(){return zi()}add(){return zi()}diff(){return zi()}startOf(){return zi()}endOf(){return zi()}}var P2={_date:Gx};function IH(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?cW:Zi;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=u(i,e,n-f),m=u(i,e,n+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=t,m=h.slice(0,d.lo+1).reverse().findIndex(p=>!rt(p[f.axis]));d.lo-=Math.max(0,m);const x=h.slice(d.hi).findIndex(p=>!rt(p[f.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function Lh(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:f,hi:h}=IH(i[a],e,o,s);for(let m=f;m<=h;++m){const x=d[m];x.skip||r(x,u,m)}}}function FH(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Qm(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Lh(t,n,e,function(a,l,u){!s&&!su(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function LH(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=h2(o,{x:e.x,y:e.y});ru(f,u,d)&&s.push({element:o,datasetIndex:a,index:l})}return Lh(t,n,e,i),s}function zH(t,e,n,r,s,i){let o=[];const a=FH(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(e.x,e.y,s);if(r&&!m)return;const x=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(x))&&!m)return;const v=a(e,x);v<l?(o=[{element:d,datasetIndex:f,index:h}],l=v):v===l&&o.push({element:d,datasetIndex:f,index:h})}return Lh(t,n,e,u),o}function Km(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?LH(t,e,n,s):zH(t,e,n,r,s,i)}function iw(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Lh(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var VH={modes:{index(t,e,n,r){const s=Wi(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Qm(t,s,i,r,o):Km(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Wi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Qm(t,s,i,r,o):Km(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const s=Wi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Qm(t,s,i,r,o)},nearest(t,e,n,r){const s=Wi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Km(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Wi(e,t);return iw(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Wi(e,t);return iw(t,s,"y",n.intersect,r)}}};const E2=["left","top","right","bottom"];function Fl(t,e){return t.filter(n=>n.pos===e)}function ow(t,e){return t.filter(n=>E2.indexOf(n.pos)===-1&&n.box.axis===e)}function Ll(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function $H(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function BH(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!E2.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function UH(t,e){const n=BH(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&e.availableHeight)}return n}function WH(t){const e=$H(t),n=Ll(e.filter(u=>u.box.fullSize),!0),r=Ll(Fl(e,"left"),!0),s=Ll(Fl(e,"right")),i=Ll(Fl(e,"top"),!0),o=Ll(Fl(e,"bottom")),a=ow(e,"x"),l=ow(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Fl(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function aw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function M2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function HH(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!$e(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&M2(o,i.getPadding());const a=Math.max(0,e.outerWidth-aw(o,t,"left","right")),l=Math.max(0,e.outerHeight-aw(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function YH(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function qH(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function Kl(t,e,n,r){const s=[];let i,o,a,l,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,qH(a.horizontal,e));const{same:f,other:h}=HH(e,n,a,r);u|=f&&s.length,d=d||h,l.fullSize||s.push(a)}return u&&Kl(s,e,n,r)||d}function hd(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function lw(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,h=u.size||l.height;Wf(u.start)&&(o=u.start),l.fullSize?hd(l,s.left,o,n.outerWidth-s.right-s.left,h):hd(l,e.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*d,h=u.size||l.width;Wf(u.start)&&(i=u.start),l.fullSize?hd(l,i,s.top,h,n.outerHeight-s.bottom-s.top):hd(l,i,e.top+u.placed,h,f),u.start=i,u.placed+=f,i=l.right}}e.x=i,e.y=o}var Jn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=sr(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=WH(t.boxes),l=a.vertical,u=a.horizontal;Ge(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);M2(h,sr(r));const m=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),x=UH(l.concat(u),f);Kl(a.fullSize,m,f,x),Kl(l,m,f,x),Kl(u,m,f,x)&&Kl(l,m,f,x),YH(m),lw(a.leftAndTop,m,f,x),m.x+=m.w,m.y+=m.h,lw(a.rightAndBottom,m,f,x),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ge(a.chartArea,p=>{const v=p.box;Object.assign(v,t.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class D2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class QH extends D2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bd="$chartjs",KH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cw=t=>t===null||t==="";function GH(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Bd]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cw(s)){const i=Kb(t,"width");i!==void 0&&(t.width=i)}if(cw(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Kb(t,"height");i!==void 0&&(t.height=i)}return t}const A2=oH?{passive:!0}:!1;function XH(t,e,n){t&&t.addEventListener(e,n,A2)}function ZH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,A2)}function JH(t,e){const n=KH[t.type]||t.type,{x:r,y:s}=Wi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function qf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function e9(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||qf(a.addedNodes,r),o=o&&!qf(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function t9(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||qf(a.removedNodes,r),o=o&&!qf(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ou=new Map;let uw=0;function O2(){const t=window.devicePixelRatio;t!==uw&&(uw=t,ou.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function n9(t,e){ou.size||window.addEventListener("resize",O2),ou.set(t,e)}function r9(t){ou.delete(t),ou.size||window.removeEventListener("resize",O2)}function s9(t,e,n){const r=t.canvas,s=r&&Kx(r);if(!s)return;const i=g2((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),n9(t,i),o}function Gm(t,e,n){n&&n.disconnect(),e==="resize"&&r9(t)}function i9(t,e,n){const r=t.canvas,s=g2(i=>{t.ctx!==null&&n(JH(i,t))},t);return XH(r,e,s),s}class o9 extends D2{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(GH(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Bd])return!1;const r=n[Bd].initial;["height","width"].forEach(i=>{const o=r[i];rt(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Bd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:e9,detach:t9,resize:s9}[n]||i9;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Gm,detach:Gm,resize:Gm}[n]||ZH)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return iH(e,n,r,s)}isAttached(e){const n=e&&Kx(e);return!!(n&&n.isConnected)}}function a9(t){return!Qx()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QH:o9}var bd;let Ai=(bd=class{constructor(){N(this,"x");N(this,"y");N(this,"active",!1);N(this,"options");N(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return nu(this.x)&&nu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},N(bd,"defaults",{}),N(bd,"defaultRoutes"),bd);function l9(t,e){const n=t.options.ticks,r=c9(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?d9(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>s)return f9(e,u,i,o/s),u;const d=u9(i,e,s);if(o>0){let f,h;const m=o>1?Math.round((l-a)/(o-1)):null;for(md(e,u,d,rt(m)?0:a-m,a),f=0,h=o-1;f<h;f++)md(e,u,d,i[f],i[f+1]);return md(e,u,d,l,rt(m)?e.length:l+m),u}return md(e,u,d),u}function c9(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function u9(t,e,n){const r=h9(t),s=e.length/n;if(!r)return Math.max(s,1);const i=nW(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function d9(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function f9(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function md(t,e,n,r,s){const i=De(r,0),o=Math.min(De(s,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function h9(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const m9=t=>t==="left"?"right":t==="right"?"left":t,dw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,fw=(t,e)=>Math.min(e||t,t);function hw(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function p9(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-a||l>o+a)))return l}function g9(t,e){Ge(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function zl(t){return t.drawTicks?t.tickLength:0}function mw(t,e){if(!t.display)return 0;const n=rn(t.font,e),r=sr(t.padding);return(zt(t.text)?t.text.length:1)*n.lineHeight+r.height}function y9(t,e){return Io(t,{scale:e,type:"scale"})}function x9(t,e,n){return Io(t,{tick:n,index:e,type:"tick"})}function v9(t,e,n){let r=zx(t);return(n&&e!=="right"||!n&&e==="right")&&(r=m9(r)),r}function b9(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,h,m,x;const p=o-s,v=a-i;if(t.isHorizontal()){if(m=tn(r,i,a),$e(n)){const y=Object.keys(n)[0],g=n[y];x=d[y].getPixelForValue(g)+p-e}else n==="center"?x=(u.bottom+u.top)/2+p-e:x=dw(t,n,e);h=a-i}else{if($e(n)){const y=Object.keys(n)[0],g=n[y];m=d[y].getPixelForValue(g)-v+e}else n==="center"?m=(u.left+u.right)/2-v+e:m=dw(t,n,e);x=tn(r,o,s),f=n==="left"?-It:It}return{titleX:m,titleY:x,maxWidth:h,rotation:f}}class vl extends Ai{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Tr(e,Number.POSITIVE_INFINITY),n=Tr(n,Number.NEGATIVE_INFINITY),r=Tr(r,Number.POSITIVE_INFINITY),s=Tr(s,Number.NEGATIVE_INFINITY),{min:Tr(e,r),max:Tr(n,s),minDefined:rr(e),maxDefined:rr(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Tr(n,Tr(r,n)),max:Tr(r,Tr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ot(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=FW(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?hw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=l9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ot(this.options.afterUpdate,[this])}beforeSetDimensions(){ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ot(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ot(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=ot(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=fw(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=mn(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),f+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-zl(e.grid)-n.padding-mw(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=oW(Math.min(Math.asin(mn((d.highest.height+6)/a,-1,1)),Math.asin(mn(l/u,-1,1))-Math.asin(mn(h/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ot(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=mw(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=zl(i)+l):(e.height=this.maxHeight,e.width=zl(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=r.padding*2,x=hs(this.labelRotation),p=Math.cos(x),v=Math.sin(x);if(a){const y=r.mirror?0:v*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=r.mirror?0:p*f.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(u,d,v,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?u?(h=s*e.width,m=r*n.height):(h=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,m=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ot(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)rt(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=hw(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/fw(n,r));let u=0,d=0,f,h,m,x,p,v,y,g,w,_,S;for(f=0;f<n;f+=l){if(x=e[f].label,p=this._resolveTickFontOptions(f),s.font=v=p.string,y=i[v]=i[v]||{data:{},gc:[]},g=p.lineHeight,w=_=0,!rt(x)&&!zt(x))w=Wb(s,y.data,y.gc,w,x),_=g;else if(zt(x))for(h=0,m=x.length;h<m;++h)S=x[h],!rt(S)&&!zt(S)&&(w=Wb(s,y.data,y.gc,w,S),_+=g);o.push(w),a.push(_),u=Math.max(w,u),d=Math.max(_,d)}g9(i,n);const k=o.indexOf(u),T=a.indexOf(d),C=M=>({width:o[M]||0,height:a[M]||0});return{first:C(0),last:C(n-1),widest:C(k),highest:C(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return lW(this._alignToPixels?Li(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=x9(this.getContext(),e,r))}return this.$context||(this.$context=y9(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=hs(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=zl(i),m=[],x=a.setContext(this.getContext()),p=x.display?x.width:0,v=p/2,y=function(z){return Li(r,z,p)};let g,w,_,S,k,T,C,M,A,F,O,V;if(o==="top")g=y(this.bottom),T=this.bottom-h,M=g-v,F=y(e.top)+v,V=e.bottom;else if(o==="bottom")g=y(this.top),F=e.top,V=y(e.bottom)-v,T=g+v,M=this.top+h;else if(o==="left")g=y(this.right),k=this.right-h,C=g-v,A=y(e.left)+v,O=e.right;else if(o==="right")g=y(this.left),A=e.left,O=y(e.right)-v,k=g+v,C=this.left+h;else if(n==="x"){if(o==="center")g=y((e.top+e.bottom)/2+.5);else if($e(o)){const z=Object.keys(o)[0],B=o[z];g=y(this.chart.scales[z].getPixelForValue(B))}F=e.top,V=e.bottom,T=g+v,M=T+h}else if(n==="y"){if(o==="center")g=y((e.left+e.right)/2);else if($e(o)){const z=Object.keys(o)[0],B=o[z];g=y(this.chart.scales[z].getPixelForValue(B))}k=g-v,C=k-h,A=e.left,O=e.right}const $=De(s.ticks.maxTicksLimit,f),I=Math.max(1,Math.ceil(f/$));for(w=0;w<f;w+=I){const z=this.getContext(w),B=i.setContext(z),j=a.setContext(z),R=B.lineWidth,D=B.color,W=j.dash||[],G=j.dashOffset,ne=B.tickWidth,se=B.tickColor,ge=B.tickBorderDash||[],ve=B.tickBorderDashOffset;_=p9(this,w,l),_!==void 0&&(S=Li(r,_,R),u?k=C=A=O=S:T=M=F=V=S,m.push({tx1:k,ty1:T,tx2:C,ty2:M,x1:A,y1:F,x2:O,y2:V,width:R,color:D,borderDash:W,borderDashOffset:G,tickWidth:ne,tickColor:se,tickBorderDash:ge,tickBorderDashOffset:ve}))}return this._ticksLength=f,this._borderValue=g,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=i,h=zl(r.grid),m=h+d,x=f?-d:m,p=-hs(this.labelRotation),v=[];let y,g,w,_,S,k,T,C,M,A,F,O,V="middle";if(s==="top")k=this.bottom-x,T=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+x,T=this._getXAxisLabelAlignment();else if(s==="left"){const I=this._getYAxisLabelAlignment(h);T=I.textAlign,S=I.x}else if(s==="right"){const I=this._getYAxisLabelAlignment(h);T=I.textAlign,S=I.x}else if(n==="x"){if(s==="center")k=(e.top+e.bottom)/2+m;else if($e(s)){const I=Object.keys(s)[0],z=s[I];k=this.chart.scales[I].getPixelForValue(z)+m}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-m;else if($e(s)){const I=Object.keys(s)[0],z=s[I];S=this.chart.scales[I].getPixelForValue(z)}T=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const $=this._getLabelSizes();for(y=0,g=a.length;y<g;++y){w=a[y],_=w.label;const I=i.setContext(this.getContext(y));C=this.getPixelForTick(y)+i.labelOffset,M=this._resolveTickFontOptions(y),A=M.lineHeight,F=zt(_)?_.length:1;const z=F/2,B=I.color,j=I.textStrokeColor,R=I.textStrokeWidth;let D=T;o?(S=C,T==="inner"&&(y===g-1?D=this.options.reverse?"left":"right":y===0?D=this.options.reverse?"right":"left":D="center"),s==="top"?u==="near"||p!==0?O=-F*A+A/2:u==="center"?O=-$.highest.height/2-z*A+A:O=-$.highest.height+A/2:u==="near"||p!==0?O=A/2:u==="center"?O=$.highest.height/2-z*A:O=$.highest.height-F*A,f&&(O*=-1),p!==0&&!I.showLabelBackdrop&&(S+=A/2*Math.sin(p))):(k=C,O=(1-F)*A/2);let W;if(I.showLabelBackdrop){const G=sr(I.backdropPadding),ne=$.heights[y],se=$.widths[y];let ge=O-G.top,ve=0-G.left;switch(V){case"middle":ge-=ne/2;break;case"bottom":ge-=ne;break}switch(T){case"center":ve-=se/2;break;case"right":ve-=se;break;case"inner":y===g-1?ve-=se:y>0&&(ve-=se/2);break}W={left:ve,top:ge,width:se+G.width,height:ne+G.height,color:I.backdropColor}}v.push({label:_,font:M,textOffset:O,options:{rotation:p,color:B,strokeColor:j,strokeWidth:R,textAlign:D,textBaseline:V,translation:[S,k],backdrop:W}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-hs(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Li(e,this.left,o)-o/2,d=Li(e,this.right,a)+a/2,f=h=l):(f=Li(e,this.top,o)-o/2,h=Li(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Bx(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;iu(r,u,0,d,l,a)}s&&Ux(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=rn(r.font),o=sr(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(l+=o.bottom,zt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=b9(this,l,n,a);iu(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:v9(a,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=De(e.grid&&e.grid.z,-1),s=De(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==vl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return rn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pd{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;S9(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,w9(e,o,r),this.override&&Ct.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Ct[s]&&(delete Ct[s][r],this.override&&delete Po[r])}}function w9(t,e,n){const r=eu(Object.create(null),[n?Ct.get(n):{},Ct.get(e),t.defaults]);Ct.set(e,r),t.defaultRoutes&&_9(e,t.defaultRoutes),t.descriptors&&Ct.describe(e,t.descriptors)}function _9(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ct.route(i,s,l,a)})}function S9(t){return"id"in t&&"defaults"in t}class N9{constructor(){this.controllers=new pd(wa,"datasets",!0),this.elements=new pd(Ai,"elements"),this.plugins=new pd(Object,"plugins"),this.scales=new pd(vl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Ge(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=Fx(e);ot(r["before"+s],[],r),n[e](r),ot(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Er=new N9;class C9{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(ot(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=De(r.options&&r.options.plugins,{}),i=k9(r);return s===!1&&!n?[]:j9(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function k9(t){const e={},n=[],r=Object.keys(Er.plugins.items);for(let i=0;i<r.length;i++)n.push(Er.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function T9(t,e){return!e&&t===!1?null:t===!0?{}:t}function j9(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=T9(r[l],s);u!==null&&i.push({plugin:a,options:P9(t.config,{plugin:a,local:n[l]},u,o)})}return i}function P9(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ig(t,e){const n=Ct.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function E9(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function M9(t,e){return t===e?"_index_":"_value_"}function pw(t){if(t==="x"||t==="y"||t==="r")return t}function D9(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Fg(t,...e){if(pw(t))return t;for(const n of e){const r=n.axis||D9(n.position)||t.length>1&&pw(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function A9(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return gw(t,"x",n[0])||gw(t,"y",n[0])}return{}}function O9(t,e){const n=Po[t.type]||{scales:{}},r=e.scales||{},s=Ig(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!$e(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Fg(o,a,A9(o,t),Ct.scales[a.type]),u=M9(l,s),d=n.scales||{};i[o]=fc(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Ig(a,e),d=(Po[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=E9(f,l),m=o[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),fc(i[m],[{axis:h},r[m],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];fc(a,[Ct.scales[a.type],Ct.scale])}),i}function R2(t){const e=t.options||(t.options={});e.plugins=De(e.plugins,{}),e.scales=O9(t,e)}function I2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function R9(t){return t=t||{},t.data=I2(t.data),R2(t),t}const yw=new Map,F2=new Set;function gd(t,e){let n=yw.get(t);return n||(n=e(),yw.set(t,n),F2.add(n)),n}const Vl=(t,e,n)=>{const r=tu(e,n);r!==void 0&&t.add(r)};class I9{constructor(e){this._config=R9(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=I2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),R2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return gd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return gd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return gd(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(f=>Vl(l,e,f))),d.forEach(f=>Vl(l,s,f)),d.forEach(f=>Vl(l,Po[i]||{},f)),d.forEach(f=>Vl(l,Ct,f)),d.forEach(f=>Vl(l,Ag,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),F2.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Po[n]||{},Ct.datasets[n]||{},{type:n},Ct,Ag]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=xw(this._resolverCache,e,s);let l=o;if(L9(o,n)){i.$shared=!1,r=Si(r)?r():r;const u=this.createResolver(e,r,a);l=tl(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=xw(this._resolverCache,e,r);return $e(n)?tl(i,n,void 0,s):i}}function xw(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Hx(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const F9=t=>$e(t)&&Object.getOwnPropertyNames(t).some(e=>Si(t[e]));function L9(t,e){const{isScriptable:n,isIndexable:r}=v2(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Si(a)||F9(a))||o&&zt(a))return!0}return!1}var z9="4.5.0";const V9=["top","bottom","left","right","chartArea"];function vw(t,e){return t==="top"||t==="bottom"||V9.indexOf(t)===-1&&e==="x"}function bw(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function ww(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ot(n&&n.onComplete,[t],e)}function $9(t){const e=t.chart,n=e.options.animation;ot(n&&n.onProgress,[t],e)}function L2(t){return Qx()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ud={},_w=t=>{const e=L2(t);return Object.values(Ud).filter(n=>n.canvas===e).pop()};function B9(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function U9(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Os;let ju=(Os=class{static register(...e){Er.add(...e),Sw()}static unregister(...e){Er.remove(...e),Sw()}constructor(e,n){const r=this.config=new I9(n),s=L2(e),i=_w(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||a9(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=q8(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new C9,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=hW(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Ud[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ts.listen(this,"complete",ww),ts.listen(this,"progress",$9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return rt(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hb(this.canvas,this.ctx),this}stop(){return ts.stop(this),this}resize(e,n){ts.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Qb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ot(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ge(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Fg(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Ge(i,o=>{const a=o.options,l=a.id,u=Fg(l,a),d=De(a.type,o.dtype);(a.position===void 0||vw(a.position,u)!==vw(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=Er.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),Ge(s,(o,a)=>{o||delete r[a]}),Ge(r,o=>{Jn.configure(this,o,o.options),Jn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(bw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Ig(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Er.getController(a),{datasetElementType:u,dataElementType:d}=Ct.datasets[a];Object.assign(l,{dataElementType:Er.getElement(d),datasetElementType:u&&Er.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Ge(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bw("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ge(this.scales,e=>{Jn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Rb(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;B9(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!Rb(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ge(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Si(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ts.has(this)?this.attached&&!ts.running(this)&&ts.start(this):(this.draw(),ww({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=bH(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Bx(n,s),e.controller.draw(),s&&Ux(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return su(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=VH.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Io(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);Wf(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ts.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Hb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ud[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Ge(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Bf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=J8(e),u=U9(e,this._lastEvent,r,l);r&&(this._lastEvent=null,ot(i.onHover,[e,a,this],this),l&&ot(i.onClick,[e,a,this],this));const d=!Bf(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},N(Os,"defaults",Ct),N(Os,"instances",Ud),N(Os,"overrides",Po),N(Os,"registry",Er),N(Os,"version",z9),N(Os,"getChart",_w),Os);function Sw(){return Ge(ju.instances,t=>t._plugins.invalidate())}function W9(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,f=Math.min(u/o,fr(r-n));if(t.beginPath(),t.arc(s,i,o-u/2,r+f/2,n-f/2),a>0){const h=Math.min(u/a,fr(r-n));t.arc(s,i,a+u/2,n-h/2,r+h/2,!0)}else{const h=Math.min(u/2,o*fr(r-n));if(d==="round")t.arc(s,i,h,n-Xe/2,r+Xe/2,!0);else if(d==="bevel"){const m=2*h*h,x=-m*Math.cos(n+Xe/2)+s,p=-m*Math.sin(n+Xe/2)+i,v=m*Math.cos(r+Xe/2)+s,y=m*Math.sin(r+Xe/2)+i;t.lineTo(x,p),t.lineTo(v,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function H9(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;t.beginPath(),t.arc(i,o,a,r-u,n+u),l>s?(u=s/l,t.arc(i,o,l,n+u,r-u,!0)):t.arc(i,o,s,n+It,r-It),t.closePath(),t.clip()}function Y9(t){return Wx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function q9(t,e,n,r){const s=Y9(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const u=(n-Math.min(i,l))*r/2;return mn(l,0,Math.min(i,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:mn(s.innerStart,0,o),innerEnd:mn(s.innerEnd,0,o)}}function Wo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Qf(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),h=d>0?d+r+n+u:0;let m=0;const x=s-l;if(r){const I=d>0?d-r:0,z=f>0?f-r:0,B=(I+z)/2,j=B!==0?x*B/(B+r):x;m=(x-j)/2}const p=Math.max(.001,x*f-n/Xe)/f,v=(x-p)/2,y=l+v+m,g=s-v-m,{outerStart:w,outerEnd:_,innerStart:S,innerEnd:k}=q9(e,h,f,g-y),T=f-w,C=f-_,M=y+w/T,A=g-_/C,F=h+S,O=h+k,V=y+S/F,$=g-k/O;if(t.beginPath(),i){const I=(M+A)/2;if(t.arc(o,a,f,M,I),t.arc(o,a,f,I,A),_>0){const R=Wo(C,A,o,a);t.arc(R.x,R.y,_,A,g+It)}const z=Wo(O,g,o,a);if(t.lineTo(z.x,z.y),k>0){const R=Wo(O,$,o,a);t.arc(R.x,R.y,k,g+It,$+Math.PI)}const B=(g-k/h+(y+S/h))/2;if(t.arc(o,a,h,g-k/h,B,!0),t.arc(o,a,h,B,y+S/h,!0),S>0){const R=Wo(F,V,o,a);t.arc(R.x,R.y,S,V+Math.PI,y-It)}const j=Wo(T,y,o,a);if(t.lineTo(j.x,j.y),w>0){const R=Wo(T,M,o,a);t.arc(R.x,R.y,w,y-It,M)}}else{t.moveTo(o,a);const I=Math.cos(M)*f+o,z=Math.sin(M)*f+a;t.lineTo(I,z);const B=Math.cos(A)*f+o,j=Math.sin(A)*f+a;t.lineTo(B,j)}t.closePath()}function Q9(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){Qf(t,e,n,r,l,s);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%xt||xt))}return Qf(t,e,n,r,l,s),t.fill(),l}function K9(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=l,x=l.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=h,x?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(i){Qf(t,e,n,r,p,s);for(let v=0;v<i;++v)t.stroke();isNaN(a)||(p=o+(a%xt||xt))}x&&H9(t,e,p),l.selfJoin&&p-o>=Xe&&m===0&&d!=="miter"&&W9(t,e,p),i||(Qf(t,e,n,r,p,s),t.stroke())}class Gl extends Ai{constructor(n){super();N(this,"circumference");N(this,"endAngle");N(this,"fullCircles");N(this,"innerRadius");N(this,"outerRadius");N(this,"pixelMargin");N(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=h2(i,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,x=De(h,u-l),p=ru(o,l,u)&&l!==u,v=x>=xt||p,y=ia(a,d+m,f+m);return v&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+o)/2,h=(a+l+d+u)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>xt?Math.floor(s/xt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Xe,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,Q9(n,this,d,o,a),K9(n,this,d,o,a),n.restore()}}N(Gl,"id","arc"),N(Gl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),N(Gl,"defaultRoutes",{backgroundColor:"backgroundColor"}),N(Gl,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function z2(t,e,n=e){t.lineCap=De(n.borderCapStyle,e.borderCapStyle),t.setLineDash(De(n.borderDash,e.borderDash)),t.lineDashOffset=De(n.borderDashOffset,e.borderDashOffset),t.lineJoin=De(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=De(n.borderWidth,e.borderWidth),t.strokeStyle=De(n.borderColor,e.borderColor)}function G9(t,e,n){t.lineTo(n.x,n.y)}function X9(t){return t.stepped?TW:t.tension||t.cubicInterpolationMode==="monotone"?jW:G9}function V2(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(i,a),d=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function Z9(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:u}=V2(s,n,r),d=X9(i);let{move:f=!0,reverse:h}=r||{},m,x,p;for(m=0;m<=u;++m)x=s[(a+(h?u-m:m))%o],!x.skip&&(f?(t.moveTo(x.x,x.y),f=!1):d(t,p,x,h,i.stepped),p=x);return l&&(x=s[(a+(h?u:0))%o],d(t,p,x,h,i.stepped)),!!l}function J9(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=V2(s,n,r),{move:l=!0,reverse:u}=r||{};let d=0,f=0,h,m,x,p,v,y;const g=_=>(o+(u?a-_:_))%i,w=()=>{p!==v&&(t.lineTo(d,v),t.lineTo(d,p),t.lineTo(d,y))};for(l&&(m=s[g(0)],t.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=s[g(h)],m.skip)continue;const _=m.x,S=m.y,k=_|0;k===x?(S<p?p=S:S>v&&(v=S),d=(f*d+_)/++f):(w(),t.lineTo(_,S),x=k,f=0,p=v=S),y=S}w()}function Lg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?J9:Z9}function e7(t){return t.stepped?aH:t.tension||t.cubicInterpolationMode==="monotone"?lH:Hi}function t7(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),z2(t,e.options),t.stroke(s)}function n7(t,e,n,r){const{segments:s,options:i}=e,o=Lg(e);for(const a of s)z2(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const r7=typeof Path2D=="function";function s7(t,e,n,r){r7&&!e.options.segment?t7(t,e,n,r):n7(t,e,n,r)}class oa extends Ai{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;JW(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gH(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=hH(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=e7(r);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],m=i[f],x=i[h];if(m===x){a.push(m);continue}const p=Math.abs((s-m[n])/(x[n]-m[n])),v=l(m,x,p,r.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Lg(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=Lg(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),s7(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}N(oa,"id","line"),N(oa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),N(oa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),N(oa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Nw(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class yc extends Ai{constructor(n){super();N(this,"parsed");N(this,"skip");N(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return Nw(this,n,"x",r)}inYRange(n,r){return Nw(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!su(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Og(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}N(yc,"id","point"),N(yc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),N(yc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Cw=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},i7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class kw extends Ai{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ot(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=rn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Cw(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+a;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((x,p)=>{const v=r+n/2+i.measureText(x.text).width;(p===0||u[u.length-1]+v+2*a>o)&&(f+=d,u[u.length-(p>0?0:1)]=0,m+=d,h++),l[p]={left:0,top:m,row:h,width:v,height:s},u[u.length-1]+=v+a}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,h=0,m=0,x=0,p=0;return this.legendItems.forEach((v,y)=>{const{itemWidth:g,itemHeight:w}=o7(r,n,i,v,s);y>0&&m+w+2*a>d&&(f+=h+a,u.push({width:h,height:m}),x+=h+a,p++,h=m=0),l[y]={left:x,top:m,col:p,width:g,height:w},h=Math.max(h,g),m+=w+a}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=ba(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=tn(r,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=tn(r,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=tn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=tn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Bx(e,this),this._draw(),Ux(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=Ct.color,l=ba(e.rtl,this.left,this.width),u=rn(o.font),{padding:d}=o,f=u.size,h=f/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:x,boxHeight:p,itemHeight:v}=Cw(o,f),y=function(k,T,C){if(isNaN(x)||x<=0||isNaN(p)||p<0)return;s.save();const M=De(C.lineWidth,1);if(s.fillStyle=De(C.fillStyle,a),s.lineCap=De(C.lineCap,"butt"),s.lineDashOffset=De(C.lineDashOffset,0),s.lineJoin=De(C.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=De(C.strokeStyle,a),s.setLineDash(De(C.lineDash,[])),o.usePointStyle){const A={radius:p*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:M},F=l.xPlus(k,x/2),O=T+h;x2(s,A,F,O,o.pointStyleWidth&&x)}else{const A=T+Math.max((f-p)/2,0),F=l.leftForLtr(k,x),O=gc(C.borderRadius);s.beginPath(),Object.values(O).some(V=>V!==0)?Rg(s,{x:F,y:A,w:x,h:p,radius:O}):s.rect(F,A,x,p),s.fill(),M!==0&&s.stroke()}s.restore()},g=function(k,T,C){iu(s,C.text,k,T+v/2,u,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?m={x:tn(i,this.left+d,this.right-r[0]),y:this.top+d+_,line:0}:m={x:this.left+d,y:tn(i,this.top+_+d,this.bottom-n[0].height),line:0},N2(this.ctx,e.textDirection);const S=v+d;this.legendItems.forEach((k,T)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const C=s.measureText(k.text).width,M=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),A=x+h+C;let F=m.x,O=m.y;l.setWidth(this.width),w?T>0&&F+A+d>this.right&&(O=m.y+=S,m.line++,F=m.x=tn(i,this.left+d,this.right-r[m.line])):T>0&&O+S>this.bottom&&(F=m.x=F+n[m.line].width+d,m.line++,O=m.y=tn(i,this.top+_+d,this.bottom-n[m.line].height));const V=l.x(F);if(y(V,O,k),F=mW(M,F+x+h,w?F+A:this.right,e.rtl),g(l.x(F),O,k),w)m.x+=A+d;else if(typeof k.text!="string"){const $=u.lineHeight;m.y+=$2(k,$)+d}else m.y+=S}),C2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=rn(n.font),s=sr(n.padding);if(!n.display)return;const i=ba(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=s.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=tn(e.align,f,this.right-h);else{const x=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);d=u+tn(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const m=tn(a,f,f+h);o.textAlign=i.textAlign(zx(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,iu(o,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=rn(e.font),r=sr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(ia(e,this.left,this.right)&&ia(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ia(e,s.left,s.left+s.width)&&ia(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!c7(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=i7(s,r);s&&!i&&ot(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&ot(n.onHover,[e,r,this],this)}else r&&ot(n.onClick,[e,r,this],this)}}function o7(t,e,n,r,s){const i=a7(r,t,e,n),o=l7(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function a7(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function l7(t,e,n){let r=t;return typeof e.text!="string"&&(r=$2(e,n)),r}function $2(t,e){const n=t.text?t.text.length:0;return e*n}function c7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var B2={id:"legend",_element:kw,start(t,e,n){const r=t.legend=new kw({ctx:t.ctx,options:n,chart:t});Jn.configure(t,r,n),Jn.addBox(t,r)},stop(t){Jn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Jn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=sr(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class U2 extends Ai{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=zt(r.text)?r.text.length:1;this._padding=sr(r.padding);const i=s*rn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=tn(a,r,i),f=n+e,u=i-r):(o.position==="left"?(d=r+e,f=tn(a,s,n),l=Xe*-.5):(d=i-e,f=tn(a,n,s),l=Xe*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=rn(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);iu(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:zx(n.align),textBaseline:"middle",translation:[o,a]})}}function u7(t,e){const n=new U2({ctx:t.ctx,options:e,chart:t});Jn.configure(t,n,e),Jn.addBox(t,n),t.titleBlock=n}var W2={id:"title",_element:U2,start(t,e,n){u7(t,n)},stop(t){const e=t.titleBlock;Jn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Jn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xl={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=Dg(e,u);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function jr(t,e){return e&&(zt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ns(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function d7(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Tw(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=rn(e.bodyFont),u=rn(e.titleFont),d=rn(e.footerFont),f=i.length,h=s.length,m=r.length,x=sr(e.padding);let p=x.height,v=0,y=r.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),y){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=m*_+(y-m)*l.lineHeight+(y-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let g=0;const w=function(_){v=Math.max(v,n.measureText(_).width+g)};return n.save(),n.font=u.string,Ge(t.title,w),n.font=l.string,Ge(t.beforeBody.concat(t.afterBody),w),g=e.displayColors?o+2+e.boxPadding:0,Ge(r,_=>{Ge(_.before,w),Ge(_.lines,w),Ge(_.after,w)}),g=0,n.font=d.string,Ge(t.footer,w),n.restore(),v+=x.width,{width:v,height:p}}function f7(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function h7(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function m7(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=s<=(a+l)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),h7(u,t,e,n)&&(u="center"),u}function jw(t,e,n){const r=n.yAlign||e.yAlign||f7(t,n);return{xAlign:n.xAlign||e.xAlign||m7(t,e,n,r),yAlign:r}}function p7(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function g7(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Pw(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=gc(o);let x=p7(e,a);const p=g7(e,l,u);return l==="center"?a==="left"?x+=u:a==="right"&&(x-=u):a==="left"?x-=Math.max(d,h)+s:a==="right"&&(x+=Math.max(f,m)+s),{x:mn(x,0,r.width-e.width),y:mn(p,0,r.height-e.height)}}function yd(t,e,n){const r=sr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Ew(t){return jr([],ns(t))}function y7(t,e,n){return Io(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Mw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const H2={beforeTitle:Zr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Zr,beforeBody:Zr,beforeLabel:Zr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return rt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Zr,afterBody:Zr,beforeFooter:Zr,footer:Zr,afterFooter:Zr};function bn(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?H2[e].call(n,r):s}class zg extends Ai{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new T2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=y7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=bn(r,"beforeTitle",this,e),i=bn(r,"title",this,e),o=bn(r,"afterTitle",this,e);let a=[];return a=jr(a,ns(s)),a=jr(a,ns(i)),a=jr(a,ns(o)),a}getBeforeBody(e,n){return Ew(bn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Ge(e,i=>{const o={before:[],lines:[],after:[]},a=Mw(r,i);jr(o.before,ns(bn(a,"beforeLabel",this,i))),jr(o.lines,bn(a,"label",this,i)),jr(o.after,ns(bn(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return Ew(bn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=bn(r,"beforeFooter",this,e),i=bn(r,"footer",this,e),o=bn(r,"afterFooter",this,e);let a=[];return a=jr(a,ns(s)),a=jr(a,ns(i)),a=jr(a,ns(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(d7(this.chart,n[l]));return e.filter&&(a=a.filter((d,f,h)=>e.filter(d,f,h,r))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,r))),Ge(a,d=>{const f=Mw(e.callbacks,d);s.push(bn(f,"labelColor",this,d)),i.push(bn(f,"labelPointStyle",this,d)),o.push(bn(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=Xl[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=Tw(this,r),u=Object.assign({},a,l),d=jw(this.chart,r,u),f=Pw(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=gc(a),{x:h,y:m}=e,{width:x,height:p}=n;let v,y,g,w,_,S;return i==="center"?(_=m+p/2,s==="left"?(v=h,y=v-o,w=_+o,S=_-o):(v=h+x,y=v+o,w=_-o,S=_+o),g=v):(s==="left"?y=h+Math.max(l,d)+o:s==="right"?y=h+x-Math.max(u,f)-o:y=this.caretX,i==="top"?(w=m,_=w-o,v=y-o,g=y+o):(w=m+p,_=w+o,v=y+o,g=y-o),S=w),{x1:v,x2:y,x3:g,y1:w,y2:_,y3:S}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const u=ba(r.rtl,this.x,this.width);for(e.x=yd(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=rn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=rn(i.bodyFont),f=yd(this,"left",i),h=s.x(f),m=l<d.lineHeight?(d.lineHeight-l)/2:0,x=n.y+m;if(i.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(h,u)+u/2,y=x+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Og(e,p,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Og(e,p,v,y)}else{e.lineWidth=$e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=s.leftForLtr(h,u),v=s.leftForLtr(s.xPlus(h,1),u-2),y=gc(o.borderRadius);Object.values(y).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Rg(e,{x:p,y:x,w:u,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Rg(e,{x:v,y:x+1,w:u-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,x,u,l),e.strokeRect(p,x,u,l),e.fillStyle=o.backgroundColor,e.fillRect(v,x+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=r,f=rn(r.bodyFont);let h=f.lineHeight,m=0;const x=ba(r.rtl,this.x,this.width),p=function(C){n.fillText(C,x.x(e.x+m),e.y+h/2),e.y+=h+i},v=x.textAlign(o);let y,g,w,_,S,k,T;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=yd(this,v,r),n.fillStyle=r.bodyColor,Ge(this.beforeBody,p),m=a&&v!=="right"?o==="center"?u/2+d:u+2+d:0,_=0,k=s.length;_<k;++_){for(y=s[_],g=this.labelTextColors[_],n.fillStyle=g,Ge(y.before,p),w=y.lines,a&&w.length&&(this._drawColorBox(n,e,_,x,r),h=Math.max(f.lineHeight,l)),S=0,T=w.length;S<T;++S)p(w[S]),h=f.lineHeight;Ge(y.after,p)}m=0,h=f.lineHeight,Ge(this.afterBody,p),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=ba(r.rtl,this.x,this.width);for(e.x=yd(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=rn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:x}=gc(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+u-h,l),n.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+u,l+d-x),n.quadraticCurveTo(a+u,l+d,a+u-x,l+d),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,l+d),n.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=Xl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Tw(this,e),l=Object.assign({},o,this._size),u=jw(n,e,l),d=Pw(e,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=sr(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),N2(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),C2(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!Bf(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Bf(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=Xl[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}N(zg,"positioners",Xl);var Y2={id:"tooltip",_element:zg,positioners:Xl,afterInit(t,e,n){n&&(t.tooltip=new zg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:H2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const x7=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function v7(t,e,n,r){const s=t.indexOf(e);if(s===-1)return x7(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const b7=(t,e)=>t===null?null:mn(Math.round(t),0,e);function Dw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Kf extends vl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(rt(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:v7(r,e,De(n,e),this._addedLabels),b7(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return Dw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}N(Kf,"id","category"),N(Kf,"defaults",{ticks:{callback:Dw}});function w7(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,m=i||1,x=d-1,{min:p,max:v}=e,y=!rt(o),g=!rt(a),w=!rt(u),_=(v-p)/(f+1);let S=Fb((v-p)/x/m)*m,k,T,C,M;if(S<1e-14&&!y&&!g)return[{value:p},{value:v}];M=Math.ceil(v/S)-Math.floor(p/S),M>x&&(S=Fb(M*S/x/m)*m),rt(l)||(k=Math.pow(10,l),S=Math.ceil(S*k)/k),s==="ticks"?(T=Math.floor(p/S)*S,C=Math.ceil(v/S)*S):(T=p,C=v),y&&g&&i&&sW((a-o)/i,S/1e3)?(M=Math.round(Math.min((a-o)/S,d)),S=(a-o)/M,T=o,C=a):w?(T=y?o:T,C=g?a:C,M=u-1,S=(C-T)/M):(M=(C-T)/S,hc(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const A=Math.max(Lb(S),Lb(T));k=Math.pow(10,rt(l)?A:l),T=Math.round(T*k)/k,C=Math.round(C*k)/k;let F=0;for(y&&(h&&T!==o?(n.push({value:o}),T<o&&F++,hc(Math.round((T+F*S)*k)/k,o,Aw(o,_,t))&&F++):T<o&&F++);F<M;++F){const O=Math.round((T+F*S)*k)/k;if(g&&O>a)break;n.push({value:O})}return g&&h&&C!==a?n.length&&hc(n[n.length-1].value,a,Aw(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!g||C===a)&&n.push({value:C}),n}function Aw(t,e,{horizontal:n,minRotation:r}){const s=hs(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class _7 extends vl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return rt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=el(s),u=el(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=w7(s,i);return e.bounds==="ticks"&&iW(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return $x(e,this.chart.options.locale,this.options.ticks.format)}}class Gf extends _7{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=rr(e)?e:0,this.max=rr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=hs(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}N(Gf,"id","linear"),N(Gf,"defaults",{ticks:{callback:y2.formatters.numeric}});const zh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(zh);function Ow(t,e){return t-e}function Rw(t,e){if(rt(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),rr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(nu(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function Iw(t,e,n,r){const s=Cn.length;for(let i=Cn.indexOf(t);i<s-1;++i){const o=zh[Cn[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Cn[i]}return Cn[s-1]}function S7(t,e,n,r,s){for(let i=Cn.length-1;i>=Cn.indexOf(n);i--){const o=Cn[i];if(zh[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Cn[n?Cn.indexOf(n):0]}function N7(t){for(let e=Cn.indexOf(t)+1,n=Cn.length;e<n;++e)if(zh[Cn[e]].common)return Cn[e]}function Fw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Lx(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function C7(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Lw(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:C7(t,r,s,n)}class rl extends vl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new P2._date(e.adapters.date);s.init(n),fc(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Rw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=rr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=rr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=uW(s,i,o);return this._unit=n.unit||(r.autoSkip?Iw(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):S7(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:N7(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Lw(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=mn(n,0,o),r=mn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||Iw(i.minUnit,n,r,this._getLabelCapacity(n)),a=De(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=nu(l)||l===!0,d={};let f=n,h,m;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<r;h=+e.add(h,a,o),m++)Fw(d,h,x);return(h===r||s.bounds==="ticks"||m===1)&&Fw(d,h,x),Object.keys(d).sort(Ow).map(p=>+p)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return ot(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],h=r[n],m=u&&f&&h&&h.major;return this._adapter.format(e,s||(m?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=hs(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,Lw(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Rw(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fW(e.sort(Ow))}}N(rl,"id","time"),N(rl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function xd(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Zi(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Zi(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class zw extends rl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=xd(n,this.min),this._tableRange=xd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],u=s[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(xd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return xd(this._table,r*this._tableRange+this._minPos,!0)}}N(zw,"id","timeseries"),N(zw,"defaults",rl.defaults);const q2="label";function Vw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function k7(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Q2(t,e){t.labels=e}function K2(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q2;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function T7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q2;const n={labels:[],datasets:[]};return Q2(n,t.labels),K2(n,t.datasets,e),n}function j7(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:f,...h}=t,m=b.useRef(null),x=b.useRef(null),p=()=>{m.current&&(x.current=new ju(m.current,{type:o,data:T7(a,i),options:l&&{...l},plugins:u}),Vw(e,x.current))},v=()=>{Vw(e,null),x.current&&(x.current.destroy(),x.current=null)};return b.useEffect(()=>{!s&&x.current&&l&&k7(x.current,l)},[s,l]),b.useEffect(()=>{!s&&x.current&&Q2(x.current.config.data,a.labels)},[s,a.labels]),b.useEffect(()=>{!s&&x.current&&a.datasets&&K2(x.current.config.data,a.datasets,i)},[s,a.datasets]),b.useEffect(()=>{x.current&&(s?(v(),setTimeout(p)):x.current.update(f))},[s,l,a.labels,a.datasets,f]),b.useEffect(()=>{x.current&&(v(),setTimeout(p))},[o]),b.useEffect(()=>(p(),()=>v()),[]),xe.createElement("canvas",{ref:m,role:"img",height:n,width:r,...h},d)}const P7=b.forwardRef(j7);function G2(t,e){return ju.register(e),b.forwardRef((n,r)=>xe.createElement(P7,{...n,ref:r,type:t}))}const X2=G2("line",$d),Xm=G2("doughnut",Ql);/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const E7={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};P2._date.override({_id:"date-fns",formats:function(){return E7},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=ue(t):n==="string"&&(typeof e=="string"?t=N6(t,e,new Date,this.options):t=Ex(t,this.options)),IM(t)?t.getTime():null},format:function(t,e){return Be(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return Eh(t,e);case"second":return p$(t,e);case"minute":return h$(t,e);case"hour":return u$(t,e);case"day":return pl(t,e);case"week":return g$(t,e);case"month":return Su(t,e);case"quarter":return m$(t,e);case"year":return y$(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return Mh(t,e);case"second":return k$(t,e);case"minute":return S$(t,e);case"hour":return _$(t,e);case"day":return FM(t,e);case"week":return T$(t,e);case"month":return zM(t,e);case"quarter":return C$(t,e);case"year":return j$(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return j6(t);case"minute":return E$(t);case"hour":return k6(t);case"day":return Xa(t);case"week":return Qr(t);case"isoWeek":return Qr(t,{weekStartsOn:+n});case"month":return VM(t);case"quarter":return M$(t);case"year":return $M(t);default:return t}},endOf:function(t,e){switch(e){case"second":return F$(t);case"minute":return R$(t);case"hour":return A$(t);case"day":return LM(t);case"week":return O$(t);case"month":return kx(t);case"quarter":return I$(t);case"year":return D$(t);default:return t}}});ju.register(Kf,Gf,yc,oa,W2,Y2,B2,rl);const $w=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}];function Xx({title:t,data:e,lineColor:n="#3b82f6",backgroundColor:r="rgba(59, 130, 246, 0.1)",yAxisLabel:s="Y Axis"}){const[i,o]=b.useState("7d"),a=x=>{var p;return((p=$w.find(v=>v.value===x))==null?void 0:p.days)||7},u=(()=>{const x=a(i),p=new Date,v=Zc(p,x-1);return e.filter(y=>{const g=new Date(y.date);return g>=Xa(v)&&g<=p})})(),f=(()=>{const x=a(i),p=[],v=new Date;for(let y=x-1;y>=0;y--)p.push(Be(Zc(v,y),"yyyy-MM-dd"));return p})(),h={labels:f,datasets:[{label:t,data:f.map(x=>{const p=u.find(v=>Be(new Date(v.date),"yyyy-MM-dd")===x);return p?p.value:null}),borderColor:n,backgroundColor:r,borderWidth:2,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,spanGaps:!1}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:n,borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:s,color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Kt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:t}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:$w.map(x=>c.jsx(K,{variant:i===x.value?"default":"ghost",size:"sm",onClick:()=>o(x.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${i===x.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:x.label},x.value))})]})}),c.jsx(de,{className:"pt-0",children:c.jsx("div",{className:"h-64 w-full",children:c.jsx(X2,{data:h,options:m})})})]})}function M7(){const[,t]=Et(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Progress",showBackButton:!1,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(Xx,{title:"Progress Tracking",data:[{date:"2024-01-01",value:75},{date:"2024-01-02",value:78},{date:"2024-01-03",value:82},{date:"2024-01-04",value:80},{date:"2024-01-05",value:85},{date:"2024-01-06",value:88},{date:"2024-01-07",value:90}],lineColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",yAxisLabel:"Progress Score"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-trophy text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Achievements"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Streak"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(xl,{})]})})]})}function D7(){const[,t]=Et(),{data:e=[],isLoading:n}=on({queryKey:["/api/goals"],queryFn:()=>Ue("GET","/api/goals")}),r=()=>{window.history.length>1?window.history.back():t("/")},s=a=>a.targetValueSecondary&&a.targetUnitSecondary?`${a.targetValuePrimary} ${a.targetUnitPrimary} ${a.targetValueSecondary} ${a.targetUnitSecondary}`:`${a.targetValuePrimary} ${a.targetUnitPrimary}`,i=a=>{switch(a){case"sleep":return"fa-bed";case"nutrition":return"fa-utensils";case"daily_move":return"fa-running";default:return"fa-bullseye"}},o=a=>{switch(a){case"sleep":return"text-purple-500";case"nutrition":return"text-green-500";case"daily_move":return"text-blue-500";default:return"text-gray-500"}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Goals",showBackButton:!1,onBack:r}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(de,{className:"p-4",children:c.jsxs(K,{onClick:()=>t("/add-goal"),className:"w-full bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg h-14",children:[c.jsx("i",{className:"fas fa-plus mr-3 text-lg"}),c.jsx("span",{className:"text-lg font-medium",children:"Add New Goal"})]})})}),n?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsxs(de,{className:"p-8 text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading goals..."})]})}):e.length>0?c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Kt,{children:c.jsxs(Gt,{className:"text-xl font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-bullseye text-green-500 mr-3"}),"Your Goals (",e.length,")"]})}),c.jsx(de,{className:"space-y-4",children:e.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center",children:c.jsx("i",{className:`fas ${i(a.goalType)} ${o(a.goalType)} text-xl`})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:a.goalName}),c.jsx("p",{className:"text-sm text-gray-600 capitalize",children:a.goalType.replace("_"," ")})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:s(a)}),c.jsx("p",{className:"text-sm text-gray-500",children:"Target"})]})]},a.id))})]}):c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(de,{children:c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-bullseye text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Goals Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first goal to start tracking your progress and staying motivated."}),c.jsxs(K,{onClick:()=>t("/add-goal"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Your First Goal"]})]})})})}),c.jsx(xl,{})]})})]})}const vd=[{id:"sleep",label:"Sleep",icon:"fa-bed",color:"text-purple-500",description:"Track your daily sleep duration",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"8",secondary:"30"}},{id:"nutrition",label:"Nutrition",icon:"fa-utensils",color:"text-green-500",description:"Track your daily calorie intake",primaryUnit:"calories",secondaryUnit:null,placeholder:{primary:"2000",secondary:null}},{id:"daily_move",label:"Daily Move",icon:"fa-running",color:"text-blue-500",description:"Track your daily movement/exercise time",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"1",secondary:"30"}}],A7=ks({goalType:we().min(1,"Please select a goal type"),goalName:we().min(1,"Goal name is required"),targetValuePrimary:we().min(1,"Target value is required"),targetValueSecondary:we().optional(),customGoalType:we().optional()});function O7(){const[,t]=Et(),[e,n]=b.useState(""),[r,s]=b.useState(!1),i=Un(),{toast:o}=Xt(),a=fl({resolver:hl(A7),defaultValues:{goalType:"",goalName:"",targetValuePrimary:"",targetValueSecondary:"",customGoalType:""}}),l=Ft({mutationFn:async m=>Ue("POST","/api/goals",m),onSuccess:()=>{o({title:"Success",description:"Goal created successfully!"}),i.invalidateQueries({queryKey:["/api/goals"]}),t("/goals")},onError:()=>{o({title:"Error",description:"Failed to create goal. Please try again.",variant:"destructive"})}}),u=()=>{window.history.length>1?window.history.back():t("/goals")},d=m=>{if(m==="custom")s(!0),n("custom"),a.setValue("goalType","custom"),a.setValue("goalName","");else{s(!1),n(m),a.setValue("goalType",m);const x=vd.find(p=>p.id===m);x&&(a.setValue("goalName",x.label+" Goal"),a.setValue("targetValuePrimary",x.placeholder.primary),a.setValue("targetValueSecondary",x.placeholder.secondary||""))}},f=m=>{const x=vd.find(y=>y.id===m.goalType),v={goalType:r?m.customGoalType||"custom":m.goalType,goalName:m.goalName,targetValuePrimary:parseFloat(m.targetValuePrimary),targetUnitPrimary:(x==null?void 0:x.primaryUnit)||"units",targetValueSecondary:m.targetValueSecondary?parseFloat(m.targetValueSecondary):null,targetUnitSecondary:(x==null?void 0:x.secondaryUnit)||null};l.mutate(v)},h=vd.find(m=>m.id===e);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Add Goal",showBackButton:!0,onBack:u}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[!e&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Kt,{children:c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"Choose Goal Type"})}),c.jsxs(de,{className:"space-y-4",children:[c.jsx("div",{className:"grid gap-3",children:vd.map(m=>c.jsx(K,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d(m.id),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:`fas ${m.icon} ${m.color} text-xl`}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:m.label}),c.jsx("div",{className:"text-sm text-gray-500",children:m.description})]})]})},m.id))}),c.jsx("div",{className:"border-t pt-4 mt-4",children:c.jsx(K,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d("custom"),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:"fas fa-plus text-gray-500 text-xl"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Custom Goal"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Create your own goal type"})]})]})})})]})]}),e&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Kt,{children:c.jsxs(Gt,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[h&&c.jsx("i",{className:`fas ${h.icon} ${h.color} mr-3`}),r?"Custom Goal":h==null?void 0:h.label,c.jsx(K,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>{n(""),s(!1),a.reset()},children:c.jsx("i",{className:"fas fa-arrow-left"})})]})}),c.jsx(de,{children:c.jsx(JM,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6",children:[r&&c.jsx(Xi,{control:a.control,name:"customGoalType",render:({field:m})=>c.jsxs(Js,{children:[c.jsx(ei,{children:"Goal Category"}),c.jsx(ti,{children:c.jsx(ke,{placeholder:"e.g., water_intake, steps, meditation",...m})}),c.jsx(ni,{})]})}),c.jsx(Xi,{control:a.control,name:"goalName",render:({field:m})=>c.jsxs(Js,{children:[c.jsx(ei,{children:"Goal Name"}),c.jsx(ti,{children:c.jsx(ke,{placeholder:"Enter a name for this goal",...m})}),c.jsx(ni,{})]})}),c.jsx(Xi,{control:a.control,name:"targetValuePrimary",render:({field:m})=>c.jsxs(Js,{children:[c.jsxs(ei,{children:["Target ",(h==null?void 0:h.primaryUnit)||"Value",(h==null?void 0:h.primaryUnit)&&c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.primaryUnit,")"]})]}),c.jsx(ti,{children:c.jsx(ke,{type:"number",step:"0.1",placeholder:(h==null?void 0:h.placeholder.primary)||"0",...m})}),c.jsx(ni,{})]})}),(h==null?void 0:h.secondaryUnit)&&c.jsx(Xi,{control:a.control,name:"targetValueSecondary",render:({field:m})=>c.jsxs(Js,{children:[c.jsxs(ei,{children:["Additional ",h.secondaryUnit,c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.secondaryUnit,") - optional"]})]}),c.jsx(ti,{children:c.jsx(ke,{type:"number",step:"1",min:"0",max:"59",placeholder:(h==null?void 0:h.placeholder.secondary)||"0",...m})}),c.jsx(ni,{})]})}),c.jsx(K,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating Goal..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Goal"]})})]})})})]})]})})]})}function R7(){const[,t]=Et(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Workouts",showBackButton:!1,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(Xx,{title:"Workout Intensity",data:[{date:"2024-01-01",value:6},{date:"2024-01-02",value:8},{date:"2024-01-03",value:7},{date:"2024-01-04",value:9},{date:"2024-01-05",value:6},{date:"2024-01-06",value:8},{date:"2024-01-07",value:7}],lineColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",yAxisLabel:"Intensity (1-10)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fist-raised text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Strength"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-heartbeat text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Cardio"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-leaf text-green-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Flexibility"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-stopwatch text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"HIIT"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(xl,{})]})})]})}ju.register(Kf,Gf,yc,oa,W2,Y2,B2,rl,Gl);const Bw=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}];function I7(){const[t,e]=b.useState("7d"),{data:n=[],error:r,isLoading:s}=on({queryKey:["/api/macros"]}),{data:i,error:o,isLoading:a}=on({queryKey:["/api/macro-targets"]});console.log("NutritionChart Debug:",{allMacros:n,macroTargets:i,macrosError:r,targetsError:o,macrosLoading:s,targetsLoading:a});const l=C=>{var M;return((M=Bw.find(A=>A.value===C))==null?void 0:M.days)||7},d=(()=>{const C=l(t),M=new Date,A=Zc(M,C-1),F={};return n.filter(O=>{const V=new Date(O.date);return V>=A&&V<=M}).forEach(O=>{const V=Be(new Date(O.date),"yyyy-MM-dd");F[V]||(F[V]=[]),F[V].push(O)}),F})(),f=K6(d,l(t)),h=Be(new Date,"yyyy-MM-dd"),m=d[h]||[],x=rD(m),v=i||{proteinTarget:150,fatsTarget:80,carbsTarget:200},y=G6(x,v),g={labels:f.map(C=>C.date),datasets:[{label:"Daily Calories",data:f.map(C=>C.value||null),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:1,fill:!1,tension:.4,pointRadius:3,pointHoverRadius:5,spanGaps:!1}]},w={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"#10b981",borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280",display:!0,font:{size:11}},border:{display:!0,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:"Calories",color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},_=(C,M,A)=>({data:{datasets:[{data:[C,Math.max(0,100-C)],backgroundColor:[M,"#f3f4f6"],borderWidth:0,cutout:"70%"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}),S=_(y.protein,"#ef4444"),k=_(y.fats,"#eab308"),T=_(y.carbs,"#22c55e");return s||a?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(de,{className:"pt-6",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-600",children:"Loading nutrition data..."})})})}):r||o?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(de,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-red-600",children:"Error loading nutrition data"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(r==null?void 0:r.message)||(o==null?void 0:o.message)})]})})}):c.jsxs(c.Fragment,{children:[c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Kt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"Daily Calories"}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:Bw.map(C=>c.jsx(K,{variant:t===C.value?"default":"ghost",size:"sm",onClick:()=>e(C.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${t===C.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:C.label},C.value))})]})}),c.jsxs(de,{className:"pt-0 space-y-6",children:[c.jsx("div",{className:"h-64 w-full",children:c.jsx(X2,{data:g,options:w})}),c.jsxs("div",{className:"text-center pt-4 border-t border-gray-200",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Today's Total"}),c.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[Math.round(x.totalCalories)||0," calories"]})]})]})]}),c.jsxs("div",{className:"flex justify-center gap-8 px-4 mt-6",children:[c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(Xm,{data:S.data,options:S.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(y.protein)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Protein"}),c.jsxs("p",{className:"text-xs text-red-500 font-medium",children:[Math.round(x.protein)||0,"g / ",v.proteinTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(Xm,{data:k.data,options:k.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(y.fats)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Fats"}),c.jsxs("p",{className:"text-xs text-yellow-500 font-medium",children:[Math.round(x.fats)||0,"g / ",v.fatsTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(Xm,{data:T.data,options:T.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(y.carbs)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Carbs"}),c.jsxs("p",{className:"text-xs text-green-500 font-medium",children:[Math.round(x.carbs)||0,"g / ",v.carbsTarget,"g"]})]})]})]})}function F7(){const[,t]=Et(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Nutrition",showBackButton:!1,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(I7,{}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Calories"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-drumstick-bite text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Protein"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-bread-slice text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Carbs"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-tint text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Hydration"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(xl,{})]})})]})}function L7(){const[,t]=Et(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(En,{title:"Sleep",showBackButton:!1,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(Xx,{title:"Sleep Hours",data:[{date:"2024-01-01",value:7.5},{date:"2024-01-02",value:8.2},{date:"2024-01-03",value:6.8},{date:"2024-01-04",value:7.9},{date:"2024-01-05",value:8.1},{date:"2024-01-06",value:7.3},{date:"2024-01-07",value:8.5}],lineColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.1)",yAxisLabel:"Hours"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-clock text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-star text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Quality"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-bed text-purple-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Bedtime"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(de,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-sun text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Wake Time"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(xl,{})]})})]})}function z7(){const[t,e]=b.useState(""),[n,r]=b.useState(!1),{toast:s}=Xt(),[,i]=Et(),o=async()=>{if(!t){s({title:"Missing Email",description:"Please enter your email address.",variant:"destructive"});return}r(!0);try{await Ue("POST","/api/auth/request-password-reset",{email:t}),s({title:"Reset Link Sent",description:"If your email is registered, a reset link was sent."}),setTimeout(()=>i("/"),2e3)}catch(a){s({title:"Reset Failed",description:(a==null?void 0:a.message)||"Something went wrong.",variant:"destructive"})}finally{r(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(de,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-envelope-open-text text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Forgot Password?"}),c.jsx("p",{className:"text-gray-600",children:"We’ll email you a link to reset it."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"forgot-email",children:"Email Address"}),c.jsx(ke,{id:"forgot-email",type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"your@email.com",autoComplete:"email",className:"mt-2"})]}),c.jsx(K,{onClick:o,disabled:n,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:n?"Sending...":"Send Reset Link"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remembered your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go back to login"})]})]})]})})})}function V7(){const{toast:t}=Xt(),[,e]=Et(),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),l=async()=>{if(!n||!s){t({title:"Missing Fields",description:"Please fill in both fields.",variant:"destructive"});return}a(!0);try{await Ue("POST","/api/auth/change-password",{currentPassword:n,newPassword:s}),t({title:"Password Updated",description:"Your password was successfully changed."}),e("/profile")}catch{t({title:"Update Failed",description:"Current password may be incorrect.",variant:"destructive"})}finally{a(!1)}};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(En,{title:"Change Password",showBackButton:!0,onBack:()=>e("/profile")}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Kt,{children:c.jsx(Gt,{className:"text-lg font-semibold text-gray-800",children:"Update Your Password"})}),c.jsxs(de,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),c.jsx(ke,{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Enter your current password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsx(ke,{type:"password",value:s,onChange:u=>i(u.target.value),placeholder:"Enter your new password"})]}),c.jsx(K,{onClick:l,disabled:o,className:"w-full shadow-md hover:shadow-lg transition-shadow",children:o?"Updating...":"Change Password"})]})]})})]})}function $7(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(!1),[o,a]=b.useState(""),{toast:l}=Xt(),[,u]=Et();b.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("token");if(!h){l({title:"Invalid Link",description:"This password reset link is invalid or missing the token.",variant:"destructive"}),setTimeout(()=>u("/forgot-password"),3e3);return}a(h)},[l,u]);const d=async()=>{if(!t||!n){l({title:"Missing Fields",description:"Please fill in both password fields.",variant:"destructive"});return}if(t!==n){l({title:"Passwords Don't Match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<6){l({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i(!0);try{await Ue("POST","/api/auth/reset-password",{token:o,newPassword:t}),l({title:"Password Reset Successful",description:"Your password has been updated. You can now log in with your new password."}),setTimeout(()=>u("/"),2e3)}catch(f){l({title:"Reset Failed",description:(f==null?void 0:f.message)||"Failed to reset password. The link may have expired.",variant:"destructive"})}finally{i(!1)}};return o?c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(de,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-key text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Reset Your Password"}),c.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"new-password",children:"New Password"}),c.jsx(ke,{id:"new-password",type:"password",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your new password",className:"mt-2",minLength:6})]}),c.jsxs("div",{children:[c.jsx(ze,{htmlFor:"confirm-password",children:"Confirm Password"}),c.jsx(ke,{id:"confirm-password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Confirm your new password",className:"mt-2",minLength:6})]}),c.jsx(K,{onClick:d,disabled:s,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:s?"Resetting...":"Reset Password"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remember your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go to login"})]})]})]})})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsx(de,{className:"p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-exclamation-triangle text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Invalid Link"}),c.jsx("p",{className:"text-gray-600",children:"This password reset link is invalid or has expired."})]})})})})}function B7(){const{user:t,isAuthenticated:e,isLoading:n}=Oo();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):c.jsxs(c.Fragment,{children:[c.jsx(d5,{}),c.jsxs(iI,{children:[c.jsx(Tt,{path:"/forgot-password",component:z7}),c.jsx(Tt,{path:"/reset-password",component:$7}),e?c.jsx(c.Fragment,{children:t!=null&&t.onboardingCompleted?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{path:"/",component:RU}),c.jsx(Tt,{path:"/profile",component:d8}),c.jsx(Tt,{path:"/edit-profile",component:h8}),c.jsx(Tt,{path:"/feedback",component:m8}),c.jsx(Tt,{path:"/photos",component:N8}),c.jsx(Tt,{path:"/progress",component:M7}),c.jsx(Tt,{path:"/goals",component:D7}),c.jsx(Tt,{path:"/add-goal",component:O7}),c.jsx(Tt,{path:"/workouts",component:R7}),c.jsx(Tt,{path:"/nutrition",component:F7}),c.jsx(Tt,{path:"/sleep",component:L7}),c.jsx(Tt,{path:"/add-activity",component:g8}),c.jsx(Tt,{path:"/select-activity",component:w8}),c.jsx(Tt,{path:"/add-macros",component:_8}),c.jsx(Tt,{path:"/change-password",component:V7})," "," "]}):c.jsx(Tt,{path:"/",component:c8})}):c.jsx(Tt,{path:"/",component:G3}),c.jsx(Tt,{component:y5})]})]})}function U7(){return c.jsx(kI,{client:Bi,children:c.jsxs(c5,{children:[c.jsx(NL,{}),c.jsx(p5,{}),c.jsx(B7,{})]})})}Qk(document.getElementById("root")).render(c.jsx(U7,{}));
