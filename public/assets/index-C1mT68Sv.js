var qO=Object.defineProperty;var _v=t=>{throw TypeError(t)};var QO=(t,e,n)=>e in t?qO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>QO(t,typeof e!="symbol"?e+"":e,n),Jh=(t,e,n)=>e.has(t)||_v("Cannot "+n);var E=(t,e,n)=>(Jh(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?_v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(Jh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ke=(t,e,n)=>(Jh(t,e,"access private method"),n);var Iu=(t,e,n,r)=>({set _(s){re(t,e,s,n)},get _(){return E(t,e,r)}});function KO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function xk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vk={exports:{}},ah={},bk={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),GO=Symbol.for("react.portal"),XO=Symbol.for("react.fragment"),ZO=Symbol.for("react.strict_mode"),JO=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),nA=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),sA=Symbol.for("react.memo"),iA=Symbol.for("react.lazy"),Nv=Symbol.iterator;function oA(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var wk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sk=Object.assign,_k={};function dl(t,e,n){this.props=t,this.context=e,this.refs=_k,this.updater=n||wk}dl.prototype.isReactComponent={};dl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nk(){}Nk.prototype=dl.prototype;function oy(t,e,n){this.props=t,this.context=e,this.refs=_k,this.updater=n||wk}var ay=oy.prototype=new Nk;ay.constructor=oy;Sk(ay,dl.prototype);ay.isPureReactComponent=!0;var kv=Array.isArray,kk=Object.prototype.hasOwnProperty,ly={current:null},Ck={key:!0,ref:!0,__self:!0,__source:!0};function Tk(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kk.call(e,r)&&!Ck.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gu,type:t,key:i,ref:o,props:s,_owner:ly.current}}function aA(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cy(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function lA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cv=/\/+/g;function em(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lA(""+t.key):e.toString(36)}function Cd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gu:case GO:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+em(o,0):r,kv(s)?(n="",t!=null&&(n=t.replace(Cv,"$&/")+"/"),Cd(s,e,n,"",function(u){return u})):s!=null&&(cy(s)&&(s=aA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Cv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",kv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+em(i,a);o+=Cd(i,e,n,l,s)}else if(l=oA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+em(i,a++),o+=Cd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ru(t,e,n){if(t==null)return t;var r=[],s=0;return Cd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function cA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Td={transition:null},uA={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Td,ReactCurrentOwner:ly};function jk(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Ru,forEach:function(t,e,n){Ru(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ru(t,function(){e++}),e},toArray:function(t){return Ru(t,function(e){return e})||[]},only:function(t){if(!cy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=dl;De.Fragment=XO;De.Profiler=JO;De.PureComponent=oy;De.StrictMode=ZO;De.Suspense=rA;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uA;De.act=jk;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sk({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ly.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kk.call(e,l)&&!Ck.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gu,type:t.type,key:s,ref:i,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:tA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eA,_context:t},t.Consumer=t};De.createElement=Tk;De.createFactory=function(t){var e=Tk.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:nA,render:t}};De.isValidElement=cy;De.lazy=function(t){return{$$typeof:iA,_payload:{_status:-1,_result:t},_init:cA}};De.memo=function(t,e){return{$$typeof:sA,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Td.transition;Td.transition={};try{t()}finally{Td.transition=e}};De.unstable_act=jk;De.useCallback=function(t,e){return vn.current.useCallback(t,e)};De.useContext=function(t){return vn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};De.useEffect=function(t,e){return vn.current.useEffect(t,e)};De.useId=function(){return vn.current.useId()};De.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return vn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};De.useRef=function(t){return vn.current.useRef(t)};De.useState=function(t){return vn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return vn.current.useTransition()};De.version="18.3.1";bk.exports=De;var v=bk.exports;const ye=xk(v),uy=KO({__proto__:null,default:ye},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA=v,fA=Symbol.for("react.element"),hA=Symbol.for("react.fragment"),mA=Object.prototype.hasOwnProperty,pA=dA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gA={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mA.call(e,r)&&!gA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:fA,type:t,key:i,ref:o,props:s,_owner:pA.current}}ah.Fragment=hA;ah.jsx=Pk;ah.jsxs=Pk;vk.exports=ah;var c=vk.exports,Ek={exports:{}},Un={},Mk={exports:{}},Dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,R){var D=j.length;j.push(R);e:for(;0<D;){var W=D-1>>>1,G=j[W];if(0<s(G,R))j[W]=R,j[D]=G,D=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var R=j[0],D=j.pop();if(D!==R){j[0]=D;e:for(var W=0,G=j.length,ne=G>>>1;W<ne;){var se=2*(W+1)-1,ge=j[se],ve=se+1,H=j[ve];if(0>s(ge,D))ve<G&&0>s(H,ge)?(j[W]=H,j[ve]=D,W=ve):(j[W]=ge,j[se]=D,W=se);else if(ve<G&&0>s(H,D))j[W]=H,j[ve]=D,W=ve;else break e}}return R}function s(j,R){var D=j.sortIndex-R.sortIndex;return D!==0?D:j.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,y=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=j)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function S(j){if(p=!1,w(j),!y)if(n(l)!==null)y=!0,z(_);else{var R=n(u);R!==null&&B(S,R.startTime-j)}}function _(j,R){y=!1,p&&(p=!1,x(T),T=-1),m=!0;var D=h;try{for(w(R),f=n(l);f!==null&&(!(f.expirationTime>R)||j&&!F());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),w(R)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var se=n(u);se!==null&&B(S,se.startTime-R),ne=!1}return ne}finally{f=null,h=D,m=!1}}var N=!1,C=null,T=-1,P=5,O=-1;function F(){return!(t.unstable_now()-O<P)}function A(){if(C!==null){var j=t.unstable_now();O=j;var R=!0;try{R=C(!0,j)}finally{R?$():(N=!1,C=null)}}else N=!1}var $;if(typeof g=="function")$=function(){g(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,I=V.port2;V.port1.onmessage=A,$=function(){I.postMessage(null)}}else $=function(){b(A,0)};function z(j){C=j,N||(N=!0,$())}function B(j,R){T=b(function(){j(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,z(_))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return j()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,R){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var D=h;h=j;try{return R()}finally{h=D}},t.unstable_scheduleCallback=function(j,R,D){var W=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,j={id:d++,callback:R,priorityLevel:j,startTime:D,expirationTime:G,sortIndex:-1},D>W?(j.sortIndex=D,e(u,j),n(l)===null&&j===n(u)&&(p?(x(T),T=-1):p=!0,B(S,D-W))):(j.sortIndex=G,e(l,j),y||m||(y=!0,z(_))),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var R=h;return function(){var D=h;h=R;try{return j.apply(this,arguments)}finally{h=D}}}})(Dk);Mk.exports=Dk;var yA=Mk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA=v,Bn=yA;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ok=new Set,Nc={};function zo(t,e){Ua(t,e),Ua(t+"Capture",e)}function Ua(t,e){for(Nc[t]=e,t=0;t<e.length;t++)Ok.add(e[t])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tv={},jv={};function bA(t){return yp.call(jv,t)?!0:yp.call(Tv,t)?!1:vA.test(t)?jv[t]=!0:(Tv[t]=!0,!1)}function wA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SA(t,e,n,r){if(e===null||typeof e>"u"||wA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dy,fy);Xt[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dy,fy);Xt[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dy,fy);Xt[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function hy(t,e,n,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SA(e,n,s,r)&&(n=null),r||s===null?bA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ts=xA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fu=Symbol.for("react.element"),na=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),Ak=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),gy=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),Rk=Symbol.for("react.offscreen"),Pv=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,tm;function ql(t){if(tm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tm=e&&e[1]||""}return`
`+tm+t}var nm=!1;function rm(t,e){if(!t||nm)return"";nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{nm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ql(t):""}function _A(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=rm(t.type,!1),t;case 11:return t=rm(t.type.render,!1),t;case 1:return t=rm(t.type,!0),t;default:return""}}function wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ra:return"Fragment";case na:return"Portal";case xp:return"Profiler";case my:return"StrictMode";case vp:return"Suspense";case bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ik:return(t.displayName||"Context")+".Consumer";case Ak:return(t._context.displayName||"Context")+".Provider";case py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gy:return e=t.displayName||null,e!==null?e:wp(t.type)||"Memo";case Vs:e=t._payload,t=t._init;try{return wp(t(e))}catch{}}return null}function NA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wp(e);case 8:return e===my?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kA(t){var e=Fk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lu(t){t._valueTracker||(t._valueTracker=kA(t))}function Lk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sp(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ev(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zk(t,e){e=e.checked,e!=null&&hy(t,"checked",e,!1)}function _p(t,e){zk(t,e);var n=vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Np(t,e.type,n):e.hasOwnProperty("defaultValue")&&Np(t,e.type,vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Np(t,e,n){(e!=="number"||Xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ql=Array.isArray;function ga(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Ql(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vi(n)}}function Vk(t,e){var n=vi(e.value),r=vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $k(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$k(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zu,Bk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CA=["Webkit","ms","Moz","O"];Object.keys(sc).forEach(function(t){CA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sc[e]=sc[t]})});function Uk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sc.hasOwnProperty(t)&&sc[t]?(""+e).trim():e+"px"}function Wk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var TA=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tp(t,e){if(e){if(TA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function jp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=null;function yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ep=null,ya=null,xa=null;function Av(t){if(t=vu(t)){if(typeof Ep!="function")throw Error(K(280));var e=t.stateNode;e&&(e=fh(e),Ep(t.stateNode,t.type,e))}}function Hk(t){ya?xa?xa.push(t):xa=[t]:ya=t}function Yk(){if(ya){var t=ya,e=xa;if(xa=ya=null,Av(t),e)for(t=0;t<e.length;t++)Av(e[t])}}function qk(t,e){return t(e)}function Qk(){}var sm=!1;function Kk(t,e,n){if(sm)return t(e,n);sm=!0;try{return qk(t,e,n)}finally{sm=!1,(ya!==null||xa!==null)&&(Qk(),Yk())}}function Cc(t,e){var n=t.stateNode;if(n===null)return null;var r=fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Mp=!1;if(bs)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Mp=!1}function jA(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ic=!1,Zd=null,Jd=!1,Dp=null,PA={onError:function(t){ic=!0,Zd=t}};function EA(t,e,n,r,s,i,o,a,l){ic=!1,Zd=null,jA.apply(PA,arguments)}function MA(t,e,n,r,s,i,o,a,l){if(EA.apply(this,arguments),ic){if(ic){var u=Zd;ic=!1,Zd=null}else throw Error(K(198));Jd||(Jd=!0,Dp=u)}}function Vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Iv(t){if(Vo(t)!==t)throw Error(K(188))}function DA(t){var e=t.alternate;if(!e){if(e=Vo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Iv(s),t;if(i===r)return Iv(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Xk(t){return t=DA(t),t!==null?Zk(t):null}function Zk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zk(t);if(e!==null)return e;t=t.sibling}return null}var Jk=Bn.unstable_scheduleCallback,Rv=Bn.unstable_cancelCallback,OA=Bn.unstable_shouldYield,AA=Bn.unstable_requestPaint,Nt=Bn.unstable_now,IA=Bn.unstable_getCurrentPriorityLevel,xy=Bn.unstable_ImmediatePriority,eC=Bn.unstable_UserBlockingPriority,ef=Bn.unstable_NormalPriority,RA=Bn.unstable_LowPriority,tC=Bn.unstable_IdlePriority,lh=null,Br=null;function FA(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(lh,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:VA,LA=Math.log,zA=Math.LN2;function VA(t){return t>>>=0,t===0?32:31-(LA(t)/zA|0)|0}var Vu=64,$u=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Kl(a):(i&=o,i!==0&&(r=Kl(i)))}else o=n&~s,o!==0?r=Kl(o):i!==0&&(r=Kl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),s=1<<n,r|=t[n],e&=~s;return r}function $A(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=$A(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nC(){var t=Vu;return Vu<<=1,!(Vu&4194240)&&(Vu=64),t}function im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function UA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function vy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Je=0;function rC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sC,by,iC,oC,aC,Ap=!1,Bu=[],ci=null,ui=null,di=null,Tc=new Map,jc=new Map,Bs=[],WA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fv(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Tc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(e.pointerId)}}function jl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vu(e),e!==null&&by(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function HA(t,e,n,r,s){switch(e){case"focusin":return ci=jl(ci,t,e,n,r,s),!0;case"dragenter":return ui=jl(ui,t,e,n,r,s),!0;case"mouseover":return di=jl(di,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tc.set(i,jl(Tc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jc.set(i,jl(jc.get(i)||null,t,e,n,r,s)),!0}return!1}function lC(t){var e=eo(t.target);if(e!==null){var n=Vo(e);if(n!==null){if(e=n.tag,e===13){if(e=Gk(n),e!==null){t.blockedOn=e,aC(t.priority,function(){iC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ip(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pp=r,n.target.dispatchEvent(r),Pp=null}else return e=vu(n),e!==null&&by(e),t.blockedOn=n,!1;e.shift()}return!0}function Lv(t,e,n){jd(t)&&n.delete(e)}function YA(){Ap=!1,ci!==null&&jd(ci)&&(ci=null),ui!==null&&jd(ui)&&(ui=null),di!==null&&jd(di)&&(di=null),Tc.forEach(Lv),jc.forEach(Lv)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ap||(Ap=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,YA)))}function Pc(t){function e(s){return Pl(s,t)}if(0<Bu.length){Pl(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&Pl(ci,t),ui!==null&&Pl(ui,t),di!==null&&Pl(di,t),Tc.forEach(e),jc.forEach(e),n=0;n<Bs.length;n++)r=Bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)lC(n),n.blockedOn===null&&Bs.shift()}var va=Ts.ReactCurrentBatchConfig,nf=!0;function qA(t,e,n,r){var s=Je,i=va.transition;va.transition=null;try{Je=1,wy(t,e,n,r)}finally{Je=s,va.transition=i}}function QA(t,e,n,r){var s=Je,i=va.transition;va.transition=null;try{Je=4,wy(t,e,n,r)}finally{Je=s,va.transition=i}}function wy(t,e,n,r){if(nf){var s=Ip(t,e,n,r);if(s===null)pm(t,e,r,rf,n),Fv(t,r);else if(HA(s,t,e,n,r))r.stopPropagation();else if(Fv(t,r),e&4&&-1<WA.indexOf(t)){for(;s!==null;){var i=vu(s);if(i!==null&&sC(i),i=Ip(t,e,n,r),i===null&&pm(t,e,r,rf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pm(t,e,r,null,n)}}var rf=null;function Ip(t,e,n,r){if(rf=null,t=yy(r),t=eo(t),t!==null)if(e=Vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rf=t,null}function cC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IA()){case xy:return 1;case eC:return 4;case ef:case RA:return 16;case tC:return 536870912;default:return 16}default:return 16}}var ei=null,Sy=null,Pd=null;function uC(){if(Pd)return Pd;var t,e=Sy,n=e.length,r,s="value"in ei?ei.value:ei.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pd=s.slice(t,1<r?1-r:void 0)}function Ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uu(){return!0}function zv(){return!1}function Wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uu:zv,this.isPropagationStopped=zv,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),e}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_y=Wn(fl),xu=pt({},fl,{view:0,detail:0}),KA=Wn(xu),om,am,El,ch=pt({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ny,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(om=t.screenX-El.screenX,am=t.screenY-El.screenY):am=om=0,El=t),om)},movementY:function(t){return"movementY"in t?t.movementY:am}}),Vv=Wn(ch),GA=pt({},ch,{dataTransfer:0}),XA=Wn(GA),ZA=pt({},xu,{relatedTarget:0}),lm=Wn(ZA),JA=pt({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),eI=Wn(JA),tI=pt({},fl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nI=Wn(tI),rI=pt({},fl,{data:0}),$v=Wn(rI),sI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oI[t])?!!e[t]:!1}function Ny(){return aI}var lI=pt({},xu,{key:function(t){if(t.key){var e=sI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ny,charCode:function(t){return t.type==="keypress"?Ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cI=Wn(lI),uI=pt({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bv=Wn(uI),dI=pt({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ny}),fI=Wn(dI),hI=pt({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mI=Wn(hI),pI=pt({},ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gI=Wn(pI),yI=[9,13,27,32],ky=bs&&"CompositionEvent"in window,oc=null;bs&&"documentMode"in document&&(oc=document.documentMode);var xI=bs&&"TextEvent"in window&&!oc,dC=bs&&(!ky||oc&&8<oc&&11>=oc),Uv=" ",Wv=!1;function fC(t,e){switch(t){case"keyup":return yI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function vI(t,e){switch(t){case"compositionend":return hC(e);case"keypress":return e.which!==32?null:(Wv=!0,Uv);case"textInput":return t=e.data,t===Uv&&Wv?null:t;default:return null}}function bI(t,e){if(sa)return t==="compositionend"||!ky&&fC(t,e)?(t=uC(),Pd=Sy=ei=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var wI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wI[t.type]:e==="textarea"}function mC(t,e,n,r){Hk(r),e=sf(e,"onChange"),0<e.length&&(n=new _y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ac=null,Ec=null;function SI(t){kC(t,0)}function uh(t){var e=aa(t);if(Lk(e))return t}function _I(t,e){if(t==="change")return e}var pC=!1;if(bs){var cm;if(bs){var um="oninput"in document;if(!um){var Yv=document.createElement("div");Yv.setAttribute("oninput","return;"),um=typeof Yv.oninput=="function"}cm=um}else cm=!1;pC=cm&&(!document.documentMode||9<document.documentMode)}function qv(){ac&&(ac.detachEvent("onpropertychange",gC),Ec=ac=null)}function gC(t){if(t.propertyName==="value"&&uh(Ec)){var e=[];mC(e,Ec,t,yy(t)),Kk(SI,e)}}function NI(t,e,n){t==="focusin"?(qv(),ac=e,Ec=n,ac.attachEvent("onpropertychange",gC)):t==="focusout"&&qv()}function kI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uh(Ec)}function CI(t,e){if(t==="click")return uh(e)}function TI(t,e){if(t==="input"||t==="change")return uh(e)}function jI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:jI;function Mc(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yp.call(e,s)||!wr(t[s],e[s]))return!1}return!0}function Qv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kv(t,e){var n=Qv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qv(n)}}function yC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xC(){for(var t=window,e=Xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xd(t.document)}return e}function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PI(t){var e=xC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yC(n.ownerDocument.documentElement,n)){if(r!==null&&Cy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kv(n,i);var o=Kv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EI=bs&&"documentMode"in document&&11>=document.documentMode,ia=null,Rp=null,lc=null,Fp=!1;function Gv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fp||ia==null||ia!==Xd(r)||(r=ia,"selectionStart"in r&&Cy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lc&&Mc(lc,r)||(lc=r,r=sf(Rp,"onSelect"),0<r.length&&(e=new _y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ia)))}function Wu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oa={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},dm={},vC={};bs&&(vC=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function dh(t){if(dm[t])return dm[t];if(!oa[t])return t;var e=oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vC)return dm[t]=e[n];return t}var bC=dh("animationend"),wC=dh("animationiteration"),SC=dh("animationstart"),_C=dh("transitionend"),NC=new Map,Xv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){NC.set(t,e),zo(e,[t])}for(var fm=0;fm<Xv.length;fm++){var hm=Xv[fm],MI=hm.toLowerCase(),DI=hm[0].toUpperCase()+hm.slice(1);Mi(MI,"on"+DI)}Mi(bC,"onAnimationEnd");Mi(wC,"onAnimationIteration");Mi(SC,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(_C,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function Zv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MA(r,e,void 0,t),t.currentTarget=null}function kC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Zv(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Zv(s,a,u),i=l}}}if(Jd)throw t=Dp,Jd=!1,Dp=null,t}function ot(t,e){var n=e[Bp];n===void 0&&(n=e[Bp]=new Set);var r=t+"__bubble";n.has(r)||(CC(e,t,2,!1),n.add(r))}function mm(t,e,n){var r=0;e&&(r|=4),CC(n,t,r,e)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[Hu]){t[Hu]=!0,Ok.forEach(function(n){n!=="selectionchange"&&(OI.has(n)||mm(n,!1,t),mm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hu]||(e[Hu]=!0,mm("selectionchange",!1,e))}}function CC(t,e,n,r){switch(cC(e)){case 1:var s=qA;break;case 4:s=QA;break;default:s=wy}n=s.bind(null,e,n,t),s=void 0,!Mp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=eo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Kk(function(){var u=i,d=yy(n),f=[];e:{var h=NC.get(t);if(h!==void 0){var m=_y,y=t;switch(t){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":m=cI;break;case"focusin":y="focus",m=lm;break;case"focusout":y="blur",m=lm;break;case"beforeblur":case"afterblur":m=lm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=XA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fI;break;case bC:case wC:case SC:m=eI;break;case _C:m=mI;break;case"scroll":m=KA;break;case"wheel":m=gI;break;case"copy":case"cut":case"paste":m=nI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Bv}var p=(e&4)!==0,b=!p&&t==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Cc(g,x),S!=null&&p.push(Oc(g,S,w)))),b)break;g=g.return}0<p.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Pp&&(y=n.relatedTarget||n.fromElement)&&(eo(y)||y[ws]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?eo(y):null,y!==null&&(b=Vo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(p=Vv,S="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=Bv,S="onPointerLeave",x="onPointerEnter",g="pointer"),b=m==null?h:aa(m),w=y==null?h:aa(y),h=new p(S,g+"leave",m,n,d),h.target=b,h.relatedTarget=w,S=null,eo(d)===u&&(p=new p(x,g+"enter",y,n,d),p.target=w,p.relatedTarget=b,S=p),b=S,m&&y)t:{for(p=m,x=y,g=0,w=p;w;w=Yo(w))g++;for(w=0,S=x;S;S=Yo(S))w++;for(;0<g-w;)p=Yo(p),g--;for(;0<w-g;)x=Yo(x),w--;for(;g--;){if(p===x||x!==null&&p===x.alternate)break t;p=Yo(p),x=Yo(x)}p=null}else p=null;m!==null&&Jv(f,h,m,p,!1),y!==null&&b!==null&&Jv(f,b,y,p,!0)}}e:{if(h=u?aa(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=_I;else if(Hv(h))if(pC)_=TI;else{_=kI;var N=NI}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=CI);if(_&&(_=_(t,u))){mC(f,_,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Np(h,"number",h.value)}switch(N=u?aa(u):window,t){case"focusin":(Hv(N)||N.contentEditable==="true")&&(ia=N,Rp=u,lc=null);break;case"focusout":lc=Rp=ia=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,Gv(f,n,d);break;case"selectionchange":if(EI)break;case"keydown":case"keyup":Gv(f,n,d)}var C;if(ky)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else sa?fC(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(dC&&n.locale!=="ko"&&(sa||T!=="onCompositionStart"?T==="onCompositionEnd"&&sa&&(C=uC()):(ei=d,Sy="value"in ei?ei.value:ei.textContent,sa=!0)),N=sf(u,T),0<N.length&&(T=new $v(T,t,null,n,d),f.push({event:T,listeners:N}),C?T.data=C:(C=hC(n),C!==null&&(T.data=C)))),(C=xI?vI(t,n):bI(t,n))&&(u=sf(u,"onBeforeInput"),0<u.length&&(d=new $v("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}kC(f,e)})}function Oc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cc(t,n),i!=null&&r.unshift(Oc(t,i,s)),i=Cc(t,e),i!=null&&r.push(Oc(t,i,s))),t=t.return}return r}function Yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Cc(n,i),l!=null&&o.unshift(Oc(n,l,a))):s||(l=Cc(n,i),l!=null&&o.push(Oc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AI=/\r\n?/g,II=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(AI,`
`).replace(II,"")}function Yu(t,e,n){if(e=e0(e),e0(t)!==e&&n)throw Error(K(425))}function of(){}var Lp=null,zp=null;function Vp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,RI=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,FI=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(t){return t0.resolve(null).then(t).catch(LI)}:$p;function LI(t){setTimeout(function(){throw t})}function gm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Pc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pc(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+hl,Ac="__reactProps$"+hl,ws="__reactContainer$"+hl,Bp="__reactEvents$"+hl,zI="__reactListeners$"+hl,VI="__reactHandles$"+hl;function eo(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ws]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n0(t);t!==null;){if(n=t[Ir])return n;t=n0(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[Ir]||t[ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function fh(t){return t[Ac]||null}var Up=[],la=-1;function Di(t){return{current:t}}function lt(t){0>la||(t.current=Up[la],Up[la]=null,la--)}function st(t,e){la++,Up[la]=t.current,t.current=e}var bi={},ln=Di(bi),Pn=Di(!1),wo=bi;function Wa(t,e){var n=t.type.contextTypes;if(!n)return bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function af(){lt(Pn),lt(ln)}function r0(t,e,n){if(ln.current!==bi)throw Error(K(168));st(ln,e),st(Pn,n)}function TC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,NA(t)||"Unknown",s));return pt({},n,r)}function lf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,wo=ln.current,st(ln,t),st(Pn,Pn.current),!0}function s0(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=TC(t,e,wo),r.__reactInternalMemoizedMergedChildContext=t,lt(Pn),lt(ln),st(ln,t)):lt(Pn),st(Pn,n)}var as=null,hh=!1,ym=!1;function jC(t){as===null?as=[t]:as.push(t)}function $I(t){hh=!0,jC(t)}function Oi(){if(!ym&&as!==null){ym=!0;var t=0,e=Je;try{var n=as;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}as=null,hh=!1}catch(s){throw as!==null&&(as=as.slice(t+1)),Jk(xy,Oi),s}finally{Je=e,ym=!1}}return null}var ca=[],ua=0,cf=null,uf=0,Xn=[],Zn=0,So=null,hs=1,ms="";function qi(t,e){ca[ua++]=uf,ca[ua++]=cf,cf=t,uf=e}function PC(t,e,n){Xn[Zn++]=hs,Xn[Zn++]=ms,Xn[Zn++]=So,So=t;var r=hs;t=ms;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var i=32-xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hs=1<<32-xr(e)+s|n<<s|r,ms=i+t}else hs=1<<i|n<<s|r,ms=t}function Ty(t){t.return!==null&&(qi(t,1),PC(t,1,0))}function jy(t){for(;t===cf;)cf=ca[--ua],ca[ua]=null,uf=ca[--ua],ca[ua]=null;for(;t===So;)So=Xn[--Zn],Xn[Zn]=null,ms=Xn[--Zn],Xn[Zn]=null,hs=Xn[--Zn],Xn[Zn]=null}var zn=null,Ln=null,ct=!1,mr=null;function EC(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Ln=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=So!==null?{id:hs,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Ln=null,!0):!1;default:return!1}}function Wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hp(t){if(ct){var e=Ln;if(e){var n=e;if(!i0(t,e)){if(Wp(t))throw Error(K(418));e=fi(n.nextSibling);var r=zn;e&&i0(t,e)?EC(r,n):(t.flags=t.flags&-4097|2,ct=!1,zn=t)}}else{if(Wp(t))throw Error(K(418));t.flags=t.flags&-4097|2,ct=!1,zn=t}}}function o0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function qu(t){if(t!==zn)return!1;if(!ct)return o0(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vp(t.type,t.memoizedProps)),e&&(e=Ln)){if(Wp(t))throw MC(),Error(K(418));for(;e;)EC(t,e),e=fi(e.nextSibling)}if(o0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=zn?fi(t.stateNode.nextSibling):null;return!0}function MC(){for(var t=Ln;t;)t=fi(t.nextSibling)}function Ha(){Ln=zn=null,ct=!1}function Py(t){mr===null?mr=[t]:mr.push(t)}var BI=Ts.ReactCurrentBatchConfig;function Ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a0(t){var e=t._init;return e(t._payload)}function DC(t){function e(x,g){if(t){var w=x.deletions;w===null?(x.deletions=[g],x.flags|=16):w.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=gi(x,g),x.index=0,x.sibling=null,x}function i(x,g,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<g?(x.flags|=2,g):w):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,g,w,S){return g===null||g.tag!==6?(g=Nm(w,x.mode,S),g.return=x,g):(g=s(g,w),g.return=x,g)}function l(x,g,w,S){var _=w.type;return _===ra?d(x,g,w.props.children,S,w.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vs&&a0(_)===g.type)?(S=s(g,w.props),S.ref=Ml(x,g,w),S.return=x,S):(S=Fd(w.type,w.key,w.props,null,x.mode,S),S.ref=Ml(x,g,w),S.return=x,S)}function u(x,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=km(w,x.mode,S),g.return=x,g):(g=s(g,w.children||[]),g.return=x,g)}function d(x,g,w,S,_){return g===null||g.tag!==7?(g=yo(w,x.mode,S,_),g.return=x,g):(g=s(g,w),g.return=x,g)}function f(x,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Nm(""+g,x.mode,w),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fu:return w=Fd(g.type,g.key,g.props,null,x.mode,w),w.ref=Ml(x,null,g),w.return=x,w;case na:return g=km(g,x.mode,w),g.return=x,g;case Vs:var S=g._init;return f(x,S(g._payload),w)}if(Ql(g)||Cl(g))return g=yo(g,x.mode,w,null),g.return=x,g;Qu(x,g)}return null}function h(x,g,w,S){var _=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fu:return w.key===_?l(x,g,w,S):null;case na:return w.key===_?u(x,g,w,S):null;case Vs:return _=w._init,h(x,g,_(w._payload),S)}if(Ql(w)||Cl(w))return _!==null?null:d(x,g,w,S,null);Qu(x,w)}return null}function m(x,g,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,a(g,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fu:return x=x.get(S.key===null?w:S.key)||null,l(g,x,S,_);case na:return x=x.get(S.key===null?w:S.key)||null,u(g,x,S,_);case Vs:var N=S._init;return m(x,g,w,N(S._payload),_)}if(Ql(S)||Cl(S))return x=x.get(w)||null,d(g,x,S,_,null);Qu(g,S)}return null}function y(x,g,w,S){for(var _=null,N=null,C=g,T=g=0,P=null;C!==null&&T<w.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var O=h(x,C,w[T],S);if(O===null){C===null&&(C=P);break}t&&C&&O.alternate===null&&e(x,C),g=i(O,g,T),N===null?_=O:N.sibling=O,N=O,C=P}if(T===w.length)return n(x,C),ct&&qi(x,T),_;if(C===null){for(;T<w.length;T++)C=f(x,w[T],S),C!==null&&(g=i(C,g,T),N===null?_=C:N.sibling=C,N=C);return ct&&qi(x,T),_}for(C=r(x,C);T<w.length;T++)P=m(C,x,T,w[T],S),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),g=i(P,g,T),N===null?_=P:N.sibling=P,N=P);return t&&C.forEach(function(F){return e(x,F)}),ct&&qi(x,T),_}function p(x,g,w,S){var _=Cl(w);if(typeof _!="function")throw Error(K(150));if(w=_.call(w),w==null)throw Error(K(151));for(var N=_=null,C=g,T=g=0,P=null,O=w.next();C!==null&&!O.done;T++,O=w.next()){C.index>T?(P=C,C=null):P=C.sibling;var F=h(x,C,O.value,S);if(F===null){C===null&&(C=P);break}t&&C&&F.alternate===null&&e(x,C),g=i(F,g,T),N===null?_=F:N.sibling=F,N=F,C=P}if(O.done)return n(x,C),ct&&qi(x,T),_;if(C===null){for(;!O.done;T++,O=w.next())O=f(x,O.value,S),O!==null&&(g=i(O,g,T),N===null?_=O:N.sibling=O,N=O);return ct&&qi(x,T),_}for(C=r(x,C);!O.done;T++,O=w.next())O=m(C,x,T,O.value,S),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?T:O.key),g=i(O,g,T),N===null?_=O:N.sibling=O,N=O);return t&&C.forEach(function(A){return e(x,A)}),ct&&qi(x,T),_}function b(x,g,w,S){if(typeof w=="object"&&w!==null&&w.type===ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fu:e:{for(var _=w.key,N=g;N!==null;){if(N.key===_){if(_=w.type,_===ra){if(N.tag===7){n(x,N.sibling),g=s(N,w.props.children),g.return=x,x=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vs&&a0(_)===N.type){n(x,N.sibling),g=s(N,w.props),g.ref=Ml(x,N,w),g.return=x,x=g;break e}n(x,N);break}else e(x,N);N=N.sibling}w.type===ra?(g=yo(w.props.children,x.mode,S,w.key),g.return=x,x=g):(S=Fd(w.type,w.key,w.props,null,x.mode,S),S.ref=Ml(x,g,w),S.return=x,x=S)}return o(x);case na:e:{for(N=w.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(x,g.sibling),g=s(g,w.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else e(x,g);g=g.sibling}g=km(w,x.mode,S),g.return=x,x=g}return o(x);case Vs:return N=w._init,b(x,g,N(w._payload),S)}if(Ql(w))return y(x,g,w,S);if(Cl(w))return p(x,g,w,S);Qu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,w),g.return=x,x=g):(n(x,g),g=Nm(w,x.mode,S),g.return=x,x=g),o(x)):n(x,g)}return b}var Ya=DC(!0),OC=DC(!1),df=Di(null),ff=null,da=null,Ey=null;function My(){Ey=da=ff=null}function Dy(t){var e=df.current;lt(df),t._currentValue=e}function Yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ba(t,e){ff=t,Ey=da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(Ey!==t)if(t={context:t,memoizedValue:e,next:null},da===null){if(ff===null)throw Error(K(308));da=t,ff.dependencies={lanes:0,firstContext:t}}else da=da.next=t;return e}var to=null;function Oy(t){to===null?to=[t]:to.push(t)}function AC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Oy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ss(t,r)}function Ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $s=!1;function Ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ss(t,n)}return s=r.interleaved,s===null?(e.next=e,Oy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ss(t,n)}function Md(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}function l0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hf(t,e,n,r){var s=t.updateQueue;$s=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,p=a;switch(h=e,m=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=pt({},f,h);break e;case 2:$s=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);No|=o,t.lanes=o,t.memoizedState=f}}function c0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var bu={},Ur=Di(bu),Ic=Di(bu),Rc=Di(bu);function no(t){if(t===bu)throw Error(K(174));return t}function Iy(t,e){switch(st(Rc,e),st(Ic,t),st(Ur,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cp(e,t)}lt(Ur),st(Ur,e)}function qa(){lt(Ur),lt(Ic),lt(Rc)}function RC(t){no(Rc.current);var e=no(Ur.current),n=Cp(e,t.type);e!==n&&(st(Ic,t),st(Ur,n))}function Ry(t){Ic.current===t&&(lt(Ur),lt(Ic))}var ft=Di(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xm=[];function Fy(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var Dd=Ts.ReactCurrentDispatcher,vm=Ts.ReactCurrentBatchConfig,_o=0,mt=null,Ot=null,Ut=null,pf=!1,cc=!1,Fc=0,UI=0;function en(){throw Error(K(321))}function Ly(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function zy(t,e,n,r,s,i){if(_o=i,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dd.current=t===null||t.memoizedState===null?qI:QI,t=n(r,s),cc){i=0;do{if(cc=!1,Fc=0,25<=i)throw Error(K(301));i+=1,Ut=Ot=null,e.updateQueue=null,Dd.current=KI,t=n(r,s)}while(cc)}if(Dd.current=gf,e=Ot!==null&&Ot.next!==null,_o=0,Ut=Ot=mt=null,pf=!1,e)throw Error(K(300));return t}function Vy(){var t=Fc!==0;return Fc=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?mt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function rr(){if(Ot===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Ut===null?mt.memoizedState:Ut.next;if(e!==null)Ut=e,Ot=t;else{if(t===null)throw Error(K(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ut===null?mt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Lc(t,e){return typeof e=="function"?e(t):e}function bm(t){var e=rr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=Ot,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((_o&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,mt.lanes|=d,No|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,wr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,mt.lanes|=i,No|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wm(t){var e=rr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wr(i,e.memoizedState)||(jn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FC(){}function LC(t,e){var n=mt,r=rr(),s=e(),i=!wr(r.memoizedState,s);if(i&&(r.memoizedState=s,jn=!0),r=r.queue,$y($C.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,zc(9,VC.bind(null,n,r,s,e),void 0,null),Wt===null)throw Error(K(349));_o&30||zC(n,e,s)}return s}function zC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VC(t,e,n,r){e.value=n,e.getSnapshot=r,BC(e)&&UC(t)}function $C(t,e,n){return n(function(){BC(e)&&UC(t)})}function BC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function UC(t){var e=Ss(t,1);e!==null&&vr(e,t,1,-1)}function u0(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:t},e.queue=t,t=t.dispatch=YI.bind(null,mt,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WC(){return rr().memoizedState}function Od(t,e,n,r){var s=Er();mt.flags|=t,s.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function mh(t,e,n,r){var s=rr();r=r===void 0?null:r;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,r!==null&&Ly(r,o.deps)){s.memoizedState=zc(e,n,i,r);return}}mt.flags|=t,s.memoizedState=zc(1|e,n,i,r)}function d0(t,e){return Od(8390656,8,t,e)}function $y(t,e){return mh(2048,8,t,e)}function HC(t,e){return mh(4,2,t,e)}function YC(t,e){return mh(4,4,t,e)}function qC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QC(t,e,n){return n=n!=null?n.concat([t]):null,mh(4,4,qC.bind(null,e,t),n)}function By(){}function KC(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ly(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GC(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ly(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XC(t,e,n){return _o&21?(wr(n,e)||(n=nC(),mt.lanes|=n,No|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function WI(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=vm.transition;vm.transition={};try{t(!1),e()}finally{Je=n,vm.transition=r}}function ZC(){return rr().memoizedState}function HI(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JC(t))eT(e,n);else if(n=AC(t,e,n,r),n!==null){var s=yn();vr(n,t,r,s),tT(n,e,r)}}function YI(t,e,n){var r=pi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JC(t))eT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wr(a,o)){var l=e.interleaved;l===null?(s.next=s,Oy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=AC(t,e,s,r),n!==null&&(s=yn(),vr(n,t,r,s),tT(n,e,r))}}function JC(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function eT(t,e){cc=pf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}var gf={readContext:nr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},qI={readContext:nr,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:d0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,qC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HI.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:u0,useDebugValue:By,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=u0(!1),e=t[0];return t=WI.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,s=Er();if(ct){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Wt===null)throw Error(K(349));_o&30||zC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,d0($C.bind(null,r,i,t),[t]),r.flags|=2048,zc(9,VC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Er(),e=Wt.identifierPrefix;if(ct){var n=ms,r=hs;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QI={readContext:nr,useCallback:KC,useContext:nr,useEffect:$y,useImperativeHandle:QC,useInsertionEffect:HC,useLayoutEffect:YC,useMemo:GC,useReducer:bm,useRef:WC,useState:function(){return bm(Lc)},useDebugValue:By,useDeferredValue:function(t){var e=rr();return XC(e,Ot.memoizedState,t)},useTransition:function(){var t=bm(Lc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:LC,useId:ZC,unstable_isNewReconciler:!1},KI={readContext:nr,useCallback:KC,useContext:nr,useEffect:$y,useImperativeHandle:QC,useInsertionEffect:HC,useLayoutEffect:YC,useMemo:GC,useReducer:wm,useRef:WC,useState:function(){return wm(Lc)},useDebugValue:By,useDeferredValue:function(t){var e=rr();return Ot===null?e.memoizedState=t:XC(e,Ot.memoizedState,t)},useTransition:function(){var t=wm(Lc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:FC,useSyncExternalStore:LC,useId:ZC,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ph={isMounted:function(t){return(t=t._reactInternals)?Vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),s=pi(t),i=gs(r,s);i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,s),e!==null&&(vr(e,t,s,r),Md(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),s=pi(t),i=gs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,s),e!==null&&(vr(e,t,s,r),Md(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=pi(t),s=gs(n,r);s.tag=2,e!=null&&(s.callback=e),e=hi(t,s,r),e!==null&&(vr(e,t,r,n),Md(e,t,r))}};function f0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(s,i):!0}function nT(t,e,n){var r=!1,s=bi,i=e.contextType;return typeof i=="object"&&i!==null?i=nr(i):(s=En(e)?wo:ln.current,r=e.contextTypes,i=(r=r!=null)?Wa(t,s):bi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function h0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ph.enqueueReplaceState(e,e.state,null)}function Qp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ay(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nr(i):(i=En(e)?wo:ln.current,s.context=Wa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(qp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ph.enqueueReplaceState(s,s.state,null),hf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=_A(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Sm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function rT(t,e,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xf||(xf=!0,ig=r),Kp(t,e)},n}function sT(t,e,n){n=gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Kp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kp(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function m0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uR.bind(null,t,e,n),e.then(t,t))}function p0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gs(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var XI=Ts.ReactCurrentOwner,jn=!1;function fn(t,e,n,r){e.child=t===null?OC(e,null,n,r):Ya(e,t.child,n,r)}function y0(t,e,n,r,s){n=n.render;var i=e.ref;return ba(e,s),r=zy(t,e,n,r,i,s),n=Vy(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_s(t,e,s)):(ct&&n&&Ty(e),e.flags|=1,fn(t,e,r,s),e.child)}function x0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Gy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iT(t,e,i,r,s)):(t=Fd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(o,r)&&t.ref===e.ref)return _s(t,e,s)}return e.flags|=1,t=gi(i,r),t.ref=e.ref,t.return=e,e.child=t}function iT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mc(i,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,_s(t,e,s)}return Gp(t,e,n,r,s)}function oT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ha,In),In|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(ha,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,st(ha,In),In|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,st(ha,In),In|=r;return fn(t,e,s,n),e.child}function aT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gp(t,e,n,r,s){var i=En(n)?wo:ln.current;return i=Wa(e,i),ba(e,s),n=zy(t,e,n,r,i,s),r=Vy(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_s(t,e,s)):(ct&&r&&Ty(e),e.flags|=1,fn(t,e,n,s),e.child)}function v0(t,e,n,r,s){if(En(n)){var i=!0;lf(e)}else i=!1;if(ba(e,s),e.stateNode===null)Ad(t,e),nT(e,n,r),Qp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=En(n)?wo:ln.current,u=Wa(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&h0(e,o,r,u),$s=!1;var h=e.memoizedState;o.state=h,hf(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Pn.current||$s?(typeof d=="function"&&(qp(e,n,d,r),l=e.memoizedState),(a=$s||f0(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,IC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:cr(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=En(n)?wo:ln.current,l=Wa(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&h0(e,o,r,l),$s=!1,h=e.memoizedState,o.state=h,hf(e,r,o,s);var y=e.memoizedState;a!==f||h!==y||Pn.current||$s?(typeof m=="function"&&(qp(e,n,m,r),y=e.memoizedState),(u=$s||f0(e,n,u,r,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xp(t,e,n,r,i,s)}function Xp(t,e,n,r,s,i){aT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&s0(e,n,!1),_s(t,e,i);r=e.stateNode,XI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ya(e,t.child,null,i),e.child=Ya(e,null,a,i)):fn(t,e,a,i),e.memoizedState=r.state,s&&s0(e,n,!0),e.child}function lT(t){var e=t.stateNode;e.pendingContext?r0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r0(t,e.context,!1),Iy(t,e.containerInfo)}function b0(t,e,n,r,s){return Ha(),Py(s),e.flags|=256,fn(t,e,n,r),e.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function Jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function cT(t,e,n){var r=e.pendingProps,s=ft.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),st(ft,s&1),t===null)return Hp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xh(o,r,0,null),t=yo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jp(n),e.memoizedState=Zp,t):Uy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ZI(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gi(a,i):(i=yo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zp,r}return i=t.child,t=i.sibling,r=gi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uy(t,e){return e=xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ku(t,e,n,r){return r!==null&&Py(r),Ya(e,t.child,null,n),t=Uy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Sm(Error(K(422))),Ku(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xh({mode:"visible",children:r.children},s,0,null),i=yo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ya(e,t.child,null,o),e.child.memoizedState=Jp(o),e.memoizedState=Zp,i);if(!(e.mode&1))return Ku(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Sm(i,r,void 0),Ku(t,e,o,r)}if(a=(o&t.childLanes)!==0,jn||a){if(r=Wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ss(t,s),vr(r,t,s,-1))}return Ky(),r=Sm(Error(K(421))),Ku(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ln=fi(s.nextSibling),zn=e,ct=!0,mr=null,t!==null&&(Xn[Zn++]=hs,Xn[Zn++]=ms,Xn[Zn++]=So,hs=t.id,ms=t.overflow,So=e),e=Uy(e,r.children),e.flags|=4096,e)}function w0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yp(t.return,e,n)}function _m(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w0(t,n,e);else if(t.tag===19)w0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_m(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_m(e,!0,n,null,i);break;case"together":_m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),No|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JI(t,e,n){switch(e.tag){case 3:lT(e),Ha();break;case 5:RC(e);break;case 1:En(e.type)&&lf(e);break;case 4:Iy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;st(df,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?cT(t,e,n):(st(ft,ft.current&1),t=_s(t,e,n),t!==null?t.sibling:null);st(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),st(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,oT(t,e,n)}return _s(t,e,n)}var dT,eg,fT,hT;dT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eg=function(){};fT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,no(Ur.current);var i=null;switch(n){case"input":s=Sp(t,s),r=Sp(t,r),i=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),i=[];break;case"textarea":s=kp(t,s),r=kp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=of)}Tp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};hT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eR(t,e,n){var r=e.pendingProps;switch(jy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return En(e.type)&&af(),tn(e),null;case 3:return r=e.stateNode,qa(),lt(Pn),lt(ln),Fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(lg(mr),mr=null))),eg(t,e),tn(e),null;case 5:Ry(e);var s=no(Rc.current);if(n=e.type,t!==null&&e.stateNode!=null)fT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return tn(e),null}if(t=no(Ur.current),qu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ir]=e,r[Ac]=i,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(s=0;s<Gl.length;s++)ot(Gl[s],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":Ev(r,i),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ot("invalid",r);break;case"textarea":Dv(r,i),ot("invalid",r)}Tp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),s=["children",""+a]):Nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":Lu(r),Mv(r,i,!0);break;case"textarea":Lu(r),Ov(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=of)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$k(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[Ac]=r,dT(t,e,!1,!1),e.stateNode=t;e:{switch(o=jp(n,r),n){case"dialog":ot("cancel",t),ot("close",t),s=r;break;case"iframe":case"object":case"embed":ot("load",t),s=r;break;case"video":case"audio":for(s=0;s<Gl.length;s++)ot(Gl[s],t);s=r;break;case"source":ot("error",t),s=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),s=r;break;case"details":ot("toggle",t),s=r;break;case"input":Ev(t,r),s=Sp(t,r),ot("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":Dv(t,r),s=kp(t,r),ot("invalid",t);break;default:s=r}Tp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Wk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ot("scroll",t):l!=null&&hy(t,i,l,o))}switch(n){case"input":Lu(t),Mv(t,r,!1);break;case"textarea":Lu(t),Ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ga(t,!!r.multiple,i,!1):r.defaultValue!=null&&ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=of)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)hT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=no(Rc.current),no(Ur.current),qu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(i=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:Yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return tn(e),null;case 13:if(lt(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Ln!==null&&e.mode&1&&!(e.flags&128))MC(),Ha(),e.flags|=98560,i=!1;else if(i=qu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Ir]=e}else Ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),i=!1}else mr!==null&&(lg(mr),mr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Rt===0&&(Rt=3):Ky())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return qa(),eg(t,e),t===null&&Dc(e.stateNode.containerInfo),tn(e),null;case 10:return Dy(e.type._context),tn(e),null;case 17:return En(e.type)&&af(),tn(e),null;case 19:if(lt(ft),i=e.memoizedState,i===null)return tn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Dl(i,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mf(t),o!==null){for(e.flags|=128,Dl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(ft,ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&Nt()>Ka&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304)}else{if(!r)if(t=mf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return tn(e),null}else 2*Nt()-i.renderingStartTime>Ka&&n!==1073741824&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Nt(),e.sibling=null,n=ft.current,st(ft,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return Qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function tR(t,e){switch(jy(e),e.tag){case 1:return En(e.type)&&af(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qa(),lt(Pn),lt(ln),Fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ry(e),null;case 13:if(lt(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ft),null;case 4:return qa(),null;case 10:return Dy(e.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var Gu=!1,sn=!1,nR=typeof WeakSet=="function"?WeakSet:Set,ae=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function tg(t,e,n){try{n()}catch(r){xt(t,e,r)}}var S0=!1;function rR(t,e){if(Lp=nf,t=xC(),Cy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zp={focusedElem:t,selectionRange:n},nf=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,b=y.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?p:cr(e.type,p),b);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(S){xt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return y=S0,S0=!1,y}function uc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tg(e,n,i)}s=s.next}while(s!==r)}}function gh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mT(t){var e=t.alternate;e!==null&&(t.alternate=null,mT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Ac],delete e[Bp],delete e[zI],delete e[VI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pT(t){return t.tag===5||t.tag===3||t.tag===4}function _0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=of));else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}var Qt=null,fr=!1;function Os(t,e,n){for(n=n.child;n!==null;)gT(t,e,n),n=n.sibling}function gT(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(lh,n)}catch{}switch(n.tag){case 5:sn||fa(n,e);case 6:var r=Qt,s=fr;Qt=null,Os(t,e,n),Qt=r,fr=s,Qt!==null&&(fr?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(fr?(t=Qt,n=n.stateNode,t.nodeType===8?gm(t.parentNode,n):t.nodeType===1&&gm(t,n),Pc(t)):gm(Qt,n.stateNode));break;case 4:r=Qt,s=fr,Qt=n.stateNode.containerInfo,fr=!0,Os(t,e,n),Qt=r,fr=s;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tg(n,e,o),s=s.next}while(s!==r)}Os(t,e,n);break;case 1:if(!sn&&(fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}Os(t,e,n);break;case 21:Os(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Os(t,e,n),sn=r):Os(t,e,n);break;default:Os(t,e,n)}}function N0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nR),e.forEach(function(r){var s=fR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,fr=!1;break e;case 3:Qt=a.stateNode.containerInfo,fr=!0;break e;case 4:Qt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Qt===null)throw Error(K(160));gT(i,o,s),Qt=null,fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){xt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yT(e,t),e=e.sibling}function yT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Tr(t),r&4){try{uc(3,t,t.return),gh(3,t)}catch(p){xt(t,t.return,p)}try{uc(5,t,t.return)}catch(p){xt(t,t.return,p)}}break;case 1:ar(e,t),Tr(t),r&512&&n!==null&&fa(n,n.return);break;case 5:if(ar(e,t),Tr(t),r&512&&n!==null&&fa(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(p){xt(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&zk(s,i),jp(a,o);var u=jp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Wk(s,f):d==="dangerouslySetInnerHTML"?Bk(s,f):d==="children"?kc(s,f):hy(s,d,f,u)}switch(a){case"input":_p(s,i);break;case"textarea":Vk(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ga(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ga(s,!!i.multiple,i.defaultValue,!0):ga(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ac]=i}catch(p){xt(t,t.return,p)}}break;case 6:if(ar(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){xt(t,t.return,p)}}break;case 3:if(ar(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pc(e.containerInfo)}catch(p){xt(t,t.return,p)}break;case 4:ar(e,t),Tr(t);break;case 13:ar(e,t),Tr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yy=Nt())),r&4&&N0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||d,ar(e,t),sn=u):ar(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:uc(4,h,h.return);break;case 1:fa(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){xt(r,n,p)}}break;case 5:fa(h,h.return);break;case 22:if(h.memoizedState!==null){C0(f);continue}}m!==null?(m.return=h,ae=m):C0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uk("display",o))}catch(p){xt(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){xt(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ar(e,t),Tr(t),r&4&&N0(t);break;case 21:break;default:ar(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=_0(t);sg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_0(t);rg(t,a,o);break;default:throw Error(K(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sR(t,e,n){ae=t,xT(t)}function xT(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||sn;a=Gu;var u=sn;if(Gu=o,(sn=l)&&!u)for(ae=s;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?T0(s):l!==null?(l.return=o,ae=l):T0(s);for(;i!==null;)ae=i,xT(i),i=i.sibling;ae=s,Gu=a,sn=u}k0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):k0(t)}}function k0(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||gh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&c0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}sn||e.flags&512&&ng(e)}catch(h){xt(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function C0(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function T0(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gh(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){xt(e,s,l)}}var i=e.return;try{ng(e)}catch(l){xt(e,i,l)}break;case 5:var o=e.return;try{ng(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var iR=Math.ceil,yf=Ts.ReactCurrentDispatcher,Wy=Ts.ReactCurrentOwner,tr=Ts.ReactCurrentBatchConfig,Ve=0,Wt=null,Et=null,Gt=0,In=0,ha=Di(0),Rt=0,Vc=null,No=0,yh=0,Hy=0,dc=null,Cn=null,Yy=0,Ka=1/0,os=null,xf=!1,ig=null,mi=null,Xu=!1,ti=null,vf=0,fc=0,og=null,Id=-1,Rd=0;function yn(){return Ve&6?Nt():Id!==-1?Id:Id=Nt()}function pi(t){return t.mode&1?Ve&2&&Gt!==0?Gt&-Gt:BI.transition!==null?(Rd===0&&(Rd=nC()),Rd):(t=Je,t!==0||(t=window.event,t=t===void 0?16:cC(t.type)),t):1}function vr(t,e,n,r){if(50<fc)throw fc=0,og=null,Error(K(185));yu(t,n,r),(!(Ve&2)||t!==Wt)&&(t===Wt&&(!(Ve&2)&&(yh|=n),Rt===4&&Us(t,Gt)),Mn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Ka=Nt()+500,hh&&Oi()))}function Mn(t,e){var n=t.callbackNode;BA(t,e);var r=tf(t,t===Wt?Gt:0);if(r===0)n!==null&&Rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rv(n),e===1)t.tag===0?$I(j0.bind(null,t)):jC(j0.bind(null,t)),FI(function(){!(Ve&6)&&Oi()}),n=null;else{switch(rC(r)){case 1:n=xy;break;case 4:n=eC;break;case 16:n=ef;break;case 536870912:n=tC;break;default:n=ef}n=CT(n,vT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vT(t,e){if(Id=-1,Rd=0,Ve&6)throw Error(K(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var r=tf(t,t===Wt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bf(t,r);else{e=r;var s=Ve;Ve|=2;var i=wT();(Wt!==t||Gt!==e)&&(os=null,Ka=Nt()+500,go(t,e));do try{lR();break}catch(a){bT(t,a)}while(!0);My(),yf.current=i,Ve=s,Et!==null?e=0:(Wt=null,Gt=0,e=Rt)}if(e!==0){if(e===2&&(s=Op(t),s!==0&&(r=s,e=ag(t,s))),e===1)throw n=Vc,go(t,0),Us(t,r),Mn(t,Nt()),n;if(e===6)Us(t,r);else{if(s=t.current.alternate,!(r&30)&&!oR(s)&&(e=bf(t,r),e===2&&(i=Op(t),i!==0&&(r=i,e=ag(t,i))),e===1))throw n=Vc,go(t,0),Us(t,r),Mn(t,Nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Qi(t,Cn,os);break;case 3:if(Us(t,r),(r&130023424)===r&&(e=Yy+500-Nt(),10<e)){if(tf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$p(Qi.bind(null,t,Cn,os),e);break}Qi(t,Cn,os);break;case 4:if(Us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iR(r/1960))-r,10<r){t.timeoutHandle=$p(Qi.bind(null,t,Cn,os),r);break}Qi(t,Cn,os);break;case 5:Qi(t,Cn,os);break;default:throw Error(K(329))}}}return Mn(t,Nt()),t.callbackNode===n?vT.bind(null,t):null}function ag(t,e){var n=dc;return t.current.memoizedState.isDehydrated&&(go(t,e).flags|=256),t=bf(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&lg(e)),t}function lg(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function oR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Us(t,e){for(e&=~Hy,e&=~yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function j0(t){if(Ve&6)throw Error(K(327));wa();var e=tf(t,0);if(!(e&1))return Mn(t,Nt()),null;var n=bf(t,e);if(t.tag!==0&&n===2){var r=Op(t);r!==0&&(e=r,n=ag(t,r))}if(n===1)throw n=Vc,go(t,0),Us(t,e),Mn(t,Nt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qi(t,Cn,os),Mn(t,Nt()),null}function qy(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Ka=Nt()+500,hh&&Oi())}}function ko(t){ti!==null&&ti.tag===0&&!(Ve&6)&&wa();var e=Ve;Ve|=1;var n=tr.transition,r=Je;try{if(tr.transition=null,Je=1,t)return t()}finally{Je=r,tr.transition=n,Ve=e,!(Ve&6)&&Oi()}}function Qy(){In=ha.current,lt(ha)}function go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RI(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(jy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&af();break;case 3:qa(),lt(Pn),lt(ln),Fy();break;case 5:Ry(r);break;case 4:qa();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:Dy(r.type._context);break;case 22:case 23:Qy()}n=n.return}if(Wt=t,Et=t=gi(t.current,null),Gt=In=e,Rt=0,Vc=null,Hy=yh=No=0,Cn=dc=null,to!==null){for(e=0;e<to.length;e++)if(n=to[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}to=null}return t}function bT(t,e){do{var n=Et;try{if(My(),Dd.current=gf,pf){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pf=!1}if(_o=0,Ut=Ot=mt=null,cc=!1,Fc=0,Wy.current=null,n===null||n.return===null){Rt=1,Vc=e,Et=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=p0(o);if(m!==null){m.flags&=-257,g0(m,o,a,i,e),m.mode&1&&m0(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var p=new Set;p.add(l),e.updateQueue=p}else y.add(l);break e}else{if(!(e&1)){m0(i,u,e),Ky();break e}l=Error(K(426))}}else if(ct&&a.mode&1){var b=p0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),g0(b,o,a,i,e),Py(Qa(l,a));break e}}i=l=Qa(l,a),Rt!==4&&(Rt=2),dc===null?dc=[i]:dc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=rT(i,l,e);l0(i,x);break e;case 1:a=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(mi===null||!mi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=sT(i,a,e);l0(i,S);break e}}i=i.return}while(i!==null)}_T(n)}catch(_){e=_,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function wT(){var t=yf.current;return yf.current=gf,t===null?gf:t}function Ky(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Wt===null||!(No&268435455)&&!(yh&268435455)||Us(Wt,Gt)}function bf(t,e){var n=Ve;Ve|=2;var r=wT();(Wt!==t||Gt!==e)&&(os=null,go(t,e));do try{aR();break}catch(s){bT(t,s)}while(!0);if(My(),Ve=n,yf.current=r,Et!==null)throw Error(K(261));return Wt=null,Gt=0,Rt}function aR(){for(;Et!==null;)ST(Et)}function lR(){for(;Et!==null&&!OA();)ST(Et)}function ST(t){var e=kT(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?_T(t):Et=e,Wy.current=null}function _T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tR(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,Et=null;return}}else if(n=eR(n,e,In),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Rt===0&&(Rt=5)}function Qi(t,e,n){var r=Je,s=tr.transition;try{tr.transition=null,Je=1,cR(t,e,n,r)}finally{tr.transition=s,Je=r}return null}function cR(t,e,n,r){do wa();while(ti!==null);if(Ve&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(UA(t,i),t===Wt&&(Et=Wt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xu||(Xu=!0,CT(ef,function(){return wa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tr.transition,tr.transition=null;var o=Je;Je=1;var a=Ve;Ve|=4,Wy.current=null,rR(t,n),yT(n,t),PI(zp),nf=!!Lp,zp=Lp=null,t.current=n,sR(n),AA(),Ve=a,Je=o,tr.transition=i}else t.current=n;if(Xu&&(Xu=!1,ti=t,vf=s),i=t.pendingLanes,i===0&&(mi=null),FA(n.stateNode),Mn(t,Nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xf)throw xf=!1,t=ig,ig=null,t;return vf&1&&t.tag!==0&&wa(),i=t.pendingLanes,i&1?t===og?fc++:(fc=0,og=t):fc=0,Oi(),null}function wa(){if(ti!==null){var t=rC(vf),e=tr.transition,n=Je;try{if(tr.transition=null,Je=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,vf=0,Ve&6)throw Error(K(331));var s=Ve;for(Ve|=4,ae=t.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:uc(8,d,i)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,m=d.return;if(mT(d),d===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var y=i.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ae=x;break e}ae=i.return}}var g=t.current;for(ae=g;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=g;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gh(9,a)}}catch(_){xt(a,a.return,_)}if(a===o){ae=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ae=S;break e}ae=a.return}}if(Ve=s,Oi(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(lh,t)}catch{}r=!0}return r}finally{Je=n,tr.transition=e}}return!1}function P0(t,e,n){e=Qa(n,e),e=rT(t,e,1),t=hi(t,e,1),e=yn(),t!==null&&(yu(t,1,e),Mn(t,e))}function xt(t,e,n){if(t.tag===3)P0(t,t,n);else for(;e!==null;){if(e.tag===3){P0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=Qa(n,t),t=sT(e,t,1),e=hi(e,t,1),t=yn(),e!==null&&(yu(e,1,t),Mn(e,t));break}}e=e.return}}function uR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Gt&n)===n&&(Rt===4||Rt===3&&(Gt&130023424)===Gt&&500>Nt()-Yy?go(t,0):Hy|=n),Mn(t,e)}function NT(t,e){e===0&&(t.mode&1?(e=$u,$u<<=1,!($u&130023424)&&($u=4194304)):e=1);var n=yn();t=Ss(t,e),t!==null&&(yu(t,e,n),Mn(t,n))}function dR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NT(t,n)}function fR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),NT(t,n)}var kT;kT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,JI(t,e,n);jn=!!(t.flags&131072)}else jn=!1,ct&&e.flags&1048576&&PC(e,uf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ad(t,e),t=e.pendingProps;var s=Wa(e,ln.current);ba(e,n),s=zy(null,e,r,t,s,n);var i=Vy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(i=!0,lf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ay(e),s.updater=ph,e.stateNode=s,s._reactInternals=e,Qp(e,r,t,n),e=Xp(null,e,r,!0,i,n)):(e.tag=0,ct&&i&&Ty(e),fn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ad(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mR(r),t=cr(r,t),s){case 0:e=Gp(null,e,r,t,n);break e;case 1:e=v0(null,e,r,t,n);break e;case 11:e=y0(null,e,r,t,n);break e;case 14:e=x0(null,e,r,cr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),Gp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),v0(t,e,r,s,n);case 3:e:{if(lT(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,IC(t,e),hf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qa(Error(K(423)),e),e=b0(t,e,r,n,s);break e}else if(r!==s){s=Qa(Error(K(424)),e),e=b0(t,e,r,n,s);break e}else for(Ln=fi(e.stateNode.containerInfo.firstChild),zn=e,ct=!0,mr=null,n=OC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ha(),r===s){e=_s(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return RC(e),t===null&&Hp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Vp(r,s)?o=null:i!==null&&Vp(r,i)&&(e.flags|=32),aT(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&Hp(e),null;case 13:return cT(t,e,n);case 4:return Iy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),y0(t,e,r,s,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,st(df,r._currentValue),r._currentValue=o,i!==null)if(wr(i.value,o)){if(i.children===s.children&&!Pn.current){e=_s(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Yp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ba(e,n),s=nr(s),r=r(s),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,s=cr(r,e.pendingProps),s=cr(r.type,s),x0(t,e,r,s,n);case 15:return iT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),Ad(t,e),e.tag=1,En(r)?(t=!0,lf(e)):t=!1,ba(e,n),nT(e,r,s),Qp(e,r,s,n),Xp(null,e,r,!0,t,n);case 19:return uT(t,e,n);case 22:return oT(t,e,n)}throw Error(K(156,e.tag))};function CT(t,e){return Jk(t,e)}function hR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new hR(t,e,n,r)}function Gy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mR(t){if(typeof t=="function")return Gy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===py)return 11;if(t===gy)return 14}return 2}function gi(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Gy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ra:return yo(n.children,s,i,e);case my:o=8,s|=8;break;case xp:return t=Jn(12,n,e,s|2),t.elementType=xp,t.lanes=i,t;case vp:return t=Jn(13,n,e,s),t.elementType=vp,t.lanes=i,t;case bp:return t=Jn(19,n,e,s),t.elementType=bp,t.lanes=i,t;case Rk:return xh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ak:o=10;break e;case Ik:o=9;break e;case py:o=11;break e;case gy:o=14;break e;case Vs:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function yo(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function xh(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=Rk,t.lanes=n,t.stateNode={isHidden:!1},t}function Nm(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function km(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xy(t,e,n,r,s,i,o,a,l){return t=new pR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(i),t}function gR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TT(t){if(!t)return bi;t=t._reactInternals;e:{if(Vo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(En(n))return TC(t,n,e)}return e}function jT(t,e,n,r,s,i,o,a,l){return t=Xy(n,r,!0,t,s,i,o,a,l),t.context=TT(null),n=t.current,r=yn(),s=pi(n),i=gs(r,s),i.callback=e??null,hi(n,i,s),t.current.lanes=s,yu(t,s,r),Mn(t,r),t}function vh(t,e,n,r){var s=e.current,i=yn(),o=pi(s);return n=TT(n),e.context===null?e.context=n:e.pendingContext=n,e=gs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(s,e,o),t!==null&&(vr(t,s,o,i),Md(t,s,o)),o}function wf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function E0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zy(t,e){E0(t,e),(t=t.alternate)&&E0(t,e)}function yR(){return null}var PT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jy(t){this._internalRoot=t}bh.prototype.render=Jy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));vh(t,e,null,null)};bh.prototype.unmount=Jy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ko(function(){vh(null,t,null,null)}),e[ws]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=oC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bs.length&&e!==0&&e<Bs[n].priority;n++);Bs.splice(n,0,t),n===0&&lC(t)}};function ex(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function M0(){}function xR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=wf(o);i.call(u)}}var o=jT(e,r,t,0,null,!1,!1,"",M0);return t._reactRootContainer=o,t[ws]=o.current,Dc(t.nodeType===8?t.parentNode:t),ko(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=wf(l);a.call(u)}}var l=Xy(t,0,!1,null,null,!1,!1,"",M0);return t._reactRootContainer=l,t[ws]=l.current,Dc(t.nodeType===8?t.parentNode:t),ko(function(){vh(e,l,n,r)}),l}function Sh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=wf(o);a.call(l)}}vh(e,o,t,s)}else o=xR(n,e,t,s,r);return wf(o)}sC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(vy(e,n|1),Mn(e,Nt()),!(Ve&6)&&(Ka=Nt()+500,Oi()))}break;case 13:ko(function(){var r=Ss(t,1);if(r!==null){var s=yn();vr(r,t,1,s)}}),Zy(t,1)}};by=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var n=yn();vr(e,t,134217728,n)}Zy(t,134217728)}};iC=function(t){if(t.tag===13){var e=pi(t),n=Ss(t,e);if(n!==null){var r=yn();vr(n,t,e,r)}Zy(t,e)}};oC=function(){return Je};aC=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Ep=function(t,e,n){switch(e){case"input":if(_p(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fh(r);if(!s)throw Error(K(90));Lk(r),_p(r,s)}}}break;case"textarea":Vk(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};qk=qy;Qk=ko;var vR={usingClientEntryPoint:!1,Events:[vu,aa,fh,Hk,Yk,qy]},Ol={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bR={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xk(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||yR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{lh=Zu.inject(bR),Br=Zu}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vR;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ex(e))throw Error(K(200));return gR(t,e,null,n)};Un.createRoot=function(t,e){if(!ex(t))throw Error(K(299));var n=!1,r="",s=PT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xy(t,1,!1,null,null,n,!1,r,s),t[ws]=e.current,Dc(t.nodeType===8?t.parentNode:t),new Jy(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Xk(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return ko(t)};Un.hydrate=function(t,e,n){if(!wh(e))throw Error(K(200));return Sh(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!ex(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=PT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jT(e,null,t,1,n??null,s,!1,i,o),t[ws]=e.current,Dc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bh(e)};Un.render=function(t,e,n){if(!wh(e))throw Error(K(200));return Sh(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!wh(t))throw Error(K(40));return t._reactRootContainer?(ko(function(){Sh(null,null,t,!1,function(){t._reactRootContainer=null,t[ws]=null})}),!0):!1};Un.unstable_batchedUpdates=qy;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Sh(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function ET(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ET)}catch(t){console.error(t)}}ET(),Ek.exports=Un;var $o=Ek.exports;const wR=xk($o);var MT,D0=$o;MT=D0.createRoot,D0.hydrateRoot;function SR(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var DT={exports:{}},OT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=v;function _R(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NR=typeof Object.is=="function"?Object.is:_R,kR=Ga.useState,CR=Ga.useEffect,TR=Ga.useLayoutEffect,jR=Ga.useDebugValue;function PR(t,e){var n=e(),r=kR({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return TR(function(){s.value=n,s.getSnapshot=e,Cm(s)&&i({inst:s})},[t,n,e]),CR(function(){return Cm(s)&&i({inst:s}),t(function(){Cm(s)&&i({inst:s})})},[t]),jR(n),n}function Cm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NR(t,n)}catch{return!0}}function ER(t,e){return e()}var MR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ER:PR;OT.useSyncExternalStore=Ga.useSyncExternalStore!==void 0?Ga.useSyncExternalStore:MR;DT.exports=OT;var DR=DT.exports;const OR=uy.useInsertionEffect,AR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IR=AR?v.useLayoutEffect:v.useEffect,RR=OR||IR,AT=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return RR(()=>{e[0]=t}),e[1]},FR="popstate",tx="pushState",nx="replaceState",LR="hashchange",O0=[FR,tx,nx,LR],zR=t=>{for(const e of O0)addEventListener(e,t);return()=>{for(const e of O0)removeEventListener(e,t)}},IT=(t,e)=>DR.useSyncExternalStore(zR,t,e),VR=()=>location.search,$R=({ssrSearch:t=""}={})=>IT(VR,()=>t),A0=()=>location.pathname,BR=({ssrPath:t}={})=>IT(A0,t?()=>t:A0),UR=(t,{replace:e=!1,state:n=null}={})=>history[e?nx:tx](n,"",t),WR=(t={})=>[BR(t),UR],I0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[I0]>"u"){for(const t of[tx,nx]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,I0,{value:!0})}const HR=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",RT=(t="")=>t==="/"?"":t,YR=(t,e)=>t[0]==="~"?t.slice(1):RT(e)+t,qR=(t="",e)=>HR(R0(RT(t)),R0(e)),R0=t=>{try{return decodeURI(t)}catch{return t}},FT={hook:WR,searchHook:$R,parser:SR,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},LT=v.createContext(FT),wu=()=>v.useContext(LT),zT={},VT=v.createContext(zT),QR=()=>v.useContext(VT),_h=t=>{const[e,n]=t.hook(t);return[qR(t.base,e),AT((r,s)=>n(YR(r,t.base),s))]},wt=()=>_h(wu()),$T=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},KR=({children:t,...e})=>{var d,f;const n=wu(),r=e.hook?FT:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=v.useRef({}),l=a.current,u=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,(m!==r[h]||m!==s[h])&&(s=u)}return v.createElement(LT.Provider,{value:s,children:t})},F0=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,GR=t=>{let e=v.useRef(zT);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},gt=({path:t,nest:e,match:n,...r})=>{const s=wu(),[i]=_h(s),[o,a,l]=n??$T(s.parser,t,i,e),u=GR({...QR(),...a});if(!o)return null;const d=l?v.createElement(KR,{base:l},F0(r,u)):F0(r,u);return v.createElement(VT.Provider,{value:u,children:d})},zr=v.forwardRef((t,e)=>{const n=wu(),[r,s]=_h(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:f,state:h,...m}=t,y=AT(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(a==null||a(b),b.defaultPrevented||(b.preventDefault(),s(o,t)))}),p=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&v.isValidElement(u)?v.cloneElement(u,{onClick:y,href:p}):v.createElement("a",{...m,onClick:y,href:p,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),BT=t=>Array.isArray(t)?t.flatMap(e=>BT(e&&e.type===v.Fragment?e.props.children:e)):[t],XR=({children:t,location:e})=>{const n=wu(),[r]=_h(n);for(const s of BT(t)){let i=0;if(v.isValidElement(s)&&(i=$T(n.parser,s.props.path,e||r,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Co=typeof window>"u"||"Deno"in globalThis;function hn(){}function ZR(t,e){return typeof t=="function"?t(e):t}function cg(t){return typeof t=="number"&&t>=0&&t!==1/0}function UT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yi(t,e){return typeof t=="function"?t(e):t}function Gn(t,e){return typeof t=="function"?t(e):t}function L0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==rx(o,e.options))return!1}else if(!$c(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function z0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(To(e.options.mutationKey)!==To(i))return!1}else if(!$c(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function rx(t,e){return((e==null?void 0:e.queryKeyHashFn)||To)(t)}function To(t){return JSON.stringify(t,(e,n)=>ug(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $c(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$c(t[n],e[n])):!1}function WT(t,e){if(t===e)return t;const n=V0(t)&&V0(e);if(n||ug(t)&&ug(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=WT(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Sf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function V0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ug(t){if(!$0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $0(t){return Object.prototype.toString.call(t)==="[object Object]"}function JR(t){return new Promise(e=>{setTimeout(e,t)})}function dg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WT(t,e):e}function eF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sx=Symbol();function HT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function YT(t,e){return typeof t=="function"?t(...e):!!t}var oo,Ws,Ma,CS,nF=(CS=class extends ml{constructor(){super();he(this,oo);he(this,Ws);he(this,Ma);re(this,Ma,e=>{if(!Co&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,Ws)||this.setEventListener(E(this,Ma))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Ws))==null||e.call(this),re(this,Ws,void 0))}setEventListener(e){var n;re(this,Ma,e),(n=E(this,Ws))==null||n.call(this),re(this,Ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){E(this,oo)!==e&&(re(this,oo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof E(this,oo)=="boolean"?E(this,oo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},oo=new WeakMap,Ws=new WeakMap,Ma=new WeakMap,CS),ix=new nF,Da,Hs,Oa,TS,rF=(TS=class extends ml{constructor(){super();he(this,Da,!0);he(this,Hs);he(this,Oa);re(this,Oa,e=>{if(!Co&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Hs)||this.setEventListener(E(this,Oa))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Hs))==null||e.call(this),re(this,Hs,void 0))}setEventListener(e){var n;re(this,Oa,e),(n=E(this,Hs))==null||n.call(this),re(this,Hs,e(this.setOnline.bind(this)))}setOnline(e){E(this,Da)!==e&&(re(this,Da,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return E(this,Da)}},Da=new WeakMap,Hs=new WeakMap,Oa=new WeakMap,TS),_f=new rF;function fg(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function sF(t){return Math.min(1e3*2**t,3e4)}function qT(t){return(t??"online")==="online"?_f.isOnline():!0}var QT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Tm(t){return t instanceof QT}function KT(t){let e=!1,n=0,r=!1,s;const i=fg(),o=p=>{var b;r||(h(new QT(p)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ix.isFocused()&&(t.networkMode==="always"||_f.isOnline())&&t.canRun(),d=()=>qT(t.networkMode)&&t.canRun(),f=p=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,p),s==null||s(),i.resolve(p))},h=p=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var b;s=x=>{(r||u())&&p(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var p;s=void 0,r||(p=t.onContinue)==null||p.call(t)}),y=()=>{if(r)return;let p;const b=n===0?t.initialPromise:void 0;try{p=b??t.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var N;if(r)return;const g=t.retry??(Co?0:3),w=t.retryDelay??sF,S=typeof w=="function"?w(n,x):w,_=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(e||!_){h(x);return}n++,(N=t.onFail)==null||N.call(t,n,x),JR(S).then(()=>u()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),i)}}var iF=t=>setTimeout(t,0);function oF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=iF;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var At=oF(),ao,jS,GT=(jS=class{constructor(){he(this,ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cg(this.gcTime)&&re(this,ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Co?1/0:5*60*1e3))}clearGcTimeout(){E(this,ao)&&(clearTimeout(E(this,ao)),re(this,ao,void 0))}},ao=new WeakMap,jS),Aa,lo,Qn,co,nn,fu,uo,ur,ns,PS,aF=(PS=class extends GT{constructor(e){super();he(this,ur);he(this,Aa);he(this,lo);he(this,Qn);he(this,co);he(this,nn);he(this,fu);he(this,uo);re(this,uo,!1),re(this,fu,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,co,e.client),re(this,Qn,E(this,co).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Aa,lF(this.options)),this.state=e.state??E(this,Aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,nn))==null?void 0:e.promise}setOptions(e){this.options={...E(this,fu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Qn).remove(this)}setData(e,n){const r=dg(this.state.data,e,this.options);return ke(this,ur,ns).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ke(this,ur,ns).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=E(this,nn))==null?void 0:r.promise;return(s=E(this,nn))==null||s.cancel(e),n?n.then(hn).catch(hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Aa))}isActive(){return this.observers.some(e=>Gn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!UT(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,nn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,nn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,Qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(E(this,nn)&&(E(this,uo)?E(this,nn).cancel({revert:!0}):E(this,nn).cancelRetry()),this.scheduleGc()),E(this,Qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,ur,ns).call(this,{type:"invalidate"})}fetch(e,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,nn))return E(this,nn).continueRetry(),E(this,nn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(re(this,uo,!0),r.signal)})},i=()=>{const h=HT(this.options,n),y=(()=>{const p={client:E(this,co),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return re(this,uo,!1),this.options.persister?this.options.persister(h,y,this):h(y)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,co),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),re(this,lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ke(this,ur,ns).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,y,p,b;Tm(h)&&h.silent||ke(this,ur,ns).call(this,{type:"error",error:h}),Tm(h)||((y=(m=E(this,Qn).config).onError)==null||y.call(m,h,this),(b=(p=E(this,Qn).config).onSettled)==null||b.call(p,this.state.data,h,this)),this.scheduleGc()};return re(this,nn,KT({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,y,p,b;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(y=(m=E(this,Qn).config).onSuccess)==null||y.call(m,h,this),(b=(p=E(this,Qn).config).onSettled)==null||b.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{ke(this,ur,ns).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ke(this,ur,ns).call(this,{type:"pause"})},onContinue:()=>{ke(this,ur,ns).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),E(this,nn).start()}},Aa=new WeakMap,lo=new WeakMap,Qn=new WeakMap,co=new WeakMap,nn=new WeakMap,fu=new WeakMap,uo=new WeakMap,ur=new WeakSet,ns=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...XT(r.data,this.options),fetchMeta:e.meta??null};case"success":return re(this,lo,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Tm(s)&&s.revert&&E(this,lo)?{...E(this,lo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),At.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Qn).notify({query:this,type:"updated",action:e})})},PS);function XT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dr,ES,cF=(ES=class extends ml{constructor(e={}){super();he(this,Dr);this.config=e,re(this,Dr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??rx(s,n);let o=this.get(i);return o||(o=new aF({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){E(this,Dr).has(e.queryHash)||(E(this,Dr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=E(this,Dr).get(e.queryHash);n&&(e.destroy(),n===e&&E(this,Dr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){At.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,Dr).get(e)}getAll(){return[...E(this,Dr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>L0(e,r)):n}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){At.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dr=new WeakMap,ES),Or,un,fo,Ar,Ls,MS,uF=(MS=class extends GT{constructor(e){super();he(this,Ar);he(this,Or);he(this,un);he(this,fo);this.mutationId=e.mutationId,re(this,un,e.mutationCache),re(this,Or,[]),this.state=e.state||ZT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Or).includes(e)||(E(this,Or).push(e),this.clearGcTimeout(),E(this,un).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,Or,E(this,Or).filter(n=>n!==e)),this.scheduleGc(),E(this,un).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Or).length||(this.state.status==="pending"?this.scheduleGc():E(this,un).remove(this))}continue(){var e;return((e=E(this,fo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,d,f,h,m,y,p,b,x,g,w,S,_,N,C,T;const n=()=>{ke(this,Ar,Ls).call(this,{type:"continue"})};re(this,fo,KT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{ke(this,Ar,Ls).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{ke(this,Ar,Ls).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,un).canRun(this)}));const r=this.state.status==="pending",s=!E(this,fo).canStart();try{if(r)n();else{ke(this,Ar,Ls).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=E(this,un).config).onMutate)==null?void 0:o.call(i,e,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));O!==this.state.context&&ke(this,Ar,Ls).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const P=await E(this,fo).start();return await((d=(u=E(this,un).config).onSuccess)==null?void 0:d.call(u,P,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,e,this.state.context)),await((y=(m=E(this,un).config).onSettled)==null?void 0:y.call(m,P,null,this.state.variables,this.state.context,this)),await((b=(p=this.options).onSettled)==null?void 0:b.call(p,P,null,e,this.state.context)),ke(this,Ar,Ls).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(x=E(this,un).config).onError)==null?void 0:g.call(x,P,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,P,e,this.state.context)),await((N=(_=E(this,un).config).onSettled)==null?void 0:N.call(_,void 0,P,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,P,e,this.state.context)),P}finally{ke(this,Ar,Ls).call(this,{type:"error",error:P})}}finally{E(this,un).runNext(this)}}},Or=new WeakMap,un=new WeakMap,fo=new WeakMap,Ar=new WeakSet,Ls=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),At.batch(()=>{E(this,Or).forEach(r=>{r.onMutationUpdate(e)}),E(this,un).notify({mutation:this,type:"updated",action:e})})},MS);function ZT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var us,dr,hu,DS,dF=(DS=class extends ml{constructor(e={}){super();he(this,us);he(this,dr);he(this,hu);this.config=e,re(this,us,new Set),re(this,dr,new Map),re(this,hu,0)}build(e,n,r){const s=new uF({mutationCache:this,mutationId:++Iu(this,hu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){E(this,us).add(e);const n=Ju(e);if(typeof n=="string"){const r=E(this,dr).get(n);r?r.push(e):E(this,dr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(E(this,us).delete(e)){const n=Ju(e);if(typeof n=="string"){const r=E(this,dr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&E(this,dr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ju(e);if(typeof n=="string"){const r=E(this,dr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ju(e);if(typeof n=="string"){const s=(r=E(this,dr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{E(this,us).forEach(e=>{this.notify({type:"removed",mutation:e})}),E(this,us).clear(),E(this,dr).clear()})}getAll(){return Array.from(E(this,us))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>z0(n,r))}findAll(e={}){return this.getAll().filter(n=>z0(e,n))}notify(e){At.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(e.map(n=>n.continue().catch(hn))))}},us=new WeakMap,dr=new WeakMap,hu=new WeakMap,DS);function Ju(t){var e;return(e=t.options.scope)==null?void 0:e.id}function B0(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},x=HT(e.options,e.fetchOptions),g=async(w,S,_)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return b(F),F})(),T=await x(C),{maxPages:P}=e.options,O=_?tF:eF;return{pages:O(w.pages,T,P),pageParams:O(w.pageParams,S,P)}};if(s&&i.length){const w=s==="backward",S=w?fF:U0,_={pages:i,pageParams:o},N=S(r,_);a=await g(_,N,w)}else{const w=t??i.length;do{const S=l===0?o[0]??r.initialPageParam:U0(r,a);if(l>0&&S==null)break;a=await g(a,S),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var p,b;return(b=(p=e.options).persister)==null?void 0:b.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function U0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function fF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var yt,Ys,qs,Ia,Ra,Qs,Fa,La,OS,hF=(OS=class{constructor(t={}){he(this,yt);he(this,Ys);he(this,qs);he(this,Ia);he(this,Ra);he(this,Qs);he(this,Fa);he(this,La);re(this,yt,t.queryCache||new cF),re(this,Ys,t.mutationCache||new dF),re(this,qs,t.defaultOptions||{}),re(this,Ia,new Map),re(this,Ra,new Map),re(this,Qs,0)}mount(){Iu(this,Qs)._++,E(this,Qs)===1&&(re(this,Fa,ix.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,yt).onFocus())})),re(this,La,_f.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,yt).onOnline())})))}unmount(){var t,e;Iu(this,Qs)._--,E(this,Qs)===0&&((t=E(this,Fa))==null||t.call(this),re(this,Fa,void 0),(e=E(this,La))==null||e.call(this),re(this,La,void 0))}isFetching(t){return E(this,yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,Ys).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,yt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=E(this,yt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return E(this,yt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=E(this,yt).get(r.queryHash),i=s==null?void 0:s.state.data,o=ZR(e,i);if(o!==void 0)return E(this,yt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return At.batch(()=>E(this,yt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,yt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=E(this,yt);At.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=E(this,yt);return At.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=At.batch(()=>E(this,yt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hn).catch(hn)}invalidateQueries(t,e={}){return At.batch(()=>(E(this,yt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=At.batch(()=>E(this,yt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=E(this,yt).build(this,e);return n.isStaleByTime(yi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hn).catch(hn)}fetchInfiniteQuery(t){return t.behavior=B0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hn).catch(hn)}ensureInfiniteQueryData(t){return t.behavior=B0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _f.isOnline()?E(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,yt)}getMutationCache(){return E(this,Ys)}getDefaultOptions(){return E(this,qs)}setDefaultOptions(t){re(this,qs,t)}setQueryDefaults(t,e){E(this,Ia).set(To(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,Ia).values()],n={};return e.forEach(r=>{$c(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){E(this,Ra).set(To(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,Ra).values()],n={};return e.forEach(r=>{$c(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,yt).clear(),E(this,Ys).clear()}},yt=new WeakMap,Ys=new WeakMap,qs=new WeakMap,Ia=new WeakMap,Ra=new WeakMap,Qs=new WeakMap,Fa=new WeakMap,La=new WeakMap,OS),_n,Ae,mu,dn,ho,za,Ks,Gs,pu,Va,$a,mo,po,Xs,Ba,qe,Xl,hg,mg,pg,gg,yg,xg,vg,JT,AS,mF=(AS=class extends ml{constructor(e,n){super();he(this,qe);he(this,_n);he(this,Ae);he(this,mu);he(this,dn);he(this,ho);he(this,za);he(this,Ks);he(this,Gs);he(this,pu);he(this,Va);he(this,$a);he(this,mo);he(this,po);he(this,Xs);he(this,Ba,new Set);this.options=n,re(this,_n,e),re(this,Gs,null),re(this,Ks,fg()),this.options.experimental_prefetchInRender||E(this,Ks).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Ae).addObserver(this),W0(E(this,Ae),this.options)?ke(this,qe,Xl).call(this):this.updateResult(),ke(this,qe,gg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bg(E(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bg(E(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,qe,yg).call(this),ke(this,qe,xg).call(this),E(this,Ae).removeObserver(this)}setOptions(e){const n=this.options,r=E(this,Ae);if(this.options=E(this,_n).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gn(this.options.enabled,E(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,qe,vg).call(this),E(this,Ae).setOptions(this.options),n._defaulted&&!Sf(this.options,n)&&E(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Ae),observer:this});const s=this.hasListeners();s&&H0(E(this,Ae),r,this.options,n)&&ke(this,qe,Xl).call(this),this.updateResult(),s&&(E(this,Ae)!==r||Gn(this.options.enabled,E(this,Ae))!==Gn(n.enabled,E(this,Ae))||yi(this.options.staleTime,E(this,Ae))!==yi(n.staleTime,E(this,Ae)))&&ke(this,qe,hg).call(this);const i=ke(this,qe,mg).call(this);s&&(E(this,Ae)!==r||Gn(this.options.enabled,E(this,Ae))!==Gn(n.enabled,E(this,Ae))||i!==E(this,Xs))&&ke(this,qe,pg).call(this,i)}getOptimisticResult(e){const n=E(this,_n).getQueryCache().build(E(this,_n),e),r=this.createResult(n,e);return gF(this,r)&&(re(this,dn,r),re(this,za,this.options),re(this,ho,E(this,Ae).state)),r}getCurrentResult(){return E(this,dn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){E(this,Ba).add(e)}getCurrentQuery(){return E(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=E(this,_n).defaultQueryOptions(e),r=E(this,_n).getQueryCache().build(E(this,_n),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ke(this,qe,Xl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,dn)))}createResult(e,n){var P;const r=E(this,Ae),s=this.options,i=E(this,dn),o=E(this,ho),a=E(this,za),u=e!==r?e.state:E(this,mu),{state:d}=e;let f={...d},h=!1,m;if(n._optimisticResults){const O=this.hasListeners(),F=!O&&W0(e,n),A=O&&H0(e,r,n,s);(F||A)&&(f={...f,...XT(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:b}=f;m=f.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&b==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(O=i.data,x=!0):O=typeof n.placeholderData=="function"?n.placeholderData((P=E(this,$a))==null?void 0:P.state.data,E(this,$a)):n.placeholderData,O!==void 0&&(b="success",m=dg(i==null?void 0:i.data,O,n),h=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&n.select===E(this,pu))m=E(this,Va);else try{re(this,pu,n.select),m=n.select(m),m=dg(i==null?void 0:i.data,m,n),re(this,Va,m),re(this,Gs,null)}catch(O){re(this,Gs,O)}E(this,Gs)&&(y=E(this,Gs),m=E(this,Va),p=Date.now(),b="error");const g=f.fetchStatus==="fetching",w=b==="pending",S=b==="error",_=w&&g,N=m!==void 0,T={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:b==="success",isError:S,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:S&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&N,isStale:ox(e,n),refetch:this.refetch,promise:E(this,Ks),isEnabled:Gn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=$=>{T.status==="error"?$.reject(T.error):T.data!==void 0&&$.resolve(T.data)},F=()=>{const $=re(this,Ks,T.promise=fg());O($)},A=E(this,Ks);switch(A.status){case"pending":e.queryHash===r.queryHash&&O(A);break;case"fulfilled":(T.status==="error"||T.data!==A.value)&&F();break;case"rejected":(T.status!=="error"||T.error!==A.reason)&&F();break}}return T}updateResult(){const e=E(this,dn),n=this.createResult(E(this,Ae),this.options);if(re(this,ho,E(this,Ae).state),re(this,za,this.options),E(this,ho).data!==void 0&&re(this,$a,E(this,Ae)),Sf(n,e))return;re(this,dn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!E(this,Ba).size)return!0;const o=new Set(i??E(this,Ba));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,dn)).some(a=>{const l=a;return E(this,dn)[l]!==e[l]&&o.has(l)})};ke(this,qe,JT).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,qe,gg).call(this)}},_n=new WeakMap,Ae=new WeakMap,mu=new WeakMap,dn=new WeakMap,ho=new WeakMap,za=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,pu=new WeakMap,Va=new WeakMap,$a=new WeakMap,mo=new WeakMap,po=new WeakMap,Xs=new WeakMap,Ba=new WeakMap,qe=new WeakSet,Xl=function(e){ke(this,qe,vg).call(this);let n=E(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(hn)),n},hg=function(){ke(this,qe,yg).call(this);const e=yi(this.options.staleTime,E(this,Ae));if(Co||E(this,dn).isStale||!cg(e))return;const r=UT(E(this,dn).dataUpdatedAt,e)+1;re(this,mo,setTimeout(()=>{E(this,dn).isStale||this.updateResult()},r))},mg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Ae)):this.options.refetchInterval)??!1},pg=function(e){ke(this,qe,xg).call(this),re(this,Xs,e),!(Co||Gn(this.options.enabled,E(this,Ae))===!1||!cg(E(this,Xs))||E(this,Xs)===0)&&re(this,po,setInterval(()=>{(this.options.refetchIntervalInBackground||ix.isFocused())&&ke(this,qe,Xl).call(this)},E(this,Xs)))},gg=function(){ke(this,qe,hg).call(this),ke(this,qe,pg).call(this,ke(this,qe,mg).call(this))},yg=function(){E(this,mo)&&(clearTimeout(E(this,mo)),re(this,mo,void 0))},xg=function(){E(this,po)&&(clearInterval(E(this,po)),re(this,po,void 0))},vg=function(){const e=E(this,_n).getQueryCache().build(E(this,_n),this.options);if(e===E(this,Ae))return;const n=E(this,Ae);re(this,Ae,e),re(this,mu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},JT=function(e){At.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(E(this,dn))}),E(this,_n).getQueryCache().notify({query:E(this,Ae),type:"observerResultsUpdated"})})},AS);function pF(t,e){return Gn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function W0(t,e){return pF(t,e)||t.state.data!==void 0&&bg(t,e,e.refetchOnMount)}function bg(t,e,n){if(Gn(e.enabled,t)!==!1&&yi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ox(t,e)}return!1}function H0(t,e,n,r){return(t!==e||Gn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ox(t,n)}function ox(t,e){return Gn(e.enabled,t)!==!1&&t.isStaleByTime(yi(e.staleTime,t))}function gF(t,e){return!Sf(t.getCurrentResult(),e)}var Zs,Js,Nn,ds,vs,Ld,wg,IS,yF=(IS=class extends ml{constructor(n,r){super();he(this,vs);he(this,Zs);he(this,Js);he(this,Nn);he(this,ds);re(this,Zs,n),this.setOptions(r),this.bindMethods(),ke(this,vs,Ld).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=E(this,Zs).defaultMutationOptions(n),Sf(this.options,r)||E(this,Zs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&To(r.mutationKey)!==To(this.options.mutationKey)?this.reset():((s=E(this,Nn))==null?void 0:s.state.status)==="pending"&&E(this,Nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,Nn))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,vs,Ld).call(this),ke(this,vs,wg).call(this,n)}getCurrentResult(){return E(this,Js)}reset(){var n;(n=E(this,Nn))==null||n.removeObserver(this),re(this,Nn,void 0),ke(this,vs,Ld).call(this),ke(this,vs,wg).call(this)}mutate(n,r){var s;return re(this,ds,r),(s=E(this,Nn))==null||s.removeObserver(this),re(this,Nn,E(this,Zs).getMutationCache().build(E(this,Zs),this.options)),E(this,Nn).addObserver(this),E(this,Nn).execute(n)}},Zs=new WeakMap,Js=new WeakMap,Nn=new WeakMap,ds=new WeakMap,vs=new WeakSet,Ld=function(){var r;const n=((r=E(this,Nn))==null?void 0:r.state)??ZT();re(this,Js,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},wg=function(n){At.batch(()=>{var r,s,i,o,a,l,u,d;if(E(this,ds)&&this.hasListeners()){const f=E(this,Js).variables,h=E(this,Js).context;(n==null?void 0:n.type)==="success"?((s=(r=E(this,ds)).onSuccess)==null||s.call(r,n.data,f,h),(o=(i=E(this,ds)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((l=(a=E(this,ds)).onError)==null||l.call(a,n.error,f,h),(d=(u=E(this,ds)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(E(this,Js))})})},IS),ej=v.createContext(void 0),Dn=t=>{const e=v.useContext(ej);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xF=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(ej.Provider,{value:t,children:e})),tj=v.createContext(!1),vF=()=>v.useContext(tj);tj.Provider;function bF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wF=v.createContext(bF()),SF=()=>v.useContext(wF),_F=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},NF=t=>{v.useEffect(()=>{t.clearReset()},[t])},kF=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||YT(n,[t.error,r])),CF=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},TF=(t,e)=>t.isLoading&&t.isFetching&&!e,jF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Y0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function PF(t,e,n){var f,h,m,y,p;const r=vF(),s=SF(),i=Dn(),o=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",CF(o),_F(o,s),NF(s);const a=!i.getQueryCache().get(o.queryHash),[l]=v.useState(()=>new e(i,o)),u=l.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const x=d?l.subscribe(At.batchCalls(b)):hn;return l.updateResult(),x},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(o)},[o,l]),jF(o,u))throw Y0(o,l,s);if(kF({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!Co&&TF(u,r)){const b=a?Y0(o,l,s):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;b==null||b.catch(hn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function zt(t,e){return PF(t,mF)}function Mt(t,e){const n=Dn(),[r]=v.useState(()=>new yF(n,t));v.useEffect(()=>{r.setOptions(t)},[r,t]);const s=v.useSyncExternalStore(v.useCallback(o=>r.subscribe(At.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=v.useCallback((o,a)=>{r.mutate(o,a).catch(hn)},[r]);if(s.error&&YT(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function EF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}function nj(){return window.location.origin}async function Ie(t,e,n){const r=localStorage.getItem("authToken"),s={};let i;n instanceof FormData?i=n:n&&(s["Content-Type"]="application/json",i=JSON.stringify(n)),r&&(s.Authorization=`Bearer ${r}`);const o=nj(),a=e.startsWith("http")?e:`${o}${e}`,l=await fetch(a,{method:t,headers:s,body:i,credentials:"include"});if(!l.ok){const d=await l.text()||l.statusText;throw console.error("API Error:",l.status,d),l.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),new Error(`${l.status}: ${d}`)}if(l.status===204)return null;const u=l.headers.get("Content-Type");return u&&u.includes("application/json")?l.json():l.text()}const rj=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("authToken"),r={};n&&(r.Authorization=`Bearer ${n}`);const s=nj(),i=e.join("/"),o=i.startsWith("http")?i:`${s}${i}`,a=await fetch(o,{headers:r,credentials:"include"});return t==="returnNull"&&a.status===401?(localStorage.removeItem("authToken"),null):(a.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),await EF(a),await a.json())},Ki=new hF({defaultOptions:{queries:{queryFn:rj({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),MF=1,DF=1e6;let jm=0;function OF(){return jm=(jm+1)%Number.MAX_SAFE_INTEGER,jm.toString()}const Pm=new Map,q0=t=>{if(Pm.has(t))return;const e=setTimeout(()=>{Pm.delete(t),hc({type:"REMOVE_TOAST",toastId:t})},DF);Pm.set(t,e)},AF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,MF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?q0(n):t.toasts.forEach(r=>{q0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zd=[];let Vd={toasts:[]};function hc(t){Vd=AF(Vd,t),zd.forEach(e=>{e(Vd)})}function IF({...t}){const e=OF(),n=s=>hc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>hc({type:"DISMISS_TOAST",toastId:e});return hc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Bt(){const[t,e]=v.useState(Vd);return v.useEffect(()=>(zd.push(e),()=>{const n=zd.indexOf(e);n>-1&&zd.splice(n,1)}),[t]),{...t,toast:IF,dismiss:n=>hc({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Q0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sj(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Q0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Q0(t[s],null)}}}}function We(...t){return v.useCallback(sj(...t),t)}function RF(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Bo(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...y}=f,p=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,b=v.useMemo(()=>y,Object.values(y));return c.jsx(p.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,y=v.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FF(s,...e)]}function FF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Xa(t){const e=LF(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(VF);if(l){const u=l.props.children,d=a.map(f=>f===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ij=Xa("Slot");function LF(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=BF(s),a=$F(i,s.props);return s.type!==v.Fragment&&(a.ref=r?sj(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oj=Symbol("radix.slottable");function zF(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=oj,e}function VF(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oj}function $F(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function BF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ax(t){const e=t+"CollectionProvider",[n,r]=Bo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:x}=p,g=ye.useRef(null),w=ye.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:w,collectionRef:g,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Xa(a),u=ye.forwardRef((p,b)=>{const{scope:x,children:g}=p,w=i(a,x),S=We(b,w.collectionRef);return c.jsx(l,{ref:S,children:g})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Xa(d),m=ye.forwardRef((p,b)=>{const{scope:x,children:g,...w}=p,S=ye.useRef(null),_=We(b,S),N=i(d,x);return ye.useEffect(()=>(N.itemMap.set(S,{ref:S,...w}),()=>void N.itemMap.delete(S))),c.jsx(h,{[f]:"",ref:_,children:g})});m.displayName=d;function y(p){const b=i(t+"CollectionConsumer",p);return ye.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((N,C)=>w.indexOf(N.ref.current)-w.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,r]}var UF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=UF.reduce((t,e)=>{const n=Xa(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aj(t,e){t&&$o.flushSync(()=>t.dispatchEvent(e))}function Sr(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function WF(t,e=globalThis==null?void 0:globalThis.document){const n=Sr(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var HF="DismissableLayer",Sg="dismissableLayer.update",YF="dismissableLayer.pointerDownOutside",qF="dismissableLayer.focusOutside",K0,lj=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Su=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=v.useContext(lj),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),y=We(e,C=>f(C)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(b),g=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,_=KF(C=>{const T=C.target,P=[...u.branches].some(O=>O.contains(T));!S||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),N=GF(C=>{const T=C.target;[...u.branches].some(O=>O.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return WF(C=>{g===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(K0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),G0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=K0)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),G0())},[d,u]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(Sg,C),()=>document.removeEventListener(Sg,C)},[]),c.jsx(Pe.div,{...l,ref:y,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,N.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,_.onPointerDownCapture)})});Su.displayName=HF;var QF="DismissableLayerBranch",cj=v.forwardRef((t,e)=>{const n=v.useContext(lj),r=v.useRef(null),s=We(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Pe.div,{...t,ref:s})});cj.displayName=QF;function KF(t,e=globalThis==null?void 0:globalThis.document){const n=Sr(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){uj(YF,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GF(t,e=globalThis==null?void 0:globalThis.document){const n=Sr(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&uj(qF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G0(){const t=new CustomEvent(Sg);document.dispatchEvent(t)}function uj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?aj(s,i):s.dispatchEvent(i)}var XF=Su,ZF=cj,Zt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},JF="Portal",Nh=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Zt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wR.createPortal(c.jsx(Pe.div,{...r,ref:e}),o):null});Nh.displayName=JF;function eL(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var pl=t=>{const{present:e,children:n}=t,r=tL(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=We(r.ref,nL(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};pl.displayName="Presence";function tL(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=eL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=ed(r.current);i.current=a==="mounted"?u:"none"},[a]),Zt(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,m=ed(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Zt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const p=ed(r.current).includes(m.animationName);if(m.target===e&&p&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=m=>{m.target===e&&(i.current=ed(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ed(t){return(t==null?void 0:t.animationName)||"none"}function nL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rL=uy[" useInsertionEffect ".trim().toString()]||Zt;function Bc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=sL({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=v.useCallback(d=>{var f;if(a){const h=iL(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,t,i,o]);return[l,u]}function sL({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return rL(()=>{i.current=e},[e]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function iL(t){return typeof t=="function"}var dj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oL="VisuallyHidden",kh=v.forwardRef((t,e)=>c.jsx(Pe.span,{...t,ref:e,style:{...dj,...t.style}}));kh.displayName=oL;var aL=kh,lx="ToastProvider",[cx,lL,cL]=ax("Toast"),[fj,Eq]=Bo("Toast",[cL]),[uL,Ch]=fj(lx),hj=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lx}\`. Expected non-empty \`string\`.`),c.jsx(cx.Provider,{scope:e,children:c.jsx(uL,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};hj.displayName=lx;var mj="ToastViewport",dL=["F8"],_g="toast.viewportPause",Ng="toast.viewportResume",pj=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dL,label:s="Notifications ({hotkey})",...i}=t,o=Ch(mj,n),a=lL(n),l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=We(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const b=x=>{var w;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),v.useEffect(()=>{const b=l.current,x=f.current;if(y&&b&&x){const g=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(_g);x.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Ng);x.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!b.contains(N.relatedTarget)&&w()},_=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",g),b.addEventListener("focusout",S),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",_),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[y,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:b})=>{const g=a().map(w=>{const S=w.ref.current,_=[S,...NL(S)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?g.reverse():g).flat()},[a]);return v.useEffect(()=>{const b=f.current;if(b){const x=g=>{var _,N,C;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const T=document.activeElement,P=g.shiftKey;if(g.target===b&&P){(_=u.current)==null||_.focus();return}const A=p({tabbingDirection:P?"backwards":"forwards"}),$=A.findIndex(V=>V===T);Em(A.slice($+1))?g.preventDefault():P?(N=u.current)==null||N.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[a,p]),c.jsxs(ZF,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(kg,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});Em(b)}}),c.jsx(cx.Slot,{scope:n,children:c.jsx(Pe.ol,{tabIndex:-1,...i,ref:h})}),y&&c.jsx(kg,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});Em(b)}})]})});pj.displayName=mj;var gj="ToastFocusProxy",kg=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ch(gj,n);return c.jsx(kh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});kg.displayName=gj;var _u="Toast",fL="toast.swipeStart",hL="toast.swipeMove",mL="toast.swipeCancel",pL="toast.swipeEnd",yj=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Bc({prop:r,defaultProp:s??!0,onChange:i,caller:_u});return c.jsx(pl,{present:n||a,children:c.jsx(xL,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Sr(t.onPause),onResume:Sr(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});yj.displayName=_u;var[gL,yL]=fj(_u,{onClose(){}}),xL=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,p=Ch(_u,n),[b,x]=v.useState(null),g=We(e,V=>x(V)),w=v.useRef(null),S=v.useRef(null),_=s||p.duration,N=v.useRef(0),C=v.useRef(_),T=v.useRef(0),{onToastAdd:P,onToastRemove:O}=p,F=Sr(()=>{var I;(b==null?void 0:b.contains(document.activeElement))&&((I=p.viewport)==null||I.focus()),o()}),A=v.useCallback(V=>{!V||V===1/0||(window.clearTimeout(T.current),N.current=new Date().getTime(),T.current=window.setTimeout(F,V))},[F]);v.useEffect(()=>{const V=p.viewport;if(V){const I=()=>{A(C.current),u==null||u()},z=()=>{const B=new Date().getTime()-N.current;C.current=C.current-B,window.clearTimeout(T.current),l==null||l()};return V.addEventListener(_g,z),V.addEventListener(Ng,I),()=>{V.removeEventListener(_g,z),V.removeEventListener(Ng,I)}}},[p.viewport,_,l,u,A]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&A(_)},[i,_,p.isClosePausedRef,A]),v.useEffect(()=>(P(),()=>O()),[P,O]);const $=v.useMemo(()=>b?Nj(b):null,[b]);return p.viewport?c.jsxs(c.Fragment,{children:[$&&c.jsx(vL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),c.jsx(gL,{scope:n,onClose:F,children:$o.createPortal(c.jsx(cx.ItemSlot,{scope:n,children:c.jsx(XF,{asChild:!0,onEscapeKeyDown:xe(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||F(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:xe(t.onPointerDown,V=>{V.button===0&&(w.current={x:V.clientX,y:V.clientY})}),onPointerMove:xe(t.onPointerMove,V=>{if(!w.current)return;const I=V.clientX-w.current.x,z=V.clientY-w.current.y,B=!!S.current,j=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=j?R(0,I):0,W=j?0:R(0,z),G=V.pointerType==="touch"?10:2,ne={x:D,y:W},se={originalEvent:V,delta:ne};B?(S.current=ne,td(hL,f,se,{discrete:!1})):X0(ne,p.swipeDirection,G)?(S.current=ne,td(fL,d,se,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(I)>G||Math.abs(z)>G)&&(w.current=null)}),onPointerUp:xe(t.onPointerUp,V=>{const I=S.current,z=V.target;if(z.hasPointerCapture(V.pointerId)&&z.releasePointerCapture(V.pointerId),S.current=null,w.current=null,I){const B=V.currentTarget,j={originalEvent:V,delta:I};X0(I,p.swipeDirection,p.swipeThreshold)?td(pL,m,j,{discrete:!0}):td(mL,h,j,{discrete:!0}),B.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),vL=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ch(_u,e),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return SL(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(Nh,{asChild:!0,children:c.jsx(kh,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},bL="ToastTitle",xj=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Pe.div,{...r,ref:e})});xj.displayName=bL;var wL="ToastDescription",vj=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Pe.div,{...r,ref:e})});vj.displayName=wL;var bj="ToastAction",wj=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(_j,{altText:n,asChild:!0,children:c.jsx(ux,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bj}\`. Expected non-empty \`string\`.`),null)});wj.displayName=bj;var Sj="ToastClose",ux=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=yL(Sj,n);return c.jsx(_j,{asChild:!0,children:c.jsx(Pe.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});ux.displayName=Sj;var _j=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Nj(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_L(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Nj(r))}}),e}function td(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?aj(s,i):s.dispatchEvent(i)}var X0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function SL(t=()=>{}){const e=Sr(t);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _L(t){return t.nodeType===t.ELEMENT_NODE}function NL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Em(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var kL=hj,kj=pj,Cj=yj,Tj=xj,jj=vj,Pj=wj,Ej=ux;function Mj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Mj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dj(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Mj(t))&&(r&&(r+=" "),r+=e);return r}const Z0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,J0=Dj,dx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return J0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=Z0(d)||Z0(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[p,b]=y;return Array.isArray(b)?b.includes({...i,...a}[p]):{...i,...a}[p]===b})?[...u,f,h]:u},[]);return J0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oj=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...TL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Oj("lucide",s),...a},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(jL,{ref:i,iconNode:e,className:Oj(`lucide-${CL(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Ai("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Ai("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Ai("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Ai("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ai("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=Ai("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Ai("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Ai("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hx="-",OL=t=>{const e=IL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(hx);return a[0]===""&&a.length!==1&&a.shift(),Rj(a,e)||AL(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Rj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Rj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(hx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},eb=/^\[(.+)\]$/,AL=t=>{if(eb.test(t)){const e=eb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},IL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return FL(Object.entries(t.classGroups),n).forEach(([i,o])=>{Tg(o,r,i,e)}),r},Tg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:tb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(RL(s)){Tg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Tg(o,tb(e,i),n,r)})})},tb=(t,e)=>{let n=t;return e.split(hx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},RL=t=>t.isThemeGetter,FL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,LL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Fj="!",zL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let x=a[b];if(u===0){if(x===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(Fj),y=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},VL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$L=t=>({cache:LL(t.cacheSize),parseClassName:zL(t),...OL(t)}),BL=/\s+/,UL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(BL);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,p=r(y?h.substring(0,m):h);if(!p){if(!y){a=u+(a.length>0?" "+a:a);continue}if(p=r(h),!p){a=u+(a.length>0?" "+a:a);continue}y=!1}const b=VL(d).join(":"),x=f?b+Fj:b,g=x+p;if(i.includes(g))continue;i.push(g);const w=s(p,y);for(let S=0;S<w.length;++S){const _=w[S];i.push(x+_)}a=u+(a.length>0?" "+a:a)}return a};function WL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Lj(e))&&(r&&(r+=" "),r+=n);return r}const Lj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Lj(t[r]))&&(n&&(n+=" "),n+=e);return n};function HL(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=$L(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=UL(l,n);return s(l,d),d}return function(){return i(WL.apply(null,arguments))}}const it=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zj=/^\[(?:([a-z-]+):)?(.+)\]$/i,YL=/^\d+\/\d+$/,qL=new Set(["px","full","screen"]),QL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=t=>Sa(t)||qL.has(t)||YL.test(t),As=t=>gl(t,"length",o4),Sa=t=>!!t&&!Number.isNaN(Number(t)),Mm=t=>gl(t,"number",Sa),Al=t=>!!t&&Number.isInteger(Number(t)),JL=t=>t.endsWith("%")&&Sa(t.slice(0,-1)),Ne=t=>zj.test(t),Is=t=>QL.test(t),e4=new Set(["length","size","percentage"]),t4=t=>gl(t,e4,Vj),n4=t=>gl(t,"position",Vj),r4=new Set(["image","url"]),s4=t=>gl(t,r4,l4),i4=t=>gl(t,"",a4),Il=()=>!0,gl=(t,e,n)=>{const r=zj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},o4=t=>KL.test(t)&&!GL.test(t),Vj=()=>!1,a4=t=>XL.test(t),l4=t=>ZL.test(t),c4=()=>{const t=it("colors"),e=it("spacing"),n=it("blur"),r=it("brightness"),s=it("borderColor"),i=it("borderRadius"),o=it("borderSpacing"),a=it("borderWidth"),l=it("contrast"),u=it("grayscale"),d=it("hueRotate"),f=it("invert"),h=it("gap"),m=it("gradientColorStops"),y=it("gradientColorStopPositions"),p=it("inset"),b=it("margin"),x=it("opacity"),g=it("padding"),w=it("saturate"),S=it("scale"),_=it("sepia"),N=it("skew"),C=it("space"),T=it("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ne,e],A=()=>[Ne,e],$=()=>["",Jr,As],V=()=>["auto",Sa,Ne],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ne],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Sa,Ne];return{cacheSize:500,separator:":",theme:{colors:[Il],spacing:[Jr,As],blur:["none","",Is,Ne],brightness:W(),borderColor:[t],borderRadius:["none","","full",Is,Ne],borderSpacing:A(),borderWidth:$(),contrast:W(),grayscale:R(),hueRotate:W(),invert:R(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[JL,As],inset:F(),margin:F(),opacity:W(),padding:A(),saturate:W(),scale:W(),sepia:R(),skew:W(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ne]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Al,Ne]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Al,Ne]}],"grid-cols":[{"grid-cols":[Il]}],"col-start-end":[{col:["auto",{span:["full",Al,Ne]},Ne]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Il]}],"row-start-end":[{row:["auto",{span:[Al,Ne]},Ne]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mm]}],"font-family":[{font:[Il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Sa,Mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,As]}],"underline-offset":[{"underline-offset":["auto",Jr,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),n4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",t4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},s4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Jr,Ne]}],"outline-w":[{outline:[Jr,As]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Jr,As]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Is,i4]}],"shadow-color":[{shadow:[Il]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Is,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Al,Ne]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jr,As,Mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u4=HL(c4);function Re(...t){return u4(Dj(t))}function d4(t){return t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Activity"}function $j(t,e,n){if(!t||!e)return null;const[r,s]=t.split(":").map(Number),[i,o]=e.split(":").map(Number);let a=new Date;a.setHours(r,s,0,0);let l=new Date;if(l.setHours(i,o,0,0),n==="sleep"&&l<=a)l.setDate(l.getDate()+1);else if(n!=="sleep"&&l<=a)return null;const u=l.getTime()-a.getTime(),d=Math.floor(u/(1e3*60)),f=Math.floor(d/60),h=d%60;return{hours:f,minutes:h}}function f4(t){if(!t)return"";const e=[];return t.hours>0&&e.push(`${t.hours} hr`),t.minutes>0&&e.push(`${t.minutes} min`),e.join(" ")||"0 min"}const h4=kL,Bj=v.forwardRef(({className:t,...e},n)=>c.jsx(kj,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Bj.displayName=kj.displayName;const m4=dx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Uj=v.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(Cj,{ref:r,className:Re(m4({variant:e}),t),...n}));Uj.displayName=Cj.displayName;const p4=v.forwardRef(({className:t,...e},n)=>c.jsx(Pj,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));p4.displayName=Pj.displayName;const Wj=v.forwardRef(({className:t,...e},n)=>c.jsx(Ej,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(fx,{className:"h-4 w-4"})}));Wj.displayName=Ej.displayName;const Hj=v.forwardRef(({className:t,...e},n)=>c.jsx(Tj,{ref:n,className:Re("text-sm font-semibold",t),...e}));Hj.displayName=Tj.displayName;const Yj=v.forwardRef(({className:t,...e},n)=>c.jsx(jj,{ref:n,className:Re("text-sm opacity-90",t),...e}));Yj.displayName=jj.displayName;function g4(){const{toasts:t}=Bt();return c.jsxs(h4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(Uj,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(Hj,{children:n}),r&&c.jsx(Yj,{children:r})]}),s,c.jsx(Wj,{})]},e)}),c.jsx(Bj,{})]})}var y4=uy[" useId ".trim().toString()]||(()=>{}),x4=0;function _a(t){const[e,n]=v.useState(y4());return Zt(()=>{n(r=>r??String(x4++))},[t]),e?`radix-${e}`:""}const v4=["top","right","bottom","left"],wi=Math.min,Fn=Math.max,Nf=Math.round,nd=Math.floor,Wr=t=>({x:t,y:t}),b4={left:"right",right:"left",bottom:"top",top:"bottom"},w4={start:"end",end:"start"};function jg(t,e,n){return Fn(t,wi(e,n))}function Ns(t,e){return typeof t=="function"?t(e):t}function ks(t){return t.split("-")[0]}function yl(t){return t.split("-")[1]}function mx(t){return t==="x"?"y":"x"}function px(t){return t==="y"?"height":"width"}const S4=new Set(["top","bottom"]);function Vr(t){return S4.has(ks(t))?"y":"x"}function gx(t){return mx(Vr(t))}function _4(t,e,n){n===void 0&&(n=!1);const r=yl(t),s=gx(t),i=px(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=kf(o)),[o,kf(o)]}function N4(t){const e=kf(t);return[Pg(t),e,Pg(e)]}function Pg(t){return t.replace(/start|end/g,e=>w4[e])}const nb=["left","right"],rb=["right","left"],k4=["top","bottom"],C4=["bottom","top"];function T4(t,e,n){switch(t){case"top":case"bottom":return n?e?rb:nb:e?nb:rb;case"left":case"right":return e?k4:C4;default:return[]}}function j4(t,e,n,r){const s=yl(t);let i=T4(ks(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Pg)))),i}function kf(t){return t.replace(/left|right|bottom|top/g,e=>b4[e])}function P4(t){return{top:0,right:0,bottom:0,left:0,...t}}function qj(t){return typeof t!="number"?P4(t):{top:t,right:t,bottom:t,left:t}}function Cf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function sb(t,e,n){let{reference:r,floating:s}=t;const i=Vr(e),o=gx(e),a=px(o),l=ks(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(yl(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const E4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=sb(u,r,l),h=r,m={},y=0;for(let p=0;p<a.length;p++){const{name:b,fn:x}=a[p],{x:g,y:w,data:S,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=g??d,f=w??f,m={...m,[b]:{...m[b],...S}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:d,y:f}=sb(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Uc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ns(e,t),y=qj(m),b=a[h?f==="floating"?"reference":"floating":f],x=Cf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Cf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:w,strategy:l}):g);return{top:(x.top-_.top+y.top)/S.y,bottom:(_.bottom-x.bottom+y.bottom)/S.y,left:(x.left-_.left+y.left)/S.x,right:(_.right-x.right+y.right)/S.x}}const M4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ns(t,e)||{};if(u==null)return{};const f=qj(d),h={x:n,y:r},m=gx(s),y=px(m),p=await o.getDimensions(u),b=m==="y",x=b?"top":"left",g=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[m]-h[m]-i.floating[y],_=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=N?N[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=a.floating[w]||i.floating[y]);const T=S/2-_/2,P=C/2-p[y]/2-1,O=wi(f[x],P),F=wi(f[g],P),A=O,$=C-p[y]-F,V=C/2-p[y]/2+T,I=jg(A,V,$),z=!l.arrow&&yl(s)!=null&&V!==I&&i.reference[y]/2-(V<A?O:F)-p[y]/2<0,B=z?V<A?V-A:V-$:0;return{[m]:h[m]+B,data:{[m]:I,centerOffset:V-I-B,...z&&{alignmentOffset:B}},reset:z}}}),D4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...b}=Ns(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=ks(s),g=Vr(a),w=ks(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=h||(w||!p?[kf(a)]:N4(a)),N=y!=="none";!h&&N&&_.push(...j4(a,p,y,S));const C=[a,..._],T=await Uc(e,b),P=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(T[x]),f){const V=_4(s,o,S);P.push(T[V[0]],T[V[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(V=>V<=0)){var F,A;const V=(((F=i.flip)==null?void 0:F.index)||0)+1,I=C[V];if(I&&(!(f==="alignment"?g!==Vr(I):!1)||O.every(j=>j.overflows[0]>0&&Vr(j.placement)===g)))return{data:{index:V,overflows:O},reset:{placement:I}};let z=(A=O.filter(B=>B.overflows[0]<=0).sort((B,j)=>B.overflows[1]-j.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(m){case"bestFit":{var $;const B=($=O.filter(j=>{if(N){const R=Vr(j.placement);return R===g||R==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(R=>R>0).reduce((R,D)=>R+D,0)]).sort((j,R)=>j[1]-R[1])[0])==null?void 0:$[0];B&&(z=B);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function ib(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ob(t){return v4.some(e=>t[e]>=0)}const O4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ns(t,e);switch(r){case"referenceHidden":{const i=await Uc(e,{...s,elementContext:"reference"}),o=ib(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ob(o)}}}case"escaped":{const i=await Uc(e,{...s,altBoundary:!0}),o=ib(i,n.floating);return{data:{escapedOffsets:o,escaped:ob(o)}}}default:return{}}}}},Qj=new Set(["left","top"]);async function A4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ks(n),a=yl(n),l=Vr(n)==="y",u=Qj.has(o)?-1:1,d=i&&l?-1:1,f=Ns(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const I4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await A4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},R4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x,y:g}=b;return{x,y:g}}},...l}=Ns(t,e),u={x:n,y:r},d=await Uc(e,l),f=Vr(ks(s)),h=mx(f);let m=u[h],y=u[f];if(i){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=m+d[b],w=m-d[x];m=jg(g,m,w)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=y+d[b],w=y-d[x];y=jg(g,y,w)}const p=a.fn({...e,[h]:m,[f]:y});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[f]:o}}}}}},F4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ns(t,e),d={x:n,y:r},f=Vr(s),h=mx(f);let m=d[h],y=d[f];const p=Ns(a,e),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+b.mainAxis,_=i.reference[h]+i.reference[w]-b.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var x,g;const w=h==="y"?"width":"height",S=Qj.has(ks(s)),_=i.reference[f]-i.floating[w]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:b.crossAxis),N=i.reference[f]+i.reference[w]+(S?0:((g=o.offset)==null?void 0:g[f])||0)-(S?b.crossAxis:0);y<_?y=_:y>N&&(y=N)}return{[h]:m,[f]:y}}}},L4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ns(t,e),d=await Uc(e,u),f=ks(s),h=yl(s),m=Vr(s)==="y",{width:y,height:p}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const g=p-d.top-d.bottom,w=y-d.left-d.right,S=wi(p-d[b],g),_=wi(y-d[x],w),N=!e.middlewareData.shift;let C=S,T=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=g),N&&!h){const O=Fn(d.left,0),F=Fn(d.right,0),A=Fn(d.top,0),$=Fn(d.bottom,0);m?T=y-2*(O!==0||F!==0?O+F:Fn(d.left,d.right)):C=p-2*(A!==0||$!==0?A+$:Fn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const P=await o.getDimensions(a.floating);return y!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Th(){return typeof window<"u"}function xl(t){return Kj(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(t){var e;return(e=(Kj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Kj(t){return Th()?t instanceof Node||t instanceof Vn(t).Node:!1}function _r(t){return Th()?t instanceof Element||t instanceof Vn(t).Element:!1}function Qr(t){return Th()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function ab(t){return!Th()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const z4=new Set(["inline","contents"]);function Nu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!z4.has(s)}const V4=new Set(["table","td","th"]);function $4(t){return V4.has(xl(t))}const B4=[":popover-open",":modal"];function jh(t){return B4.some(e=>{try{return t.matches(e)}catch{return!1}})}const U4=["transform","translate","scale","rotate","perspective"],W4=["transform","translate","scale","rotate","perspective","filter"],H4=["paint","layout","strict","content"];function yx(t){const e=xx(),n=_r(t)?Nr(t):t;return U4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||W4.some(r=>(n.willChange||"").includes(r))||H4.some(r=>(n.contain||"").includes(r))}function Y4(t){let e=Si(t);for(;Qr(e)&&!Za(e);){if(yx(e))return e;if(jh(e))return null;e=Si(e)}return null}function xx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const q4=new Set(["html","body","#document"]);function Za(t){return q4.has(xl(t))}function Nr(t){return Vn(t).getComputedStyle(t)}function Ph(t){return _r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Si(t){if(xl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ab(t)&&t.host||Zr(t);return ab(e)?e.host:e}function Gj(t){const e=Si(t);return Za(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qr(e)&&Nu(e)?e:Gj(e)}function Wc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Gj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Vn(s);if(i){const a=Eg(o);return e.concat(o,o.visualViewport||[],Nu(s)?s:[],a&&n?Wc(a):[])}return e.concat(s,Wc(s,[],n))}function Eg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Xj(t){const e=Nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Nf(n)!==i||Nf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function vx(t){return _r(t)?t:t.contextElement}function Na(t){const e=vx(t);if(!Qr(e))return Wr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Xj(e);let o=(i?Nf(n.width):n.width)/r,a=(i?Nf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Q4=Wr(0);function Zj(t){const e=Vn(t);return!xx()||!e.visualViewport?Q4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function K4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function jo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=vx(t);let o=Wr(1);e&&(r?_r(r)&&(o=Na(r)):o=Na(t));const a=K4(i,n,r)?Zj(i):Wr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Vn(i),m=r&&_r(r)?Vn(r):r;let y=h,p=Eg(y);for(;p&&r&&m!==y;){const b=Na(p),x=p.getBoundingClientRect(),g=Nr(p),w=x.left+(p.clientLeft+parseFloat(g.paddingLeft))*b.x,S=x.top+(p.clientTop+parseFloat(g.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,f*=b.y,l+=w,u+=S,y=Vn(p),p=Eg(y)}}return Cf({width:d,height:f,x:l,y:u})}function bx(t,e){const n=Ph(t).scrollLeft;return e?e.left+n:jo(Zr(t)).left+n}function Jj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:bx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function G4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Zr(r),a=e?jh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Wr(1);const d=Wr(0),f=Qr(r);if((f||!f&&!i)&&((xl(r)!=="body"||Nu(o))&&(l=Ph(r)),Qr(r))){const m=jo(r);u=Na(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?Jj(o,l,!0):Wr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function X4(t){return Array.from(t.getClientRects())}function Z4(t){const e=Zr(t),n=Ph(t),r=t.ownerDocument.body,s=Fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+bx(t);const a=-n.scrollTop;return Nr(r).direction==="rtl"&&(o+=Fn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function J4(t,e){const n=Vn(t),r=Zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=xx();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const e5=new Set(["absolute","fixed"]);function t5(t,e){const n=jo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qr(t)?Na(t):Wr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function lb(t,e,n){let r;if(e==="viewport")r=J4(t,n);else if(e==="document")r=Z4(Zr(t));else if(_r(e))r=t5(e,n);else{const s=Zj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cf(r)}function eP(t,e){const n=Si(t);return n===e||!_r(n)||Za(n)?!1:Nr(n).position==="fixed"||eP(n,e)}function n5(t,e){const n=e.get(t);if(n)return n;let r=Wc(t,[],!1).filter(a=>_r(a)&&xl(a)!=="body"),s=null;const i=Nr(t).position==="fixed";let o=i?Si(t):t;for(;_r(o)&&!Za(o);){const a=Nr(o),l=yx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&e5.has(s.position)||Nu(o)&&!l&&eP(t,o))?r=r.filter(d=>d!==o):s=a,o=Si(o)}return e.set(t,r),r}function r5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?jh(e)?[]:n5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=lb(e,d,s);return u.top=Fn(f.top,u.top),u.right=wi(f.right,u.right),u.bottom=wi(f.bottom,u.bottom),u.left=Fn(f.left,u.left),u},lb(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function s5(t){const{width:e,height:n}=Xj(t);return{width:e,height:n}}function i5(t,e,n){const r=Qr(e),s=Zr(e),i=n==="fixed",o=jo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Wr(0);function u(){l.x=bx(s)}if(r||!r&&!i)if((xl(e)!=="body"||Nu(s))&&(a=Ph(e)),r){const m=jo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?Jj(s,a):Wr(0),f=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Dm(t){return Nr(t).position==="static"}function cb(t,e){if(!Qr(t)||Nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zr(t)===n&&(n=n.ownerDocument.body),n}function tP(t,e){const n=Vn(t);if(jh(t))return n;if(!Qr(t)){let s=Si(t);for(;s&&!Za(s);){if(_r(s)&&!Dm(s))return s;s=Si(s)}return n}let r=cb(t,e);for(;r&&$4(r)&&Dm(r);)r=cb(r,e);return r&&Za(r)&&Dm(r)&&!yx(r)?n:r||Y4(t)||n}const o5=async function(t){const e=this.getOffsetParent||tP,n=this.getDimensions,r=await n(t.floating);return{reference:i5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function a5(t){return Nr(t).direction==="rtl"}const l5={convertOffsetParentRelativeRectToViewportRelativeRect:G4,getDocumentElement:Zr,getClippingRect:r5,getOffsetParent:tP,getElementRects:o5,getClientRects:X4,getDimensions:s5,getScale:Na,isElement:_r,isRTL:a5};function nP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function c5(t,e){let n=null,r;const s=Zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const y=nd(f),p=nd(s.clientWidth-(d+h)),b=nd(s.clientHeight-(f+m)),x=nd(d),w={rootMargin:-y+"px "+-p+"px "+-b+"px "+-x+"px",threshold:Fn(0,wi(1,l))||1};let S=!0;function _(N){const C=N[0].intersectionRatio;if(C!==l){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!nP(u,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(_,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(t)}return o(!0),i}function u5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=vx(t),d=s||i?[...u?Wc(u):[],...Wc(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?c5(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,p=l?jo(t):null;l&&b();function b(){const x=jo(t);p&&!nP(p,x)&&n(),p=x,y=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const d5=I4,f5=R4,h5=D4,m5=L4,p5=O4,ub=M4,g5=F4,y5=(t,e,n)=>{const r=new Map,s={platform:l5,...n},i={...s.platform,_c:r};return E4(t,e,{...s,platform:i})};var x5=typeof document<"u",v5=function(){},$d=x5?v.useLayoutEffect:v5;function Tf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Tf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function rP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function db(t,e){const n=rP(t);return Math.round(e*n)/n}function Om(t){const e=v.useRef(t);return $d(()=>{e.current=t}),e}function b5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);Tf(h,r)||m(r);const[y,p]=v.useState(null),[b,x]=v.useState(null),g=v.useCallback(j=>{j!==N.current&&(N.current=j,p(j))},[]),w=v.useCallback(j=>{j!==C.current&&(C.current=j,x(j))},[]),S=i||y,_=o||b,N=v.useRef(null),C=v.useRef(null),T=v.useRef(d),P=l!=null,O=Om(l),F=Om(s),A=Om(u),$=v.useCallback(()=>{if(!N.current||!C.current)return;const j={placement:e,strategy:n,middleware:h};F.current&&(j.platform=F.current),y5(N.current,C.current,j).then(R=>{const D={...R,isPositioned:A.current!==!1};V.current&&!Tf(T.current,D)&&(T.current=D,$o.flushSync(()=>{f(D)}))})},[h,e,n,F,A]);$d(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const V=v.useRef(!1);$d(()=>(V.current=!0,()=>{V.current=!1}),[]),$d(()=>{if(S&&(N.current=S),_&&(C.current=_),S&&_){if(O.current)return O.current(S,_,$);$()}},[S,_,$,O,P]);const I=v.useMemo(()=>({reference:N,floating:C,setReference:g,setFloating:w}),[g,w]),z=v.useMemo(()=>({reference:S,floating:_}),[S,_]),B=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!z.floating)return j;const R=db(z.floating,d.x),D=db(z.floating,d.y);return a?{...j,transform:"translate("+R+"px, "+D+"px)",...rP(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:D}},[n,a,z.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:$,refs:I,elements:z,floatingStyles:B}),[d,$,I,z,B])}const w5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ub({element:r.current,padding:s}).fn(n):{}:r?ub({element:r,padding:s}).fn(n):{}}}},S5=(t,e)=>({...d5(t),options:[t,e]}),_5=(t,e)=>({...f5(t),options:[t,e]}),N5=(t,e)=>({...g5(t),options:[t,e]}),k5=(t,e)=>({...h5(t),options:[t,e]}),C5=(t,e)=>({...m5(t),options:[t,e]}),T5=(t,e)=>({...p5(t),options:[t,e]}),j5=(t,e)=>({...w5(t),options:[t,e]});var P5="Arrow",sP=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(Pe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});sP.displayName=P5;var E5=sP;function iP(t){const[e,n]=v.useState(void 0);return Zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wx="Popper",[oP,Eh]=Bo(wx),[M5,aP]=oP(wx),lP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return c.jsx(M5,{scope:e,anchor:r,onAnchorChange:s,children:n})};lP.displayName=wx;var cP="PopperAnchor",uP=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=aP(cP,n),o=v.useRef(null),a=We(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(Pe.div,{...s,ref:a})});uP.displayName=cP;var Sx="PopperContent",[D5,O5]=oP(Sx),dP=v.forwardRef((t,e)=>{var H,Z,ze,Ee,be,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...p}=t,b=aP(Sx,n),[x,g]=v.useState(null),w=We(e,qt=>g(qt)),[S,_]=v.useState(null),N=iP(S),C=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,P=r+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],A=F.length>0,$={padding:O,boundary:F.filter(I5),altBoundary:A},{refs:V,floatingStyles:I,placement:z,isPositioned:B,middlewareData:j}=b5({strategy:"fixed",placement:P,whileElementsMounted:(...qt)=>u5(...qt,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[S5({mainAxis:s+T,alignmentAxis:o}),l&&_5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?N5():void 0,...$}),l&&k5({...$}),C5({...$,apply:({elements:qt,rects:An,availableWidth:Ms,availableHeight:$i})=>{const{width:Bi,height:bv}=An.reference,Ui=qt.floating.style;Ui.setProperty("--radix-popper-available-width",`${Ms}px`),Ui.setProperty("--radix-popper-available-height",`${$i}px`),Ui.setProperty("--radix-popper-anchor-width",`${Bi}px`),Ui.setProperty("--radix-popper-anchor-height",`${bv}px`)}}),S&&j5({element:S,padding:a}),R5({arrowWidth:C,arrowHeight:T}),h&&T5({strategy:"referenceHidden",...$})]}),[R,D]=mP(z),W=Sr(y);Zt(()=>{B&&(W==null||W())},[B,W]);const G=(H=j.arrow)==null?void 0:H.x,ne=(Z=j.arrow)==null?void 0:Z.y,se=((ze=j.arrow)==null?void 0:ze.centerOffset)!==0,[ge,ve]=v.useState();return Zt(()=>{x&&ve(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:B?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ee=j.transformOrigin)==null?void 0:Ee.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((Oe=j.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(D5,{scope:n,placedSide:R,onArrowChange:_,arrowX:G,arrowY:ne,shouldHideArrow:se,children:c.jsx(Pe.div,{"data-side":R,"data-align":D,...p,ref:w,style:{...p.style,animation:B?void 0:"none"}})})})});dP.displayName=Sx;var fP="PopperArrow",A5={top:"bottom",right:"left",bottom:"top",left:"right"},hP=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=O5(fP,r),o=A5[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(E5,{...s,ref:n,style:{...s.style,display:"block"}})})});hP.displayName=fP;function I5(t){return t!==null}var R5=t=>({name:"transformOrigin",options:t,fn(e){var b,x,g;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=mP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let y="",p="";return u==="bottom"?(y=o?f:`${h}px`,p=`${-l}px`):u==="top"?(y=o?f:`${h}px`,p=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,p=o?f:`${m}px`):u==="left"&&(y=`${r.floating.width+l}px`,p=o?f:`${m}px`),{data:{x:y,y:p}}}});function mP(t){const[e,n="center"]=t.split("-");return[e,n]}var F5=lP,pP=uP,gP=dP,yP=hP,[Mh,Mq]=Bo("Tooltip",[Eh]),_x=Eh(),xP="TooltipProvider",L5=700,fb="tooltip.open",[z5,vP]=Mh(xP),bP=t=>{const{__scopeTooltip:e,delayDuration:n=L5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(z5,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};bP.displayName=xP;var wP="Tooltip",[Dq,Dh]=Mh(wP),Mg="TooltipTrigger",V5=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dh(Mg,n),i=vP(Mg,n),o=_x(n),a=v.useRef(null),l=We(e,a,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(pP,{asChild:!0,...o,children:c.jsx(Pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:xe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});V5.displayName=Mg;var $5="TooltipPortal",[Oq,B5]=Mh($5,{forceMount:void 0}),Ja="TooltipContent",SP=v.forwardRef((t,e)=>{const n=B5(Ja,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Dh(Ja,t.__scopeTooltip);return c.jsx(pl,{present:r||o.open,children:o.disableHoverableContent?c.jsx(_P,{side:s,...i,ref:e}):c.jsx(U5,{side:s,...i,ref:e})})}),U5=v.forwardRef((t,e)=>{const n=Dh(Ja,t.__scopeTooltip),r=vP(Ja,t.__scopeTooltip),s=v.useRef(null),i=We(e,s),[o,a]=v.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{a(null),f(!1)},[f]),m=v.useCallback((y,p)=>{const b=y.currentTarget,x={x:y.clientX,y:y.clientY},g=Q5(x,b.getBoundingClientRect()),w=K5(x,g),S=G5(p.getBoundingClientRect()),_=Z5([...w,...S]);a(_),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const y=b=>m(b,d),p=b=>m(b,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),v.useEffect(()=>{if(o){const y=p=>{const b=p.target,x={x:p.clientX,y:p.clientY},g=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),w=!X5(x,o);g?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,u,h]),c.jsx(_P,{...t,ref:i})}),[W5,H5]=Mh(wP,{isInside:!1}),Y5=zF("TooltipContent"),_P=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Dh(Ja,n),u=_x(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(fb,d),()=>document.removeEventListener(fb,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(gP,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Y5,{children:r}),c.jsx(W5,{scope:n,isInside:!0,children:c.jsx(aL,{id:l.contentId,role:"tooltip",children:s||r})})]})})});SP.displayName=Ja;var NP="TooltipArrow",q5=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_x(n);return H5(NP,n).isInside?null:c.jsx(yP,{...s,...r,ref:e})});q5.displayName=NP;function Q5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function K5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function G5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function X5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function Z5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),J5(e)}function J5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var ez=bP,kP=SP;const tz=ez,nz=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(kP,{ref:r,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));nz.displayName=kP.displayName;function rz(){const[t]=wt();return v.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const sz=dx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ij:"button";return c.jsx(o,{className:Re(sz({variant:e,size:n,className:t})),ref:i,...s})});Q.displayName="Button";const ce=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ce.displayName="Card";const Vt=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 pb-2 pt-4 p-6",t),...e}));Vt.displayName="CardHeader";const $t=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));$t.displayName="CardTitle";const iz=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));iz.displayName="CardDescription";const ue=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("p-6 pb-2 pt-0",t),...e}));ue.displayName="CardContent";const oz=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("flex items-center p-6 pb-2 pt-0",t),...e}));oz.displayName="CardFooter";function az(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),[s,i]=v.useState(!1),[o,a]=v.useState(!1);v.useEffect(()=>{(()=>{const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");a(m)})();const f=m=>{const y=m;m.preventDefault(),r(y),o||setTimeout(()=>{e(!0)},3e3)},h=()=>{e(!1),r(null),a(!0)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[o]);const l=async()=>{if(n){i(!0);try{await n.prompt();const{outcome:d}=await n.userChoice;console.log(d==="accepted"?" PWA install accepted":" PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{i(!1),e(!1),r(null)}}},u=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return!t||!n||o||sessionStorage.getItem("pwa-install-dismissed")?null:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 transition-opacity duration-300",onClick:u}),c.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 flex justify-center animate-in slide-in-from-top-4 duration-500",children:c.jsxs(ce,{className:"w-full max-w-md bg-white shadow-2xl border-0 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-purple-600 p-4",children:c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:c.jsx(Cg,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Install Journey"}),c.jsx("p",{className:"text-white/90 text-sm",children:"Get the full app experience"})]})]}),c.jsx(Q,{variant:"ghost",size:"sm",onClick:u,className:"text-white hover:bg-white/20 h-8 w-8 p-0",children:c.jsx(fx,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(ML,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Native Experience"}),c.jsx("div",{className:"text-gray-500",children:"No browser bars"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(DL,{className:"w-4 h-4 text-green-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Offline Access"}),c.jsx("div",{className:"text-gray-500",children:"Works anywhere"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-rocket text-purple-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Faster Loading"}),c.jsx("div",{className:"text-gray-500",children:"Instant startup"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-home text-orange-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Home Screen"}),c.jsx("div",{className:"text-gray-500",children:"Easy access"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",c.jsx("strong",{children:"Installation takes seconds:"})]}),c.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[c.jsx("li",{children:'1. Click "Install App" below'}),c.jsx("li",{children:"2. Confirm installation"}),c.jsx("li",{children:"3. Find Journey on your home screen"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx(Q,{onClick:l,disabled:s,className:"flex-1 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg",size:"lg",children:s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Cg,{className:"w-4 h-4 mr-2"}),"Install App"]})}),c.jsx(Q,{variant:"outline",onClick:u,className:"px-6",size:"lg",children:"Later"})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Free  No app store required  Uninstall anytime"})]})]})})]})}function lz(){const[t,e]=v.useState(!1),[n,r]=v.useState(!1);return v.useEffect(()=>{(()=>{const a=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");r(a)})();const i=a=>{a.preventDefault(),n||e(!0)},o=()=>{e(!1),r(!0)};return window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",o)}},[n]),{canInstall:t,isInstalled:n}}function Uo(){const{data:t,isLoading:e}=zt({queryKey:["/api/user"],queryFn:rj({on401:"returnNull"}),retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function cz(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(ce,{className:"w-full max-w-md mx-4",children:c.jsxs(ue,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(EL,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var ku=t=>t.type==="checkbox",ro=t=>t instanceof Date,mn=t=>t==null;const CP=t=>typeof t=="object";var jt=t=>!mn(t)&&!Array.isArray(t)&&CP(t)&&!ro(t),TP=t=>jt(t)&&t.target?ku(t.target)?t.target.checked:t.target.value:t,uz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,jP=(t,e)=>t.has(uz(e)),dz=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},Nx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Nx&&(t instanceof Blob||r))&&(n||jt(t)))if(e=n?[]:{},!n&&!dz(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Dt(t[s]));else return t;return e}var Oh=t=>/^\w*$/.test(t),_t=t=>t===void 0,kx=t=>Array.isArray(t)?t.filter(Boolean):[],Cx=t=>kx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ee=(t,e,n)=>{if(!e||!jt(t))return n;const r=(Oh(e)?[e]:Cx(e)).reduce((s,i)=>mn(s)?s:s[i],t);return _t(r)||r===t?_t(t[e])?n:t[e]:r},Rn=t=>typeof t=="boolean",Ke=(t,e,n)=>{let r=-1;const s=Oh(e)?[e]:Cx(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=jt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const jf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Tx=ye.createContext(null);Tx.displayName="HookFormContext";const Ah=()=>ye.useContext(Tx),fz=t=>{const{children:e,...n}=t;return ye.createElement(Tx.Provider,{value:n},e)};var PP=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==pr.all&&(e._proxyFormState[o]=!r||pr.all),n&&(n[o]=!0),t[o]}});return s};const jx=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function hz(t){const e=Ah(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=ye.useState(n._formState),l=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return jx(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[s,r,i]),ye.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),ye.useMemo(()=>PP(o,n,l.current,!1),[o,n])}var $r=t=>typeof t=="string",EP=(t,e,n,r,s)=>$r(t)?(r&&e.watch.add(t),ee(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ee(n,i))):(r&&(e.watchAll=!0),n),Dg=t=>mn(t)||!CP(t);function fs(t,e,n=new WeakSet){if(Dg(t)||Dg(e))return t===e;if(ro(t)&&ro(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(ro(o)&&ro(a)||jt(o)&&jt(a)||Array.isArray(o)&&Array.isArray(a)?!fs(o,a,n):o!==a)return!1}}return!0}function mz(t){const e=Ah(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:a}=t||{},l=ye.useRef(s),u=ye.useRef(a),d=ye.useRef(void 0);u.current=a;const f=ye.useMemo(()=>n._getWatch(r,l.current),[n,r]),[h,m]=ye.useState(u.current?u.current(f):f);return jx(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{if(!i){const p=EP(r,n._names,y.values||n._formValues,!1,l.current);if(u.current){const b=u.current(p);fs(b,d.current)||(m(b),d.current=b)}else m(p)}}}),[n,i,r,o]),ye.useEffect(()=>n._removeUnmounted()),h}function pz(t){const e=Ah(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,a=jP(s._names.array,n),l=ye.useMemo(()=>ee(s._formValues,n,ee(s._defaultValues,n,o)),[s,n,o]),u=mz({control:s,name:n,defaultValue:l,exact:!0}),d=hz({control:s,name:n,exact:!0}),f=ye.useRef(t),h=ye.useRef(s.register(n,{...t.rules,value:u,...Rn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const m=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ee(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ee(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ee(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ee(d.validatingFields,n)},error:{enumerable:!0,get:()=>ee(d.errors,n)}}),[d,n]),y=ye.useCallback(g=>h.current.onChange({target:{value:TP(g),name:n},type:jf.CHANGE}),[n]),p=ye.useCallback(()=>h.current.onBlur({target:{value:ee(s._formValues,n),name:n},type:jf.BLUR}),[n,s._formValues]),b=ye.useCallback(g=>{const w=ee(s._fields,n);w&&g&&(w._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:S=>g.setCustomValidity(S),reportValidity:()=>g.reportValidity()})},[s._fields,n]),x=ye.useMemo(()=>({name:n,value:u,...Rn(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:y,onBlur:p,ref:b}),[n,r,d.disabled,y,p,b,u]);return ye.useEffect(()=>{const g=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...Rn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(S,_)=>{const N=ee(s._fields,S);N&&N._f&&(N._f.mount=_)};if(w(n,!0),g){const S=Dt(ee(s._options.defaultValues,n));Ke(s._defaultValues,n,S),_t(ee(s._formValues,n))&&Ke(s._formValues,n,S)}return!a&&s.register(n),()=>{(a?g&&!s._state.action:g)?s.unregister(n):w(n,!1)}},[n,s,a,i]),ye.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ye.useMemo(()=>({field:x,formState:d,fieldState:m}),[x,d,m])}const gz=t=>t.render(pz(t));var MP=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},mc=t=>Array.isArray(t)?t:[t],hb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},kn=t=>jt(t)&&!Object.keys(t).length,Px=t=>t.type==="file",gr=t=>typeof t=="function",Pf=t=>{if(!Nx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},DP=t=>t.type==="select-multiple",Ex=t=>t.type==="radio",yz=t=>Ex(t)||ku(t),Am=t=>Pf(t)&&t.isConnected;function xz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=_t(t)?r++:t[e[r++]];return t}function vz(t){for(const e in t)if(t.hasOwnProperty(e)&&!_t(t[e]))return!1;return!0}function Pt(t,e){const n=Array.isArray(e)?e:Oh(e)?[e]:Cx(e),r=n.length===1?t:xz(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(jt(r)&&kn(r)||Array.isArray(r)&&vz(r))&&Pt(t,n.slice(0,-1)),t}var OP=t=>{for(const e in t)if(gr(t[e]))return!0;return!1};function Ef(t,e={}){const n=Array.isArray(t);if(jt(t)||n)for(const r in t)Array.isArray(t[r])||jt(t[r])&&!OP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ef(t[r],e[r])):mn(t[r])||(e[r]=!0);return e}function AP(t,e,n){const r=Array.isArray(t);if(jt(t)||r)for(const s in t)Array.isArray(t[s])||jt(t[s])&&!OP(t[s])?_t(e)||Dg(n[s])?n[s]=Array.isArray(t[s])?Ef(t[s],[]):{...Ef(t[s])}:AP(t[s],mn(e)?{}:e[s],n[s]):n[s]=!fs(t[s],e[s]);return n}var Rl=(t,e)=>AP(t,e,Ef(e));const mb={value:!1,isValid:!1},pb={value:!0,isValid:!0};var IP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_t(t[0].attributes.value)?_t(t[0].value)||t[0].value===""?pb:{value:t[0].value,isValid:!0}:pb:mb}return mb},RP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>_t(t)?t:e?t===""?NaN:t&&+t:n&&$r(t)?new Date(t):r?r(t):t;const gb={isValid:!1,value:null};var FP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,gb):gb;function yb(t){const e=t.ref;return Px(e)?e.files:Ex(e)?FP(t.refs).value:DP(e)?[...e.selectedOptions].map(({value:n})=>n):ku(e)?IP(t.refs).value:RP(_t(e.value)?t.ref.value:e.value,t)}var bz=(t,e,n,r)=>{const s={};for(const i of t){const o=ee(e,i);o&&Ke(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Mf=t=>t instanceof RegExp,Fl=t=>_t(t)?t:Mf(t)?t.source:jt(t)?Mf(t.value)?t.value.source:t.value:t,xb=t=>({isOnSubmit:!t||t===pr.onSubmit,isOnBlur:t===pr.onBlur,isOnChange:t===pr.onChange,isOnAll:t===pr.all,isOnTouch:t===pr.onTouched});const vb="AsyncFunction";var wz=t=>!!t&&!!t.validate&&!!(gr(t.validate)&&t.validate.constructor.name===vb||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vb)),Sz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),bb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const pc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ee(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(pc(a,e))break}else if(jt(a)&&pc(a,e))break}}};function wb(t,e,n){const r=ee(t,n);if(r||Oh(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ee(e,i),a=ee(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var _z=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return kn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||pr.all))},Nz=(t,e,n)=>!t||!e||t===e||mc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),kz=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Cz=(t,e)=>!kx(ee(t,e)).length&&Pt(t,e),Tz=(t,e,n)=>{const r=mc(ee(t,n));return Ke(r,"root",e[n]),Ke(t,n,r),t},Bd=t=>$r(t);function Sb(t,e,n="validate"){if(Bd(t)||Array.isArray(t)&&t.every(Bd)||Rn(t)&&!t)return{type:n,message:Bd(t)?t:"",ref:e}}var qo=t=>jt(t)&&!Mf(t)?t:{value:t,message:""},_b=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:p,valueAsNumber:b,mount:x}=t._f,g=ee(n,p);if(!x||e.has(p))return{};const w=a?a[0]:o,S=A=>{s&&w.reportValidity&&(w.setCustomValidity(Rn(A)?"":A||""),w.reportValidity())},_={},N=Ex(o),C=ku(o),T=N||C,P=(b||Px(o))&&_t(o.value)&&_t(g)||Pf(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,O=MP.bind(null,p,r,_),F=(A,$,V,I=es.maxLength,z=es.minLength)=>{const B=A?$:V;_[p]={type:A?I:z,message:B,ref:o,...O(A?I:z,B)}};if(i?!Array.isArray(g)||!g.length:l&&(!T&&(P||mn(g))||Rn(g)&&!g||C&&!IP(a).isValid||N&&!FP(a).isValid)){const{value:A,message:$}=Bd(l)?{value:!!l,message:l}:qo(l);if(A&&(_[p]={type:es.required,message:$,ref:w,...O(es.required,$)},!r))return S($),_}if(!P&&(!mn(f)||!mn(h))){let A,$;const V=qo(h),I=qo(f);if(!mn(g)&&!isNaN(g)){const z=o.valueAsNumber||g&&+g;mn(V.value)||(A=z>V.value),mn(I.value)||($=z<I.value)}else{const z=o.valueAsDate||new Date(g),B=D=>new Date(new Date().toDateString()+" "+D),j=o.type=="time",R=o.type=="week";$r(V.value)&&g&&(A=j?B(g)>B(V.value):R?g>V.value:z>new Date(V.value)),$r(I.value)&&g&&($=j?B(g)<B(I.value):R?g<I.value:z<new Date(I.value))}if((A||$)&&(F(!!A,V.message,I.message,es.max,es.min),!r))return S(_[p].message),_}if((u||d)&&!P&&($r(g)||i&&Array.isArray(g))){const A=qo(u),$=qo(d),V=!mn(A.value)&&g.length>+A.value,I=!mn($.value)&&g.length<+$.value;if((V||I)&&(F(V,A.message,$.message),!r))return S(_[p].message),_}if(m&&!P&&$r(g)){const{value:A,message:$}=qo(m);if(Mf(A)&&!g.match(A)&&(_[p]={type:es.pattern,message:$,ref:o,...O(es.pattern,$)},!r))return S($),_}if(y){if(gr(y)){const A=await y(g,n),$=Sb(A,w);if($&&(_[p]={...$,...O(es.validate,$.message)},!r))return S($.message),_}else if(jt(y)){let A={};for(const $ in y){if(!kn(A)&&!r)break;const V=Sb(await y[$](g,n),w,$);V&&(A={...V,...O($,V.message)},S(V.message),r&&(_[p]=A))}if(!kn(A)&&(_[p]={ref:w,...A},!r))return _}}return S(!0),_};const jz={mode:pr.onSubmit,reValidateMode:pr.onChange,shouldFocusError:!0};function Pz(t={}){let e={...jz,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:gr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=jt(e.defaultValues)||jt(e.values)?Dt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Dt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:hb(),state:hb()},m=e.criteriaMode===pr.all,y=M=>L=>{clearTimeout(u),u=setTimeout(M,L)},p=async M=>{if(!e.disabled&&(d.isValid||f.isValid||M)){const L=e.resolver?kn((await C()).errors):await P(r,!0);L!==n.isValid&&h.state.next({isValid:L})}},b=(M,L)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(a.mount)).forEach(U=>{U&&(L?Ke(n.validatingFields,U,L):Pt(n.validatingFields,U))}),h.state.next({validatingFields:n.validatingFields,isValidating:!kn(n.validatingFields)}))},x=(M,L=[],U,ie,J=!0,X=!0)=>{if(ie&&U&&!e.disabled){if(o.action=!0,X&&Array.isArray(ee(r,M))){const fe=U(ee(r,M),ie.argA,ie.argB);J&&Ke(r,M,fe)}if(X&&Array.isArray(ee(n.errors,M))){const fe=U(ee(n.errors,M),ie.argA,ie.argB);J&&Ke(n.errors,M,fe),Cz(n.errors,M)}if((d.touchedFields||f.touchedFields)&&X&&Array.isArray(ee(n.touchedFields,M))){const fe=U(ee(n.touchedFields,M),ie.argA,ie.argB);J&&Ke(n.touchedFields,M,fe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Rl(s,i)),h.state.next({name:M,isDirty:F(M,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ke(i,M,L)},g=(M,L)=>{Ke(n.errors,M,L),h.state.next({errors:n.errors})},w=M=>{n.errors=M,h.state.next({errors:n.errors,isValid:!1})},S=(M,L,U,ie)=>{const J=ee(r,M);if(J){const X=ee(i,M,_t(U)?ee(s,M):U);_t(X)||ie&&ie.defaultChecked||L?Ke(i,M,L?X:yb(J._f)):V(M,X),o.mount&&p()}},_=(M,L,U,ie,J)=>{let X=!1,fe=!1;const Qe={name:M};if(!e.disabled){if(!U||ie){(d.isDirty||f.isDirty)&&(fe=n.isDirty,n.isDirty=Qe.isDirty=F(),X=fe!==Qe.isDirty);const tt=fs(ee(s,M),L);fe=!!ee(n.dirtyFields,M),tt?Pt(n.dirtyFields,M):Ke(n.dirtyFields,M,!0),Qe.dirtyFields=n.dirtyFields,X=X||(d.dirtyFields||f.dirtyFields)&&fe!==!tt}if(U){const tt=ee(n.touchedFields,M);tt||(Ke(n.touchedFields,M,U),Qe.touchedFields=n.touchedFields,X=X||(d.touchedFields||f.touchedFields)&&tt!==U)}X&&J&&h.state.next(Qe)}return X?Qe:{}},N=(M,L,U,ie)=>{const J=ee(n.errors,M),X=(d.isValid||f.isValid)&&Rn(L)&&n.isValid!==L;if(e.delayError&&U?(l=y(()=>g(M,U)),l(e.delayError)):(clearTimeout(u),l=null,U?Ke(n.errors,M,U):Pt(n.errors,M)),(U?!fs(J,U):J)||!kn(ie)||X){const fe={...ie,...X&&Rn(L)?{isValid:L}:{},errors:n.errors,name:M};n={...n,...fe},h.state.next(fe)}},C=async M=>{b(M,!0);const L=await e.resolver(i,e.context,bz(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(M),L},T=async M=>{const{errors:L}=await C(M);if(M)for(const U of M){const ie=ee(L,U);ie?Ke(n.errors,U,ie):Pt(n.errors,U)}else n.errors=L;return L},P=async(M,L,U={valid:!0})=>{for(const ie in M){const J=M[ie];if(J){const{_f:X,...fe}=J;if(X){const Qe=a.array.has(X.name),tt=J._f&&wz(J._f);tt&&d.validatingFields&&b([ie],!0);const Yn=await _b(J,a.disabled,i,m,e.shouldUseNativeValidation&&!L,Qe);if(tt&&d.validatingFields&&b([ie]),Yn[X.name]&&(U.valid=!1,L))break;!L&&(ee(Yn,X.name)?Qe?Tz(n.errors,Yn,X.name):Ke(n.errors,X.name,Yn[X.name]):Pt(n.errors,X.name))}!kn(fe)&&await P(fe,L,U)}}return U.valid},O=()=>{for(const M of a.unMount){const L=ee(r,M);L&&(L._f.refs?L._f.refs.every(U=>!Am(U)):!Am(L._f.ref))&&H(M)}a.unMount=new Set},F=(M,L)=>!e.disabled&&(M&&L&&Ke(i,M,L),!fs(D(),s)),A=(M,L,U)=>EP(M,a,{...o.mount?i:_t(L)?s:$r(M)?{[M]:L}:L},U,L),$=M=>kx(ee(o.mount?i:s,M,e.shouldUnregister?ee(s,M,[]):[])),V=(M,L,U={})=>{const ie=ee(r,M);let J=L;if(ie){const X=ie._f;X&&(!X.disabled&&Ke(i,M,RP(L,X)),J=Pf(X.ref)&&mn(L)?"":L,DP(X.ref)?[...X.ref.options].forEach(fe=>fe.selected=J.includes(fe.value)):X.refs?ku(X.ref)?X.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(J)?fe.checked=!!J.find(Qe=>Qe===fe.value):fe.checked=J===fe.value||!!J)}):X.refs.forEach(fe=>fe.checked=fe.value===J):Px(X.ref)?X.ref.value="":(X.ref.value=J,X.ref.type||h.state.next({name:M,values:Dt(i)})))}(U.shouldDirty||U.shouldTouch)&&_(M,J,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&R(M)},I=(M,L,U)=>{for(const ie in L){if(!L.hasOwnProperty(ie))return;const J=L[ie],X=M+"."+ie,fe=ee(r,X);(a.array.has(M)||jt(J)||fe&&!fe._f)&&!ro(J)?I(X,J,U):V(X,J,U)}},z=(M,L,U={})=>{const ie=ee(r,M),J=a.array.has(M),X=Dt(L);Ke(i,M,X),J?(h.array.next({name:M,values:Dt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:M,dirtyFields:Rl(s,i),isDirty:F(M,X)})):ie&&!ie._f&&!mn(X)?I(M,X,U):V(M,X,U),bb(M,a)&&h.state.next({...n,name:M}),h.state.next({name:o.mount?M:void 0,values:Dt(i)})},B=async M=>{o.mount=!0;const L=M.target;let U=L.name,ie=!0;const J=ee(r,U),X=tt=>{ie=Number.isNaN(tt)||ro(tt)&&isNaN(tt.getTime())||fs(tt,ee(i,U,tt))},fe=xb(e.mode),Qe=xb(e.reValidateMode);if(J){let tt,Yn;const Au=L.type?yb(J._f):TP(M),Ds=M.type===jf.BLUR||M.type===jf.FOCUS_OUT,WO=!Sz(J._f)&&!e.resolver&&!ee(n.errors,U)&&!J._f.deps||kz(Ds,ee(n.touchedFields,U),n.isSubmitted,Qe,fe),Xh=bb(U,a,Ds);Ke(i,U,Au),Ds?(J._f.onBlur&&J._f.onBlur(M),l&&l(0)):J._f.onChange&&J._f.onChange(M);const Zh=_(U,Au,Ds),HO=!kn(Zh)||Xh;if(!Ds&&h.state.next({name:U,type:M.type,values:Dt(i)}),WO)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ds&&p():Ds||p()),HO&&h.state.next({name:U,...Xh?{}:Zh});if(!Ds&&Xh&&h.state.next({...n}),e.resolver){const{errors:wv}=await C([U]);if(X(Au),ie){const YO=wb(n.errors,r,U),Sv=wb(wv,r,YO.name||U);tt=Sv.error,U=Sv.name,Yn=kn(wv)}}else b([U],!0),tt=(await _b(J,a.disabled,i,m,e.shouldUseNativeValidation))[U],b([U]),X(Au),ie&&(tt?Yn=!1:(d.isValid||f.isValid)&&(Yn=await P(r,!0)));ie&&(J._f.deps&&R(J._f.deps),N(U,Yn,tt,Zh))}},j=(M,L)=>{if(ee(n.errors,L)&&M.focus)return M.focus(),1},R=async(M,L={})=>{let U,ie;const J=mc(M);if(e.resolver){const X=await T(_t(M)?M:J);U=kn(X),ie=M?!J.some(fe=>ee(X,fe)):U}else M?(ie=(await Promise.all(J.map(async X=>{const fe=ee(r,X);return await P(fe&&fe._f?{[X]:fe}:fe)}))).every(Boolean),!(!ie&&!n.isValid)&&p()):ie=U=await P(r);return h.state.next({...!$r(M)||(d.isValid||f.isValid)&&U!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:U}:{},errors:n.errors}),L.shouldFocus&&!ie&&pc(r,j,M?J:a.mount),ie},D=M=>{const L={...o.mount?i:s};return _t(M)?L:$r(M)?ee(L,M):M.map(U=>ee(L,U))},W=(M,L)=>({invalid:!!ee((L||n).errors,M),isDirty:!!ee((L||n).dirtyFields,M),error:ee((L||n).errors,M),isValidating:!!ee(n.validatingFields,M),isTouched:!!ee((L||n).touchedFields,M)}),G=M=>{M&&mc(M).forEach(L=>Pt(n.errors,L)),h.state.next({errors:M?n.errors:{}})},ne=(M,L,U)=>{const ie=(ee(r,M,{_f:{}})._f||{}).ref,J=ee(n.errors,M)||{},{ref:X,message:fe,type:Qe,...tt}=J;Ke(n.errors,M,{...tt,...L,ref:ie}),h.state.next({name:M,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&ie&&ie.focus&&ie.focus()},se=(M,L)=>gr(M)?h.state.subscribe({next:U=>"values"in U&&M(A(void 0,L),U)}):A(M,L,!0),ge=M=>h.state.subscribe({next:L=>{Nz(M.name,L.name,M.exact)&&_z(L,M.formState||d,Bi,M.reRenderRoot)&&M.callback({values:{...i},...n,...L,defaultValues:s})}}).unsubscribe,ve=M=>(o.mount=!0,f={...f,...M.formState},ge({...M,formState:f})),H=(M,L={})=>{for(const U of M?mc(M):a.mount)a.mount.delete(U),a.array.delete(U),L.keepValue||(Pt(r,U),Pt(i,U)),!L.keepError&&Pt(n.errors,U),!L.keepDirty&&Pt(n.dirtyFields,U),!L.keepTouched&&Pt(n.touchedFields,U),!L.keepIsValidating&&Pt(n.validatingFields,U),!e.shouldUnregister&&!L.keepDefaultValue&&Pt(s,U);h.state.next({values:Dt(i)}),h.state.next({...n,...L.keepDirty?{isDirty:F()}:{}}),!L.keepIsValid&&p()},Z=({disabled:M,name:L})=>{(Rn(M)&&o.mount||M||a.disabled.has(L))&&(M?a.disabled.add(L):a.disabled.delete(L))},ze=(M,L={})=>{let U=ee(r,M);const ie=Rn(L.disabled)||Rn(e.disabled);return Ke(r,M,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:M}},name:M,mount:!0,...L}}),a.mount.add(M),U?Z({disabled:Rn(L.disabled)?L.disabled:e.disabled,name:M}):S(M,!0,L.value),{...ie?{disabled:L.disabled||e.disabled}:{},...e.progressive?{required:!!L.required,min:Fl(L.min),max:Fl(L.max),minLength:Fl(L.minLength),maxLength:Fl(L.maxLength),pattern:Fl(L.pattern)}:{},name:M,onChange:B,onBlur:B,ref:J=>{if(J){ze(M,L),U=ee(r,M);const X=_t(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,fe=yz(X),Qe=U._f.refs||[];if(fe?Qe.find(tt=>tt===X):X===U._f.ref)return;Ke(r,M,{_f:{...U._f,...fe?{refs:[...Qe.filter(Am),X,...Array.isArray(ee(s,M))?[{}]:[]],ref:{type:X.type,name:M}}:{ref:X}}}),S(M,!1,void 0,X)}else U=ee(r,M,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(jP(a.array,M)&&o.action)&&a.unMount.add(M)}}},Ee=()=>e.shouldFocusError&&pc(r,j,a.mount),be=M=>{Rn(M)&&(h.state.next({disabled:M}),pc(r,(L,U)=>{const ie=ee(r,U);ie&&(L.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(J=>{J.disabled=ie._f.disabled||M}))},0,!1))},Oe=(M,L)=>async U=>{let ie;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let J=Dt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:fe}=await C();n.errors=X,J=Dt(fe)}else await P(r);if(a.disabled.size)for(const X of a.disabled)Pt(J,X);if(Pt(n.errors,"root"),kn(n.errors)){h.state.next({errors:{}});try{await M(J,U)}catch(X){ie=X}}else L&&await L({...n.errors},U),Ee(),setTimeout(Ee);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},qt=(M,L={})=>{ee(r,M)&&(_t(L.defaultValue)?z(M,Dt(ee(s,M))):(z(M,L.defaultValue),Ke(s,M,Dt(L.defaultValue))),L.keepTouched||Pt(n.touchedFields,M),L.keepDirty||(Pt(n.dirtyFields,M),n.isDirty=L.defaultValue?F(M,Dt(ee(s,M))):F()),L.keepError||(Pt(n.errors,M),d.isValid&&p()),h.state.next({...n}))},An=(M,L={})=>{const U=M?Dt(M):s,ie=Dt(U),J=kn(M),X=J?s:ie;if(L.keepDefaultValues||(s=U),!L.keepValues){if(L.keepDirtyValues){const fe=new Set([...a.mount,...Object.keys(Rl(s,i))]);for(const Qe of Array.from(fe))ee(n.dirtyFields,Qe)?Ke(X,Qe,ee(i,Qe)):z(Qe,ee(X,Qe))}else{if(Nx&&_t(M))for(const fe of a.mount){const Qe=ee(r,fe);if(Qe&&Qe._f){const tt=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(Pf(tt)){const Yn=tt.closest("form");if(Yn){Yn.reset();break}}}}if(L.keepFieldsRef)for(const fe of a.mount)z(fe,ee(X,fe));else r={}}i=e.shouldUnregister?L.keepDefaultValues?Dt(s):{}:Dt(X),h.array.next({values:{...X}}),h.state.next({values:{...X}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:J?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!fs(M,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:L.keepDirtyValues?L.keepDefaultValues&&i?Rl(s,i):n.dirtyFields:L.keepDefaultValues&&M?Rl(s,M):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ms=(M,L)=>An(gr(M)?M(i):M,L),$i=(M,L={})=>{const U=ee(r,M),ie=U&&U._f;if(ie){const J=ie.refs?ie.refs[0]:ie.ref;J.focus&&(J.focus(),L.shouldSelect&&gr(J.select)&&J.select())}},Bi=M=>{n={...n,...M}},Ui={control:{register:ze,unregister:H,getFieldState:W,handleSubmit:Oe,setError:ne,_subscribe:ge,_runSchema:C,_focusError:Ee,_getWatch:A,_getDirty:F,_setValid:p,_setFieldArray:x,_setDisabledField:Z,_setErrors:w,_getFieldArray:$,_reset:An,_resetDefaultValues:()=>gr(e.defaultValues)&&e.defaultValues().then(M=>{Ms(M,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:be,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return a},set _names(M){a=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:ve,trigger:R,register:ze,handleSubmit:Oe,watch:se,setValue:z,getValues:D,reset:Ms,resetField:qt,clearErrors:G,unregister:H,setError:ne,setFocus:$i,getFieldState:W};return{...Ui,formControl:Ui}}function vl(t={}){const e=ye.useRef(void 0),n=ye.useRef(void 0),[r,s]=ye.useState({isDirty:!1,isValidating:!1,isLoading:gr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:gr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!gr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=Pz(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,jx(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),ye.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ye.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ye.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ye.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ye.useEffect(()=>{t.values&&!fs(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),ye.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=PP(r,i),e.current}const Nb=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ee(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},LP=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Nb(r.ref,n,t):r.refs&&r.refs.forEach(s=>Nb(s,n,t))}},Ez=(t,e)=>{e.shouldUseNativeValidation&&LP(t,e);const n={};for(const r in t){const s=ee(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Mz(e.names||Object.keys(t),r)){const o=Object.assign({},ee(n,r));Ke(o,"root",i),Ke(n,r,o)}else Ke(n,r,i)}return n},Mz=(t,e)=>t.some(n=>n.startsWith(e+"."));var Dz=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=MP(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},bl=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&LP({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Ez(Dz(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Ce=v.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ce.displayName="Input";var Oz="Label",zP=v.forwardRef((t,e)=>c.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zP.displayName=Oz;var VP=zP;const Az=dx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=v.forwardRef(({className:t,...e},n)=>c.jsx(VP,{ref:n,className:Re(Az(),t),...e}));Be.displayName=VP.displayName;const Y=Symbol.for("drizzle:entityKind");function Kt(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Y))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(Y in n&&n[Y]===e[Y])return!0;n=Object.getPrototypeOf(n)}return!1}var RS;RS=Y;class el{constructor(e,n){k(this,"name");k(this,"keyAsName");k(this,"primary");k(this,"notNull");k(this,"default");k(this,"defaultFn");k(this,"onUpdateFn");k(this,"hasDefault");k(this,"isUnique");k(this,"uniqueName");k(this,"uniqueType");k(this,"dataType");k(this,"columnType");k(this,"enumValues");k(this,"generated");k(this,"generatedIdentity");k(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}k(el,RS,"Column");var FS;FS=Y;class $P{constructor(e,n,r){k(this,"config");k(this,"$default",this.$defaultFn);k(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}k($P,FS,"ColumnBuilder");const ka=Symbol.for("drizzle:Name");var LS;LS=Y;class BP{constructor(e,n){k(this,"reference");k(this,"_onUpdate","no action");k(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new UP(e,this)}}k(BP,LS,"PgForeignKeyBuilder");var zS;zS=Y;class UP{constructor(e,n){k(this,"reference");k(this,"onUpdate");k(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[ka],...s,r[0].table[ka],...i];return e??`${o.join("_")}_fk`}}k(UP,zS,"PgForeignKey");function Iz(t,...e){return t(...e)}function Rz(t,e){return`${t[ka]}_${e.join("_")}_unique`}function kb(t,e,n){for(let r=e;r<t.length;r++){const s=t[r];if(s==="\\"){r++;continue}if(s==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function WP(t,e=0){const n=[];let r=e,s=!1;for(;r<t.length;){const i=t[r];if(i===","){(s||r===e)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[l,u]=kb(t,r+1,!0);n.push(l),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[l,u]=WP(t,r+1);n.push(l),r=u;continue}const[o,a]=kb(t,r,!1);n.push(o),r=a}return[n,r]}function Fz(t){const[e]=WP(t,1);return e}function HP(t){return`{${t.map(e=>Array.isArray(e)?HP(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var VS,$S;class Le extends($S=$P,VS=Y,$S){constructor(){super(...arguments);k(this,"foreignKeyConfigs",[])}array(n){return new qP(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>Iz((o,a)=>{const l=new BP(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(r)},s,i))}buildExtraConfigColumn(n){return new YP(n,this.config)}}k(Le,VS,"PgColumnBuilder");var BS,US;class _e extends(US=el,BS=Y,US){constructor(e,n){n.uniqueName||(n.uniqueName=Rz(e,[n.name])),super(e,n),this.table=e}}k(_e,BS,"PgColumn");var WS,HS;class YP extends(HS=_e,WS=Y,HS){constructor(){super(...arguments);k(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});k(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}k(YP,WS,"ExtraConfigColumn");var YS,qS;class qP extends(qS=Le,YS=Y,qS){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Og(e,this.config,n)}}k(qP,YS,"PgArrayBuilder");var QS,KS;const oh=class oh extends(KS=_e,QS=Y,KS){constructor(n,r,s,i){super(n,r);k(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=Fz(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:Kt(this.baseColumn,oh)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:HP(s)}};k(oh,QS,"PgArray");let Og=oh;const Cb=Symbol.for("drizzle:isPgEnum");function Lz(t){return!!t&&typeof t=="function"&&Cb in t&&t[Cb]===!0}var GS;GS=Y;class Mx{constructor(e,n,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s}}}k(Mx,GS,"Subquery");const zz={startActiveSpan(t,e){return e()}},Ca=Symbol.for("drizzle:ViewBaseConfig"),Im=Symbol.for("drizzle:Schema"),Tb=Symbol.for("drizzle:Columns"),jb=Symbol.for("drizzle:ExtraConfigColumns"),Rm=Symbol.for("drizzle:OriginalName"),Fm=Symbol.for("drizzle:BaseName"),Df=Symbol.for("drizzle:IsAlias"),Pb=Symbol.for("drizzle:ExtraConfigBuilder"),QP=Symbol.for("drizzle:IsDrizzleTable");var XS,ZS,JS,e_,t_,n_,r_,s_,i_,o_;o_=Y,i_=ka,s_=Rm,r_=Im,n_=Tb,t_=jb,e_=Fm,JS=Df,ZS=QP,XS=Pb;class pn{constructor(e,n,r){k(this,i_);k(this,s_);k(this,r_);k(this,n_);k(this,t_);k(this,e_);k(this,JS,!1);k(this,ZS,!0);k(this,XS);this[ka]=this[Rm]=e,this[Im]=n,this[Fm]=r}}k(pn,o_,"Table"),k(pn,"Symbol",{Name:ka,Schema:Im,OriginalName:Rm,Columns:Tb,ExtraConfigColumns:jb,BaseName:Fm,IsAlias:Df,ExtraConfigBuilder:Pb});function KP(t){return typeof t=="object"&&t!==null&&QP in t}function Vz(t){return t!=null&&typeof t.getSQL=="function"}function $z(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var a_;a_=Y;class Kn{constructor(e){k(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Ft([this])}}k(Kn,a_,"StringChunk");var l_;l_=Y;const Ji=class Ji{constructor(e){k(this,"decoder",GP);k(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return zz.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:u}=r;return $z(e.map(d=>{var f;if(Kt(d,Kn))return{sql:d.value.join(""),params:[]};if(Kt(d,Of))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Kn("(")];for(const[m,y]of d.entries())h.push(y),m<d.length-1&&h.push(new Kn(", "));return h.push(new Kn(")")),this.buildQueryFromSourceParams(h,r)}if(Kt(d,Ji))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(Kt(d,pn)){const h=d[pn.Symbol.Schema],m=d[pn.Symbol.Name];return{sql:h===void 0||d[Df]?i(m):i(h)+"."+i(m),params:[]}}if(Kt(d,el)){const h=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const m=d.table[pn.Symbol.Schema];return{sql:d.table[Df]||m===void 0?i(d.table[pn.Symbol.Name])+"."+i(h):i(m)+"."+i(d.table[pn.Symbol.Name])+"."+i(h),params:[]}}if(Kt(d,JP)){const h=d[Ca].schema,m=d[Ca].name;return{sql:h===void 0||d[Ca].isAlias?i(m):i(h)+"."+i(m),params:[]}}if(Kt(d,Dx)){if(Kt(d.value,If))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Kt(h,Ji))return this.buildQueryFromSourceParams([h],r);if(l)return{sql:this.mapInlineParam(h,r),params:[]};let m=["none"];return a&&(m=[a(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:m}}return Kt(d,If)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Kt(d,Ji.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Kt(d,Mx)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Kn("("),d._.sql,new Kn(") "),new Of(d._.alias)],r):Lz(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:Vz(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Kn("("),d.getSQL(),new Kn(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Ji.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};k(Ji,l_,"SQL");let Ft=Ji;var c_;c_=Y;class Of{constructor(e){k(this,"brand");this.value=e}getSQL(){return new Ft([this])}}k(Of,c_,"Name");const GP={mapFromDriverValue:t=>t},XP={mapToDriverValue:t=>t};({...GP,...XP});var u_;u_=Y;class Dx{constructor(e,n=XP){k(this,"brand");this.value=e,this.encoder=n}getSQL(){return new Ft([this])}}k(Dx,u_,"Param");function Af(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Kn(t[0]));for(const[r,s]of e.entries())n.push(s,new Kn(t[r+1]));return new Ft(n)}(t=>{function e(){return new Ft([])}t.empty=e;function n(l){return new Ft(l)}t.fromList=n;function r(l){return new Ft([new Kn(l)])}t.raw=r;function s(l,u){const d=[];for(const[f,h]of l.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Ft(d)}t.join=s;function i(l){return new Of(l)}t.identifier=i;function o(l){return new If(l)}t.placeholder=o;function a(l,u){return new Dx(l,u)}t.param=a})(Af||(Af={}));(t=>{var n;n=Y;const r=class r{constructor(i,o){k(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};k(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(Ft||(Ft={}));var d_;d_=Y;class If{constructor(e){this.name=e}getSQL(){return new Ft([this])}}k(If,d_,"Placeholder");const ZP=Symbol.for("drizzle:IsDrizzleView");var f_,h_,m_;m_=Y,h_=Ca,f_=ZP;class JP{constructor({name:e,schema:n,selectedFields:r,query:s}){k(this,h_);k(this,f_,!0);this[Ca]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Ft([this])}}k(JP,m_,"View");function Bz(t){return typeof t=="object"&&t!==null&&ZP in t}el.prototype.getSQL=function(){return new Ft([this])};pn.prototype.getSQL=function(){return new Ft([this])};Mx.prototype.getSQL=function(){return new Ft([this])};function Uz(t){return t[pn.Symbol.Columns]}function Wz(t){return t[Ca].selectedFields}function Yt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var p_,g_;class Cu extends(g_=Le,p_=Y,g_){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}k(Cu,p_,"PgIntColumnBaseBuilder");var y_,x_;class eE extends(x_=Cu,y_=Y,x_){constructor(e){super(e,"number","PgBigInt53")}build(e){return new tE(e,this.config)}}k(eE,y_,"PgBigInt53Builder");var v_,b_;class tE extends(b_=_e,v_=Y,b_){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}k(tE,v_,"PgBigInt53");var w_,S_;class nE extends(S_=Cu,w_=Y,S_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new rE(e,this.config)}}k(nE,w_,"PgBigInt64Builder");var __,N_;class rE extends(N_=_e,__=Y,N_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}k(rE,__,"PgBigInt64");function Hz(t,e){const{name:n,config:r}=Yt(t,e);return r.mode==="number"?new eE(n):new nE(n)}var k_,C_;class sE extends(C_=Le,k_=Y,C_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new iE(e,this.config)}}k(sE,k_,"PgBigSerial53Builder");var T_,j_;class iE extends(j_=_e,T_=Y,j_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}k(iE,T_,"PgBigSerial53");var P_,E_;class oE extends(E_=Le,P_=Y,E_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new aE(e,this.config)}}k(oE,P_,"PgBigSerial64Builder");var M_,D_;class aE extends(D_=_e,M_=Y,D_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}k(aE,M_,"PgBigSerial64");function Yz(t,e){const{name:n,config:r}=Yt(t,e);return r.mode==="number"?new sE(n):new oE(n)}var O_,A_;class lE extends(A_=Le,O_=Y,A_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new cE(e,this.config)}}k(lE,O_,"PgBooleanBuilder");var I_,R_;class cE extends(R_=_e,I_=Y,R_){getSQLType(){return"boolean"}}k(cE,I_,"PgBoolean");function tl(t){return new lE(t??"")}var F_,L_;class uE extends(L_=Le,F_=Y,L_){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new dE(e,this.config)}}k(uE,F_,"PgCharBuilder");var z_,V_;class dE extends(V_=_e,z_=Y,V_){constructor(){super(...arguments);k(this,"length",this.config.length);k(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}k(dE,z_,"PgChar");function qz(t,e={}){const{name:n,config:r}=Yt(t,e);return new uE(n,r)}var $_,B_;class fE extends(B_=Le,$_=Y,B_){constructor(e){super(e,"string","PgCidr")}build(e){return new hE(e,this.config)}}k(fE,$_,"PgCidrBuilder");var U_,W_;class hE extends(W_=_e,U_=Y,W_){getSQLType(){return"cidr"}}k(hE,U_,"PgCidr");function Qz(t){return new fE(t??"")}var H_,Y_;class mE extends(Y_=Le,H_=Y,Y_){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new pE(e,this.config)}}k(mE,H_,"PgCustomColumnBuilder");var q_,Q_;class pE extends(Q_=_e,q_=Y,Q_){constructor(n,r){super(n,r);k(this,"sqlName");k(this,"mapTo");k(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}k(pE,q_,"PgCustomColumn");function Kz(t){return(e,n)=>{const{name:r,config:s}=Yt(e,n);return new mE(r,s,t)}}var K_,G_;class wl extends(G_=Le,K_=Y,G_){defaultNow(){return this.default(Af`now()`)}}k(wl,K_,"PgDateColumnBaseBuilder");var X_,Z_;class gE extends(Z_=wl,X_=Y,Z_){constructor(e){super(e,"date","PgDate")}build(e){return new yE(e,this.config)}}k(gE,X_,"PgDateBuilder");var J_,e1;class yE extends(e1=_e,J_=Y,e1){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}k(yE,J_,"PgDate");var t1,n1;class xE extends(n1=wl,t1=Y,n1){constructor(e){super(e,"string","PgDateString")}build(e){return new vE(e,this.config)}}k(xE,t1,"PgDateStringBuilder");var r1,s1;class vE extends(s1=_e,r1=Y,s1){getSQLType(){return"date"}}k(vE,r1,"PgDateString");function Ox(t,e){const{name:n,config:r}=Yt(t,e);return(r==null?void 0:r.mode)==="date"?new gE(n):new xE(n)}var i1,o1;class bE extends(o1=Le,i1=Y,o1){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new wE(e,this.config)}}k(bE,i1,"PgDoublePrecisionBuilder");var a1,l1;class wE extends(l1=_e,a1=Y,l1){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}k(wE,a1,"PgDoublePrecision");function Gz(t){return new bE(t??"")}var c1,u1;class SE extends(u1=Le,c1=Y,u1){constructor(e){super(e,"string","PgInet")}build(e){return new _E(e,this.config)}}k(SE,c1,"PgInetBuilder");var d1,f1;class _E extends(f1=_e,d1=Y,f1){getSQLType(){return"inet"}}k(_E,d1,"PgInet");function Xz(t){return new SE(t??"")}var h1,m1;class NE extends(m1=Cu,h1=Y,m1){constructor(e){super(e,"number","PgInteger")}build(e){return new kE(e,this.config)}}k(NE,h1,"PgIntegerBuilder");var p1,g1;class kE extends(g1=_e,p1=Y,g1){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}k(kE,p1,"PgInteger");function Ht(t){return new NE(t??"")}var y1,x1;class CE extends(x1=Le,y1=Y,x1){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new TE(e,this.config)}}k(CE,y1,"PgIntervalBuilder");var v1,b1;class TE extends(b1=_e,v1=Y,b1){constructor(){super(...arguments);k(this,"fields",this.config.intervalConfig.fields);k(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}k(TE,v1,"PgInterval");function Zz(t,e={}){const{name:n,config:r}=Yt(t,e);return new CE(n,r)}var w1,S1;class jE extends(S1=Le,w1=Y,S1){constructor(e){super(e,"json","PgJson")}build(e){return new PE(e,this.config)}}k(jE,w1,"PgJsonBuilder");var _1,N1;class PE extends(N1=_e,_1=Y,N1){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}k(PE,_1,"PgJson");function Jz(t){return new jE(t??"")}var k1,C1;class EE extends(C1=Le,k1=Y,C1){constructor(e){super(e,"json","PgJsonb")}build(e){return new ME(e,this.config)}}k(EE,k1,"PgJsonbBuilder");var T1,j1;class ME extends(j1=_e,T1=Y,j1){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}k(ME,T1,"PgJsonb");function DE(t){return new EE(t??"")}var P1,E1;class OE extends(E1=Le,P1=Y,E1){constructor(e){super(e,"array","PgLine")}build(e){return new AE(e,this.config)}}k(OE,P1,"PgLineBuilder");var M1,D1;class AE extends(D1=_e,M1=Y,D1){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}k(AE,M1,"PgLine");var O1,A1;class IE extends(A1=Le,O1=Y,A1){constructor(e){super(e,"json","PgLineABC")}build(e){return new RE(e,this.config)}}k(IE,O1,"PgLineABCBuilder");var I1,R1;class RE extends(R1=_e,I1=Y,R1){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}k(RE,I1,"PgLineABC");function e3(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new OE(n):new IE(n)}var F1,L1;class FE extends(L1=Le,F1=Y,L1){constructor(e){super(e,"string","PgMacaddr")}build(e){return new LE(e,this.config)}}k(FE,F1,"PgMacaddrBuilder");var z1,V1;class LE extends(V1=_e,z1=Y,V1){getSQLType(){return"macaddr"}}k(LE,z1,"PgMacaddr");function t3(t){return new FE(t??"")}var $1,B1;class zE extends(B1=Le,$1=Y,B1){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new VE(e,this.config)}}k(zE,$1,"PgMacaddr8Builder");var U1,W1;class VE extends(W1=_e,U1=Y,W1){getSQLType(){return"macaddr8"}}k(VE,U1,"PgMacaddr8");function n3(t){return new zE(t??"")}var H1,Y1;class $E extends(Y1=Le,H1=Y,Y1){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new BE(e,this.config)}}k($E,H1,"PgNumericBuilder");var q1,Q1;class BE extends(Q1=_e,q1=Y,Q1){constructor(n,r){super(n,r);k(this,"precision");k(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}k(BE,q1,"PgNumeric");function ys(t,e){const{name:n,config:r}=Yt(t,e);return new $E(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const gc=ys;var K1,G1;class UE extends(G1=Le,K1=Y,G1){constructor(e){super(e,"array","PgPointTuple")}build(e){return new WE(e,this.config)}}k(UE,K1,"PgPointTupleBuilder");var X1,Z1;class WE extends(Z1=_e,X1=Y,Z1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}k(WE,X1,"PgPointTuple");var J1,eN;class HE extends(eN=Le,J1=Y,eN){constructor(e){super(e,"json","PgPointObject")}build(e){return new YE(e,this.config)}}k(HE,J1,"PgPointObjectBuilder");var tN,nN;class YE extends(nN=_e,tN=Y,nN){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}k(YE,tN,"PgPointObject");function r3(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new UE(n):new HE(n)}function s3(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function Eb(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,t[e+s]);return r.getFloat64(0,!0)}function qE(t){const e=s3(t);let n=0;const r=e[n];n+=1;const s=new DataView(e.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const o=Eb(e,n);n+=8;const a=Eb(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}var rN,sN;class QE extends(sN=Le,rN=Y,sN){constructor(e){super(e,"array","PgGeometry")}build(e){return new KE(e,this.config)}}k(QE,rN,"PgGeometryBuilder");var iN,oN;class KE extends(oN=_e,iN=Y,oN){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return qE(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}k(KE,iN,"PgGeometry");var aN,lN;class GE extends(lN=Le,aN=Y,lN){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new XE(e,this.config)}}k(GE,aN,"PgGeometryObjectBuilder");var cN,uN;class XE extends(uN=_e,cN=Y,uN){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=qE(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}k(XE,cN,"PgGeometryObject");function i3(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new QE(n):new GE(n)}var dN,fN;class ZE extends(fN=Le,dN=Y,fN){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new JE(e,this.config)}}k(ZE,dN,"PgRealBuilder");var hN,mN;class JE extends(mN=_e,hN=Y,mN){constructor(n,r){super(n,r);k(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}k(JE,hN,"PgReal");function o3(t){return new ZE(t??"")}var pN,gN;class eM extends(gN=Le,pN=Y,gN){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new tM(e,this.config)}}k(eM,pN,"PgSerialBuilder");var yN,xN;class tM extends(xN=_e,yN=Y,xN){getSQLType(){return"serial"}}k(tM,yN,"PgSerial");function wn(t){return new eM(t??"")}var vN,bN;class nM extends(bN=Cu,vN=Y,bN){constructor(e){super(e,"number","PgSmallInt")}build(e){return new rM(e,this.config)}}k(nM,vN,"PgSmallIntBuilder");var wN,SN;class rM extends(SN=_e,wN=Y,SN){constructor(){super(...arguments);k(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}k(rM,wN,"PgSmallInt");function a3(t){return new nM(t??"")}var _N,NN;class sM extends(NN=Le,_N=Y,NN){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new iM(e,this.config)}}k(sM,_N,"PgSmallSerialBuilder");var kN,CN;class iM extends(CN=_e,kN=Y,CN){getSQLType(){return"smallserial"}}k(iM,kN,"PgSmallSerial");function l3(t){return new sM(t??"")}var TN,jN;class oM extends(jN=Le,TN=Y,jN){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new aM(e,this.config)}}k(oM,TN,"PgTextBuilder");var PN,EN;class aM extends(EN=_e,PN=Y,EN){constructor(){super(...arguments);k(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}k(aM,PN,"PgText");function Ax(t,e={}){const{name:n,config:r}=Yt(t,e);return new oM(n,r)}var MN,DN;class lM extends(DN=wl,MN=Y,DN){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new cM(e,this.config)}}k(lM,MN,"PgTimeBuilder");var ON,AN;class cM extends(AN=_e,ON=Y,AN){constructor(n,r){super(n,r);k(this,"withTimezone");k(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(cM,ON,"PgTime");function c3(t,e={}){const{name:n,config:r}=Yt(t,e);return new lM(n,r.withTimezone??!1,r.precision)}var IN,RN;class uM extends(RN=wl,IN=Y,RN){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new dM(e,this.config)}}k(uM,IN,"PgTimestampBuilder");var FN,LN;class dM extends(LN=_e,FN=Y,LN){constructor(n,r){super(n,r);k(this,"withTimezone");k(this,"precision");k(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));k(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(dM,FN,"PgTimestamp");var zN,VN;class fM extends(VN=wl,zN=Y,VN){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new hM(e,this.config)}}k(fM,zN,"PgTimestampStringBuilder");var $N,BN;class hM extends(BN=_e,$N=Y,BN){constructor(n,r){super(n,r);k(this,"withTimezone");k(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(hM,$N,"PgTimestampString");function et(t,e={}){const{name:n,config:r}=Yt(t,e);return(r==null?void 0:r.mode)==="string"?new fM(n,r.withTimezone??!1,r.precision):new uM(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var UN,WN;class mM extends(WN=Le,UN=Y,WN){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Af`gen_random_uuid()`)}build(e){return new pM(e,this.config)}}k(mM,UN,"PgUUIDBuilder");var HN,YN;class pM extends(YN=_e,HN=Y,YN){getSQLType(){return"uuid"}}k(pM,HN,"PgUUID");function u3(t){return new mM(t??"")}var qN,QN;class gM extends(QN=Le,qN=Y,QN){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new yM(e,this.config)}}k(gM,qN,"PgVarcharBuilder");var KN,GN;class yM extends(GN=_e,KN=Y,GN){constructor(){super(...arguments);k(this,"length",this.config.length);k(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}k(yM,KN,"PgVarchar");function Ue(t,e={}){const{name:n,config:r}=Yt(t,e);return new gM(n,r)}var XN,ZN;class xM extends(ZN=Le,XN=Y,ZN){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new vM(e,this.config)}}k(xM,XN,"PgBinaryVectorBuilder");var JN,ek;class vM extends(ek=_e,JN=Y,ek){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}k(vM,JN,"PgBinaryVector");function d3(t,e){const{name:n,config:r}=Yt(t,e);return new xM(n,r)}var tk,nk;class bM extends(nk=Le,tk=Y,nk){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new wM(e,this.config)}}k(bM,tk,"PgHalfVectorBuilder");var rk,sk;class wM extends(sk=_e,rk=Y,sk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}k(wM,rk,"PgHalfVector");function f3(t,e){const{name:n,config:r}=Yt(t,e);return new bM(n,r)}var ik,ok;class SM extends(ok=Le,ik=Y,ok){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new _M(e,this.config)}}k(SM,ik,"PgSparseVectorBuilder");var ak,lk;class _M extends(lk=_e,ak=Y,lk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}k(_M,ak,"PgSparseVector");function h3(t,e){const{name:n,config:r}=Yt(t,e);return new SM(n,r)}var ck,uk;class NM extends(uk=Le,ck=Y,uk){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new kM(e,this.config)}}k(NM,ck,"PgVectorBuilder");var dk,fk;class kM extends(fk=_e,dk=Y,fk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}k(kM,dk,"PgVector");function m3(t,e){const{name:n,config:r}=Yt(t,e);return new NM(n,r)}function p3(){return{bigint:Hz,bigserial:Yz,boolean:tl,char:qz,cidr:Qz,customType:Kz,date:Ox,doublePrecision:Gz,inet:Xz,integer:Ht,interval:Zz,json:Jz,jsonb:DE,line:e3,macaddr:t3,macaddr8:n3,numeric:ys,point:r3,geometry:i3,real:o3,serial:wn,smallint:a3,smallserial:l3,text:Ax,time:c3,timestamp:et,uuid:u3,varchar:Ue,bit:d3,halfvec:f3,sparsevec:h3,vector:m3}}const Ag=Symbol.for("drizzle:PgInlineForeignKeys"),Mb=Symbol.for("drizzle:EnableRLS");var hk,mk,pk,gk,yk;class Rf extends(yk=pn,gk=Y,pk=Ag,mk=Mb,hk=pn.Symbol.ExtraConfigBuilder,yk){constructor(){super(...arguments);k(this,pk,[]);k(this,mk,!1);k(this,hk)}}k(Rf,gk,"PgTable"),k(Rf,"Symbol",Object.assign({},pn.Symbol,{InlineForeignKeys:Ag,EnableRLS:Mb}));function g3(t,e,n,r,s=t){const i=new Rf(t,r,s),o=typeof e=="function"?e(p3()):e,a=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(i);return i[Ag].push(...h.buildForeignKeys(m,i)),[d,m]})),l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(i);return[d,m]})),u=Object.assign(i,a);return u[pn.Symbol.Columns]=a,u[pn.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[Rf.Symbol.EnableRLS]=!0,u)})}const On=(t,e,n)=>g3(t,e,n,void 0);var Fe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Fe||(Fe={}));var Ig;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ig||(Ig={}));const oe=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return Number.isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},q=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),y3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class $n extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof $n))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$n.create=t=>new $n(t);const nl=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Fe.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Fe.assertNever(t)}return{message:n}};let CM=nl;function x3(t){CM=t}function Ff(){return CM}const Lf=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},v3=[];function te(t,e){const n=Ff(),r=Lf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===nl?void 0:nl].filter(s=>!!s)});t.common.issues.push(r)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return me;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return me;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),ma=t=>({status:"dirty",value:t}),xn=t=>({status:"valid",value:t}),Rg=t=>t.status==="aborted",Fg=t=>t.status==="dirty",Po=t=>t.status==="valid",Hc=t=>typeof Promise<"u"&&t instanceof Promise;var le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(le||(le={}));class Kr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Db=(t,e)=>{if(Po(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $n(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Te{get description(){return this._def.description}_getType(e){return ls(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Hc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Db(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Po(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Po(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Hc(s)?s:Promise.resolve(s));return Db(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new kr({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hr.create(this,this._def)}nullable(){return Ci.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return br.create(this)}promise(){return sl.create(this,this._def)}or(e){return Kc.create([this,e],this._def)}and(e){return Gc.create(this,e,this._def)}transform(e){return new kr({...Se(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new tu({...Se(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new Ix({typeName:pe.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new nu({...Se(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Tu.create(this,e)}readonly(){return ru.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const b3=/^c[^\s-]{8,}$/i,w3=/^[0-9a-z]+$/,S3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N3=/^[a-z0-9_-]{21}$/i,k3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,C3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,T3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,j3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lm;const P3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,E3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,M3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,O3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,A3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",I3=new RegExp(`^${TM}$`);function jM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function R3(t){return new RegExp(`^${jM(t)}$`)}function PM(t){let e=`${TM}T${jM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function F3(t,e){return!!((e==="v4"||!e)&&P3.test(t)||(e==="v6"||!e)&&M3.test(t))}function L3(t,e){if(!k3.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function z3(t,e){return!!((e==="v4"||!e)&&E3.test(t)||(e==="v6"||!e)&&D3.test(t))}class yr extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.string,received:i.parsedType}),me}const r=new cn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?te(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&te(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")T3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Lm||(Lm=new RegExp(j3,"u")),Lm.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")_3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")N3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")b3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")w3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")S3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),te(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?PM(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?I3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?R3(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?C3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?F3(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?L3(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?z3(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?O3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?A3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...le.errToObj(r)})}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...le.errToObj(n)})}nonempty(e){return this.min(1,le.errToObj(e))}trim(){return new yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yr.create=t=>new yr({checks:[],typeName:pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});function V3(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class _i extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.number,received:i.parsedType}),me}let r;const s=new cn;for(const i of this._def.checks)i.kind==="int"?Fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?V3(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_finite,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new _i({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new _i({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_i.create=t=>new _i({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Ni extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let r;const s=new cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:q.invalid_type,expected:oe.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new Ni({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ni.create=t=>new Ni({checks:[],typeName:pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});class Yc extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.boolean,received:r.parsedType}),me}return xn(e.data)}}Yc.create=t=>new Yc({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Eo extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.date,received:i.parsedType}),me}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_date}),me}const r=new cn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Eo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Eo.create=t=>new Eo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,...Se(t)});class zf extends Te{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.symbol,received:r.parsedType}),me}return xn(e.data)}}zf.create=t=>new zf({typeName:pe.ZodSymbol,...Se(t)});class qc extends Te{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.undefined,received:r.parsedType}),me}return xn(e.data)}}qc.create=t=>new qc({typeName:pe.ZodUndefined,...Se(t)});class Qc extends Te{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.null,received:r.parsedType}),me}return xn(e.data)}}Qc.create=t=>new Qc({typeName:pe.ZodNull,...Se(t)});class rl extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}rl.create=t=>new rl({typeName:pe.ZodAny,...Se(t)});class xo extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}xo.create=t=>new xo({typeName:pe.ZodUnknown,...Se(t)});class Cs extends Te{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:q.invalid_type,expected:oe.never,received:n.parsedType}),me}}Cs.create=t=>new Cs({typeName:pe.ZodNever,...Se(t)});class Vf extends Te{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.void,received:r.parsedType}),me}return xn(e.data)}}Vf.create=t=>new Vf({typeName:pe.ZodVoid,...Se(t)});class br extends Te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return te(n,{code:q.invalid_type,expected:oe.array,received:n.parsedType}),me;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(te(n,{code:o?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(te(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(te(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Kr(n,o,n.path,a)))).then(o=>cn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Kr(n,o,n.path,a)));return cn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new br({...this._def,minLength:{value:e,message:le.toString(n)}})}max(e,n){return new br({...this._def,maxLength:{value:e,message:le.toString(n)}})}length(e,n){return new br({...this._def,exactLength:{value:e,message:le.toString(n)}})}nonempty(e){return this.min(1,e)}}br.create=(t,e)=>new br({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...Se(e)});function ea(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Hr.create(ea(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof br?new br({...t._def,type:ea(t.element)}):t instanceof Hr?Hr.create(ea(t.unwrap())):t instanceof Ci?Ci.create(ea(t.unwrap())):t instanceof Gr?Gr.create(t.items.map(e=>ea(e))):t}class dt extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Fe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==oe.object){const u=this._getOrReturnCtx(e);return te(u,{code:q.invalid_type,expected:oe.object,received:u.parsedType}),me}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Cs&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Kr(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Cs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(te(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Kr(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>cn.mergeObjectSync(r,u)):cn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return le.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:le.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};for(const r of Fe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new dt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Fe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new dt({...this._def,shape:()=>n})}deepPartial(){return ea(this)}partial(e){const n={};for(const r of Fe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new dt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Fe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Hr;)i=i._def.innerType;n[r]=i}return new dt({...this._def,shape:()=>n})}keyof(){return EM(Fe.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:Cs.create(),typeName:pe.ZodObject,...Se(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:Cs.create(),typeName:pe.ZodObject,...Se(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:Cs.create(),typeName:pe.ZodObject,...Se(e)});class Kc extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new $n(a.ctx.common.issues));return te(n,{code:q.invalid_union,unionErrors:o}),me}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new $n(l));return te(n,{code:q.invalid_union,unionErrors:a}),me}}get options(){return this._def.options}}Kc.create=(t,e)=>new Kc({options:t,typeName:pe.ZodUnion,...Se(e)});const rs=t=>t instanceof Zc?rs(t.schema):t instanceof kr?rs(t.innerType()):t instanceof Jc?[t.value]:t instanceof ki?t.options:t instanceof eu?Fe.objectValues(t.enum):t instanceof tu?rs(t._def.innerType):t instanceof qc?[void 0]:t instanceof Qc?[null]:t instanceof Hr?[void 0,...rs(t.unwrap())]:t instanceof Ci?[null,...rs(t.unwrap())]:t instanceof Ix||t instanceof ru?rs(t.unwrap()):t instanceof nu?rs(t._def.innerType):[];class Ih extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return te(n,{code:q.invalid_type,expected:oe.object,received:n.parsedType}),me;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=rs(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Ih({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Se(r)})}}function Lg(t,e){const n=ls(t),r=ls(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=Fe.objectKeys(e),i=Fe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Lg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Lg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gc extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Rg(i)||Rg(o))return me;const a=Lg(i.value,o.value);return a.valid?((Fg(i)||Fg(o))&&n.dirty(),{status:n.value,value:a.data}):(te(r,{code:q.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gc.create=(t,e,n)=>new Gc({left:t,right:e,typeName:pe.ZodIntersection,...Se(n)});class Gr extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return te(r,{code:q.invalid_type,expected:oe.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return te(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Kr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>cn.mergeArray(n,o)):cn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Gr({...this._def,rest:e})}}Gr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gr({items:t,typeName:pe.ZodTuple,rest:null,...Se(e)})};class Xc extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return te(r,{code:q.invalid_type,expected:oe.object,received:r.parsedType}),me;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Kr(r,a,r.path,a)),value:o._parse(new Kr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?cn.mergeObjectAsync(n,s):cn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Te?new Xc({keyType:e,valueType:n,typeName:pe.ZodRecord,...Se(r)}):new Xc({keyType:yr.create(),valueType:e,typeName:pe.ZodRecord,...Se(n)})}}class $f extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return te(r,{code:q.invalid_type,expected:oe.map,received:r.parsedType}),me;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Kr(r,a,r.path,[u,"key"])),value:i._parse(new Kr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}$f.create=(t,e,n)=>new $f({valueType:e,keyType:t,typeName:pe.ZodMap,...Se(n)});class Mo extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return te(r,{code:q.invalid_type,expected:oe.set,received:r.parsedType}),me;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(te(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(te(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return me;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Kr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Mo({...this._def,minSize:{value:e,message:le.toString(n)}})}max(e,n){return new Mo({...this._def,maxSize:{value:e,message:le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Mo.create=(t,e)=>new Mo({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,...Se(e)});class Ta extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return te(n,{code:q.invalid_type,expected:oe.function,received:n.parsedType}),me;function r(a,l){return Lf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ff(),nl].filter(u=>!!u),issueData:{code:q.invalid_arguments,argumentsError:l}})}function s(a,l){return Lf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ff(),nl].filter(u=>!!u),issueData:{code:q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof sl){const a=this;return xn(async function(...l){const u=new $n([]),d=await a._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(r(l,m)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const a=this;return xn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new $n([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new $n([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ta({...this._def,args:Gr.create(e).rest(xo.create())})}returns(e){return new Ta({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ta({args:e||Gr.create([]).rest(xo.create()),returns:n||xo.create(),typeName:pe.ZodFunction,...Se(r)})}}class Zc extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Zc.create=(t,e)=>new Zc({getter:t,typeName:pe.ZodLazy,...Se(e)});class Jc extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}Jc.create=(t,e)=>new Jc({value:t,typeName:pe.ZodLiteral,...Se(e)});function EM(t,e){return new ki({values:t,typeName:pe.ZodEnum,...Se(e)})}class ki extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{expected:Fe.joinValues(r),received:n.parsedType,code:q.invalid_type}),me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{received:n.data,code:q.invalid_enum_value,options:r}),me}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ki.create(e,{...this._def,...n})}exclude(e,n=this._def){return ki.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ki.create=EM;class eu extends Te{_parse(e){const n=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=Fe.objectValues(n);return te(r,{expected:Fe.joinValues(s),received:r.parsedType,code:q.invalid_type}),me}if(this._cache||(this._cache=new Set(Fe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Fe.objectValues(n);return te(r,{received:r.data,code:q.invalid_enum_value,options:s}),me}return xn(e.data)}get enum(){return this._def.values}}eu.create=(t,e)=>new eu({values:t,typeName:pe.ZodNativeEnum,...Se(e)});class sl extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return te(n,{code:q.invalid_type,expected:oe.promise,received:n.parsedType}),me;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return xn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}sl.create=(t,e)=>new sl({type:t,typeName:pe.ZodPromise,...Se(e)});class kr extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{te(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return me;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?me:l.status==="dirty"||n.value==="dirty"?ma(l.value):l});{if(n.value==="aborted")return me;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?me:a.status==="dirty"||n.value==="dirty"?ma(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Po(o))return me;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Po(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):me);Fe.assertNever(s)}}kr.create=(t,e,n)=>new kr({schema:t,typeName:pe.ZodEffects,effect:e,...Se(n)});kr.createWithPreprocess=(t,e,n)=>new kr({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,...Se(n)});class Hr extends Te{_parse(e){return this._getType(e)===oe.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:pe.ZodOptional,...Se(e)});class Ci extends Te{_parse(e){return this._getType(e)===oe.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ci.create=(t,e)=>new Ci({innerType:t,typeName:pe.ZodNullable,...Se(e)});class tu extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}tu.create=(t,e)=>new tu({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class nu extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Hc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $n(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $n(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nu.create=(t,e)=>new nu({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class Bf extends Te{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}Bf.create=t=>new Bf({typeName:pe.ZodNaN,...Se(t)});const $3=Symbol("zod_brand");class Ix extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tu extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),ma(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Tu({in:e,out:n,typeName:pe.ZodPipeline})}}class ru extends Te{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Po(s)&&(s.value=Object.freeze(s.value)),s);return Hc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}ru.create=(t,e)=>new ru({innerType:t,typeName:pe.ZodReadonly,...Se(e)});function Ob(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Rx(t,e={},n){return t?rl.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(o=>{if(!o){const a=Ob(e,r),l=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:l})}});if(!i){const o=Ob(e,r),a=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:a})}}):rl.create()}const B3={object:dt.lazycreate};var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const U3=(t,e={message:`Input not instance of ${t.name}`})=>Rx(n=>n instanceof t,e),we=yr.create,Yr=_i.create,W3=Bf.create,H3=Ni.create,Fx=Yc.create,Y3=Eo.create,q3=zf.create,Q3=qc.create,MM=Qc.create,Uf=rl.create,K3=xo.create,G3=Cs.create,X3=Vf.create,Lx=br.create,js=dt.create,Z3=dt.strictCreate,xs=Kc.create,J3=Ih.create,eV=Gc.create,tV=Gr.create,zx=Xc.create,nV=$f.create,rV=Mo.create,sV=Ta.create,iV=Zc.create,oV=Jc.create,aV=ki.create,lV=eu.create,cV=sl.create,Ab=kr.create,uV=Hr.create,dV=Ci.create,fV=kr.createWithPreprocess,hV=Tu.create,mV=()=>we().optional(),pV=()=>Yr().optional(),gV=()=>Fx().optional(),Ud={string:t=>yr.create({...t,coerce:!0}),number:t=>_i.create({...t,coerce:!0}),boolean:t=>Yc.create({...t,coerce:!0}),bigint:t=>Ni.create({...t,coerce:!0}),date:t=>Eo.create({...t,coerce:!0})},yV=me,xV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:$3,DIRTY:ma,EMPTY_PATH:v3,INVALID:me,NEVER:yV,OK:xn,ParseStatus:cn,Schema:Te,ZodAny:rl,ZodArray:br,ZodBigInt:Ni,ZodBoolean:Yc,ZodBranded:Ix,ZodCatch:nu,ZodDate:Eo,ZodDefault:tu,ZodDiscriminatedUnion:Ih,ZodEffects:kr,ZodEnum:ki,ZodError:$n,get ZodFirstPartyTypeKind(){return pe},ZodFunction:Ta,ZodIntersection:Gc,ZodIssueCode:q,ZodLazy:Zc,ZodLiteral:Jc,ZodMap:$f,ZodNaN:Bf,ZodNativeEnum:eu,ZodNever:Cs,ZodNull:Qc,ZodNullable:Ci,ZodNumber:_i,ZodObject:dt,ZodOptional:Hr,ZodParsedType:oe,ZodPipeline:Tu,ZodPromise:sl,ZodReadonly:ru,ZodRecord:Xc,ZodSchema:Te,ZodSet:Mo,ZodString:yr,ZodSymbol:zf,ZodTransformer:kr,ZodTuple:Gr,ZodType:Te,ZodUndefined:qc,ZodUnion:Kc,ZodUnknown:xo,ZodVoid:Vf,addIssueToContext:te,any:Uf,array:Lx,bigint:H3,boolean:Fx,coerce:Ud,custom:Rx,date:Y3,datetimeRegex:PM,defaultErrorMap:nl,discriminatedUnion:J3,effect:Ab,enum:aV,function:sV,getErrorMap:Ff,getParsedType:ls,instanceof:U3,intersection:eV,isAborted:Rg,isAsync:Hc,isDirty:Fg,isValid:Po,late:B3,lazy:iV,literal:oV,makeIssue:Lf,map:nV,nan:W3,nativeEnum:lV,never:G3,null:MM,nullable:dV,number:Yr,object:js,get objectUtil(){return Ig},oboolean:gV,onumber:pV,optional:uV,ostring:mV,pipeline:hV,preprocess:fV,promise:cV,quotelessJson:y3,record:zx,set:rV,setErrorMap:x3,strictObject:Z3,string:we,symbol:q3,transformer:Ab,tuple:tV,undefined:Q3,union:xs,unknown:K3,get util(){return Fe},void:X3},Symbol.toStringTag,{value:"Module"})),ut={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function St(t,e){return e.includes(t.columnType)}function vV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const bV=xs([we(),Yr(),Fx(),MM()]),wV=xs([bV,zx(Uf()),Lx(Uf())]),SV=Rx(t=>t instanceof Buffer);function DM(t,e){const n=(e==null?void 0:e.zodInstance)??xV,r=(e==null?void 0:e.coerce)??{};let s;return vV(t)&&(s=t.enumValues.length?n.enum(t.enumValues):n.string()),s||(St(t,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):St(t,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):St(t,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=t.dimensions?s.length(t.dimensions):s):St(t,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):St(t,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):St(t,["PgArray"])?(s=n.array(DM(t.baseColumn,n)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=n.array(n.any()):t.dataType==="number"?s=_V(t,n,r):t.dataType==="bigint"?s=NV(t,n,r):t.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?s=kV(t,n,r):t.dataType==="json"?s=wV:t.dataType==="custom"?s=n.any():t.dataType==="buffer"&&(s=SV)),s||(s=n.any()),s}function _V(t,e,n){let r=t.getSQLType().includes("unsigned"),s,i,o=!1;St(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:ut.INT8_MIN,i=r?ut.INT8_UNSIGNED_MAX:ut.INT8_MAX,o=!0):St(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:ut.INT16_MIN,i=r?ut.INT16_UNSIGNED_MAX:ut.INT16_MAX,o=!0):St(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:ut.INT24_MIN,i=r?ut.INT24_UNSIGNED_MAX:ut.INT24_MAX,o=St(t,["MySqlMediumInt","SingleStoreMediumInt"])):St(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:ut.INT32_MIN,i=r?ut.INT32_UNSIGNED_MAX:ut.INT32_MAX,o=!0):St(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:ut.INT48_MIN,i=r?ut.INT48_UNSIGNED_MAX:ut.INT48_MAX):St(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||St(t,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):St(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?e.coerce.number():e.number();return a=a.min(s).max(i),o?a.int():a}function NV(t,e,n){const r=t.getSQLType().includes("unsigned"),s=r?0n:ut.INT64_MIN,i=r?ut.INT64_UNSIGNED_MAX:ut.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function kV(t,e,n){if(St(t,["PgUUID"]))return e.string().uuid();let r,s,i=!1;St(t,["PgVarchar","SQLiteText"])?r=t.length:St(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??ut.INT16_UNSIGNED_MAX:St(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=ut.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=ut.INT24_UNSIGNED_MAX:t.textType==="text"?r=ut.INT16_UNSIGNED_MAX:r=ut.INT8_UNSIGNED_MAX),St(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),St(t,["PgBinaryVector"])&&(s=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=s?o.regex(s):o,r&&i?o.length(r):r?o.max(r):o}function OM(t){return KP(t)?Uz(t):Wz(t)}function AM(t,e,n,r){const s={};for(const[i,o]of Object.entries(t)){if(!Kt(o,el)&&!Kt(o,Ft)&&!Kt(o,Ft.Aliased)&&typeof o=="object"){const f=KP(o)||Bz(o)?OM(o):o;s[i]=AM(f,e[i]??{},n,r);continue}const a=e[i];if(a!==void 0&&typeof a!="function"){s[i]=a;continue}const l=Kt(o,el)?o:void 0,u=l?DM(l,r):Uf(),d=typeof a=="function"?a(u):u;n.never(l)||(s[i]=d,l&&(n.nullable(l)&&(s[i]=s[i].nullable()),n.optional(l)&&(s[i]=s[i].optional())))}return js(s)}const CV={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},or=(t,e)=>{const n=OM(t);return AM(n,{},CV)},Hn=On("users",{id:wn("id").primaryKey(),email:Ue("email").unique().notNull(),username:Ue("username").unique().notNull(),passwordHash:Ue("password_hash").notNull(),firstName:Ue("first_name"),lastName:Ue("last_name"),profileImageUrl:Ue("profile_image_url"),isEmailVerified:tl("is_email_verified").default(!1),photosPin:Ue("photos_pin"),photosPinEnabled:tl("photos_pin_enabled"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),TV=On("user_profiles",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),gender:Ue("gender"),birthday:Ox("birthday"),height:Ue("height"),weight:Ue("weight"),bodyType:Ue("body_type"),onboardingCompleted:tl("onboarding_completed").default(!1),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),jV=On("user_goals",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type").notNull(),isActive:tl("is_active").default(!0),createdAt:et("created_at").defaultNow()}),PV=On("progress_entries",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type").notNull(),progressValue:Ht("progress_value").notNull(),entryDate:et("entry_date").notNull().defaultNow(),createdAt:et("created_at").defaultNow()}),IM=On("goal_targets",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type",{length:100}).notNull(),goalName:Ue("goal_name",{length:255}).notNull(),targetValuePrimary:gc("target_value_primary",{precision:10,scale:2}).notNull(),targetUnitPrimary:Ue("target_unit_primary",{length:50}).notNull(),targetValueSecondary:gc("target_value_secondary",{precision:10,scale:2}),targetUnitSecondary:Ue("target_unit_secondary",{length:50}),isActive:tl("is_active").default(!0),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),EV=On("goal_progress",{id:wn("id").primaryKey(),goalTargetId:Ht("goal_target_id").notNull().references(()=>IM.id),userId:Ht("user_id").notNull().references(()=>Hn.id),progressDate:Ox("progress_date").notNull(),actualValuePrimary:gc("actual_value_primary",{precision:10,scale:2}).notNull(),actualValueSecondary:gc("actual_value_secondary",{precision:10,scale:2}),percentageAchieved:gc("percentage_achieved",{precision:5,scale:2}),createdAt:et("created_at").defaultNow()}),MV=On("photos",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),filename:Ue("filename").notNull(),originalName:Ue("original_name").notNull(),mimeType:Ue("mime_type").notNull(),size:Ht("size").notNull(),imagePath:Ue("image_path").notNull(),thumbnailPath:Ue("thumbnail_path").notNull(),bucketPath:Ue("bucket_path").notNull(),date:et("date").notNull(),uploadDate:et("upload_date").defaultNow()});On("user_sessions",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),tokenHash:Ue("token_hash").notNull(),expiresAt:et("expires_at").notNull(),createdAt:et("created_at").defaultNow()});const DV=On("metrics",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),date:et("date").notNull(),weight:ys("weight",{precision:5,scale:2}),customFields:DE("custom_fields").$type().default({}),createdAt:et("created_at").defaultNow()});or(DV).omit({id:!0,createdAt:!0});const OV=On("custom_metric_fields",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),fieldName:Ue("field_name").notNull(),unit:Ue("unit").notNull(),createdAt:et("created_at").defaultNow()});or(OV).omit({id:!0,createdAt:!0});const AV=On("activities",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),activityType:Ue("activity_type").notNull(),startTime:et("start_time").notNull(),endTime:et("end_time").notNull(),durationMinutes:Ht("duration_minutes"),date:et("date").notNull(),location:Ue("location"),notes:Ax("notes"),createdAt:et("created_at").defaultNow()});or(AV).omit({id:!0,createdAt:!0,location:!0,notes:!0});const IV=On("custom_activities",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),name:Ue("name").notNull(),category:Ue("category").notNull().default("STRAIN"),icon:Ue("icon").default("fa-dumbbell"),createdAt:et("created_at").defaultNow()});or(IV).omit({id:!0,createdAt:!0});const RV=On("macros",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),description:Ax("description").notNull(),protein:ys("protein",{precision:5,scale:1}).notNull().$type(),fats:ys("fats",{precision:5,scale:1}).notNull().$type(),carbs:ys("carbs",{precision:5,scale:1}).notNull().$type(),date:et("date").notNull(),createdAt:et("created_at").defaultNow()});or(RV).omit({id:!0,createdAt:!0}).extend({protein:xs([we(),Yr()]).transform(t=>String(t)),fats:xs([we(),Yr()]).transform(t=>String(t)),carbs:xs([we(),Yr()]).transform(t=>String(t))});const FV=On("macro_targets",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id).unique(),proteinTarget:ys("protein_target",{precision:5,scale:1}).notNull().default("0").$type(),fatsTarget:ys("fats_target",{precision:5,scale:1}).notNull().default("0").$type(),carbsTarget:ys("carbs_target",{precision:5,scale:1}).notNull().default("0").$type(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});or(FV).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({proteinTarget:xs([we(),Yr()]).transform(t=>String(t)),fatsTarget:xs([we(),Yr()]).transform(t=>String(t)),carbsTarget:xs([we(),Yr()]).transform(t=>String(t))});or(TV).omit({id:!0,createdAt:!0,updatedAt:!0});or(jV).omit({id:!0,createdAt:!0});or(PV).omit({id:!0,createdAt:!0});or(MV).omit({id:!0,uploadDate:!0});or(IM).omit({id:!0,createdAt:!0,updatedAt:!0});or(EV).omit({id:!0,createdAt:!0});const LV=js({usernameOrEmail:we().min(1,"Username or email is required"),password:we().min(6,"Password must be at least 6 characters")}),zV=js({username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),password:we().min(6,"Password must be at least 6 characters"),firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required")});js({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional(),goals:Lx(we()).min(1,"Please select at least one goal"),progress:zx(we(),Yr().min(0).max(100))});function VV({onToggleMode:t}){const{toast:e}=Bt(),n=Dn(),r=v.useRef(null),[s,i]=v.useState("text"),{register:o,handleSubmit:a,formState:{errors:l}}=vl({resolver:bl(LV)}),u=()=>{setTimeout(()=>{i("password")},100)},d=Mt({mutationFn:async m=>await Ie("POST","/api/login",m),onSuccess:async m=>{localStorage.setItem("authToken",m.token),e({title:"Welcome back!",description:"You have been logged in successfully."});try{const y=await Ie("GET","/api/user");n.setQueryData(["/api/user"],y),console.log("Login successful, user data updated:",y)}catch(y){console.error("Failed to fetch user data after login:",y),window.location.reload()}},onError:m=>{e({title:"Login Failed",description:m.message||"Invalid credentials. Please try again.",variant:"destructive"})}}),f=m=>{d.mutate(m)},[,h]=wt();return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Welcome back!"})]}),c.jsxs("form",{onSubmit:a(f),className:"space-y-6",autoComplete:"off","data-form-type":"login",noValidate:!0,"data-webkit-autofill":"off","data-password-manager":"off","data-1p-ignore":"true",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"login-username",children:"Username or Email"}),c.jsx(Ce,{id:"login-username",name:"username",type:"text",...o("usernameOrEmail"),placeholder:"Enter your username or email",className:"mt-2",autoComplete:"off",inputMode:"text","data-lpignore":"true","data-form-type":"other",spellCheck:"false",autoCapitalize:"none",autoCorrect:"off","data-webkit-autofill":"off","data-1p-ignore":"true"}),l.usernameOrEmail&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.usernameOrEmail.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"login-password",children:"Password"}),c.jsx("input",{type:"password",autoComplete:"new-password",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none"},tabIndex:-1,"aria-hidden":"true"}),c.jsx(Ce,{ref:r,id:"login-password",name:"password",type:s,placeholder:"Enter your password",className:"mt-2",spellCheck:"false",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off","data-lpignore":"true","data-form-type":"other","data-webkit-autofill":"off","data-1p-ignore":"true","data-password-generator":"off","data-password-manager":"off",onFocus:u,...o("password")}),l.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.password.message})]}),c.jsx(Q,{type:"submit",disabled:d.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:d.isPending?"Signing In...":"Sign In"})]}),c.jsxs("div",{className:"mt-6 text-center space-y-3",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Create Account"})]}),c.jsx("p",{className:"text-sm",children:c.jsx("button",{onClick:()=>h("/forgot-password"),className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Forgot Password?"})})]})]})})})}function $V({onToggleMode:t}){const{toast:e}=Bt(),n=Dn(),{register:r,handleSubmit:s,formState:{errors:i}}=vl({resolver:bl(zV)}),o=Mt({mutationFn:async l=>await Ie("POST","/api/register",l),onSuccess:async l=>{localStorage.setItem("authToken",l.token),e({title:"Account Created!",description:"Welcome to Journey! Let's set up your profile."});try{const u=await Ie("GET","/api/user");n.setQueryData(["/api/user"],u),console.log("Registration successful, user data updated:",u)}catch(u){console.error("Failed to fetch user data after registration:",u),window.location.reload()}},onError:l=>{e({title:"Registration Failed",description:l.message||"Failed to create account. Please try again.",variant:"destructive"})}}),a=l=>{o.mutate(l)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Create your account"})]}),c.jsxs("form",{onSubmit:s(a),className:"space-y-6",autoComplete:"on","data-form-type":"register",children:[c.jsx("input",{type:"hidden",name:"signup-form",value:"true"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"firstName",children:"First Name"}),c.jsx(Ce,{id:"firstName",name:"given-name",...r("firstName"),placeholder:"First name",className:"mt-2",autoComplete:"given-name","data-form-type":"register"}),i.firstName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.firstName.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"lastName",children:"Last Name"}),c.jsx(Ce,{id:"lastName",name:"family-name",...r("lastName"),placeholder:"Last name",className:"mt-2",autoComplete:"family-name","data-form-type":"register"}),i.lastName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-username",children:"Username"}),c.jsx(Ce,{id:"register-username",name:"username",...r("username"),placeholder:"Choose a unique username",className:"mt-2",autoComplete:"username","data-form-type":"register"}),i.username&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.username.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-email",children:"Email"}),c.jsx(Ce,{id:"register-email",name:"email",type:"email",...r("email"),placeholder:"Enter your email address",className:"mt-2",autoComplete:"email","data-form-type":"register"}),i.email&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.email.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-password",children:"Password"}),c.jsx(Ce,{id:"register-password",name:"password",type:"password",...r("password"),placeholder:"Create a secure password",className:"mt-2",autoComplete:"new-password",autoCorrect:"off",spellCheck:"false",autoCapitalize:"none","data-form-type":"register","data-webkit-autofill":"off","data-1p-ignore":"true"}),i.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.password.message})]}),c.jsx(Q,{type:"submit",disabled:o.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:o.isPending?"Creating Account...":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Sign In"})]})})]})})})}function BV(){const[t,e]=v.useState(!0),n=()=>{e(!t)};return t?c.jsx(VV,{onToggleMode:n}):c.jsx($V,{onToggleMode:n})}var zm="focusScope.autoFocusOnMount",Vm="focusScope.autoFocusOnUnmount",Ib={bubbles:!1,cancelable:!0},UV="FocusScope",Vx=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),u=Sr(s),d=Sr(i),f=v.useRef(null),h=We(e,p=>l(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(w){if(m.paused||!a)return;const S=w.target;a.contains(S)?f.current=S:zs(f.current,{select:!0})},b=function(w){if(m.paused||!a)return;const S=w.relatedTarget;S!==null&&(a.contains(S)||zs(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&zs(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const g=new MutationObserver(x);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),g.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){Fb.add(m);const p=document.activeElement;if(!a.contains(p)){const x=new CustomEvent(zm,Ib);a.addEventListener(zm,u),a.dispatchEvent(x),x.defaultPrevented||(WV(KV(RM(a)),{select:!0}),document.activeElement===p&&zs(a))}return()=>{a.removeEventListener(zm,u),setTimeout(()=>{const x=new CustomEvent(Vm,Ib);a.addEventListener(Vm,d),a.dispatchEvent(x),x.defaultPrevented||zs(p??document.body,{select:!0}),a.removeEventListener(Vm,d),Fb.remove(m)},0)}}},[a,u,d,m]);const y=v.useCallback(p=>{if(!n&&!r||m.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(b&&x){const g=p.currentTarget,[w,S]=HV(g);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),n&&zs(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),n&&zs(S,{select:!0})):x===g&&p.preventDefault()}},[n,r,m.paused]);return c.jsx(Pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Vx.displayName=UV;function WV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zs(r,{select:e}),document.activeElement!==n)return}function HV(t){const e=RM(t),n=Rb(e,t),r=Rb(e.reverse(),t);return[n,r]}function RM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rb(t,e){for(const n of t)if(!YV(n,{upTo:e}))return n}function YV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qV(t){return t instanceof HTMLInputElement&&"select"in t}function zs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&qV(t)&&e&&t.select()}}var Fb=QV();function QV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Lb(t,e),t.unshift(e)},remove(e){var n;t=Lb(t,e),(n=t[0])==null||n.resume()}}}function Lb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function KV(t){return t.filter(e=>e.tagName!=="A")}var $m=0;function FM(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zb()),document.body.insertAdjacentElement("beforeend",t[1]??zb()),$m++,()=>{$m===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$m--}},[])}function zb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rr=function(){return Rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rr.apply(this,arguments)};function LM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function GV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Wd="right-scroll-bar-position",Hd="width-before-scroll-bar",XV="with-scroll-bars-hidden",ZV="--removed-body-scroll-bar-size";function Bm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function JV(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var e$=typeof window<"u"?v.useLayoutEffect:v.useEffect,Vb=new WeakMap;function t$(t,e){var n=JV(null,function(r){return t.forEach(function(s){return Bm(s,r)})});return e$(function(){var r=Vb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Bm(a,null)}),i.forEach(function(a){s.has(a)||Bm(a,o)})}Vb.set(n,t)},[t]),n}function n$(t){return t}function r$(t,e){e===void 0&&(e=n$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function s$(t){t===void 0&&(t={});var e=r$(null);return e.options=Rr({async:!0,ssr:!1},t),e}var zM=function(t){var e=t.sideCar,n=LM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Rr({},n))};zM.isSideCarExport=!0;function i$(t,e){return t.useMedium(e),zM}var VM=s$(),Um=function(){},Rh=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,y=t.noIsolation,p=t.inert,b=t.allowPinchZoom,x=t.as,g=x===void 0?"div":x,w=t.gapMode,S=LM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=t$([n,e]),C=Rr(Rr({},S),s);return v.createElement(v.Fragment,null,d&&v.createElement(_,{sideCar:VM,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:p,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:w}),o?v.cloneElement(v.Children.only(a),Rr(Rr({},C),{ref:N})):v.createElement(g,Rr({},C,{className:l,ref:N}),a))});Rh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rh.classNames={fullWidth:Hd,zeroRight:Wd};var o$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=o$();return e&&t.setAttribute("nonce",e),t}function l$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function c$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var u$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=a$())&&(l$(e,n),c$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},d$=function(){var t=u$();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$M=function(){var t=d$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},f$={left:0,top:0,right:0,gap:0},Wm=function(t){return parseInt(t||"",10)||0},h$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Wm(n),Wm(r),Wm(s)]},m$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return f$;var e=h$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},p$=$M(),ja="data-scroll-locked",g$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Wd," .").concat(Wd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ja,`] {
    `).concat(ZV,": ").concat(a,`px;
  }
`)},$b=function(){var t=parseInt(document.body.getAttribute(ja)||"0",10);return isFinite(t)?t:0},y$=function(){v.useEffect(function(){return document.body.setAttribute(ja,($b()+1).toString()),function(){var t=$b()-1;t<=0?document.body.removeAttribute(ja):document.body.setAttribute(ja,t.toString())}},[])},x$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;y$();var i=v.useMemo(function(){return m$(s)},[s]);return v.createElement(p$,{styles:g$(i,!e,s,n?"":"!important")})},zg=!1;if(typeof window<"u")try{var rd=Object.defineProperty({},"passive",{get:function(){return zg=!0,!0}});window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{zg=!1}var Qo=zg?{passive:!1}:!1,v$=function(t){return t.tagName==="TEXTAREA"},BM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!v$(t)&&n[e]==="visible")},b$=function(t){return BM(t,"overflowY")},w$=function(t){return BM(t,"overflowX")},Bb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=UM(t,r);if(s){var i=WM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},S$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},UM=function(t,e){return t==="v"?b$(e):w$(e)},WM=function(t,e){return t==="v"?S$(e):_$(e)},N$=function(t,e){return t==="h"&&e==="rtl"?-1:1},k$=function(t,e,n,r,s){var i=N$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{if(!a)break;var m=WM(t,a),y=m[0],p=m[1],b=m[2],x=p-b-i*y;(y||x)&&UM(t,a)&&(f+=x,h+=y);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},sd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ub=function(t){return[t.deltaX,t.deltaY]},Wb=function(t){return t&&"current"in t?t.current:t},C$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},T$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},j$=0,Ko=[];function P$(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(j$++)[0],i=v.useState($M)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=GV([t.lockRef.current],(t.shards||[]).map(Wb),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=sd(p),g=n.current,w="deltaX"in p?p.deltaX:g[0]-x[0],S="deltaY"in p?p.deltaY:g[1]-x[1],_,N=p.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var T=Bb(C,N);if(!T)return!0;if(T?_=C:(_=C==="v"?"h":"v",T=Bb(C,N)),!T)return!1;if(!r.current&&"changedTouches"in p&&(w||S)&&(r.current=_),!_)return!0;var P=r.current||_;return k$(P,b,p,P==="h"?w:S)},[]),l=v.useCallback(function(p){var b=p;if(!(!Ko.length||Ko[Ko.length-1]!==i)){var x="deltaY"in b?Ub(b):sd(b),g=e.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&C$(_.delta,x)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(Wb).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=w.length>0?a(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=v.useCallback(function(p,b,x,g){var w={name:p,delta:b,target:x,should:g,shadowParent:E$(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=v.useCallback(function(p){n.current=sd(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,Ub(p),p.target,a(p,t.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,sd(p),p.target,a(p,t.lockRef.current))},[]);v.useEffect(function(){return Ko.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Qo),document.addEventListener("touchmove",l,Qo),document.addEventListener("touchstart",d,Qo),function(){Ko=Ko.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Qo),document.removeEventListener("touchmove",l,Qo),document.removeEventListener("touchstart",d,Qo)}},[]);var m=t.removeScrollBar,y=t.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:T$(s)}):null,m?v.createElement(x$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function E$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const M$=i$(VM,P$);var $x=v.forwardRef(function(t,e){return v.createElement(Rh,Rr({},t,{ref:e,sideCar:M$}))});$x.classNames=Rh.classNames;var D$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Go=new WeakMap,id=new WeakMap,od={},Hm=0,HM=function(t){return t&&(t.host||HM(t.parentNode))},O$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},A$=function(t,e,n,r){var s=O$(e,Array.isArray(t)?t:[t]);od[n]||(od[n]=new WeakMap);var i=od[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",p=(Go.get(h)||0)+1,b=(i.get(h)||0)+1;Go.set(h,p),i.set(h,b),o.push(h),p===1&&y&&id.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),Hm++,function(){o.forEach(function(f){var h=Go.get(f)-1,m=i.get(f)-1;Go.set(f,h),i.set(f,m),h||(id.has(f)||f.removeAttribute(r),id.delete(f)),m||f.removeAttribute(n)}),Hm--,Hm||(Go=new WeakMap,Go=new WeakMap,id=new WeakMap,od={})}},YM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=D$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),A$(r,s,n,"aria-hidden")):function(){return null}},Fh="Dialog",[qM,Aq]=Bo(Fh),[I$,Cr]=qM(Fh),QM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[u,d]=Bc({prop:r,defaultProp:s??!1,onChange:i,caller:Fh});return c.jsx(I$,{scope:e,triggerRef:a,contentRef:l,contentId:_a(),titleId:_a(),descriptionId:_a(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};QM.displayName=Fh;var KM="DialogTrigger",GM=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(KM,n),i=We(e,s.triggerRef);return c.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wx(s.open),...r,ref:i,onClick:xe(t.onClick,s.onOpenToggle)})});GM.displayName=KM;var Bx="DialogPortal",[R$,XM]=qM(Bx,{forceMount:void 0}),ZM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Cr(Bx,e);return c.jsx(R$,{scope:e,forceMount:n,children:v.Children.map(r,o=>c.jsx(pl,{present:n||i.open,children:c.jsx(Nh,{asChild:!0,container:s,children:o})}))})};ZM.displayName=Bx;var Wf="DialogOverlay",JM=v.forwardRef((t,e)=>{const n=XM(Wf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cr(Wf,t.__scopeDialog);return i.modal?c.jsx(pl,{present:r||i.open,children:c.jsx(L$,{...s,ref:e})}):null});JM.displayName=Wf;var F$=Xa("DialogOverlay.RemoveScroll"),L$=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(Wf,n);return c.jsx($x,{as:F$,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Pe.div,{"data-state":Wx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Do="DialogContent",eD=v.forwardRef((t,e)=>{const n=XM(Do,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cr(Do,t.__scopeDialog);return c.jsx(pl,{present:r||i.open,children:i.modal?c.jsx(z$,{...s,ref:e}):c.jsx(V$,{...s,ref:e})})});eD.displayName=Do;var z$=v.forwardRef((t,e)=>{const n=Cr(Do,t.__scopeDialog),r=v.useRef(null),s=We(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return YM(i)},[]),c.jsx(tD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault())})}),V$=v.forwardRef((t,e)=>{const n=Cr(Do,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return c.jsx(tD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),tD=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Cr(Do,n),l=v.useRef(null),u=We(e,l);return FM(),c.jsxs(c.Fragment,{children:[c.jsx(Vx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Su,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Wx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx($$,{titleId:a.titleId}),c.jsx(U$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Ux="DialogTitle",nD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(Ux,n);return c.jsx(Pe.h2,{id:s.titleId,...r,ref:e})});nD.displayName=Ux;var rD="DialogDescription",sD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(rD,n);return c.jsx(Pe.p,{id:s.descriptionId,...r,ref:e})});sD.displayName=rD;var iD="DialogClose",oD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(iD,n);return c.jsx(Pe.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});oD.displayName=iD;function Wx(t){return t?"open":"closed"}var aD="DialogTitleWarning",[Iq,lD]=RF(aD,{contentName:Do,titleName:Ux,docsSlug:"dialog"}),$$=({titleId:t})=>{const e=lD(aD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},B$="DialogDescriptionWarning",U$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lD(B$).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},W$=QM,H$=GM,Y$=ZM,cD=JM,uD=eD,dD=nD,fD=sD,q$=oD;const Ii=W$,hD=H$,Q$=Y$,mD=v.forwardRef(({className:t,...e},n)=>c.jsx(cD,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mD.displayName=cD.displayName;const Ps=v.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Q$,{children:[c.jsx(mD,{}),c.jsxs(uD,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(q$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(fx,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ps.displayName=uD.displayName;const Ri=({className:t,...e})=>c.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ri.displayName="DialogHeader";const Fi=v.forwardRef(({className:t,...e},n)=>c.jsx(dD,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));Fi.displayName=dD.displayName;const Hx=v.forwardRef(({className:t,...e},n)=>c.jsx(fD,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));Hx.displayName=fD.displayName;const K$={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-20 h-20 text-xl",xl:"w-32 h-32 text-3xl"};function G$(t,e){var s,i;const n=((s=t==null?void 0:t.charAt(0))==null?void 0:s.toUpperCase())||"",r=((i=e==null?void 0:e.charAt(0))==null?void 0:i.toUpperCase())||"";return n+r||"U"}function Lh({firstName:t,lastName:e,profileImageUrl:n,size:r="md",onImageUpload:s,editable:i=!1}){const[o,a]=v.useState(null),[l,u]=v.useState({x:0,y:0}),[d,f]=v.useState(1),[h,m]=v.useState(!1),[y,p]=v.useState(!1),[b,x]=v.useState(!1),[g,w]=v.useState(null),[S,_]=v.useState(null),N=v.useRef(null),C=v.useRef(null),T=G$(t,e),P=K$[r],O=D=>{a(D),u({x:0,y:0}),f(1),m(!0)},F=()=>{o&&s&&(s(o),m(!1),a(null))},A=D=>{const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},$=D=>{D.preventDefault(),D.touches.length===1?(x(!0),w({x:D.touches[0].clientX,y:D.touches[0].clientY})):D.touches.length===2&&(x(!1),_(A(D.touches)))},V=D=>{if(D.preventDefault(),D.touches.length===1&&b&&g){const W=D.touches[0].clientX-g.x,G=D.touches[0].clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.touches[0].clientX,y:D.touches[0].clientY})}else if(D.touches.length===2&&S){const W=A(D.touches),G=W/S;f(ne=>Math.max(.5,Math.min(3,ne*G))),_(W)}},I=D=>{D.preventDefault(),x(!1),w(null),_(null)},z=D=>{x(!0),w({x:D.clientX,y:D.clientY})},B=D=>{if(b&&g){const W=D.clientX-g.x,G=D.clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.clientX,y:D.clientY})}},j=()=>{x(!1),w(null)},R=D=>{D.preventDefault();const W=D.deltaY>0?.9:1.1;f(G=>Math.max(.5,Math.min(3,G*W)))};return c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:`${P} rounded-full flex items-center justify-center overflow-hidden`,children:n?c.jsx("img",{src:n,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-700 to-accent-300 shadow-lg ring-2 ring-black/30",children:c.jsx("span",{className:"font-semibold text-black text-lg",children:T})})}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx(Q,{type:"button",variant:"outline",size:"md",onClick:()=>{var D;return(D=document.getElementById("avatar-photo-upload"))==null?void 0:D.click()},className:"text-sm text-center",children:"Choose a different picture"})}),c.jsx("input",{id:"avatar-photo-upload",type:"file",accept:"image/*",onChange:D=>{var G;const W=(G=D.target.files)==null?void 0:G[0];W&&O(W)},className:"hidden"}),c.jsx(Ii,{open:h,onOpenChange:m,children:c.jsxs(Ps,{className:"max-w-md",children:[c.jsxs(Ri,{children:[c.jsx(Fi,{className:"text-center",children:"Adjust Your Photo"}),c.jsx(Hx,{className:"sr-only",children:"Use touch gestures to adjust your profile photo"})]}),o&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{ref:C,className:"relative w-64 h-64 mx-auto bg-gray-100 rounded-lg overflow-hidden touch-none",onTouchStart:$,onTouchMove:V,onTouchEnd:I,onMouseDown:z,onMouseMove:B,onMouseUp:j,onMouseLeave:j,onWheel:R,children:[c.jsx("img",{ref:N,src:URL.createObjectURL(o),alt:"Preview",className:"w-full h-full object-cover select-none",style:{transform:`scale(${d}) translate(${l.x}px, ${l.y}px)`},draggable:!1}),c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsxs("svg",{className:"w-full h-full",children:[c.jsx("defs",{children:c.jsxs("mask",{id:"circleMask",children:[c.jsx("rect",{width:"100%",height:"100%",fill:"white"}),c.jsx("circle",{cx:"50%",cy:"50%",r:"100",fill:"black"})]})}),c.jsx("rect",{width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.5)",mask:"url(#circleMask)"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-[200px] h-[200px] rounded-full border-2 border-white shadow-lg"})})]})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Adjust image as needed"}),c.jsxs("div",{className:"flex space-x-2 pt-4",children:[c.jsx(Q,{onClick:()=>m(!1),variant:"outline",className:"flex-1 text-center",children:"Cancel"}),c.jsx(Q,{onClick:F,className:"flex-1 text-center bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500",children:"Save Photo"})]})]})]})})]})]})}function X$({trigger:t,children:e,className:n=""}){const[r,s]=v.useState(!1),i=v.useRef(null),o=v.useRef(null);return v.useEffect(()=>{function a(l){i.current&&!i.current.contains(l.target)&&o.current&&!o.current.contains(l.target)&&s(!1)}if(r)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[r]),c.jsxs("div",{className:"relative",children:[c.jsx("div",{ref:o,onClick:()=>s(!r),children:t}),r&&c.jsx("div",{ref:i,className:`absolute top-full left-0 mt-2 z-50 bg-white rounded-md shadow-lg border min-w-[200px] ${n}`,style:{transform:"translateZ(0)",willChange:"auto"},children:e})]})}const Z$=[{label:"Dashboard",path:"/",icon:"fas fa-home"},{label:"Goals",path:"/goals",icon:"fas fa-target"},{label:"Nutrition",path:"/nutrition",icon:"fas fa-apple-alt"},{label:"Workouts",path:"/workouts",icon:"fas fa-dumbbell"},{label:"Sleep",path:"/sleep",icon:"fas fa-calculator"},{label:"Photos",path:"/photos",icon:"fas fa-camera"},{label:"Journal",path:"/journal-history",icon:"fas fa-book-open"},{label:"Progress",path:"/progress",icon:"fas fa-chart-line"},{label:"Feedback",path:"/feedback",icon:"fas fa-comment"}];function J$(){const[t]=wt(),e=c.jsx(Q,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"})]})});return c.jsx(X$,{trigger:e,className:"w-56",children:c.jsx("div",{className:"py-1",children:Z$.map(n=>c.jsxs(zr,{href:n.path,className:`flex items-center space-x-3 px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 transition-colors ${t===n.path?"bg-primary-50 text-primary-600":"text-gray-700"}`,children:[c.jsx("i",{className:`${n.icon} w-4 h-4`}),c.jsx("span",{children:n.label})]},n.path))})})}function Jt({title:t,showBackButton:e=!1,onBack:n,showHomeButton:r=!1}={}){const{user:s}=Uo();return c.jsx("header",{className:`bg-white/75 backdrop-blur-sm shadow-lg border-0 px-4 fixed top-0 left-0 right-0 z-50 
      pt-[calc(env(safe-area-inset-top)+0.75rem)] pb-3 min-h-[calc(env(safe-area-inset-top)+4rem)]`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[e?c.jsxs(Q,{variant:"ghost",size:"sm",onClick:n||(()=>window.history.back()),className:"text-primary-600 hover:text-primary-700 hover:bg-primary-50/50 p-2 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-arrow-left text-lg"}),c.jsx("span",{children:"Back"})]}):c.jsx(J$,{}),c.jsx("h1",{className:"text-xl font-bold text-gray-800",children:t||"Journey"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[r&&c.jsx(zr,{href:"/",children:c.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-700 transition-colors",children:c.jsx("i",{className:"fas fa-home text-sm",style:{color:"#000000"}})})}),c.jsx(zr,{href:"/profile",children:c.jsx("div",{className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:c.jsx(Lh,{firstName:(s==null?void 0:s.firstName)||void 0,lastName:(s==null?void 0:s.lastName)||void 0,profileImageUrl:(s==null?void 0:s.profileImageUrl)||void 0,size:"md"})})})]})]})})}function de(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function rt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Sl(t,e){const n=de(t);return isNaN(e)?rt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ju(t,e){const n=de(t);if(isNaN(e))return rt(t,NaN);if(!e)return n;const r=n.getDate(),s=rt(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function zh(t,e){const n=+de(t);return rt(t,n+e)}const pD=6048e5,eB=864e5,Pu=6e4,Eu=36e5,tB=1e3;function nB(t,e){return zh(t,e*Eu)}let rB={};function Wo(){return rB}function Xr(t,e){var a,l,u,d;const n=Wo(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=de(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function il(t){return Xr(t,{weekStartsOn:1})}function gD(t){const e=de(t),n=e.getFullYear(),r=rt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=il(r),i=rt(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=il(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ol(t){const e=de(t);return e.setHours(0,0,0,0),e}function Hf(t){const e=de(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yD(t,e){const n=ol(t),r=ol(e),s=+n-Hf(n),i=+r-Hf(r);return Math.round((s-i)/eB)}function sB(t){const e=gD(t),n=rt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),il(n)}function iB(t,e){return zh(t,e*Pu)}function oB(t,e){const n=e*3;return ju(t,n)}function aB(t,e){return zh(t,e*1e3)}function lB(t,e){const n=e*7;return Sl(t,n)}function cB(t,e){return ju(t,e*12)}function yc(t,e){const n=de(t),r=de(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function uB(t){return rt(t,Date.now())}function xD(t,e){const n=ol(t),r=ol(e);return+n==+r}function dB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vD(t){if(!dB(t)&&typeof t!="number")return!1;const e=de(t);return!isNaN(Number(e))}function fB(t,e){const n=de(t),r=de(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function hB(t,e){const n=de(t),r=de(e);return n.getFullYear()-r.getFullYear()}function bD(t,e){const n=de(t),r=de(e),s=Hb(n,r),i=Math.abs(yD(n,r));n.setDate(n.getDate()-s*i);const o=+(Hb(n,r)===-s),a=s*(i-o);return a===0?0:a}function Hb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Mu(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Vh(t,e){return+de(t)-+de(e)}function mB(t,e,n){const r=Vh(t,e)/Eu;return Mu(n==null?void 0:n.roundingMethod)(r)}function pB(t,e,n){const r=Vh(t,e)/Pu;return Mu(n==null?void 0:n.roundingMethod)(r)}function wD(t){const e=de(t);return e.setHours(23,59,59,999),e}function Yx(t){const e=de(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function gB(t){const e=de(t);return+wD(e)==+Yx(e)}function SD(t,e){const n=de(t),r=de(e),s=yc(n,r),i=Math.abs(fB(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=yc(n,r)===-s;gB(de(t))&&i===1&&yc(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function yB(t,e,n){const r=SD(t,e)/3;return Mu(n==null?void 0:n.roundingMethod)(r)}function xB(t,e,n){const r=Vh(t,e)/1e3;return Mu(n==null?void 0:n.roundingMethod)(r)}function vB(t,e,n){const r=bD(t,e)/7;return Mu(n==null?void 0:n.roundingMethod)(r)}function bB(t,e){const n=de(t),r=de(e),s=yc(n,r),i=Math.abs(hB(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=yc(n,r)===-s,a=s*(i-+o);return a===0?0:a}function wB(t,e){const n=de(t.start),r=de(t.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(de(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function SB(t){const e=de(t);return e.setSeconds(0,0),e}function _B(t){const e=de(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function _D(t){const e=de(t);return e.setDate(1),e.setHours(0,0,0,0),e}function NB(t){const e=de(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function ND(t){const e=de(t),n=rt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function kB(t){const e=de(t);return e.setMinutes(59,59,999),e}function CB(t,e){var a,l;const n=Wo(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=de(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function TB(t){const e=de(t);return e.setSeconds(59,999),e}function jB(t){const e=de(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function PB(t){const e=de(t);return e.setMilliseconds(999),e}const EB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MB=(t,e,n)=>{let r;const s=EB[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ym(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const DB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IB={date:Ym({formats:DB,defaultWidth:"full"}),time:Ym({formats:OB,defaultWidth:"full"}),dateTime:Ym({formats:AB,defaultWidth:"full"})},RB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FB=(t,e,n,r)=>RB[t];function Ll(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const LB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$B={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},WB=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},HB={ordinalNumber:WB,era:Ll({values:LB,defaultWidth:"wide"}),quarter:Ll({values:zB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ll({values:VB,defaultWidth:"wide"}),day:Ll({values:$B,defaultWidth:"wide"}),dayPeriod:Ll({values:BB,defaultWidth:"wide",formattingValues:UB,defaultFormattingWidth:"wide"})};function zl(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qB(a,f=>f.test(o)):YB(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function YB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function QB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const KB=/^(\d+)(th|st|nd|rd)?/i,GB=/\d+/i,XB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZB={any:[/^b/i,/^(a|c)/i]},JB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e6={any:[/1/i,/2/i,/3/i,/4/i]},t6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},r6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},s6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a6={ordinalNumber:QB({matchPattern:KB,parsePattern:GB,valueCallback:t=>parseInt(t,10)}),era:zl({matchPatterns:XB,defaultMatchWidth:"wide",parsePatterns:ZB,defaultParseWidth:"any"}),quarter:zl({matchPatterns:JB,defaultMatchWidth:"wide",parsePatterns:e6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zl({matchPatterns:t6,defaultMatchWidth:"wide",parsePatterns:n6,defaultParseWidth:"any"}),day:zl({matchPatterns:r6,defaultMatchWidth:"wide",parsePatterns:s6,defaultParseWidth:"any"}),dayPeriod:zl({matchPatterns:i6,defaultMatchWidth:"any",parsePatterns:o6,defaultParseWidth:"any"})},kD={code:"en-US",formatDistance:MB,formatLong:IB,formatRelative:FB,localize:HB,match:a6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function l6(t){const e=de(t);return yD(e,ND(e))+1}function CD(t){const e=de(t),n=+il(e)-+sB(e);return Math.round(n/pD)+1}function qx(t,e){var d,f,h,m;const n=de(t),r=n.getFullYear(),s=Wo(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=rt(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Xr(o,e),l=rt(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Xr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function c6(t,e){var a,l,u,d;const n=Wo(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=qx(t,e),i=rt(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Xr(i,e)}function TD(t,e){const n=de(t),r=+Xr(n,e)-+c6(n,e);return Math.round(r/pD)+1}function Ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Rs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ge(s,e.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Rs.y(t,e)},Y:function(t,e,n,r){const s=qx(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ge(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ge(i,e.length)},R:function(t,e){const n=gD(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Rs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=TD(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ge(s,e.length)},I:function(t,e,n){const r=CD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Rs.d(t,e)},D:function(t,e,n){const r=l6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ge(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ge(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ge(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Xo.noon:r===0?s=Xo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Xo.evening:r>=12?s=Xo.afternoon:r>=4?s=Xo.morning:s=Xo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Rs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Rs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Rs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Rs.s(t,e)},S:function(t,e){return Rs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Qb(r);case"XXXX":case"XX":return Gi(r);case"XXXXX":case"XXX":default:return Gi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Qb(r);case"xxxx":case"xx":return Gi(r);case"xxxxx":case"xxx":default:return Gi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qb(r,":");case"OOOO":default:return"GMT"+Gi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qb(r,":");case"zzzz":default:return"GMT"+Gi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ge(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ge(r,e.length)}};function qb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Ge(i,2)}function Qb(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):Gi(t,e)}function Gi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ge(Math.trunc(r/60),2),i=Ge(r%60,2);return n+s+e+i}const Kb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},u6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Kb(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Kb(r,e)).replace("{{time}}",jD(s,e))},Vg={p:jD,P:u6},d6=/^D+$/,f6=/^Y+$/,h6=["D","DD","YY","YYYY"];function PD(t){return d6.test(t)}function ED(t){return f6.test(t)}function $g(t,e,n){const r=m6(t,e,n);if(console.warn(r),h6.includes(t))throw new RangeError(r)}function m6(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y6=/^'([^]*?)'?$/,x6=/''/g,v6=/[a-zA-Z]/;function Me(t,e,n){var d,f,h,m,y,p,b,x;const r=Wo(),s=(n==null?void 0:n.locale)??r.locale??kD,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,a=de(t);if(!vD(a))throw new RangeError("Invalid time value");let l=e.match(g6).map(g=>{const w=g[0];if(w==="p"||w==="P"){const S=Vg[w];return S(g,s.formatLong)}return g}).join("").match(p6).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:b6(g)};if(Yb[w])return{isToken:!0,value:g};if(w.match(v6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ED(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&PD(w))&&$g(w,e,String(t));const S=Yb[w[0]];return S(a,w,s.localize,u)}).join("")}function b6(t){const e=t.match(y6);return e?e[1].replace(x6,"'"):t}function MD(){return Object.assign({},Wo())}function w6(t){let n=de(t).getDay();return n===0&&(n=7),n}function S6(t,e){const n=e instanceof Date?rt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const _6=10;class DD{constructor(){k(this,"subPriority",0)}validate(e,n){return!0}}class N6 extends DD{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class k6 extends DD{constructor(){super(...arguments);k(this,"priority",_6);k(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:rt(n,S6(n,Date))}}class He{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new N6(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class C6 extends He{constructor(){super(...arguments);k(this,"priority",140);k(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const kt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Fr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ct(t,e){return t&&{value:e(t.value),rest:t.rest}}function ht(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Lr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Eu+i*Pu+o*tB),rest:e.slice(n[0].length)}}function OD(t){return ht(kt.anyDigitsSigned,t)}function bt(t,e){switch(t){case 1:return ht(kt.singleDigit,e);case 2:return ht(kt.twoDigits,e);case 3:return ht(kt.threeDigits,e);case 4:return ht(kt.fourDigits,e);default:return ht(new RegExp("^\\d{1,"+t+"}"),e)}}function Yf(t,e){switch(t){case 1:return ht(kt.singleDigitSigned,e);case 2:return ht(kt.twoDigitsSigned,e);case 3:return ht(kt.threeDigitsSigned,e);case 4:return ht(kt.fourDigitsSigned,e);default:return ht(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Qx(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function AD(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function ID(t){return t%400===0||t%4===0&&t%100!==0}class T6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ct(bt(4,n),i);case"yo":return Ct(s.ordinalNumber(n,{unit:"year"}),i);default:return Ct(bt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=AD(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class j6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ct(bt(4,n),i);case"Yo":return Ct(s.ordinalNumber(n,{unit:"year"}),i);default:return Ct(bt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=qx(n,i);if(s.isTwoDigitYear){const l=AD(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,i)}}class P6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Yf(r==="R"?4:r.length,n)}set(n,r,s){const i=rt(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),il(i)}}class E6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Yf(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class M6 extends He{constructor(){super(...arguments);k(this,"priority",120);k(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return bt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class D6 extends He{constructor(){super(...arguments);k(this,"priority",120);k(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return bt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class O6 extends He{constructor(){super(...arguments);k(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);k(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return Ct(ht(kt.month,n),i);case"MM":return Ct(bt(2,n),i);case"Mo":return Ct(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class A6 extends He{constructor(){super(...arguments);k(this,"priority",110);k(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return Ct(ht(kt.month,n),i);case"LL":return Ct(bt(2,n),i);case"Lo":return Ct(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function I6(t,e,n){const r=de(t),s=TD(r,n)-e;return r.setDate(r.getDate()-s*7),r}class R6 extends He{constructor(){super(...arguments);k(this,"priority",100);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return ht(kt.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Xr(I6(n,s,i),i)}}function F6(t,e){const n=de(t),r=CD(n)-e;return n.setDate(n.getDate()-r*7),n}class L6 extends He{constructor(){super(...arguments);k(this,"priority",100);k(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return ht(kt.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return il(F6(n,s))}}const z6=[31,28,31,30,31,30,31,31,30,31,30,31],V6=[31,29,31,30,31,30,31,31,30,31,30,31];class $6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"subPriority",1);k(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return ht(kt.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return bt(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=ID(s),o=n.getMonth();return i?r>=1&&r<=V6[o]:r>=1&&r<=z6[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class B6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"subpriority",1);k(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return ht(kt.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return bt(r.length,n)}}validate(n,r){const s=n.getFullYear();return ID(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Kx(t,e,n){var f,h,m,y;const r=Wo(),s=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((y=(m=r.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,i=de(t),o=i.getDay(),l=(e%7+7)%7,u=7-s,d=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return Sl(i,d)}class U6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Kx(n,s,i),n.setHours(0,0,0,0),n}}class W6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ct(bt(r.length,n),o);case"eo":return Ct(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Kx(n,s,i),n.setHours(0,0,0,0),n}}class H6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ct(bt(r.length,n),o);case"co":return Ct(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Kx(n,s,i),n.setHours(0,0,0,0),n}}function Y6(t,e){const n=de(t),r=w6(n),s=e-r;return Sl(n,s)}class q6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return bt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Ct(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ct(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ct(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ct(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=Y6(n,s),n.setHours(0,0,0,0),n}}class Q6 extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Qx(s),0,0,0),n}}class K6 extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Qx(s),0,0,0),n}}class G6 extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Qx(s),0,0,0),n}}class X6 extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return ht(kt.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class Z6 extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return ht(kt.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class J6 extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return ht(kt.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class eU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return ht(kt.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class tU extends He{constructor(){super(...arguments);k(this,"priority",60);k(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return ht(kt.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class nU extends He{constructor(){super(...arguments);k(this,"priority",50);k(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return ht(kt.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class rU extends He{constructor(){super(...arguments);k(this,"priority",30);k(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Ct(bt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class sU extends He{constructor(){super(...arguments);k(this,"priority",10);k(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Lr(Fr.basicOptionalMinutes,n);case"XX":return Lr(Fr.basic,n);case"XXXX":return Lr(Fr.basicOptionalSeconds,n);case"XXXXX":return Lr(Fr.extendedOptionalSeconds,n);case"XXX":default:return Lr(Fr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:rt(n,n.getTime()-Hf(n)-s)}}class iU extends He{constructor(){super(...arguments);k(this,"priority",10);k(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Lr(Fr.basicOptionalMinutes,n);case"xx":return Lr(Fr.basic,n);case"xxxx":return Lr(Fr.basicOptionalSeconds,n);case"xxxxx":return Lr(Fr.extendedOptionalSeconds,n);case"xxx":default:return Lr(Fr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:rt(n,n.getTime()-Hf(n)-s)}}class oU extends He{constructor(){super(...arguments);k(this,"priority",40);k(this,"incompatibleTokens","*")}parse(n){return OD(n)}set(n,r,s){return[rt(n,s*1e3),{timestampIsSet:!0}]}}class aU extends He{constructor(){super(...arguments);k(this,"priority",20);k(this,"incompatibleTokens","*")}parse(n){return OD(n)}set(n,r,s){return[rt(n,s),{timestampIsSet:!0}]}}const lU={G:new C6,y:new T6,Y:new j6,R:new P6,u:new E6,Q:new M6,q:new D6,M:new O6,L:new A6,w:new R6,I:new L6,d:new $6,D:new B6,E:new U6,e:new W6,c:new H6,i:new q6,a:new Q6,b:new K6,B:new G6,h:new X6,H:new Z6,K:new J6,k:new eU,m:new tU,s:new nU,S:new rU,X:new sU,x:new iU,t:new oU,T:new aU},cU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dU=/^'([^]*?)'?$/,fU=/''/g,hU=/\S/,mU=/[a-zA-Z]/;function pU(t,e,n,r){var p,b,x,g,w,S,_,N;const s=MD(),i=(r==null?void 0:r.locale)??s.locale??kD,o=(r==null?void 0:r.firstWeekContainsDate)??((b=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(x=s.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((S=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((N=(_=s.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return t===""?de(n):rt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},u=[new k6],d=e.match(uU).map(C=>{const T=C[0];if(T in Vg){const P=Vg[T];return P(C,i.formatLong)}return C}).join("").match(cU),f=[];for(let C of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&ED(C)&&$g(C,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&PD(C)&&$g(C,e,t);const T=C[0],P=lU[T];if(P){const{incompatibleTokens:O}=P;if(Array.isArray(O)){const A=f.find($=>O.includes($.token)||$.token===T);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${C}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);f.push({token:T,fullToken:C});const F=P.run(t,C,i.match,l);if(!F)return rt(n,NaN);u.push(F.setter),t=F.rest}else{if(T.match(mU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(C==="''"?C="'":T==="'"&&(C=gU(C)),t.indexOf(C)===0)t=t.slice(C.length);else return rt(n,NaN)}}if(t.length>0&&hU.test(t))return rt(n,NaN);const h=u.map(C=>C.priority).sort((C,T)=>T-C).filter((C,T,P)=>P.indexOf(C)===T).map(C=>u.filter(T=>T.priority===C).sort((T,P)=>P.subPriority-T.subPriority)).map(C=>C[0]);let m=de(n);if(isNaN(m.getTime()))return rt(n,NaN);const y={};for(const C of h){if(!C.validate(m,l))return rt(n,NaN);const T=C.set(m,y,l);Array.isArray(T)?(m=T[0],Object.assign(y,T[1])):m=T}return rt(n,m)}function gU(t){return t.match(dU)[1].replace(fU,"'")}function yU(t){const e=de(t);return e.setMinutes(0,0,0),e}function xU(t,e){const n=de(t),r=de(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function vU(t){const e=de(t);return e.setMilliseconds(0),e}function Ti(t){return xD(t,uB(t))}function al(t,e){return Sl(t,-e)}function $h(t,e){const n=(e==null?void 0:e.additionalDigits)??2,r=_U(t);let s;if(r.date){const l=NU(r.date,n);s=kU(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=CU(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=TU(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+a)}const ad={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,SU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _U(t){const e={},n=t.split(ad.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ad.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ad.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=ad.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function NU(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function kU(t,e){if(e===null)return new Date(NaN);const n=t.match(bU);if(!n)return new Date(NaN);const r=!!n[4],s=Vl(n[1]),i=Vl(n[2])-1,o=Vl(n[3]),a=Vl(n[4]),l=Vl(n[5])-1;if(r)return DU(e,a,l)?jU(e,a,l):new Date(NaN);{const u=new Date(0);return!EU(e,i,o)||!MU(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}}function Vl(t){return t?parseInt(t):1}function CU(t){const e=t.match(wU);if(!e)return NaN;const n=qm(e[1]),r=qm(e[2]),s=qm(e[3]);return OU(n,r,s)?n*Eu+r*Pu+s*1e3:NaN}function qm(t){return t&&parseFloat(t.replace(",","."))||0}function TU(t){if(t==="Z")return 0;const e=t.match(SU);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return AU(r,s)?n*(r*Eu+s*Pu):NaN}function jU(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const PU=[31,null,31,30,31,30,31,31,30,31,30,31];function RD(t){return t%400===0||t%4===0&&t%100!==0}function EU(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(PU[e]||(RD(t)?29:28))}function MU(t,e){return e>=1&&e<=(RD(t)?366:365)}function DU(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function OU(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function AU(t,e){return e>=0&&e<=59}function IU(t,e){return ju(t,-1)}function RU({selectedDate:t,onDateSelect:e,onClose:n}){const[r,s]=v.useState(t),i=_D(r),o=Yx(r),a=wB({start:i,end:o}),l=()=>{s(IU(r))},u=()=>{s(ju(r,1))},d=f=>{e(f),n==null||n()};return c.jsx(ce,{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-white/95 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:c.jsxs(ue,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:l,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-left text-sm"})}),c.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:Me(r,"MMMM yyyy").toUpperCase()}),c.jsx(Q,{variant:"ghost",size:"sm",onClick:u,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-right text-sm"})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(f=>c.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:f},f))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:a.map(f=>c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>d(f),className:`
                h-8 w-8 p-0 text-sm font-normal
                ${xD(f,t)?"bg-gray-800 text-white hover:bg-gray-700":Ti(f)?"text-yellow-600 font-semibold hover:bg-yellow-50":xU(f,r)?"text-gray-700 hover:bg-gray-100":"text-gray-400 hover:bg-gray-50"}
              `,children:Me(f,"d")},f.toISOString()))})]})})}function FU({selectedDate:t,onDateChange:e}){const[n,r]=v.useState(!1),s=()=>{e(al(t,1))},i=()=>{e(Sl(t,1))},o=()=>{r(!n)},a=l=>{e(l),r(!1)};return c.jsxs("div",{className:"relative mb-6",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[c.jsx(Q,{variant:"outline",size:"sm",onClick:s,className:`bg-gray-800 text-white border-gray-800 
      hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center`,children:" prev "}),c.jsx(Q,{variant:"outline",onClick:o,className:`
            px-6 py-2 font-semibold transition-all duration-200 min-w-[140px] h-10
            ${Ti(t),"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg"}
          `,children:Ti(t)?"TODAY":Me(t,"EEE, MMM d").toUpperCase()}),c.jsx(Q,{variant:"outline",size:"sm",onClick:i,className:"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center",children:"next"})]}),n&&c.jsx(RU,{selectedDate:t,onDateSelect:a,onClose:()=>r(!1)})]})}function LU({selectedDate:t}){const[,e]=wt(),{data:n=[]}=zt({queryKey:[`/api/activities/date/${Me(t,"yyyy-MM-dd")}`]}),r=[...n].sort((l,u)=>!l.startTime||!u.startTime?0:new Date(l.startTime).getTime()-new Date(u.startTime).getTime()),s=l=>{e(`/add-activity?edit=${l.id}&activityType=${encodeURIComponent(l.activityType||"")}&startTime=${encodeURIComponent(l.startTime||"")}&endTime=${encodeURIComponent(l.endTime||"")}&date=${encodeURIComponent(l.date||"")}`)},i=l=>{switch(l){case"walking":return"fa-walking";case"running":return"fa-running";case"cycling":return"fa-biking";case"sleep":return"fa-bed";default:return"fa-dumbbell"}},o=l=>{switch(l){case"walking":return"bg-blue-500";case"running":return"bg-green-500";case"cycling":return"bg-yellow-500";case"sleep":return"bg-purple-500";default:return"bg-gray-500"}},a=l=>{const u=typeof l=="string"?new Date(l):l;return Me(u,"h:mm a")};return c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-xl font-bold text-gray-800",children:"My Day"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Tap activity to edit"})]})}),c.jsxs(ue,{className:"pt-0",children:[c.jsx("div",{className:"space-y-3 mb-4",children:r.length>0?r.map(l=>c.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3 cursor-pointer hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(l),children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`${o(l.activityType||"")} rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12`,children:c.jsx("i",{className:`fas ${i(l.activityType||"")} text-white text-sm`})}),c.jsx("div",{children:c.jsx("div",{className:"text-white font-medium",children:d4(l.activityType||"")})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-gray-300 text-sm font-medium",children:l.startTime&&l.endTime&&f4($j(Me(new Date(l.startTime),"HH:mm"),Me(new Date(l.endTime),"HH:mm"),l.activityType))}),c.jsxs("div",{className:"text-right text-gray-300 text-sm",children:[c.jsx("div",{children:l.startTime&&a(l.startTime)}),c.jsx("div",{children:l.endTime&&a(l.endTime)})]})]})]},l.id)):c.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No activities logged ",Ti(t)?"today":"for this date"]})}),c.jsx(zr,{href:`/add-activity?date=${Me(t,"yyyy-MM-dd")}`,onClick:()=>{const l=Me(t,"yyyy-MM-dd");console.log(" MyDayBlock Link Debug - selectedDate:",t),console.log(" MyDayBlock Link Debug - formatted date param:",l),console.log(" MyDayBlock Link Debug - full URL:",`/add-activity?date=${l}`)},children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD ACTIVITY"]})}),c.jsx(zr,{href:`/journal-entry?date=${Me(t,"yyyy-MM-dd")}`,onClick:()=>{Me(t,"yyyy-MM-dd")},children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 mt-2 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"JOURNAL"]})})]})]})}const FD=fz,LD=v.createContext({}),so=({...t})=>c.jsx(LD.Provider,{value:{name:t.name},children:c.jsx(gz,{...t})}),Bh=()=>{const t=v.useContext(LD),e=v.useContext(zD),{getFieldState:n,formState:r}=Ah(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},zD=v.createContext({}),ni=v.forwardRef(({className:t,...e},n)=>{const r=v.useId();return c.jsx(zD.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:Re("space-y-2",t),...e})})});ni.displayName="FormItem";const ri=v.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Bh();return c.jsx(Be,{ref:n,className:Re(r&&"text-destructive",t),htmlFor:s,...e})});ri.displayName="FormLabel";const si=v.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Bh();return c.jsx(ij,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});si.displayName="FormControl";const zU=v.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Bh();return c.jsx("p",{ref:n,id:r,className:Re("text-sm text-muted-foreground",t),...e})});zU.displayName="FormDescription";const ii=v.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Bh(),o=s?String((s==null?void 0:s.message)??""):e;return o?c.jsx("p",{ref:r,id:i,className:Re("text-sm font-medium text-destructive",t),...n,children:o}):null});ii.displayName="FormMessage";const Qm={fat:9,protein:4,carbs:4};function VD(t,e,n){return t*Qm.protein+e*Qm.fat+n*Qm.carbs}function $D(t){const e=t.reduce((n,r)=>({protein:n.protein+(Number(r.protein)||0),fats:n.fats+(Number(r.fats)||0),carbs:n.carbs+(Number(r.carbs)||0)}),{protein:0,fats:0,carbs:0});return{...e,totalCalories:VD(e.protein,e.fats,e.carbs)}}function VU(t,e=7){const n=new Date,r=[];for(let s=e-1;s>=0;s--){const i=al(n,s),o=Me(i,"yyyy-MM-dd"),a=t[o]||[];if(a.length>0){const l=$D(a);r.push({date:o,value:l.totalCalories})}}return r}function $U(t,e){return{protein:e.proteinTarget>0?t.protein/e.proteinTarget*100:0,fats:e.fatsTarget>0?t.fats/e.fatsTarget*100:0,carbs:e.carbsTarget>0?t.carbs/e.carbsTarget*100:0}}const BU=js({proteinTarget:Ud.number().min(0),fatsTarget:Ud.number().min(0),carbsTarget:Ud.number().min(0)});function UU({selectedDate:t}){const e=Dn(),{toast:n}=Bt(),[r,s]=v.useState(!1),{data:i=[]}=zt({queryKey:[`/api/macros/date/${Me(t,"yyyy-MM-dd")}`]}),{data:o}=zt({queryKey:["/api/macro-targets"]}),a=vl({resolver:bl(BU),defaultValues:{proteinTarget:o!=null&&o.proteinTarget?parseFloat(o.proteinTarget.toString()):0,fatsTarget:o!=null&&o.fatsTarget?parseFloat(o.fatsTarget.toString()):0,carbsTarget:o!=null&&o.carbsTarget?parseFloat(o.carbsTarget.toString()):0}});v.useEffect(()=>{o&&a.reset({proteinTarget:parseFloat(o.proteinTarget.toString()),fatsTarget:parseFloat(o.fatsTarget.toString()),carbsTarget:parseFloat(o.carbsTarget.toString())})},[o,a]);const l=Mt({mutationFn:async h=>await Ie("POST","/api/macro-targets",h),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/macro-targets"]}),s(!1),n({title:"Success",description:"Macro targets updated successfully"})},onError:()=>{n({title:"Error",description:"Failed to update macro targets",variant:"destructive"})}}),d=i.reduce((h,m)=>({protein:h.protein+parseFloat(m.protein.toString()),fats:h.fats+parseFloat(m.fats.toString()),carbs:h.carbs+parseFloat(m.carbs.toString())}),{protein:0,fats:0,carbs:0}),f=h=>{l.mutate(h)};return c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Vt,{className:"pb-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-xl font-bold text-gray-800",children:"Nutrition"}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsxs(Ii,{open:r,onOpenChange:s,children:[c.jsx(hD,{asChild:!0,children:c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("button",{className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:["Target: P:",o?parseFloat(o.proteinTarget.toString()):0,"g | F:",o?parseFloat(o.fatsTarget.toString()):0,"g | C:",o?parseFloat(o.carbsTarget.toString()):0,"g"]}),c.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Click to edit targets"})]})}),c.jsxs(Ps,{className:"sm:max-w-[425px] bg-white border-0 shadow-2xl",children:[c.jsx(Ri,{className:"pb-4",children:c.jsx(Fi,{className:"text-xl font-bold text-gray-800 text-center",children:"Edit Macro Targets"})}),c.jsx(FD,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6 px-1",children:[c.jsx(so,{control:a.control,name:"proteinTarget",render:({field:h})=>c.jsxs(ni,{children:[c.jsx(ri,{className:"text-gray-700 font-medium",children:"Protein Target (grams)"}),c.jsx(si,{children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ii,{})]})}),c.jsx(so,{control:a.control,name:"fatsTarget",render:({field:h})=>c.jsxs(ni,{children:[c.jsx(ri,{className:"text-gray-700 font-medium",children:"Fats Target (grams)"}),c.jsx(si,{children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ii,{})]})}),c.jsx(so,{control:a.control,name:"carbsTarget",render:({field:h})=>c.jsxs(ni,{children:[c.jsx(ri,{className:"text-gray-700 font-medium",children:"Carbs Target (grams)"}),c.jsx(si,{children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ii,{})]})}),c.jsx("div",{className:"pt-6 border-t border-gray-200 bg-gray-50 -mx-1 px-4 py-4 rounded-lg",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Total Calories"}),c.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Math.round(VD(parseFloat(a.watch("proteinTarget"))||0,parseFloat(a.watch("fatsTarget"))||0,parseFloat(a.watch("carbsTarget"))||0))}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["P: ",parseFloat(a.watch("proteinTarget"))||0,"g  4 + F: ",parseFloat(a.watch("fatsTarget"))||0,"g  9 + C: ",parseFloat(a.watch("carbsTarget"))||0,"g  4"]})]})}),c.jsx(Q,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:l.isPending,children:l.isPending?"Updating...":"Update Targets"})]})})]})]})})]})}),c.jsxs(ue,{className:"pt-0",children:[c.jsxs("div",{className:"space-y-4 mb-2",children:[c.jsx("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 mb-3",children:i.length>0&&c.jsxs("span",{className:"text-xs text-right",children:["P: ",d.protein,"g | F: ",d.fats,"g | C: ",d.carbs,"g"]})}),i.length>0?i.map(h=>c.jsx("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-green-500 rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12",children:c.jsx("i",{className:"fas fa-utensils text-white text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-medium",children:h.description}),c.jsxs("div",{className:"text-gray-300 text-xs",children:["P: ",h.protein,"g  F: ",h.fats,"g  C: ",h.carbs,"g"]})]})]})},h.id)):c.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No macros logged ",Ti(t)?"today":"for this date"]})]}),c.jsx(zr,{href:`/add-macros?date=${Me(t,"yyyy-MM-dd")}`,children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD MACROS"]})})]})]})}function qf(t,[e,n]){return Math.min(n,Math.max(e,t))}var WU=v.createContext(void 0);function BD(t){const e=v.useContext(WU);return t||e||"ltr"}function UD(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var HU=[" ","Enter","ArrowUp","ArrowDown"],YU=[" ","Enter"],Oo="Select",[Uh,Wh,qU]=ax(Oo),[_l,Rq]=Bo(Oo,[qU,Eh]),Hh=Eh(),[QU,Li]=_l(Oo),[KU,GU]=_l(Oo),WD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,p=Hh(e),[b,x]=v.useState(null),[g,w]=v.useState(null),[S,_]=v.useState(!1),N=BD(u),[C,T]=Bc({prop:r,defaultProp:s??!1,onChange:i,caller:Oo}),[P,O]=Bc({prop:o,defaultProp:a,onChange:l,caller:Oo}),F=v.useRef(null),A=b?y||!!b.closest("form"):!0,[$,V]=v.useState(new Set),I=Array.from($).map(z=>z.props.value).join(";");return c.jsx(F5,{...p,children:c.jsxs(QU,{required:m,scope:e,trigger:b,onTriggerChange:x,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:_a(),value:P,onValueChange:O,open:C,onOpenChange:T,dir:N,triggerPointerDownPosRef:F,disabled:h,children:[c.jsx(Uh.Provider,{scope:e,children:c.jsx(KU,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(z=>{V(B=>new Set(B).add(z))},[]),onNativeOptionRemove:v.useCallback(z=>{V(B=>{const j=new Set(B);return j.delete(z),j})},[]),children:n})}),A?c.jsxs(m2,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:z=>O(z.target.value),disabled:h,form:y,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from($)]},I):null]})})};WD.displayName=Oo;var HD="SelectTrigger",YD=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Hh(n),o=Li(HD,n),a=o.disabled||r,l=We(e,o.onTriggerChange),u=Wh(n),d=v.useRef("touch"),[f,h,m]=g2(p=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),g=y2(b,p,x);g!==void 0&&o.onValueChange(g.value)}),y=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx(pP,{asChild:!0,...i,children:c.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":p2(o.value)?"":void 0,...s,ref:l,onClick:xe(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:xe(s.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:xe(s.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(b&&p.key===" ")&&HU.includes(p.key)&&(y(),p.preventDefault())})})})});YD.displayName=HD;var qD="SelectValue",QD=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Li(qD,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=We(e,l.onValueNodeChange);return Zt(()=>{u(d)},[u,d]),c.jsx(Pe.span,{...a,ref:f,style:{pointerEvents:"none"},children:p2(l.value)?c.jsx(c.Fragment,{children:o}):i})});QD.displayName=qD;var XU="SelectIcon",KD=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(Pe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});KD.displayName=XU;var ZU="SelectPortal",GD=t=>c.jsx(Nh,{asChild:!0,...t});GD.displayName=ZU;var Ao="SelectContent",XD=v.forwardRef((t,e)=>{const n=Li(Ao,t.__scopeSelect),[r,s]=v.useState();if(Zt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?$o.createPortal(c.jsx(ZD,{scope:t.__scopeSelect,children:c.jsx(Uh.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(JD,{...t,ref:e})});XD.displayName=Ao;var lr=10,[ZD,zi]=_l(Ao),JU="SelectContentImpl",eW=Xa("SelectContent.RemoveScroll"),JD=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:b,...x}=t,g=Li(Ao,n),[w,S]=v.useState(null),[_,N]=v.useState(null),C=We(e,H=>S(H)),[T,P]=v.useState(null),[O,F]=v.useState(null),A=Wh(n),[$,V]=v.useState(!1),I=v.useRef(!1);v.useEffect(()=>{if(w)return YM(w)},[w]),FM();const z=v.useCallback(H=>{const[Z,...ze]=A().map(Oe=>Oe.ref.current),[Ee]=ze.slice(-1),be=document.activeElement;for(const Oe of H)if(Oe===be||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Z&&_&&(_.scrollTop=0),Oe===Ee&&_&&(_.scrollTop=_.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==be))return},[A,_]),B=v.useCallback(()=>z([T,w]),[z,T,w]);v.useEffect(()=>{$&&B()},[$,B]);const{onOpenChange:j,triggerPointerDownPosRef:R}=g;v.useEffect(()=>{if(w){let H={x:0,y:0};const Z=Ee=>{var be,Oe;H={x:Math.abs(Math.round(Ee.pageX)-(((be=R.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Oe=R.current)==null?void 0:Oe.y)??0))}},ze=Ee=>{H.x<=10&&H.y<=10?Ee.preventDefault():w.contains(Ee.target)||j(!1),document.removeEventListener("pointermove",Z),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ze,{capture:!0})}}},[w,j,R]),v.useEffect(()=>{const H=()=>j(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[j]);const[D,W]=g2(H=>{const Z=A().filter(be=>!be.disabled),ze=Z.find(be=>be.ref.current===document.activeElement),Ee=y2(Z,H,ze);Ee&&setTimeout(()=>Ee.ref.current.focus())}),G=v.useCallback((H,Z,ze)=>{const Ee=!I.current&&!ze;(g.value!==void 0&&g.value===Z||Ee)&&(P(H),Ee&&(I.current=!0))},[g.value]),ne=v.useCallback(()=>w==null?void 0:w.focus(),[w]),se=v.useCallback((H,Z,ze)=>{const Ee=!I.current&&!ze;(g.value!==void 0&&g.value===Z||Ee)&&F(H)},[g.value]),ge=r==="popper"?Bg:e2,ve=ge===Bg?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:b}:{};return c.jsx(ZD,{scope:n,content:w,viewport:_,onViewportChange:N,itemRefCallback:G,selectedItem:T,onItemLeave:ne,itemTextRefCallback:se,focusSelectedItem:B,selectedItemText:O,position:r,isPositioned:$,searchRef:D,children:c.jsx($x,{as:eW,allowPinchZoom:!0,children:c.jsx(Vx,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:xe(s,H=>{var Z;(Z=g.trigger)==null||Z.focus({preventScroll:!0}),H.preventDefault()}),children:c.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(ge,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...x,...ve,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,H=>{const Z=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Z&&H.key.length===1&&W(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Ee=A().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const be=H.target,Oe=Ee.indexOf(be);Ee=Ee.slice(Oe+1)}setTimeout(()=>z(Ee)),H.preventDefault()}})})})})})})});JD.displayName=JU;var tW="SelectItemAlignedPosition",e2=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Li(Ao,n),o=zi(Ao,n),[a,l]=v.useState(null),[u,d]=v.useState(null),f=We(e,C=>d(C)),h=Wh(n),m=v.useRef(!1),y=v.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:x,focusSelectedItem:g}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&p&&b&&x){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),O=x.getBoundingClientRect();if(i.dir!=="rtl"){const be=O.left-T.left,Oe=P.left-be,qt=C.left-Oe,An=C.width+qt,Ms=Math.max(An,T.width),$i=window.innerWidth-lr,Bi=qf(Oe,[lr,Math.max(lr,$i-Ms)]);a.style.minWidth=An+"px",a.style.left=Bi+"px"}else{const be=T.right-O.right,Oe=window.innerWidth-P.right-be,qt=window.innerWidth-C.right-Oe,An=C.width+qt,Ms=Math.max(An,T.width),$i=window.innerWidth-lr,Bi=qf(Oe,[lr,Math.max(lr,$i-Ms)]);a.style.minWidth=An+"px",a.style.right=Bi+"px"}const F=h(),A=window.innerHeight-lr*2,$=p.scrollHeight,V=window.getComputedStyle(u),I=parseInt(V.borderTopWidth,10),z=parseInt(V.paddingTop,10),B=parseInt(V.borderBottomWidth,10),j=parseInt(V.paddingBottom,10),R=I+z+$+j+B,D=Math.min(b.offsetHeight*5,R),W=window.getComputedStyle(p),G=parseInt(W.paddingTop,10),ne=parseInt(W.paddingBottom,10),se=C.top+C.height/2-lr,ge=A-se,ve=b.offsetHeight/2,H=b.offsetTop+ve,Z=I+z+H,ze=R-Z;if(Z<=se){const be=F.length>0&&b===F[F.length-1].ref.current;a.style.bottom="0px";const Oe=u.clientHeight-p.offsetTop-p.offsetHeight,qt=Math.max(ge,ve+(be?ne:0)+Oe+B),An=Z+qt;a.style.height=An+"px"}else{const be=F.length>0&&b===F[0].ref.current;a.style.top="0px";const qt=Math.max(se,I+p.offsetTop+(be?G:0)+ve)+ze;a.style.height=qt+"px",p.scrollTop=Z-se+p.offsetTop}a.style.margin=`${lr}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,u,p,b,x,i.dir,r]);Zt(()=>w(),[w]);const[S,_]=v.useState();Zt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(C=>{C&&y.current===!0&&(w(),g==null||g(),y.current=!1)},[w,g]);return c.jsx(rW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(Pe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});e2.displayName=tW;var nW="SelectPopperPosition",Bg=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=lr,...i}=t,o=Hh(n);return c.jsx(gP,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bg.displayName=nW;var[rW,Gx]=_l(Ao,{}),Ug="SelectViewport",t2=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=zi(Ug,n),o=Gx(Ug,n),a=We(e,i.onViewportChange),l=v.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Uh.Slot,{scope:n,children:c.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:xe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-lr*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(p,b);if(x<y){const g=x+m,w=Math.min(y,g),S=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});t2.displayName=Ug;var n2="SelectGroup",[sW,iW]=_l(n2),oW=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_a();return c.jsx(sW,{scope:n,id:s,children:c.jsx(Pe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});oW.displayName=n2;var r2="SelectLabel",s2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=iW(r2,n);return c.jsx(Pe.div,{id:s.id,...r,ref:e})});s2.displayName=r2;var Qf="SelectItem",[aW,i2]=_l(Qf),o2=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Li(Qf,n),l=zi(Qf,n),u=a.value===r,[d,f]=v.useState(i??""),[h,m]=v.useState(!1),y=We(e,g=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,g,r,s)}),p=_a(),b=v.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(aW,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(Uh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(Pe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:xe(o.onFocus,()=>m(!0)),onBlur:xe(o.onBlur,()=>m(!1)),onClick:xe(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:xe(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:xe(o.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:xe(o.onPointerMove,g=>{var w;b.current=g.pointerType,s?(w=l.onItemLeave)==null||w.call(l):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:xe(o.onKeyDown,g=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(YU.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});o2.displayName=Qf;var Zl="SelectItemText",a2=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Li(Zl,n),a=zi(Zl,n),l=i2(Zl,n),u=GU(Zl,n),[d,f]=v.useState(null),h=We(e,x=>f(x),l.onItemTextChange,x=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=v.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return Zt(()=>(p(y),()=>b(y)),[p,b,y]),c.jsxs(c.Fragment,{children:[c.jsx(Pe.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$o.createPortal(i.children,o.valueNode):null]})});a2.displayName=Zl;var l2="SelectItemIndicator",c2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return i2(l2,n).isSelected?c.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e}):null});c2.displayName=l2;var Wg="SelectScrollUpButton",u2=v.forwardRef((t,e)=>{const n=zi(Wg,t.__scopeSelect),r=Gx(Wg,t.__scopeSelect),[s,i]=v.useState(!1),o=We(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(f2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});u2.displayName=Wg;var Hg="SelectScrollDownButton",d2=v.forwardRef((t,e)=>{const n=zi(Hg,t.__scopeSelect),r=Gx(Hg,t.__scopeSelect),[s,i]=v.useState(!1),o=We(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(f2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});d2.displayName=Hg;var f2=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=zi("SelectScrollButton",n),o=v.useRef(null),a=Wh(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Zt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Pe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:xe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:xe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:xe(s.onPointerLeave,()=>{l()})})}),lW="SelectSeparator",h2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e})});h2.displayName=lW;var Yg="SelectArrow",cW=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hh(n),i=Li(Yg,n),o=zi(Yg,n);return i.open&&o.position==="popper"?c.jsx(yP,{...s,...r,ref:e}):null});cW.displayName=Yg;var uW="SelectBubbleInput",m2=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=v.useRef(null),i=We(r,s),o=UD(e);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(Pe.select,{...n,style:{...dj,...n.style},ref:i,defaultValue:e})});m2.displayName=uW;function p2(t){return t===""||t===void 0}function g2(t){const e=Sr(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function y2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=dW(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function dW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fW=WD,x2=YD,hW=QD,mW=KD,pW=GD,v2=XD,gW=t2,b2=s2,w2=o2,yW=a2,xW=c2,S2=u2,_2=d2,N2=h2;const Io=fW,Ro=hW,ji=v.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(x2,{ref:r,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(mW,{asChild:!0,children:c.jsx(Ij,{className:"h-4 w-4 opacity-50"})})]}));ji.displayName=x2.displayName;const k2=v.forwardRef(({className:t,...e},n)=>c.jsx(S2,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(PL,{className:"h-4 w-4"})}));k2.displayName=S2.displayName;const C2=v.forwardRef(({className:t,...e},n)=>c.jsx(_2,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Ij,{className:"h-4 w-4"})}));C2.displayName=_2.displayName;const Pi=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(pW,{children:c.jsxs(v2,{ref:s,className:Re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(k2,{}),c.jsx(gW,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(C2,{})]})}));Pi.displayName=v2.displayName;const vW=v.forwardRef(({className:t,...e},n)=>c.jsx(b2,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));vW.displayName=b2.displayName;const nt=v.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(w2,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(xW,{children:c.jsx(Aj,{className:"h-4 w-4"})})}),c.jsx(yW,{children:e})]}));nt.displayName=w2.displayName;const bW=v.forwardRef(({className:t,...e},n)=>c.jsx(N2,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));bW.displayName=N2.displayName;const wW={weight:["lbs","kg"],length:["in","cm"],percentage:["%"],count:["reps","count"]},SW=[{name:"Waist",unit:"length"},{name:"Chest",unit:"length"},{name:"Arms",unit:"length"},{name:"Thighs",unit:"length"},{name:"Hips",unit:"length"},{name:"Body Fat %",unit:"percentage"},{name:"Muscle Mass",unit:"percentage"}];function _W({selectedDate:t}){var _;const[e,n]=v.useState(!1),[r,s]=v.useState(!1),[i,o]=v.useState(""),[a,l]=v.useState("length"),[u,d]=v.useState({}),f=Dn(),h=Me(t,"yyyy-MM-dd"),{data:m=[]}=zt({queryKey:[`/api/metrics/date/${h}`]}),{data:y=[]}=zt({queryKey:["/api/custom-metric-fields"]}),p=m.find(N=>Me(new Date(N.date),"yyyy-MM-dd")===h);v.useEffect(()=>{d({})},[h]),console.log("Metrics Debug:",{tempValues:u,dateStr:h,currentMetric:p});const b=Mt({mutationFn:async N=>{console.log("Creating custom metric field:",N);const C=await Ie("POST","/api/custom-metric-fields",N);return console.log("Custom metric field created:",C),C},onSuccess:N=>{console.log("Custom field creation successful:",N),f.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),o(""),l("length"),s(!1)},onError:N=>{console.error("Error creating custom metric field:",N)}}),x=Mt({mutationFn:async N=>Ie("DELETE",`/api/custom-metric-fields/${N}`),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),y.length<=1&&n(!1)}}),g=Mt({mutationFn:async N=>Ie("POST","/api/metrics",{date:h,weight:N.weight,customFields:N.customFields}),onSuccess:N=>{console.log("Metric saved successfully:",N),f.invalidateQueries({queryKey:[`/api/metrics/date/${h}`]}),d({})},onError:N=>{console.error("Error saving metric:",N)}}),w=N=>{const C=u[N]||"";if(console.log("Saving field:",N,"input value:",C),!C.trim()){console.log("No value to save");return}if(N==="weight"){const T=parseFloat(C),P=(p==null?void 0:p.customFields)||{};console.log("Saving weight:",T),g.mutate({weight:T,customFields:P})}else{const T=p==null?void 0:p.weight,P={...(p==null?void 0:p.customFields)||{},[N]:parseFloat(C)};console.log("Saving custom field:",N,"value:",parseFloat(C)),g.mutate({weight:T,customFields:P})}},S=()=>{if(console.log("addCustomField called",{newFieldName:i,newFieldUnit:a}),i.trim()){const C=wW[a][0];console.log("Creating field with:",{fieldName:i.trim(),unit:C}),b.mutate({fieldName:i.trim(),unit:C})}else console.log("Field name is empty, not creating")};return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-weight text-purple-500 mr-2"}),"Metrics"]})}),c.jsxs(ue,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("div",{className:"w-6 h-6 flex items-center justify-center opacity-30",children:c.jsx("i",{className:"fas fa-ban text-gray-400 text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weight"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ce,{type:"number",inputMode:"decimal",value:u.weight??((_=p==null?void 0:p.weight)==null?void 0:_.toString())??"",onChange:N=>d(C=>({...C,weight:N.target.value})),placeholder:"Enter weight",className:"w-20 h-8"}),c.jsx("span",{className:"text-xs text-gray-500",children:"lbs"}),c.jsx("button",{onClick:()=>{console.log("Save weight clicked!"),w("weight")},disabled:g.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:g.isPending?"Saving...":"Save"})]})]}),y.map(N=>{var C,T;return c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("button",{onClick:()=>x.mutate(N.id),className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:c.jsx("i",{className:"fas fa-times text-white text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.fieldName})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ce,{type:"number",inputMode:"decimal",value:u[N.fieldName]??((T=(C=p==null?void 0:p.customFields)==null?void 0:C[N.fieldName])==null?void 0:T.toString())??"",onChange:P=>d(O=>({...O,[N.fieldName]:P.target.value})),placeholder:`Enter ${N.fieldName.toLowerCase()}`,className:"w-20 h-8"}),c.jsx("span",{className:"text-xs text-gray-500",children:N.unit}),c.jsx("button",{onClick:()=>{console.log("Save",N.fieldName,"clicked!"),w(N.fieldName)},disabled:g.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:g.isPending?"Saving...":"Save"})]})]},N.id)})]}),c.jsxs("div",{className:"space-y-3 mt-4",children:[c.jsxs(Ii,{open:r,onOpenChange:s,children:[c.jsx(hD,{asChild:!0,children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",onClick:()=>n(!1),children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD CUSTOM METRIC"]})}),c.jsxs(Ps,{children:[c.jsx(Ri,{children:c.jsx(Fi,{children:"Add Custom Metric"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Be,{children:"Metric Name"}),c.jsxs(Io,{value:i,onValueChange:o,children:[c.jsx(ji,{children:c.jsx(Ro,{placeholder:"Select or type custom metric"})}),c.jsx(Pi,{children:SW.map(N=>c.jsx(nt,{value:N.name,children:N.name},N.name))})]}),c.jsx(Ce,{placeholder:"Or type custom metric name",value:i,onChange:N=>o(N.target.value),className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{children:"Unit Type"}),c.jsxs(Io,{value:a,onValueChange:l,children:[c.jsx(ji,{children:c.jsx(Ro,{})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"length",children:"Length (in/cm)"}),c.jsx(nt,{value:"percentage",children:"Percentage (%)"}),c.jsx(nt,{value:"count",children:"Count/Reps"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(Q,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),c.jsx(Q,{onClick:()=>{console.log("Add Metric button clicked"),S()},disabled:!i.trim()||b.isPending,className:"bg-purple-500 hover:bg-purple-600 text-white",children:b.isPending?"Adding...":"Add Metric"})]})]})]})]}),y.length>0&&c.jsxs(Q,{onClick:()=>n(!e),className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-edit mr-2"}),e?"DONE EDITING":"EDIT METRICS"]})]})]})]})}function NW({selectedDate:t}){var S;const[e,n]=v.useState(!1),[r,s]=v.useState(0),[i,o]=v.useState(!1),a=v.useRef(null),{toast:l}=Bt(),u=Me(t,"yyyy-MM-dd"),{data:d=[]}=zt({queryKey:[`/api/photos/date/${u}`]}),f=Mt({mutationFn:async _=>{const N=new FormData;return Array.from(_).forEach(C=>{N.append("photos",C)}),N.append("date",u),Ie("POST","/api/photos",N)},onSuccess:()=>{Ki.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Ki.invalidateQueries({queryKey:["/api/photos"]}),Ki.invalidateQueries({predicate:_=>{var N;return(N=_.queryKey[0])==null?void 0:N.toString().includes("/api/photos")}}),l({title:"Success",description:"Photos uploaded successfully!"})},onError:_=>{l({title:"Error",description:`Failed to upload photos: ${_.message}`,variant:"destructive"})}}),h=Mt({mutationFn:async _=>Ie("DELETE",`/api/photos/${_}`),onSuccess:()=>{Ki.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Ki.invalidateQueries({queryKey:["/api/photos"]}),Ki.invalidateQueries({predicate:_=>{var N;return(N=_.queryKey[0])==null?void 0:N.toString().includes("/api/photos")}}),l({title:"Success",description:"Photo deleted successfully!"})},onError:_=>{l({title:"Error",description:`Failed to delete photo: ${_.message}`,variant:"destructive"})}}),m=_=>{const N=_.target.files;N&&N.length>0&&f.mutate(N)},y=()=>{var _;(_=a.current)==null||_.click()},p=()=>{if(d.length>0&&r<d.length){const _=d[r];h.mutate(_.id),n(!1)}},b=_=>{s(_),o(!1),n(!0)},x=_=>{o(!1),s(_==="prev"?N=>N>0?N-1:d.length-1:N=>N<d.length-1?N+1:0)};v.useEffect(()=>{const _=N=>{e&&(N.key==="Escape"?n(!1):N.key==="ArrowLeft"&&d.length>1?x("prev"):N.key==="ArrowRight"&&d.length>1&&x("next"))};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[e,d.length]);const g=_=>{if(_.thumbnailUrl)return _.thumbnailUrl;const N=localStorage.getItem("authToken");return N?`/api/photos/${_.filename}?thumbnail=true&token=${N}`:"/placeholder-image.jpg"},w=_=>{if(_.imageUrl)return _.imageUrl;const N=localStorage.getItem("authToken");return N?`/api/photos/${_.filename}?token=${N}`:"/placeholder-image.jpg"};return c.jsxs(c.Fragment,{children:[c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxHeight:"70vh"},children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-camera text-blue-500 mr-2"}),"Progress Photos",c.jsx("span",{className:"text-sm text-gray-500 ml-2",children:Ti(t)?"Today":Me(t,"MMM d, yyyy")})]})}),c.jsxs(ue,{className:"pt-0",children:[d.length>0?c.jsx("div",{className:"grid gap-2 overflow-y-auto",style:{gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",maxHeight:"calc(70vh - 200px)"},children:d.map((_,N)=>c.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>b(N),children:c.jsx("img",{src:g(_),alt:`Progress photo ${N+1}`,className:"w-full h-full object-cover",style:{filter:"blur(6px)"}})},_.id))}):c.jsxs("div",{className:"text-gray-500 text-center pt-0 py-2",children:["No photos uploaded ",Ti(t)?"today":"for this date"]}),c.jsxs("div",{className:"flex space-x-2 mt-2",children:[c.jsxs(Q,{onClick:y,disabled:f.isPending,className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2 text-xs"}),f.isPending?"Uploading...":"ADD PHOTOS"]}),d.length>0&&c.jsx(Q,{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 text-sm",children:c.jsx("i",{className:"fas fa-trash text-xs"})})]}),c.jsx("input",{ref:a,type:"file",accept:"image/*",multiple:!0,onChange:m,className:"hidden"})]})]}),c.jsx(Ii,{open:e,onOpenChange:n,children:c.jsxs(Ps,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Ri,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsxs(Fi,{className:"text-center text-lg font-semibold",children:["Progress Photo ",r+1," of ",d.length]})}),d.length>0&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[d.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!i&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:w(d[r]),alt:`Progress photo ${r+1}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${i?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>o(!0),onError:()=>o(!0)})]}),d.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:(S=d[r])==null?void 0:S.originalName}),c.jsxs(Q,{onClick:p,variant:"destructive",size:"sm",children:[c.jsx("i",{className:"fas fa-trash mr-2"}),"Delete Photo"]})]})]})})]})}function Gb(t,e){const[n,r,s]=t.split("-").map(Number),[i,o]=e.split(":").map(Number);return new Date(n,r-1,s,i,o,0,0)}function T2(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r,0,0,0,0)}function Km(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function kW(t,e,n){if(n==="sleep"&&e<=t){const r=new Date(e);return r.setDate(r.getDate()+1),r}return e}function CW(){const{user:t}=Uo(),[e,n]=v.useState(new Date);v.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("date");if(console.log(" DETAILED Home Page URL Debug:"),console.log("1. Current URL:",window.location.href),console.log("2. URL Search Params:",window.location.search),console.log("3. dateParam from URL:",a),console.log("4. Current selectedDate before update:",e),console.log("5. Current selectedDate toString():",e.toString()),a){const l=T2(a);console.log("6. Creating new Date from dateParam using createDateFromString:",a),console.log("7. New Date Object:",l),console.log("8. New Date toString():",l.toString()),console.log("9. New Date toDateString():",l.toDateString()),console.log("10. New Date getDate():",l.getDate()),console.log("11. New Date getMonth():",l.getMonth()),console.log("12. New Date getFullYear():",l.getFullYear()),n(l),console.log("13. Set selectedDate to new date"),window.history.replaceState({},"","/"),console.log("14. Cleaned URL")}else console.log("6. NO dateParam found, keeping selectedDate as:",e.toString())},[]);const{data:r=[]}=zt({queryKey:Ti(e)?["/api/progress"]:[`/api/progress/date/${Me(e,"yyyy-MM-dd")}`],enabled:!!t}),{data:s=[]}=zt({queryKey:["/api/photos"],enabled:!!t});console.log("Home page - photos:",s),console.log("Home page - photos length:",s.length);const i=()=>{const o=["Every step counts! Keep pushing forward.","You're stronger than yesterday.","Progress, not perfection.","Your only competition is who you were yesterday.","Believe in yourself and keep going!"];return o[Math.floor(Math.random()*o.length)]};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome back, ",(t==null?void 0:t.firstName)||(t==null?void 0:t.username),"!"]}),c.jsx("h2",{className:"text-gray-800 text-lg flex mb-6 items-center",children:i()}),c.jsx(FU,{selectedDate:e,onDateChange:n})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mb-4 gap-x-4",children:[c.jsx(LU,{selectedDate:e}),c.jsx(_W,{selectedDate:e}),c.jsx(NW,{selectedDate:e}),c.jsx(UU,{selectedDate:e})]}),Array.isArray(r)&&r.length>0&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mt-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Recent Progress"})}),c.jsx(ue,{children:c.jsx("div",{className:"space-y-4",children:r.slice(0,3).map((o,a)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ec4899"}}),c.jsx("span",{className:"font-medium text-gray-700 capitalize",children:o.goalType.replace("-"," ")})]}),c.jsx("div",{className:"text-right",children:c.jsxs("span",{className:"text-lg font-bold",style:{color:"#be185d"},children:[o.progressValue,"%"]})})]},a))})})]})]})]})}const TW=js({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function jW({data:t,updateData:e,onNext:n}){const{user:r}=Uo(),{register:s,handleSubmit:i,setValue:o,watch:a,formState:{errors:l}}=vl({resolver:bl(TW),defaultValues:{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType}}),u=f=>{console.log("Image uploaded:",f)},d=f=>{e(f),n()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(ue,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Create Your Profile"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Tell us about yourself to personalize your journey"}),c.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Lh,{firstName:r==null?void 0:r.firstName,lastName:r==null?void 0:r.lastName,profileImageUrl:r==null?void 0:r.profileImageUrl,size:"xl",onImageUpload:u,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a photo or use your initials"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"gender",children:"Gender"}),c.jsxs(Io,{onValueChange:f=>o("gender",f),defaultValue:t.gender,children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Ro,{placeholder:"Select"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"female",children:"Female"}),c.jsx(nt,{value:"male",children:"Male"}),c.jsx(nt,{value:"non-binary",children:"Non-binary"}),c.jsx(nt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"birthday",children:"Birthday"}),c.jsx(Ce,{id:"birthday",type:"date",...s("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"height",children:"Height"}),c.jsx(Ce,{id:"height",...s("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"weight",children:"Weight"}),c.jsx(Ce,{id:"weight",...s("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Io,{onValueChange:f=>o("bodyType",f),defaultValue:t.bodyType,children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Ro,{placeholder:"Select"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"petite",children:"Petite"}),c.jsx(nt,{value:"lean",children:"Lean"}),c.jsx(nt,{value:"average",children:"Average"}),c.jsx(nt,{value:"athletic",children:"Athletic"}),c.jsx(nt,{value:"muscular",children:"Muscular"}),c.jsx(nt,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl text-center",children:"Continue"})]})]})})}const PW=[{id:"general-fitness",label:"General Fitness",icon:"fas fa-running"},{id:"cardio",label:"Cardio",icon:"fas fa-heartbeat"},{id:"strength",label:"Strength",icon:"fas fa-dumbbell"},{id:"muscle-mass",label:"Muscle Mass",icon:"fas fa-fist-raised"},{id:"weight-loss",label:"Weight Loss",icon:"fas fa-weight"},{id:"improve-diet",label:"Improve Diet",icon:"fas fa-apple-alt"}];function EW({data:t,updateData:e,onNext:n}){const[r,s]=v.useState(t.goals);v.useEffect(()=>{e({goals:r})},[r,e]);const i=a=>{s(l=>l.includes(a)?l.filter(u=>u!==a):[...l,a])},o=()=>{r.length!==0&&n()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(ue,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"What Are Your Goals?"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Select all that apply to personalize your experience"}),c.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:PW.map(a=>c.jsxs("button",{onClick:()=>i(a.id),className:`p-4 border-2 rounded-xl text-center transition-all duration-300 ${r.includes(a.id)?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-primary-50"}`,children:[c.jsx("i",{className:`${a.icon} text-2xl text-primary-300 mb-2`}),c.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.id))}),c.jsx(Q,{onClick:o,disabled:r.length===0,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed text-center",children:"Continue"}),r.length===0&&c.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Please select at least one goal to continue"})]})})}var j2=["PageUp","PageDown"],P2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nl="Slider",[qg,MW,DW]=ax(Nl),[M2,Fq]=Bo(Nl,[DW]),[OW,Yh]=M2(Nl),D2=v.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...p}=t,b=v.useRef(new Set),x=v.useRef(0),w=o==="horizontal"?AW:IW,[S=[],_]=Bc({prop:d,defaultProp:u,onChange:F=>{var $;($=[...b.current][x.current])==null||$.focus(),f(F)}}),N=v.useRef(S);function C(F){const A=VW(S,F);O(F,A)}function T(F){O(F,x.current)}function P(){const F=N.current[x.current];S[x.current]!==F&&h(S)}function O(F,A,{commit:$}={commit:!1}){const V=WW(i),I=HW(Math.round((F-r)/i)*i+r,V),z=qf(I,[r,s]);_((B=[])=>{const j=LW(B,z,A);if(UW(j,l*i)){x.current=j.indexOf(z);const R=String(j)!==String(B);return R&&$&&h(j),R?j:B}else return B})}return c.jsx(OW,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:x,thumbs:b.current,values:S,orientation:o,form:y,children:c.jsx(qg.Provider,{scope:t.__scopeSlider,children:c.jsx(qg.Slot,{scope:t.__scopeSlider,children:c.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...p,ref:e,onPointerDown:xe(p.onPointerDown,()=>{a||(N.current=S)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:C,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&O(r,0,{commit:!0}),onEndKeyDown:()=>!a&&O(s,S.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:A})=>{if(!a){const I=j2.includes(F.key)||F.shiftKey&&P2.includes(F.key)?10:1,z=x.current,B=S[z],j=i*I*A;O(B+j,z,{commit:!0})}}})})})})});D2.displayName=Nl;var[O2,A2]=M2(Nl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),AW=v.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=v.useState(null),m=We(e,w=>h(w)),y=v.useRef(void 0),p=BD(s),b=p==="ltr",x=b&&!i||!b&&i;function g(w){const S=y.current||f.getBoundingClientRect(),_=[0,S.width],C=Xx(_,x?[n,r]:[r,n]);return y.current=S,C(w-S.left)}return c.jsx(O2,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(I2,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=g(w.clientX);o==null||o(S)},onSlideMove:w=>{const S=g(w.clientX);a==null||a(S)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:w=>{const _=E2[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:_?-1:1})}})})}),IW=v.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=v.useRef(null),f=We(e,d),h=v.useRef(void 0),m=!s;function y(p){const b=h.current||d.current.getBoundingClientRect(),x=[0,b.height],w=Xx(x,m?[r,n]:[n,r]);return h.current=b,w(p-b.top)}return c.jsx(O2,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(I2,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const b=y(p.clientY);i==null||i(b)},onSlideMove:p=>{const b=y(p.clientY);o==null||o(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:p=>{const x=E2[m?"from-bottom":"from-top"].includes(p.key);l==null||l({event:p,direction:x?-1:1})}})})}),I2=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=Yh(Nl,n);return c.jsx(Pe.span,{...u,ref:e,onKeyDown:xe(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):j2.concat(P2).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:xe(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:xe(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:xe(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),R2="SliderTrack",F2=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Yh(R2,n);return c.jsx(Pe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});F2.displayName=R2;var Qg="SliderRange",L2=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Yh(Qg,n),i=A2(Qg,n),o=v.useRef(null),a=We(e,o),l=s.values.length,u=s.values.map(h=>$2(h,s.min,s.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(Pe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});L2.displayName=Qg;var Kg="SliderThumb",z2=v.forwardRef((t,e)=>{const n=MW(t.__scopeSlider),[r,s]=v.useState(null),i=We(e,a=>s(a)),o=v.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(RW,{...t,ref:i,index:o})}),RW=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Yh(Kg,n),a=A2(Kg,n),[l,u]=v.useState(null),d=We(e,g=>u(g)),f=l?o.form||!!l.closest("form"):!0,h=iP(l),m=o.values[r],y=m===void 0?0:$2(m,o.min,o.max),p=zW(r,o.values.length),b=h==null?void 0:h[a.size],x=b?$W(b,y,a.direction):0;return v.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${x}px)`},children:[c.jsx(qg.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Pe.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&c.jsx(V2,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});z2.displayName=Kg;var FW="RadioBubbleInput",V2=v.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=v.useRef(null),i=We(s,r),o=UD(e);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(Pe.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});V2.displayName=FW;function LW(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function $2(t,e,n){const i=100/(n-e)*(t-e);return qf(i,[0,100])}function zW(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function VW(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function $W(t,e,n){const r=t/2,i=Xx([0,50],[0,r]);return(r-i(e)*n)*n}function BW(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function UW(t,e){if(e>0){const n=BW(t);return Math.min(...n)>=e}return!0}function Xx(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function WW(t){return(String(t).split(".")[1]||"").length}function HW(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var B2=D2,YW=F2,qW=L2,QW=z2;const U2=v.forwardRef(({className:t,...e},n)=>c.jsxs(B2,{ref:n,className:Re("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(YW,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(qW,{className:"absolute h-full bg-primary"})}),c.jsx(QW,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));U2.displayName=B2.displayName;function KW({isOpen:t,onClose:e,onFileSelect:n}){const r=v.useRef(null),s=v.useRef(null),i=u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];d&&d.type.startsWith("image/")&&(n(d),e())},o=()=>{var u;(u=r.current)==null||u.click()},a=()=>{var u;(u=s.current)==null||u.click()},l=()=>{var u;(u=r.current)==null||u.click()};return c.jsxs(c.Fragment,{children:[c.jsx(Ii,{open:t,onOpenChange:e,children:c.jsxs(Ps,{className:"max-w-sm",children:[c.jsxs(Ri,{children:[c.jsx(Fi,{className:"text-center",children:"Select Photo"}),c.jsx(Hx,{className:"text-center",children:"Choose how you'd like to add your profile photo"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Q,{onClick:o,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-images mr-2"}),"Photo Library"]}),c.jsxs(Q,{onClick:a,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-camera mr-2"}),"Take Photo"]}),c.jsxs(Q,{onClick:l,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-folder mr-2"}),"Choose Files"]}),c.jsx(Q,{onClick:e,variant:"ghost",className:"w-full text-center justify-center",children:"Cancel"})]})]})}),c.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:i,className:"hidden"}),c.jsx("input",{ref:s,type:"file",accept:"image/*",capture:"environment",onChange:i,className:"hidden"})]})}function GW({photos:t,onPhotosChange:e,maxPhotos:n=5}){v.useRef(null);const[r,s]=v.useState(!1),[i,o]=v.useState(!1),a=y=>{if(!y)return;const p=Array.from(y).filter(x=>x.type.startsWith("image/"));if(t.length+p.length>n){alert(`Maximum ${n} photos allowed`);return}e([...t,...p])},l=()=>{o(!0)},u=y=>{e([...t,y]),o(!1)},d=y=>{y.preventDefault(),s(!1),a(y.dataTransfer.files)},f=y=>{y.preventDefault(),s(!0)},h=y=>{y.preventDefault(),s(!1)},m=y=>{e(t.filter((p,b)=>b!==y))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{onClick:l,onDrop:d,onDragOver:f,onDragLeave:h,className:`
          photo-upload-area rounded-xl p-8 text-center cursor-pointer transition-all duration-300
          ${r?"border-primary-300 bg-primary-50":"border-secondary-300"}
          ${t.length>=n?"opacity-50 cursor-not-allowed":""}
        `,children:[c.jsx("i",{className:"fas fa-camera text-3xl text-secondary-300 mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t.length>=n?"Maximum photos reached":"Tap to add photos"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[t.length,"/",n," photos"]})]}),c.jsx(KW,{isOpen:i,onClose:()=>o(!1),onFileSelect:u}),t.length>0&&c.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.map((y,p)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[c.jsx("img",{src:URL.createObjectURL(y),alt:`Preview ${p+1}`,className:"w-full h-full object-cover"}),c.jsx("button",{onClick:b=>{b.stopPropagation(),m(p)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:c.jsx("i",{className:"fas fa-times"})})]},p))})]})}function XW(t){return/^401: .*Unauthorized/.test(t.message)}const ZW={"general-fitness":"General Fitness",cardio:"Cardio",strength:"Strength","muscle-mass":"Muscle Mass","weight-loss":"Weight Loss","improve-diet":"Improve Diet"};function JW({data:t,updateData:e}){const[n,r]=v.useState(t.progress),[s,i]=v.useState(t.photos),{toast:o}=Bt();v.useEffect(()=>{const f={};t.goals.forEach(h=>{f[h]=n[h]||50}),r(f),e({progress:f})},[t.goals]);const a=Mt({mutationFn:async()=>{if(await Ie("POST","/api/onboarding/complete",{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType,goals:t.goals,progress:n}),s.length>0){const f=new FormData;s.forEach(h=>{f.append("photos",h)}),await fetch("/api/photos",{method:"POST",body:f,credentials:"include"})}},onSuccess:()=>{o({title:"Welcome to Journey!",description:"Your account has been created successfully."}),window.location.reload()},onError:f=>{if(XW(f)){o({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}o({title:"Error",description:"Failed to complete onboarding. Please try again.",variant:"destructive"})}}),l=(f,h)=>{const m={...n,[f]:h[0]};r(m),e({progress:m})},u=f=>{i(f),e({photos:f})},d=()=>{a.mutate()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(ue,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Current Progress"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Rate your current level in each selected area"}),c.jsx("div",{className:"space-y-6 mb-8",children:t.goals.map(f=>c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Be,{className:"text-sm font-medium text-gray-700",children:ZW[f]}),c.jsxs("span",{className:"text-sm font-semibold text-primary-300",children:[n[f]||50,"%"]})]}),c.jsx(U2,{value:[n[f]||50],onValueChange:h=>l(f,h),max:100,step:5,className:"w-full"})]},f))}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Progress Photos (Optional)"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload up to 5 photos to track your visual progress"}),c.jsx(GW,{photos:s,onPhotosChange:u,maxPhotos:5})]}),c.jsx(Q,{onClick:d,disabled:a.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 text-center",children:a.isPending?"Creating Account...":"Create My Account"})]})})}function e8(){const[t,e]=v.useState(1),[n,r]=v.useState({gender:"",birthday:"",height:"",weight:"",bodyType:"",goals:[],progress:{},photos:[]}),s=v.useCallback(l=>{r(u=>({...u,...l}))},[]),i=()=>{t<3&&e(l=>l+1)},o=()=>{t>1&&e(l=>l-1)},a=()=>{localStorage.removeItem("authToken"),window.location.reload()};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm p-4",children:c.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[c.jsx("button",{onClick:t>1?o:a,className:"text-gray-600 hover:text-gray-800 transition-colors",children:c.jsx("i",{className:"fas fa-arrow-left text-xl"})}),c.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(l=>c.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${l<=t?"bg-primary-300":"bg-gray-300"}`},l))}),c.jsx("div",{className:"w-6"})]})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[t===1&&c.jsx(jW,{data:n,updateData:s,onNext:i}),t===2&&c.jsx(EW,{data:n,updateData:s,onNext:i}),t===3&&c.jsx(JW,{data:n,updateData:s})]})})]})}function W2({isOpen:t,onClose:e,mode:n,onSuccess:r}){const[s,i]=v.useState(""),[o,a]=v.useState(""),[l,u]=v.useState("ask"),{toast:d}=Bt(),f=Dn(),h=Mt({mutationFn:async g=>await Ie("PUT","/api/user/photos-pin",g),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/user"]}),r&&r(),y()},onError:()=>{d({title:"Error",description:"Failed to update PIN settings",variant:"destructive"})}}),m=Mt({mutationFn:async g=>await Ie("POST","/api/user/verify-photos-pin",{pin:g}),onSuccess:()=>{r&&r(),y()},onError:()=>{d({title:"Incorrect PIN",description:"Please try again",variant:"destructive"}),i("")}}),y=()=>{i(""),a(""),u("ask"),e()},p=g=>{g?u("enter"):h.mutate({enabled:!1})},b=()=>{if(n==="verify"){m.mutate(s);return}if(l==="enter"){if(s.length!==4){d({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}u("confirm");return}if(l==="confirm"){if(s!==o){d({title:"PINs don't match",description:"Please try again",variant:"destructive"}),i(""),a(""),u("enter");return}h.mutate({pin:s,enabled:!0})}},x=()=>{if(n==="verify")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Enter PIN"}),c.jsx("p",{className:"text-gray-600",children:"Please enter your 4-digit PIN to access photos"}),c.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(Q,{onClick:b,disabled:s.length!==4||m.isPending,className:"w-full",children:m.isPending?"Verifying...":"Unlock"})]});if(l==="ask")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Protect Your Photos"}),c.jsx("p",{className:"text-gray-600",children:"We know your progress can be personal, so we securely store your photos here in the app instead of your camera roll.  Would you like to set up a 4 digit PIN to access the photos page? If you opt out now and change your mind, you can always create one in the settings."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Q,{onClick:()=>p(!0),className:"w-full",children:"Yes, Set PIN"}),c.jsx(Q,{onClick:()=>p(!1),variant:"outline",className:"w-full",children:"No Thanks"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"You can always enable PIN protection later in Settings"})]});if(l==="enter")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Set Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Choose a 4-digit PIN"}),c.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(Q,{onClick:b,disabled:s.length!==4,className:"w-full",children:"Continue"})]});if(l==="confirm")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Enter your PIN again to confirm"}),c.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:g=>a(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(Q,{onClick:b,disabled:o.length!==4||h.isPending,className:"w-full",children:h.isPending?"Setting up...":"Set PIN"})]})};return c.jsx(Ii,{open:t,onOpenChange:y,children:c.jsxs(Ps,{className:"max-w-sm",children:[c.jsx(Ri,{children:c.jsx(Fi,{className:"text-center",children:n==="setup"?"Photo Protection":n==="update"?"Update PIN":"Photos Protected"})}),x()]})})}function t8({variant:t="default",size:e="md",className:n=""}){const[r,s]=v.useState(null),[i,o]=v.useState(!1),{canInstall:a,isInstalled:l}=lz();v.useEffect(()=>{const d=h=>{const m=h;h.preventDefault(),s(m)},f=()=>{s(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const u=async()=>{if(r){o(!0);try{await r.prompt();const{outcome:d}=await r.userChoice;console.log(d==="accepted"?" PWA install accepted":" PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{o(!1),s(null)}}};return l?c.jsxs(Q,{variant:t,size:e,disabled:!0,className:n,children:[c.jsx(Aj,{className:"w-4 h-4 mr-2"}),"App Installed"]}):!a||!r?null:c.jsx(Q,{onClick:u,disabled:i,variant:t,size:e,className:n,children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Cg,{className:"w-4 h-4 mr-2"}),"Install App"]})})}function Xb(t,e,n){const r=MD(),s=s8(t,n.timeZone,n.locale??r.locale);return"formatToParts"in s?n8(s,e):r8(s,e)}function n8(t,e){const n=t.formatToParts(e);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function r8(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function s8(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function i8(t,e){const n=u8(e);return"formatToParts"in n?a8(n,t):l8(n,t)}const o8={year:0,month:1,day:2,hour:3,minute:4,second:5};function a8(t,e){try{const n=t.formatToParts(e),r=[];for(let s=0;s<n.length;s++){const i=o8[n[s].type];i!==void 0&&(r[i]=parseInt(n[s].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function l8(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const Gm={},Zb=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),c8=Zb==="06/25/2014, 00:00:00"||Zb==="06/25/2014 00:00:00";function u8(t){return Gm[t]||(Gm[t]=c8?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Gm[t]}function H2(t,e,n,r,s,i,o){const a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,s,i,o),a}const Jb=36e5,d8=6e4,Xm={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Zx(t,e,n){if(!t)return 0;let r=Xm.timezoneZ.exec(t);if(r)return 0;let s,i;if(r=Xm.timezoneHH.exec(t),r)return s=parseInt(r[1],10),ew(s)?-(s*Jb):NaN;if(r=Xm.timezoneHHMM.exec(t),r){s=parseInt(r[2],10);const o=parseInt(r[3],10);return ew(s,o)?(i=Math.abs(s)*Jb+o*d8,r[1]==="+"?-i:i):NaN}if(m8(t)){e=new Date(e||Date.now());const o=n?e:f8(e),a=Gg(o,t);return-(n?a:h8(e,a,t))}return NaN}function f8(t){return H2(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Gg(t,e){const n=i8(t,e),r=H2(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=t.getTime();const i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function h8(t,e,n){let s=t.getTime()-e;const i=Gg(new Date(s),n);if(e===i)return e;s-=i-e;const o=Gg(new Date(s),n);return i===o?i:Math.max(i,o)}function ew(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const tw={};function m8(t){if(tw[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),tw[t]=!0,!0}catch{return!1}}const p8=60*1e3,g8={X:function(t,e,n){const r=Zm(n.timeZone,t);if(r===0)return"Z";switch(e){case"X":return nw(r);case"XXXX":case"XX":return ta(r);case"XXXXX":case"XXX":default:return ta(r,":")}},x:function(t,e,n){const r=Zm(n.timeZone,t);switch(e){case"x":return nw(r);case"xxxx":case"xx":return ta(r);case"xxxxx":case"xxx":default:return ta(r,":")}},O:function(t,e,n){const r=Zm(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+y8(r,":");case"OOOO":default:return"GMT"+ta(r,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return Xb("short",t,n);case"zzzz":default:return Xb("long",t,n)}}};function Zm(t,e){const n=t?Zx(t,e,!0)/p8:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function Kf(t,e){const n=t<0?"-":"";let r=Math.abs(t).toString();for(;r.length<e;)r="0"+r;return n+r}function ta(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Kf(Math.floor(r/60),2),i=Kf(Math.floor(r%60),2);return n+s+e+i}function nw(t,e){return t%60===0?(t>0?"-":"+")+Kf(Math.abs(t)/60,2):ta(t,e)}function y8(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Kf(i,2)}function rw(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const x8=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Jm=36e5,sw=6e4,v8=2,gn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:x8};function Y2(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?v8:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=b8(t),{year:s,restDateString:i}=w8(r.date,n),o=S8(i,s);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const a=o.getTime();let l=0,u;if(r.time&&(l=_8(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(u=Zx(r.timeZone||e.timeZone,new Date(a+l)),isNaN(u))return new Date(NaN)}else u=rw(new Date(a+l)),u=rw(new Date(a+l+u));return new Date(a+l+u)}else return new Date(NaN)}function b8(t){const e={};let n=gn.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=gn.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const s=gn.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function w8(t,e){if(t){const n=gn.YYY[e],r=gn.YYYYY[e];let s=gn.YYYY.exec(t)||r.exec(t);if(s){const i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=gn.YY.exec(t)||n.exec(t),s){const i=s[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function S8(t,e){if(e===null)return null;let n,r,s;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=gn.MM.exec(t);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,ow(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(i=gn.DDD.exec(t),i){n=new Date(0);const o=parseInt(i[1],10);return C8(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(i=gn.MMDD.exec(t),i){n=new Date(0),r=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return ow(e,r,o)?(n.setUTCFullYear(e,r,o),n):new Date(NaN)}if(i=gn.Www.exec(t),i)return s=parseInt(i[1],10)-1,aw(s)?iw(e,s):new Date(NaN);if(i=gn.WwwD.exec(t),i){s=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return aw(s,o)?iw(e,s,o):new Date(NaN)}return null}function _8(t){let e,n,r=gn.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),ep(e)?e%24*Jm:NaN;if(r=gn.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),ep(e,n)?e%24*Jm+n*sw:NaN;if(r=gn.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const s=parseFloat(r[3].replace(",","."));return ep(e,n,s)?e%24*Jm+n*sw+s*1e3:NaN}return null}function iw(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const N8=[31,28,31,30,31,30,31,31,30,31,30,31],k8=[31,29,31,30,31,30,31,31,30,31,30,31];function q2(t){return t%400===0||t%4===0&&t%100!==0}function ow(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=q2(t);if(r&&n>k8[e]||!r&&n>N8[e])return!1}return!0}function C8(t,e){if(e<1)return!1;const n=q2(t);return!(n&&e>366||!n&&e>365)}function aw(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function ep(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const T8=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function j8(t,e,n={}){e=String(e);const r=e.match(T8);if(r){const s=Y2(n.originalDate||t,n);e=r.reduce(function(i,o){if(o[0]==="'")return i;const a=i.indexOf(o),l=i[a-1]==="'",u=i.replace(o,"'"+g8[o[0]](s,o,n)+"'");return l?u.substring(0,a-1)+u.substring(a+1):u},e)}return Me(t,e,n)}function Q2(t,e,n){t=Y2(t,n);const r=Zx(e,t,!0),s=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),i.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),i}function Jx(t,e,n,r){return r={...r,timeZone:e,originalDate:t},j8(Q2(t,e,{timeZone:r.timeZone}),n,r)}function Gf(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return console.warn("Failed to detect timezone, falling back to UTC:",t),"UTC"}}function qh(){const t=localStorage.getItem("user_timezone");if(t)return t;const e=Gf();return localStorage.setItem("user_timezone",e),e}function Xg(t){localStorage.setItem("user_timezone",t)}function P8(){const t=qh();return Jx(new Date,t,"yyyy-MM-dd")}function E8(){const t=qh();return Q2(new Date,t)}function xc(t,e){const n=qh(),r=typeof t=="string"?$h(t):t;return Jx(r,n,e)}function M8(){const t=new Date;return["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Anchorage","Pacific/Honolulu","Europe/London","Europe/Paris","Europe/Berlin","Europe/Rome","Europe/Moscow","Asia/Tokyo","Asia/Shanghai","Asia/Kolkata","Asia/Dubai","Australia/Sydney","Australia/Melbourne","Pacific/Auckland","UTC"].map(n=>{try{const r=Jx(t,n,"XXX"),s=n.replace("_"," ").replace("/"," - ");return{value:n,label:`${s} (${r})`,offset:r}}catch{return{value:n,label:n,offset:"+00:00"}}}).sort((n,r)=>n.label.localeCompare(r.label))}function K2(){if(!localStorage.getItem("user_timezone")){const e=Gf();Xg(e),console.log(" Auto-detected timezone:",e)}}function D8({className:t}){const[e,n]=v.useState(""),[r,s]=v.useState(""),{toast:i}=Bt();v.useEffect(()=>{n(qh()),s(Gf())},[]);const o=d=>{n(d),Xg(d),i({title:"Timezone Updated",description:`Timezone changed to ${d}`})},a=()=>{const d=Gf();n(d),Xg(d),i({title:"Timezone Auto-detected",description:`Set to ${d}`})},l=M8(),u=xc(new Date,"PPP p");return c.jsxs(ce,{className:t,children:[c.jsx(Vt,{children:c.jsxs($t,{className:"flex items-center",children:[c.jsx("i",{className:"fas fa-globe mr-2"}),"Timezone Settings"]})}),c.jsxs(ue,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Current Timezone"}),c.jsxs(Io,{value:e,onValueChange:o,children:[c.jsx(ji,{children:c.jsx(Ro,{placeholder:"Select timezone"})}),c.jsx(Pi,{children:l.map(d=>c.jsx(nt,{value:d.value,children:d.label},d.value))})]})]}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Current time:"})," ",u]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Detected timezone:"})," ",r]})]}),e!==r&&c.jsxs(Q,{variant:"outline",onClick:a,className:"w-full",children:[c.jsx("i",{className:"fas fa-location-arrow mr-2"}),"Use Auto-detected Timezone"]}),c.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[c.jsx("strong",{children:"Note:"})," Changing your timezone affects how dates are displayed and when journal entries are created. All existing entries will be shown according to your new timezone setting."]})]})]})}function O8(){const{user:t}=Uo(),[,e]=wt(),n=Dn(),{toast:r}=Bt(),[s,i]=v.useState(!1),o=async()=>{try{await Ie("POST","/api/logout"),localStorage.removeItem("authToken"),n.clear(),r({title:"Logged out successfully",description:"You have been logged out. See you next time!"}),setTimeout(()=>{window.location.href="/"},1e3)}catch(l){console.error("Logout error:",l),localStorage.removeItem("authToken"),n.clear(),window.location.href="/"}},a=()=>{e("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{title:"Profile & Settings",showBackButton:!0,onBack:a,showHomeButton:!0}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-4xl mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsx("div",{children:c.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})})}),c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Profile Information"})}),c.jsxs(ue,{children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[c.jsx(Lh,{firstName:(t==null?void 0:t.firstName)||void 0,lastName:(t==null?void 0:t.lastName)||void 0,profileImageUrl:(t==null?void 0:t.profileImageUrl)||void 0,size:"lg",editable:!1}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),c.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Username: ",t==null?void 0:t.username]})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsx(Q,{variant:"outline",className:"w-full shadow-md",onClick:()=>e("/edit-profile"),children:"Edit Profile"})})]})]}),c.jsx(D8,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}}),c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Settings"})}),c.jsx(ue,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-bell mr-3"}),"Notifications"]}),c.jsxs(Q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),"Privacy"]}),c.jsxs(Q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-chart-bar mr-3"}),"Data Export"]}),c.jsxs(Q,{onClick:()=>e("/change-password"),variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-key mr-3"}),"Change Password"]}),c.jsx("hr",{className:"my-6"}),c.jsxs(Q,{onClick:()=>i(!0),variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),t!=null&&t.photosPinEnabled?"Update":"Set"," Photos PIN"]}),c.jsx(t8,{variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4"}),c.jsxs(Q,{onClick:o,variant:"destructive",className:"w-full shadow-md hover:shadow-lg transition-shadow",children:[c.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Logout"]})]})})]})]}),c.jsx(W2,{isOpen:s,onClose:()=>i(!1),mode:"update"})]})}const A8=js({firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required"),username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function I8(){const{user:t}=Uo(),[,e]=wt(),{toast:n}=Bt(),r=Dn(),[s,i]=v.useState(!1),{data:o,isLoading:a}=zt({queryKey:["/api/profile"],queryFn:async()=>await Ie("GET","/api/profile")}),{register:l,handleSubmit:u,setValue:d,watch:f,formState:{errors:h,isDirty:m},reset:y}=vl({resolver:bl(A8),defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",gender:"",birthday:"",height:"",weight:"",bodyType:""}});v.useEffect(()=>{t&&o&&y({firstName:t.firstName||"",lastName:t.lastName||"",username:t.username||"",email:t.email||"",gender:o.gender||"",birthday:o.birthday||"",height:o.height||"",weight:o.weight||"",bodyType:o.bodyType||""})},[t,o,y]);const p=Mt({mutationFn:async S=>{const _=await Ie("PUT","/api/profile/user",S.user),N=await Ie("PUT","/api/profile/profile",S.profile);return{user:_,profile:N}},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/profile"]}),r.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile updated successfully!"}),e("/profile")},onError:S=>{n({title:"Error",description:S.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),b=Mt({mutationFn:async S=>{const _=new FormData;return _.append("profileImage",S),await Ie("POST","/api/profile/avatar",_)},onSuccess:S=>{r.invalidateQueries({queryKey:["/api/profile"]}),r.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile picture updated successfully!"})},onError:S=>{n({title:"Error",description:S.message||"Failed to update profile picture. Please try again.",variant:"destructive"})}}),x=async S=>{i(!0);try{await b.mutateAsync(S)}finally{i(!1)}},g=S=>{const _={firstName:S.firstName,lastName:S.lastName,username:S.username,email:S.email},N={gender:S.gender,birthday:S.birthday,height:S.height,weight:S.weight,bodyType:S.bodyType};p.mutate({user:_,profile:N})},w=()=>{e("/profile")};return a?c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(Jt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-white",children:"Loading profile..."})})})]}):c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(Jt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0 mb-8",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800 text-center",children:"Update Your Profile"})}),c.jsx(ue,{className:"p-8",children:c.jsxs("form",{onSubmit:u(g),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Lh,{firstName:t==null?void 0:t.firstName,lastName:t==null?void 0:t.lastName,profileImageUrl:t==null?void 0:t.profileImageUrl,size:"xl",onImageUpload:x,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s?"Uploading...":"Click to change your profile picture"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"firstName",children:"First Name *"}),c.jsx(Ce,{id:"firstName",...l("firstName"),className:"mt-2",placeholder:"First name"}),h.firstName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.firstName.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"lastName",children:"Last Name *"}),c.jsx(Ce,{id:"lastName",...l("lastName"),className:"mt-2",placeholder:"Last name"}),h.lastName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"username",children:"Username *"}),c.jsx(Ce,{id:"username",...l("username"),className:"mt-2",placeholder:"Username"}),h.username&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"email",children:"Email *"}),c.jsx(Ce,{id:"email",type:"email",...l("email"),className:"mt-2",placeholder:"Email address"}),h.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"gender",children:"Gender"}),c.jsxs(Io,{onValueChange:S=>d("gender",S),value:f("gender"),children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Ro,{placeholder:"Select gender"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"female",children:"Female"}),c.jsx(nt,{value:"male",children:"Male"}),c.jsx(nt,{value:"non-binary",children:"Non-binary"}),c.jsx(nt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"birthday",children:"Birthday"}),c.jsx(Ce,{id:"birthday",type:"date",...l("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"height",children:"Height"}),c.jsx(Ce,{id:"height",...l("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"weight",children:"Weight"}),c.jsx(Ce,{id:"weight",...l("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Io,{onValueChange:S=>d("bodyType",S),value:f("bodyType"),children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Ro,{placeholder:"Select type"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"petite",children:"Petite"}),c.jsx(nt,{value:"lean",children:"Lean"}),c.jsx(nt,{value:"average",children:"Average"}),c.jsx(nt,{value:"athletic",children:"Athletic"}),c.jsx(nt,{value:"muscular",children:"Muscular"}),c.jsx(nt,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsxs("div",{className:"flex space-x-4 pt-6",children:[c.jsx(Q,{type:"button",variant:"outline",onClick:w,className:"flex-1",children:"Cancel"}),c.jsx(Q,{type:"submit",disabled:p.isPending||s||!m,className:"flex-1 bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500 text-white font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50",children:p.isPending?"Updating...":m?"Save Changes":"No Changes"})]})]})})]})})]})}const ev=v.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));ev.displayName="Textarea";function R8(){const[t,e]=v.useState(""),[n,r]=v.useState(!1),{toast:s}=Bt(),[,i]=wt(),o=async()=>{if(!t.trim()){s({title:"No Feedback",description:"Please enter your feedback before submitting.",variant:"destructive"});return}if(t.trim().length<10){s({title:"Too Short",description:"Please provide more detailed feedback (at least 10 characters).",variant:"destructive"});return}r(!0);try{await Ie("POST","/api/feedback",{feedback:t.trim()}),s({title:"Feedback Sent",description:"Thank you for your feedback! We'll review it and get back to you if needed."}),e(""),setTimeout(()=>i("/"),2e3)}catch(l){s({title:"Failed to Send",description:(l==null?void 0:l.message)||"Something went wrong. Please try again later.",variant:"destructive"})}finally{r(!1)}},a=()=>{i("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{title:"Feedback",showBackButton:!0,showHomeButton:!0,onBack:a}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsxs(Vt,{children:[c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"We'd Love Your Feedback"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Help us improve Journey by sharing your thoughts, suggestions, or reporting issues."})]}),c.jsxs(ue,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Feedback"}),c.jsx(ev,{value:t,onChange:l=>e(l.target.value),placeholder:"Tell us what you think about Journey, suggest improvements, or report any issues you've encountered...",className:"min-h-[240px] resize-none",maxLength:2e3}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Share anything that would help us make Journey better for you"}),c.jsxs("p",{className:"text-xs text-gray-400",children:[t.length,"/2000"]})]})]}),c.jsx(Q,{onClick:o,disabled:n||!t.trim(),className:"w-full shadow-md hover:shadow-lg transition-shadow",children:n?c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Sending Feedback..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Send Feedback"]})}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback helps us improve Journey for everyone"})})]})]})})]})}function $l({options:t,value:e,onChange:n,className:r=""}){const[s,i]=v.useState(!1),o=v.useRef(null),a=40,[l,u]=v.useState(!1),d=t.findIndex(m=>m===e),f=m=>{const y=m.currentTarget.scrollTop,p=Math.round(y/a),b=Math.max(0,Math.min(p,t.length-1));t[b]!==e&&n(t[b])},h=()=>{if(!o.current)return;const m=o.current.scrollTop,y=Math.round(m/a),p=Math.max(0,Math.min(y,t.length-1));o.current.scrollTo({top:p*a,behavior:"smooth"}),t[p]!==e&&n(t[p])};return v.useEffect(()=>{o.current&&!l&&d>=0&&(o.current.scrollTop=d*a,u(!0))},[d,a,l]),c.jsxs("div",{className:`relative ${r}`,children:[c.jsx("div",{className:"absolute left-0 right-0 bg-blue-500/20 border-y-2 border-blue-500 pointer-events-none z-10",style:{top:"50%",transform:"translateY(-50%)",height:`${a}px`}}),c.jsx("div",{ref:o,className:"h-32 overflow-y-scroll scrollbar-hide",style:{scrollSnapType:"y mandatory",paddingTop:`${a}px`,paddingBottom:`${a}px`},onScroll:f,onTouchStart:()=>i(!0),onTouchEnd:()=>{i(!1),h()},onMouseDown:()=>i(!0),onMouseUp:()=>{i(!1),h()},children:t.map((m,y)=>c.jsx("div",{className:`flex items-center justify-center text-center select-none transition-all duration-200 cursor-pointer ${m===e?"text-blue-600 font-semibold text-lg":"text-gray-600 text-base"}`,style:{height:`${a}px`,scrollSnapAlign:"center"},onClick:()=>{n(m),o.current&&o.current.scrollTo({top:y*a,behavior:"smooth"})},children:m},m))})]})}function lw({label:t,value:e,onChange:n,className:r=""}){const[s,i]=v.useState(!1),[o,a]=v.useState(e.date),[l,u]=v.useState(e.time),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=new Date().getFullYear(),h=new Date().getMonth(),m=ne=>h===11&&ne===0?f+1:h!==11&&ne===11?f-1:f,y=Array.from({length:12},(ne,se)=>String(se===0?12:se).padStart(2,"0")),p=Array.from({length:60},(ne,se)=>String(se).padStart(2,"0")),b=["AM","PM"],[x,g,w]=o.split("-"),S=parseInt(x),_=parseInt(g)-1,N=w,C=d[_],T=l.split(":"),P=parseInt(T[0]),O=T[1],F=P===0?"12":P>12?String(P-12).padStart(2,"0"):String(P).padStart(2,"0"),A=P>=12?"PM":"AM",$=new Date(S,_+1,0).getDate(),V=Array.from({length:$},(ne,se)=>String(se+1).padStart(2,"0")),I=()=>{const[ne,se,ge]=e.date.split("-"),ve=parseInt(se)-1,H=parseInt(ge),Z=e.time,[ze,Ee]=Z.split(":"),be=parseInt(ze),Oe=be>=12?"PM":"AM",qt=be===0?12:be>12?be-12:be;return`${d[ve]} ${H} at ${qt}:${Ee} ${Oe}`},z=ne=>{const se=d.indexOf(ne),ge=m(se),ve=Math.min(parseInt(N),new Date(ge,se+1,0).getDate()),H=`${ge}-${String(se+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`;a(H)},B=ne=>{const se=m(_),ge=`${se}-${String(_+1).padStart(2,"0")}-${String(parseInt(ne)).padStart(2,"0")}`;console.log(" Day Change Debug:",{selectedDay:ne,selectedMonthIndex:_,yearForMonth:se,newDate:ge,tempDate:o}),a(ge)},j=ne=>{const se=A==="AM"?ne==="12"?0:parseInt(ne):ne==="12"?12:parseInt(ne)+12;u(`${String(se).padStart(2,"0")}:${O}`)},R=ne=>{const se=A==="AM"?F==="12"?0:parseInt(F):F==="12"?12:parseInt(F)+12;u(`${String(se).padStart(2,"0")}:${ne}`)},D=ne=>{const se=parseInt(F),ge=ne==="AM"?se===12?0:se:se===12?12:se+12;u(`${String(ge).padStart(2,"0")}:${O}`)},W=()=>{console.log(" DateTime Save Debug:",{tempDate:o,tempTime:l,formatDisplayValue:I()}),n({date:o,time:l}),i(!1)},G=()=>{a(e.date),u(e.time),i(!1)};return s?c.jsx("div",{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 ${r}`,children:c.jsx(ce,{className:"bg-white max-w-md w-full max-h-[90vh] overflow-hidden",children:c.jsxs(ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:t}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Month"}),c.jsx($l,{options:d,value:C,onChange:z})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Day"}),c.jsx($l,{options:V,value:N,onChange:B})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Hour"}),c.jsx($l,{options:y,value:F,onChange:j})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Min"}),c.jsx($l,{options:p,value:O,onChange:R})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"AM/PM"}),c.jsx($l,{options:b,value:A,onChange:D})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Q,{variant:"outline",onClick:G,className:"flex-1",children:"Cancel"}),c.jsx(Q,{onClick:W,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})}):c.jsxs("div",{className:r,children:[c.jsx("label",{className:"text-white mb-2 block text-sm font-medium",children:t}),c.jsx(ce,{className:"bg-gray-800 border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>i(!0),children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-white",children:I()}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})})]})}const F8=[{value:"walking",label:"Walking",icon:"fa-walking"},{value:"running",label:"Running",icon:"fa-running"},{value:"cycling",label:"Cycling",icon:"fa-biking"},{value:"sleep",label:"Sleep",icon:"fa-bed"}],ld="journey_custom_activities";function L8(){const[t,e]=wt(),{toast:n}=Bt(),r=Dn(),[s,i]=v.useState(""),[o,a]=v.useState({date:Km(new Date),time:"09:00"}),[l,u]=v.useState({date:Km(new Date),time:"10:00"}),[d,f]=v.useState(new Date),[h,m]=v.useState(!1),[y,p]=v.useState(!1),[b,x]=v.useState(null),[g,w]=v.useState({activityType:"",startDateTime:{date:"",time:""},endDateTime:{date:"",time:""}}),[S,_]=v.useState(!1),{data:N=[]}=zt({queryKey:["/api/custom-activities"],queryFn:async()=>{const j=C();if(j)return j;const R=await Ie("GET","/api/custom-activities");return T(R),R}}),C=()=>{try{const j=localStorage.getItem(ld);if(!j)return null;const R=JSON.parse(j),W=Date.now()-R.timestamp,G=24*60*60*1e3;return W>G?(localStorage.removeItem(ld),null):R.data}catch{return localStorage.removeItem(ld),null}},T=j=>{try{const R={data:j,timestamp:Date.now()};localStorage.setItem(ld,JSON.stringify(R))}catch(R){console.error("Error caching custom activities:",R)}},P=N.map(j=>({value:`custom-${j.id}`,label:j.name.toUpperCase(),icon:j.icon})),O=[...F8,...P];v.useEffect(()=>{if(h)return;const j=new URLSearchParams(window.location.search),R=j.get("activity"),D=j.get("edit"),W=j.get("activityType"),G=j.get("startTime"),ne=j.get("endTime"),se=j.get("date");if(console.log(" Add-Activity URL Debug - dateParam from URL:",se),console.log(" Add-Activity URL Debug - current selectedDate before update:",d),se){const ge=new Date(se),ve=Km(ge);console.log(" Add-Activity URL Debug - creating new Date from dateParam:",ge),f(ge),D||(a(H=>({...H,date:ve})),u(H=>({...H,date:ve}))),console.log(" Add-Activity URL Debug - set selectedDate to:",ge)}else console.log(" Add-Activity URL Debug - NO dateParam found, keeping default selectedDate:",d);if(D&&W&&G&&ne){p(!0),x(parseInt(D));let ge=W.toLowerCase();const ve=N.find(be=>be.name.toLowerCase()===W.toLowerCase());ve&&(ge=`custom-${ve.id}`),i(ge);const H=new Date(G),Z=new Date(ne),ze={date:Me(H,"yyyy-MM-dd"),time:Me(H,"HH:mm")},Ee={date:Me(Z,"yyyy-MM-dd"),time:Me(Z,"HH:mm")};a(ze),u(Ee),w({activityType:ge,startDateTime:ze,endDateTime:Ee}),window.history.replaceState({},"","/add-activity")}else R&&(i(R),window.history.replaceState({},"","/add-activity"));m(!0)},[N,h]),v.useEffect(()=>{if(y){const j=s!==g.activityType||o.date!==g.startDateTime.date||o.time!==g.startDateTime.time||l.date!==g.endDateTime.date||l.time!==g.endDateTime.time;_(j)}},[s,o,l,g,y]);const F=Mt({mutationFn:async j=>{console.log("Frontend sending activity data:",j);try{const R=await Ie("POST","/api/activities",j);return console.log("Frontend received result:",R),R}catch(R){throw console.error("Frontend API request error:",R),R}},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity added successfully!"});const j=l.date;console.log(" Navigation Debug - Returning to home with date:",j,"endDateTime.date:",l.date),e(`/?date=${j}`)},onError:j=>{console.error("Frontend mutation error:",j),n({title:"Error",description:"Failed to add activity. Please try again.",variant:"destructive"})}}),A=Mt({mutationFn:async j=>await Ie("PUT",`/api/activities/${b}`,j),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity updated successfully!"});const j=l.date;e(`/?date=${j}`)},onError:j=>{n({title:"Error",description:"Failed to update activity. Please try again.",variant:"destructive"})}}),$=Mt({mutationFn:async()=>await Ie("DELETE",`/api/activities/${b}`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity deleted successfully!"});const j=l.date;e(`/?date=${j}`)},onError:j=>{n({title:"Error",description:"Failed to delete activity. Please try again.",variant:"destructive"})}}),V=()=>{if(!s||!o.time||!l.time){n({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}let j=s;if(s.startsWith("custom-")){const se=parseInt(s.replace("custom-","")),ge=N.find(ve=>ve.id===se);j=ge?ge.name:s}const R=$j(o.time,l.time,j);if(!R){n({title:"Invalid Time",description:j==="sleep"?"Please check your sleep times.":"End time must be after start time.",variant:"destructive"});return}let D=Gb(o.date,o.time),W=Gb(l.date,l.time);W=kW(D,W,j);let G;j==="sleep"?(G=new Date(W),G.setHours(0,0,0,0)):G=T2(o.date);const ne={activityType:j,startTime:D.toISOString(),endTime:W.toISOString(),durationMinutes:R.hours*60+R.minutes,date:G.toISOString()};console.log(" DETAILED Activity Creation Debug:"),console.log("1. Start DateTime Input:",o),console.log("2. End DateTime Input:",l),console.log("3. Activity Type:",j),console.log("4. Created startDateTimeObj:",D),console.log("5. Created startDateTimeObj toString():",D.toString()),console.log("6. Created startDateTimeObj toISOString():",D.toISOString()),console.log("7. Created endDateTimeObj:",W),console.log("8. Created endDateTimeObj toString():",W.toString()),console.log("9. Created endDateTimeObj toISOString():",W.toISOString()),console.log("10. Activity Date Object:",G),console.log("11. Activity Date toString():",G.toString()),console.log("12. Activity Date toISOString():",G.toISOString()),console.log("13. Duration:",R),console.log("14. Final Activity Data:",ne),y?A.mutate(ne):F.mutate(ne)},I=()=>{window.confirm("Are you sure you want to delete this activity?")&&$.mutate()},z=()=>{const j=O.find(R=>R.value===s);return j?j.icon:"fa-dumbbell"},B=()=>{const j=O.find(R=>R.value===s);return j?j.label:"SELECT ACTIVITY"};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{const j=l.date;e(`/?date=${j}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:y?"EDIT ACTIVITY":"ADD ACTIVITY"}),c.jsx("div",{onClick:()=>{const j=l.date;e(`/?date=${j}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx(ce,{className:"mb-6 bg-gray-800 border-0 cursor-pointer hover:bg-gray-700 transition-all duration-200",onClick:()=>e("/select-activity"),children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${z()} text-gray-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:B()})]}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DATE & TIME"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(lw,{label:"Start Date & Time",value:o,onChange:a}),c.jsx(lw,{label:"End Date & Time",value:l,onChange:u})]})]}),c.jsx(Q,{onClick:V,disabled:y?!S||A.isPending:F.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:y?A.isPending?"UPDATING...":"UPDATE":F.isPending?"SAVING...":"SAVE"}),y&&c.jsx(Q,{onClick:I,disabled:$.isPending,variant:"destructive",className:"w-full py-3 rounded-lg transition-all duration-200 mb-8",children:$.isPending?"DELETING...":"DELETE ACTIVITY"})]})]})}const z8=[{id:"ALL",label:"ALL",active:!0},{id:"STRAIN",label:"STRAIN",active:!1},{id:"RECOVERY",label:"RECOVERY",active:!1},{id:"SLEEP",label:"SLEEP",active:!1}],tp=[{id:"walking",label:"WALKING",icon:"fa-walking",category:"STRAIN"},{id:"running",label:"RUNNING",icon:"fa-running",category:"STRAIN"},{id:"cycling",label:"CYCLING",icon:"fa-biking",category:"STRAIN"},{id:"sleep",label:"SLEEP",icon:"fa-bed",category:"RECOVERY"}],V8=["sleep"],np="journey_custom_activities",cd="journey_recent_activities",rp="journey_pinned_activities",$8=24,B8=5;function U8(){const[,t]=wt(),{toast:e}=Bt(),n=Dn(),[r,s]=v.useState(""),[i,o]=v.useState("ALL"),[a,l]=v.useState([]),[u,d]=v.useState("");v.useEffect(()=>{const I=x();l(I)},[]);const{data:f=[],isLoading:h}=zt({queryKey:["/api/custom-activities"],queryFn:async()=>{const I=y(np);if(I)return I;const z=await Ie("GET","/api/custom-activities");return p(np,z),z}}),m=Mt({mutationFn:async I=>await Ie("POST","/api/custom-activities",I),onSuccess:I=>{const z=[...f,I];p(np,z);const B=y(cd)||tp,j={id:`custom-${I.id}`,label:I.name.toUpperCase(),icon:I.icon,category:I.category,isCustom:!0},R=B.filter(W=>W.id!==j.id),D=[j,...R].slice(0,3);p(cd,D),n.invalidateQueries({queryKey:["/api/custom-activities"]}),e({title:"Success",description:`"${I.name.toUpperCase()}" added to your activities!`}),$(j.id)},onError:I=>{I.status===409?e({title:"Activity exists",description:"This activity is already in your list.",variant:"destructive"}):e({title:"Error",description:"Failed to add custom activity. Please try again.",variant:"destructive"})}}),y=I=>{try{const z=localStorage.getItem(I);if(!z)return null;const B=JSON.parse(z),R=Date.now()-B.timestamp,D=$8*60*60*1e3;return R>D?(localStorage.removeItem(I),null):B.data}catch(z){return console.error(`Error reading cached data for ${I}:`,z),localStorage.removeItem(I),null}},p=(I,z)=>{try{const B={data:z,timestamp:Date.now()};localStorage.setItem(I,JSON.stringify(B))}catch(B){console.error(`Error caching data for ${I}:`,B)}},b=()=>y(cd)||tp,x=()=>y(rp)||V8,g=I=>{const z=x();if(z.includes(I)){const j=z.filter(R=>R!==I);l(j),p(rp,j)}else{if(z.length>=B8){d("Pin limit reached! Unpin an activity to add another."),setTimeout(()=>d(""),3e3);return}const j=[...z,I];l(j),p(rp,j)}},w=I=>{const B=b().filter(R=>R.id!==I.id),j=[I,...B].slice(0,3);p(cd,j)},S=()=>{const I=f.map(z=>({id:`custom-${z.id}`,label:z.name.toUpperCase(),icon:z.icon,category:z.category,isCustom:!0}));return[...tp,...I]},N=(()=>{if(!r.trim()){const B=b();return i==="ALL"?B:B.filter(j=>j.category===i)}return S().filter(B=>{const j=B.label.toLowerCase().includes(r.toLowerCase()),R=i==="ALL"||B.category===i;return j&&R})})(),C=()=>r.trim()?[]:S().filter(z=>a.includes(z.id)),T=()=>r.trim()?N:N.filter(I=>!a.includes(I.id)),P=C(),O=T(),F=r.trim()&&N.length===0,A=({activity:I,showPinButton:z=!0})=>{const B=a.includes(I.id);return c.jsx(ce,{className:"mb-3 bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1 cursor-pointer",onClick:()=>$(I.id),children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${I.icon} text-blue-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:I.label})]}),z&&c.jsx(Q,{onClick:j=>{j.stopPropagation(),g(I.id)},variant:"ghost",size:"sm",className:"p-2 hover:bg-gray-700",children:c.jsx("i",{className:`fas fa-thumbtack ${B?"text-yellow-400":"text-gray-400"} transform ${B?"rotate-45":""} transition-all duration-200`})})]})})},I.id)},$=I=>{const B=S().find(j=>j.id===I);B&&w(B),t(`/add-activity?activity=${I}`)},V=()=>{if(!r.trim()){e({title:"Error",description:"Please enter an activity name.",variant:"destructive"});return}const I=i==="ALL"?"STRAIN":i,z=r.trim().toLowerCase();m.mutate({name:z,category:I,icon:"fa-dumbbell"})};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-center p-4 mb-6 relative",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>t("/add-activity"),className:"absolute left-4 p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"SELECT ACTIVITY"})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx(Ce,{type:"text",placeholder:"Search activities",value:r,onChange:I=>s(I.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-400"})]})}),c.jsx("div",{className:"flex space-x-4 mb-6 overflow-x-auto",children:z8.map(I=>c.jsx(Q,{variant:"ghost",onClick:()=>o(I.id),className:`whitespace-nowrap px-4 py-2 text-sm font-medium transition-all duration-200 ${i===I.id?"text-white border-b-2 border-white bg-transparent hover:bg-white/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:I.label},I.id))}),u&&c.jsx("div",{className:"mb-4 p-3 bg-purple-600/90 text-white rounded-lg animate-in slide-in-from-top duration-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-300"}),c.jsx("span",{className:"text-sm font-medium",children:u})]})}),F&&c.jsx(ce,{className:"mb-6 bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-plus text-blue-400 text-lg"})}),c.jsxs("span",{className:"text-white font-medium",children:['Add "',r.toUpperCase(),'" to activities']})]}),c.jsx(Q,{onClick:V,disabled:m.isPending,className:"bg-blue-600 hover:bg-blue-500 text-white px-6",children:m.isPending?"ADDING...":"ADD"})]})})}),r.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"SEARCH RESULTS"})}),c.jsx("div",{className:"space-y-3 mb-8",children:N.map(I=>c.jsx(A,{activity:I,showPinButton:!0},I.id))})]}),!r.trim()&&P.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"PINNED"})}),c.jsx("div",{className:"space-y-3 mb-6",children:P.map(I=>c.jsx(A,{activity:I,showPinButton:!0},I.id))})]}),!r.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"RECENT ACTIVITIES"})}),c.jsx("div",{className:"space-y-3 mb-8",children:O.map(I=>c.jsx(A,{activity:I,showPinButton:!0},I.id))})]}),N.length===0&&!F&&r.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"No activities found matching your search"})}),h&&!r.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"Loading recent activities..."})})]})]})}function W8(){const[,t]=wt(),{toast:e}=Bt(),n=Dn(),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(new Date);v.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("date");if(b){const[x,g,w]=b.split("-").map(Number);h(new Date(x,g-1,w))}},[]);const m=Mt({mutationFn:async p=>{console.log("Frontend sending macro data:",p);try{const b=await Ie("POST","/api/macros",p);return console.log("Frontend received result:",b),b}catch(b){throw console.error("Frontend API request error:",b),b}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/macros"]});const p=f.toISOString().split("T")[0];n.invalidateQueries({queryKey:[`/api/macros/date/${p}`]}),e({title:"Success",description:"Macros added successfully!"});const b=Me(f,"yyyy-MM-dd");t(`/?date=${b}`)},onError:p=>{console.error("Frontend mutation error:",p),e({title:"Error",description:"Failed to add macros. Please try again.",variant:"destructive"})}}),y=()=>{if(!r.trim()||!i||!a||!u){e({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const p={description:r.trim(),protein:parseFloat(i),fats:parseFloat(a),carbs:parseFloat(u),date:Me(f,"yyyy-MM-dd")};m.mutate(p)};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{const p=Me(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"ADD MACROS"}),c.jsx("div",{onClick:()=>{const p=Me(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DESCRIPTION"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(ev,{placeholder:"e.g., Breakfast, Lunch, Snack...",value:r,onChange:p=>s(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 resize-none focus:ring-0 focus:outline-none",rows:3})})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"MACRONUTRIENTS (GRAMS)"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Protein"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:i,onChange:p=>o(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Fats"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:a,onChange:p=>l(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Carbs"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:u,onChange:p=>d(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]})]})]}),c.jsx(Q,{onClick:y,disabled:m.isPending,className:"w-full bg-white/20 hover:bg-white/30 text-white py-4 rounded-lg text-lg font-medium transition-all duration-200 disabled:opacity-50",children:m.isPending?"SAVING...":"SAVE"})]})]})}function Vi(){return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Quick Actions"})}),c.jsx(ue,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(zr,{href:"/progress",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #ec4899, #db2777)",boxShadow:"0 10px 25px rgba(236, 72, 153, 0.3)"},children:[c.jsx("i",{className:"fas fa-plus text-lg"}),c.jsx("span",{className:"text-sm",children:"Log Progress"})]})}),c.jsx(zr,{href:"/photos",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #2dd4bf, #14b8a6)",boxShadow:"0 10px 25px rgba(45, 212, 191, 0.3)"},children:[c.jsx("i",{className:"fas fa-camera text-lg"}),c.jsx("span",{className:"text-sm",children:"Add Photos"})]})}),c.jsx(zr,{href:"/goals",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #fbbf24, #f59e0b)",boxShadow:"0 10px 25px rgba(251, 191, 36, 0.3)"},children:[c.jsx("i",{className:"fas fa-target text-lg"}),c.jsx("span",{className:"text-sm",children:"View Goals"})]})}),c.jsx(zr,{href:"/workouts",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #a855f7, #9333ea)",boxShadow:"0 10px 25px rgba(168, 85, 247, 0.3)"},children:[c.jsx("i",{className:"fas fa-dumbbell text-lg"}),c.jsx("span",{className:"text-sm",children:"Workouts"})]})})]})})]})}function H8({isOpen:t,onClose:e,date1:n,date2:r,date1Photos:s,date2Photos:i,selectedPhotos:o,onPhotoSelect:a}){const[l,u]=v.useState({scale:1,x:0,y:0}),[d,f]=v.useState({scale:1,x:0,y:0}),[h,m]=v.useState(!1),[y,p]=v.useState(!1),[b,x]=v.useState({x:0,y:0}),[g,w]=v.useState({x:0,y:0}),[S,_]=v.useState(null),[N,C]=v.useState(null),T=v.useRef(null),P=v.useRef(null),O=D=>{try{const W=$h(D);return Me(W,"MMM d, yyyy")}catch{return D}},F=D=>{D===1?u({scale:1,x:0,y:0}):f({scale:1,x:0,y:0})},A=(D,W)=>{D.preventDefault();const G=D.deltaY*-.01,ne=Math.min(Math.max(.5,(W===1?l.scale:d.scale)+G),3);W===1?u(se=>({...se,scale:ne})):f(se=>({...se,scale:ne}))},$=(D,W)=>{D.preventDefault(),W===1?(m(!0),x({x:D.clientX-l.x,y:D.clientY-l.y})):(p(!0),w({x:D.clientX-d.x,y:D.clientY-d.y}))},V=D=>{h&&u(W=>({...W,x:D.clientX-b.x,y:D.clientY-b.y})),y&&f(W=>({...W,x:D.clientX-g.x,y:D.clientY-g.y}))},I=()=>{m(!1),p(!1)},z=D=>{if(D.length<2)return 0;const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},B=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1?(m(!0),x({x:G.clientX-l.x,y:G.clientY-l.y})):(p(!0),w({x:G.clientX-d.x,y:G.clientY-d.y}))}else if(D.touches.length===2){const G=z(D.touches);W===1?(_(G),m(!1)):(C(G),p(!1))}},j=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1&&h?u(ne=>({...ne,x:G.clientX-b.x,y:G.clientY-b.y})):W===2&&y&&f(ne=>({...ne,x:G.clientX-g.x,y:G.clientY-g.y}))}else if(D.touches.length===2){const G=z(D.touches),ne=W===1?S:N;if(ne){const se=G/ne,ve=Math.min(Math.max(.5,(W===1?l:d).scale*se),3);W===1?(u(H=>({...H,scale:ve})),_(G)):(f(H=>({...H,scale:ve})),C(G))}}},R=(D,W)=>{D.touches.length===0?(m(!1),p(!1),_(null),C(null)):D.touches.length===1&&(W===1?_(null):C(null))};return v.useEffect(()=>{if(h||y)return document.addEventListener("mousemove",V),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",I)}},[h,y,b,g]),c.jsx(Ii,{open:t,onOpenChange:e,children:c.jsx(Ps,{className:"max-w-[95vw] max-h-[76vh] w-full h-full p-4",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Photo Comparison"}),c.jsx(Q,{onClick:e,variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-800",children:c.jsx("i",{className:"fas fa-times"})})]}),(o.date1Photo||o.date2Photo)&&c.jsxs("div",{className:"flex-1 flex gap-4 mb-4 min-h-0",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:O(n)}),o.date1Photo&&c.jsx(Q,{onClick:()=>F(1),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:T,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>A(D,1),onMouseDown:D=>$(D,1),onTouchStart:D=>B(D,1),onTouchMove:D=>j(D,1),onTouchEnd:D=>R(D,1),style:{userSelect:"none",touchAction:"none"},children:o.date1Photo?c.jsx("img",{src:o.date1Photo.imageUrl,alt:`Photo from ${O(n)}`,className:"w-full h-full object-contain",style:{transform:`scale(${l.scale}) translate(${l.x/l.scale}px, ${l.y/l.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",O(n)]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:O(r)}),o.date2Photo&&c.jsx(Q,{onClick:()=>F(2),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:P,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>A(D,2),onMouseDown:D=>$(D,2),onTouchStart:D=>B(D,2),onTouchMove:D=>j(D,2),onTouchEnd:D=>R(D,2),style:{userSelect:"none",touchAction:"none"},children:o.date2Photo?c.jsx("img",{src:o.date2Photo.imageUrl,alt:`Photo from ${O(r)}`,className:"w-full h-full object-contain",style:{transform:`scale(${d.scale}) translate(${d.x/d.scale}px, ${d.y/d.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",O(r)]})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:O(n)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=o.date1Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>a(D,0),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:O(r)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=o.date2Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>a(D,1),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]})]})]})})})}function Y8(){const[,t]=wt(),[e,n]=v.useState("newest"),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(0),[u,d]=v.useState([]),[f,h]=v.useState(!1),[m,y]=v.useState("setup"),[p,b]=v.useState(!1),{user:x}=Uo(),[g,w]=v.useState(!1),[S,_]=v.useState(!1),[N,C]=v.useState([]),[T,P]=v.useState(!1),[O,F]=v.useState({}),{data:A=[],isLoading:$}=zt({queryKey:["/api/photos"]});v.useEffect(()=>{x&&(x.photosPinEnabled===null?(y("setup"),h(!0)):x.photosPinEnabled===!0?(y("verify"),h(!0)):b(!0))},[x]);const V=()=>{b(!0)},I=()=>{_(!0),C([])},z=H=>{if(N.includes(H))C(N.filter(Z=>Z!==H));else if(N.length<2){const Z=[...N,H];C(Z),Z.length===2&&P(!0)}},B=()=>{_(!1),C([]),P(!1),F({})},j=(H,Z)=>{F(Z===0?ze=>({...ze,date1Photo:H}):ze=>({...ze,date2Photo:H}))},R={};A.forEach(H=>{const Z=H.date;R[Z]||(R[Z]=[]),R[Z].push(H)});const D=Object.keys(R).sort((H,Z)=>e==="newest"?new Date(Z).getTime()-new Date(H).getTime():new Date(H).getTime()-new Date(Z).getTime()),W=()=>{window.history.length>1?window.history.back():t("/")},G=H=>{if(H.thumbnailUrl)return H.thumbnailUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?thumbnail=true&token=${Z}`:"/placeholder-image.jpg"},ne=H=>{if(H.imageUrl)return H.imageUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?token=${Z}`:"/placeholder-image.jpg"},se=(H,Z)=>{o(H),d(Z),l(Z.findIndex(ze=>ze.id===H.id)),w(!1),s(!0)},ge=H=>{if(u.length===0)return;let Z;H==="prev"?Z=a>0?a-1:u.length-1:Z=a<u.length-1?a+1:0,l(Z),o(u[Z]),w(!1)};v.useEffect(()=>{const H=Z=>{r&&(Z.key==="ArrowLeft"?ge("prev"):Z.key==="ArrowRight"?ge("next"):Z.key==="Escape"&&s(!1))};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[r,a,u]);const ve=H=>{try{const Z=$h(H);return Me(Z,"EEEE, MMMM d, yyyy")}catch{return H}};return $||!p?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),c.jsx("div",{className:"flex items-center justify-center pt-[calc(env(safe-area-inset-top)+6rem)]",children:$&&c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),c.jsx(W2,{isOpen:f,onClose:()=>h(!1),mode:m,onSuccess:V})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),c.jsxs("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsx(Q,{onClick:S?B:I,variant:S?"destructive":"default",size:"sm",className:`${S?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:S?"EXIT":"COMPARE"})}),c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsxs(Q,{variant:"default",size:"sm",onClick:()=>n(e==="newest"?"oldest":"newest"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[c.jsx("i",{className:`fas ${e==="newest"?"fa-arrow-up":"fa-arrow-down"} mr-2`}),"Sort"]})})]}),D.length>0?c.jsx("div",{className:"space-y-8",children:D.map(H=>{const Z=R[H],ze=Z.slice(0,5),Ee=Z.length>5;return c.jsxs("div",{className:`space-y-3 relative ${S?"cursor-pointer":""}`,onClick:S?()=>z(H):void 0,children:[c.jsxs("div",{className:"flex justify-end items-center",children:[S&&c.jsx("div",{className:"mr-4",children:c.jsx("input",{type:"checkbox",checked:N.includes(H),onChange:()=>z(H),className:"w-5 h-5 text-blue-600 rounded",disabled:!N.includes(H)&&N.length>=2})}),c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:ve(H)}),c.jsxs("p",{className:"text-sm text-gray-600",children:[Z.length," photo",Z.length!==1?"s":""]})]})]}),c.jsxs("div",{className:`bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl relative ${S&&!N.includes(H)?"opacity-50":""}`,children:[S&&!N.includes(H)&&c.jsx("div",{className:"absolute inset-0 bg-gray-600/50 rounded-xl z-10 pointer-events-none"}),c.jsxs("div",{className:"grid gap-3",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",maxWidth:"100%"},children:[ze.map((be,Oe)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>se(be,Z),children:[c.jsx("img",{src:G(be),alt:`Photo ${Oe+1} from ${ve(H)}`,className:"w-full h-full object-cover",loading:"lazy"}),c.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:Oe+1})]},be.id)),Ee&&c.jsx("div",{className:"relative aspect-square bg-gray-200 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-300 transition-colors duration-200 flex items-center justify-center",onClick:()=>se(Z[5],Z),children:c.jsxs("div",{className:"text-center text-gray-600",children:[c.jsx("i",{className:"fas fa-plus text-2xl mb-2"}),c.jsxs("p",{className:"text-sm font-medium",children:["+",Z.length-5," more"]})]})})]})]})]},H)})}):c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-camera text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Photos Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start your fitness journey by adding progress photos from the dashboard."}),c.jsxs(Q,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),c.jsx(Vi,{})]})]}),c.jsx(Ii,{open:r,onOpenChange:s,children:c.jsxs(Ps,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Ri,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsx(Fi,{className:"text-center text-lg font-semibold",children:i&&c.jsxs(c.Fragment,{children:["Photo ",a+1," of ",u.length,c.jsx("span",{className:"block text-sm text-gray-600 font-normal",children:ve(i.date)})]})})}),i&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[u.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>ge("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!g&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:ne(i),alt:`Photo from ${ve(i.date)}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${g?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>w(!0),onError:()=>w(!0)})]}),u.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>ge("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:i==null?void 0:i.originalName}),c.jsx("div",{className:"text-xs text-gray-400",children:"Press   to navigate  ESC to close"})]})]})}),T&&N.length===2&&c.jsx(H8,{isOpen:T,onClose:B,date1:N[0],date2:N[1],date1Photos:R[N[0]]||[],date2Photos:R[N[1]]||[],selectedPhotos:O,onPhotoSelect:j})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Du(t){return t+.5|0}const oi=(t,e,n)=>Math.max(Math.min(t,n),e);function Jl(t){return oi(Du(t*2.55),0,255)}function xi(t){return oi(Du(t*255),0,255)}function cs(t){return oi(Du(t/2.55)/100,0,1)}function cw(t){return oi(Du(t*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zg=[..."0123456789ABCDEF"],q8=t=>Zg[t&15],Q8=t=>Zg[(t&240)>>4]+Zg[t&15],ud=t=>(t&240)>>4===(t&15),K8=t=>ud(t.r)&&ud(t.g)&&ud(t.b)&&ud(t.a);function G8(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&qn[t[1]]*17,g:255&qn[t[2]]*17,b:255&qn[t[3]]*17,a:e===5?qn[t[4]]*17:255}:(e===7||e===9)&&(n={r:qn[t[1]]<<4|qn[t[2]],g:qn[t[3]]<<4|qn[t[4]],b:qn[t[5]]<<4|qn[t[6]],a:e===9?qn[t[7]]<<4|qn[t[8]]:255})),n}const X8=(t,e)=>t<255?e(t):"";function Z8(t){var e=K8(t)?q8:Q8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+X8(t.a,e):void 0}const J8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function G2(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function eH(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function tH(t,e,n){const r=G2(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function nH(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function tv(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=nH(n,r,s,d,i),l=l*60+.5),[l|0,u||0,a]}function nv(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(xi)}function rv(t,e,n){return nv(G2,t,e,n)}function rH(t,e,n){return nv(tH,t,e,n)}function sH(t,e,n){return nv(eH,t,e,n)}function X2(t){return(t%360+360)%360}function iH(t){const e=J8.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Jl(+e[5]):xi(+e[5]));const s=X2(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=rH(s,i,o):e[1]==="hsv"?r=sH(s,i,o):r=rv(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function oH(t,e){var n=tv(t);n[0]=X2(n[0]+e),n=rv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aH(t){if(!t)return;const e=tv(t),n=e[0],r=cw(e[1]),s=cw(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${cs(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const uw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lH(){const t={},e=Object.keys(dw),n=Object.keys(uw);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,uw[i]);i=parseInt(dw[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let dd;function cH(t){dd||(dd=lH(),dd.transparent=[0,0,0,0]);const e=dd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dH(t){const e=uH.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Jl(o):oi(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Jl(r):oi(r,0,255)),s=255&(e[4]?Jl(s):oi(s,0,255)),i=255&(e[6]?Jl(i):oi(i,0,255)),{r,g:s,b:i,a:n}}}function fH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${cs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const sp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Zo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function hH(t,e,n){const r=Zo(cs(t.r)),s=Zo(cs(t.g)),i=Zo(cs(t.b));return{r:xi(sp(r+n*(Zo(cs(e.r))-r))),g:xi(sp(s+n*(Zo(cs(e.g))-s))),b:xi(sp(i+n*(Zo(cs(e.b))-i))),a:t.a+n*(e.a-t.a)}}function fd(t,e,n){if(t){let r=tv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=rv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Z2(t,e){return t&&Object.assign(e||{},t)}function fw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xi(t[3]))):(e=Z2(t,{r:0,g:0,b:0,a:1}),e.a=xi(e.a)),e}function mH(t){return t.charAt(0)==="r"?dH(t):iH(t)}class su{constructor(e){if(e instanceof su)return e;const n=typeof e;let r;n==="object"?r=fw(e):n==="string"&&(r=G8(e)||cH(e)||mH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Z2(this._rgb);return e&&(e.a=cs(e.a)),e}set rgb(e){this._rgb=fw(e)}rgbString(){return this._valid?fH(this._rgb):void 0}hexString(){return this._valid?Z8(this._rgb):void 0}hslString(){return this._valid?aH(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=hH(this._rgb,e._rgb,n)),this}clone(){return new su(this.rgb)}alpha(e){return this._rgb.a=xi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Du(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return fd(this._rgb,2,e),this}darken(e){return fd(this._rgb,2,-e),this}saturate(e){return fd(this._rgb,1,e),this}desaturate(e){return fd(this._rgb,1,-e),this}rotate(e){return oH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ts(){}const pH=(()=>{let t=0;return()=>t++})();function Ye(t){return t==null}function It(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function sr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jr(t,e){return sr(t)?t:e}function je(t,e){return typeof t>"u"?e:t}const gH=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,J2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function at(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Xe(t,e,n,r){let s,i,o;if(It(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if($e(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Xf(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Zf(t){if(It(t))return t.map(Zf);if($e(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=Zf(t[n[s]]);return e}return t}function eO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yH(t,e,n,r){if(!eO(t))return;const s=e[t],i=n[t];$e(s)&&$e(i)?iu(s,i,r):e[t]=Zf(i)}function iu(t,e,n){const r=It(e)?e:[e],s=r.length;if(!$e(t))return t;n=n||{};const i=n.merger||yH;let o;for(let a=0;a<s;++a){if(o=r[a],!$e(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],t,o,n)}return t}function vc(t,e){return iu(t,e,{merger:xH})}function xH(t,e,n){if(!eO(t))return;const r=e[t],s=n[t];$e(r)&&$e(s)?vc(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Zf(s))}const hw={"":t=>t,x:t=>t.x,y:t=>t.y};function vH(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function bH(t){const e=vH(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Fo(t,e){return(hw[e]||(hw[e]=bH(e)))(t)}function sv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ou=t=>typeof t<"u",Ei=t=>typeof t=="function",mw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function wH(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,vt=2*Ze,SH=vt+Ze,Jf=Number.POSITIVE_INFINITY,_H=Ze/180,Lt=Ze/2,Wi=Ze/4,pw=Ze*2/3,tO=Math.log10,qr=Math.sign;function bc(t,e,n){return Math.abs(t-e)<n}function gw(t){const e=Math.round(t);t=bc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(tO(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function NH(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function kH(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function au(t){return!kH(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function CH(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function TH(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ps(t){return t*(Ze/180)}function jH(t){return t*(180/Ze)}function yw(t){if(!sr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function nO(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Ze&&(i+=vt),{angle:i,distance:s}}function Jg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PH(t,e){return(t-e+SH)%vt-Ze}function hr(t){return(t%vt+vt)%vt}function lu(t,e,n,r){const s=hr(t),i=hr(e),o=hr(n),a=hr(i-s),l=hr(o-s),u=hr(s-i),d=hr(s-o);return s===i||s===o||r&&i===o||a>l&&u<d}function on(t,e,n){return Math.max(e,Math.min(n,t))}function EH(t){return on(t,-32768,32767)}function ai(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function iv(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const io=(t,e,n,r)=>iv(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),MH=(t,e,n)=>iv(t,n,r=>t[r][e]>=n);function DH(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const rO=["push","pop","shift","splice","unshift"];function OH(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rO.forEach(n=>{const r="_onData"+sv(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function xw(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(rO.forEach(i=>{delete t[i]}),delete t._chartjs)}function sO(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const iO=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function oO(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,iO.call(window,()=>{r=!1,t.apply(e,n)}))}}function AH(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const ov=t=>t==="start"?"left":t==="end"?"right":"center",rn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,IH=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function RH(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(s=Math.min(io(l,d,f).lo,n?r:io(e,d,o.getPixelForValue(f)).lo),u){const p=l.slice(0,s+1).reverse().findIndex(b=>!Ye(b[a.axis]));s-=Math.max(0,p)}s=on(s,0,r-1)}if(y){let p=Math.max(io(l,o.axis,h,!0).hi+1,n?0:io(e,d,o.getPixelForValue(h),!0).hi+1);if(u){const b=l.slice(p-1).findIndex(x=>!Ye(x[a.axis]));p+=Math.max(0,b)}i=on(p,s,r)-s}else i=r-s}return{start:s,count:i}}function FH(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const hd=t=>t===0||t===1,vw=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vt/n)),bw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vt/n)+1,wc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Lt)+1,easeOutSine:t=>Math.sin(t*Lt),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>hd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>hd(t)?t:vw(t,.075,.3),easeOutElastic:t=>hd(t)?t:bw(t,.075,.3),easeInOutElastic(t){return hd(t)?t:t<.5?.5*vw(t*2,.1125,.45):.5+.5*bw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wc.easeInBounce(t*2)*.5:wc.easeOutBounce(t*2-1)*.5+.5};function av(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ww(t){return av(t)?t:new su(t)}function ip(t){return av(t)?t:new su(t).saturate(.5).darken(.1).hexString()}const LH=["x","y","borderWidth","radius","tension"],zH=["color","borderColor","backgroundColor"];function VH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:zH},numbers:{type:"number",properties:LH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $H(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Sw=new Map;function BH(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Sw.get(n);return r||(r=new Intl.NumberFormat(t,e),Sw.set(n,r)),r}function lv(t,e,n){return BH(e,n).format(t)}const UH={values(t){return It(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=WH(t,n)}const o=tO(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),lv(t,r,l)}};function WH(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var aO={formatters:UH};function HH(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Lo=Object.create(null),ey=Object.create(null);function Sc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function op(t,e,n){return typeof e=="string"?iu(Sc(t,e),n):iu(Sc(t,""),e)}class YH{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ip(s.backgroundColor),this.hoverBorderColor=(r,s)=>ip(s.borderColor),this.hoverColor=(r,s)=>ip(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return op(this,e,n)}get(e){return Sc(this,e)}describe(e,n){return op(ey,e,n)}override(e,n){return op(Lo,e,n)}route(e,n,r,s){const i=Sc(this,e),o=Sc(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return $e(l)?Object.assign({},u,l):je(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Tt=new YH({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[VH,$H,HH]);function qH(t){return!t||Ye(t.size)||Ye(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _w(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Hi(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Nw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ty(t,e,n,r){lO(t,e,n,r,null)}function lO(t,e,n,r,s){let i,o,a,l,u,d,f,h;const m=e.pointStyle,y=e.rotation,p=e.radius;let b=(y||0)*_H;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,p,0,0,vt):t.arc(n,r,p,0,vt),t.closePath();break;case"triangle":d=s?s/2:p,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*p),b+=pw,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*p),b+=pw,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,o=Math.cos(b+Wi)*l,f=Math.cos(b+Wi)*(s?s/2-u:l),a=Math.sin(b+Wi)*l,h=Math.sin(b+Wi)*(s?s/2-u:l),t.arc(n-f,r-a,u,b-Ze,b-Lt),t.arc(n+h,r-o,u,b-Lt,b),t.arc(n+f,r+a,u,b,b+Lt),t.arc(n-h,r+o,u,b+Lt,b+Ze),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*p,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}b+=Wi;case"rectRot":f=Math.cos(b)*(s?s/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":b+=Wi;case"cross":f=Math.cos(b)*(s?s/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(b)*(s?s/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),b+=Wi,f=Math.cos(b)*(s?s/2:p),o=Math.cos(b)*p,a=Math.sin(b)*p,h=Math.sin(b)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(b)*p,a=Math.sin(b)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:p),r+Math.sin(b)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function cu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function cv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function uv(t){t.restore()}function QH(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function KH(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function GH(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ye(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function XH(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function ZH(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function uu(t,e,n,r,s,i={}){const o=It(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,GH(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&ZH(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ye(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),XH(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function eh(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Ze,Lt,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Lt,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Lt,!0),t.lineTo(n+o.topLeft,r)}const JH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tY(t,e){const n=(""+t).match(JH);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const nY=t=>+t||0;function dv(t,e){const n={},r=$e(e),s=r?Object.keys(e):e,i=$e(t)?r?o=>je(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=nY(i(o));return n}function cO(t){return dv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Pa(t){return dv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ir(t){const e=cO(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function an(t,e){t=t||{},e=e||Tt.font;let n=je(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=je(t.style,e.style);r&&!(""+r).match(eY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:je(t.family,e.family),lineHeight:tY(je(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:je(t.weight,e.weight),string:""};return s.string=qH(s),s}function md(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function rY(t,e,n){const{min:r,max:s}=t,i=J2(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Ho(t,e){return Object.assign(Object.create(t),e)}function fv(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=hO("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>fv([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return dO(a,l,()=>dY(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Cw(a).includes(l)},ownKeys(a){return Cw(a)},set(a,l,u){const d=a._storage||(a._storage=s());return a[l]=d[l]=u,delete a._keys,!0}})}function ll(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:uO(t,r),setContext:i=>ll(t,i,n,r),override:i=>ll(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return dO(i,o,()=>iY(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function uO(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Ei(n)?n:()=>n,isIndexable:Ei(r)?r:()=>r}}const sY=(t,e)=>t?t+sv(e):e,hv=(t,e)=>$e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dO(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function iY(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Ei(a)&&o.isScriptable(e)&&(a=oY(e,a,t,n)),It(a)&&a.length&&(a=aY(e,a,t,o.isIndexable)),hv(e,a)&&(a=ll(a,s,i&&i[e],o)),a}function oY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),hv(t,l)&&(l=mv(s._scopes,s,t,l)),l}function aY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if($e(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=mv(u,s,t,d);e.push(ll(f,i,o&&o[t],a))}}return e}function fO(t,e,n){return Ei(t)?t(e,n):t}const lY=(t,e)=>t===!0?e:typeof t=="string"?Fo(e,t):void 0;function cY(t,e,n,r,s){for(const i of e){const o=lY(n,i);if(o){t.add(o);const a=fO(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function mv(t,e,n,r){const s=e._rootScopes,i=fO(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=kw(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=kw(a,o,i,l,r),l===null)?!1:fv(Array.from(a),[""],s,i,()=>uY(e,n,r))}function kw(t,e,n,r,s){for(;n;)n=cY(t,e,n,r,s);return n}function uY(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return It(s)&&$e(n)?n:s||{}}function dY(t,e,n,r){let s;for(const i of e)if(s=hO(sY(i,t),n),typeof s<"u")return hv(t,s)?mv(n,r,t,s):s}function hO(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Cw(t){let e=t._keys;return e||(e=t._keys=fY(t._scopes)),e}function fY(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const hY=Number.EPSILON||1e-14,cl=(t,e)=>e<t.length&&!t[e].skip&&t[e],mO=t=>t==="x"?"y":"x";function mY(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=Jg(i,s),l=Jg(o,i);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,h=r*d;return{previous:{x:i.x-f*(o.x-s.x),y:i.y-f*(o.y-s.y)},next:{x:i.x+h*(o.x-s.x),y:i.y+h*(o.y-s.y)}}}function pY(t,e,n){const r=t.length;let s,i,o,a,l,u=cl(t,0);for(let d=0;d<r-1;++d)if(l=u,u=cl(t,d+1),!(!l||!u)){if(bc(e[d],0,hY)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*e[d],n[d+1]=i*o*e[d])}}function gY(t,e,n="x"){const r=mO(n),s=t.length;let i,o,a,l=cl(t,0);for(let u=0;u<s;++u){if(o=a,a=l,l=cl(t,u+1),!a)continue;const d=a[n],f=a[r];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${r}`]=f-i*e[u]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${r}`]=f+i*e[u])}}function yY(t,e="x"){const n=mO(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,u=cl(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=cl(t,o+1),!!l){if(u){const d=u[e]-l[e];s[o]=d!==0?(u[n]-l[n])/d:0}i[o]=a?u?qr(s[o-1])!==qr(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}pY(t,s,i),gY(t,i,e)}function pd(t,e,n){return Math.max(Math.min(t,n),e)}function xY(t,e){let n,r,s,i,o,a=cu(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&cu(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=pd(s.cp1x,e.left,e.right),s.cp1y=pd(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=pd(s.cp2x,e.left,e.right),s.cp2y=pd(s.cp2y,e.top,e.bottom)))}function vY(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")yY(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=mY(u,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&xY(t,n)}function pv(){return typeof window<"u"&&typeof document<"u"}function gv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function th(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Qh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function bY(t,e){return Qh(t).getPropertyValue(e)}const wY=["top","right","bottom","left"];function vo(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=wY[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const SY=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function _Y(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(SY(s,i,t.target))a=s,l=i;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Xi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Qh(n),i=s.boxSizing==="border-box",o=vo(s,"padding"),a=vo(s,"border","width"),{x:l,y:u,box:d}=_Y(t,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:m,height:y}=e;return i&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-f)/m*n.width/r),y:Math.round((u-h)/y*n.height/r)}}function NY(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&gv(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=Qh(i),l=vo(a,"border","width"),u=vo(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=th(a.maxWidth,i,"clientWidth"),s=th(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||Jf,maxHeight:s||Jf}}const gd=t=>Math.round(t*10)/10;function kY(t,e,n,r){const s=Qh(t),i=vo(s,"margin"),o=th(s.maxWidth,t,"clientWidth")||Jf,a=th(s.maxHeight,t,"clientHeight")||Jf,l=NY(t,e,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const h=vo(s,"border","width"),m=vo(s,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=gd(Math.min(u,o,l.maxWidth)),d=gd(Math.min(d,a,l.maxHeight)),u&&!d&&(d=gd(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=gd(Math.floor(d*r))),{width:u,height:d}}function Tw(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const CY=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};pv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function jw(t,e){const n=bY(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Zi(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function TY(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function jY(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Zi(t,s,n),a=Zi(s,i,n),l=Zi(i,e,n),u=Zi(o,a,n),d=Zi(a,l,n);return Zi(u,d,n)}const PY=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},EY=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ea(t,e,n){return t?PY(e,n):EY()}function pO(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function gO(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yO(t){return t==="angle"?{between:lu,compare:PH,normalize:hr}:{between:ai,compare:(e,n)=>e-n,normalize:e=>e}}function Pw({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function MY(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=yO(r),l=e.length;let{start:u,end:d,loop:f}=t,h,m;if(f){for(u+=l,d+=l,h=0,m=l;h<m&&o(a(e[u%l][r]),s,i);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function DY(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:u}=yO(r),{start:d,end:f,loop:h,style:m}=MY(t,e,n),y=[];let p=!1,b=null,x,g,w;const S=()=>l(s,w,x)&&a(s,w)!==0,_=()=>a(i,x)===0||l(i,w,x),N=()=>p||S(),C=()=>!p||_();for(let T=d,P=d;T<=f;++T)g=e[T%o],!g.skip&&(x=u(g[r]),x!==w&&(p=l(x,s,i),b===null&&N()&&(b=a(x,s)===0?T:P),b!==null&&C()&&(y.push(Pw({start:b,end:T,loop:h,count:o,style:m})),b=null),P=T,w=x));return b!==null&&y.push(Pw({start:b,end:f,loop:h,count:o,style:m})),y}function OY(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=DY(r[s],t.points,e);i.length&&n.push(...i)}return n}function AY(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function IY(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function RY(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=AY(n,s,i,r);if(r===!0)return Ew(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,u=!!t._fullLoop&&o===0&&a===s-1;return Ew(t,IY(n,o,l,u),n,e)}function Ew(t,e,n,r){return!r||!r.setContext||!n?e:FY(t,e,n,r)}function FY(t,e,n,r){const s=t._chart.getContext(),i=Mw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=i,f=e[0].start,h=f;function m(y,p,b,x){const g=a?-1:1;if(y!==p){for(y+=l;n[y%l].skip;)y-=g;for(;n[p%l].skip;)p+=g;y%l!==p%l&&(u.push({start:y%l,end:p%l,loop:b,style:x}),d=x,f=p%l)}}for(const y of e){f=a?f:y.start;let p=n[f%l],b;for(h=f+1;h<=y.end;h++){const x=n[h%l];b=Mw(r.setContext(Ho(s,{type:"segment",p0:p,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),LY(b,d)&&m(f,h-1,y.loop,d),p=x,d=b}f<h-1&&m(f,h-1,y.loop,d)}return u}function Mw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function LY(t,e){if(!e)return!1;const n=[],r=function(s,i){return av(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function yd(t,e,n){return t.options.clip?t[n]:e[n]}function zY(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:yd(n,e,"left"),right:yd(n,e,"right"),top:yd(r,e,"top"),bottom:yd(r,e,"bottom")}:e}function VY(t,e){const n=e._clip;if(n.disabled)return!1;const r=zY(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $Y{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=iO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ss=new $Y;const Dw="transparent",BY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=ww(t||Dw),s=r.valid&&ww(e||Dw);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class UY{constructor(e,n,r,s){const i=n[r];s=md([e.to,s,i,e.from]);const o=md([e.from,i,s]);this._active=!0,this._fn=e.fn||BY[e.type||typeof o],this._easing=wc[e.easing]||wc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=md([e.to,n,s,e.from]),this._from=md([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class xO{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$e(e))return;const n=Object.keys(Tt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!$e(i))return;const o={};for(const a of n)o[a]=i[a];(It(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=HY(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&WY(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}i[u]=f=new UY(h,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ss.add(this._chart,r),!0}}function WY(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function HY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ow(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function YY(t,e,n){if(n===!1)return!1;const r=Ow(t,n),s=Ow(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function qY(t){let e,n,r,s;return $e(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function vO(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Aw(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}u=t.values[l],sr(u)&&(i||e===0||qr(e)===qr(u))&&(e+=u)}return!d&&!r.all?0:e}function QY(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[s]:d,[i]:t[d]};return a}function ap(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function KY(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function GY(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function XY(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Iw(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Rw(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,u=o.axis,d=KY(i,o,r),f=e.length;let h;for(let m=0;m<f;++m){const y=e[m],{[l]:p,[u]:b}=y,x=y._stacks||(y._stacks={});h=x[u]=XY(s,d,p),h[a]=b,h._top=Iw(h,o,!0,r.type),h._bottom=Iw(h,o,!1,r.type);const g=h._visualValues||(h._visualValues={});g[a]=b}}function lp(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function ZY(t,e){return Ho(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function JY(t,e,n){return Ho(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Bl(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const cp=t=>t==="reset"||t==="none",Fw=(t,e)=>e?t:Object.assign({},t),e9=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:vO(n,!0),values:null};class bo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ap(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,m,y)=>f==="x"?h:f==="r"?y:m,i=n.xAxisID=je(r.xAxisID,lp(e,"x")),o=n.yAxisID=je(r.yAxisID,lp(e,"y")),a=n.rAxisID=je(r.rAxisID,lp(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xw(this._data,this),e._stacked&&Bl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if($e(n)){const s=this._cachedMeta;this._data=QY(n,s)}else if(r!==n){if(r){xw(r,this);const s=this._cachedMeta;Bl(s),s._parsed=[]}n&&Object.isExtensible(n)&&OH(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=ap(n.vScale,n),n.stack!==r.stack&&(s=!0,Bl(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(Rw(this,n._parsed),n._stacked=ap(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{It(s[e])?h=this.parseArrayData(r,s,e,n):$e(s[e])?h=this.parseObjectData(r,s,e,n):h=this.parsePrimitiveData(r,s,e,n);const m=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<n;++d)r._parsed[d+e]=f=h[d],l&&(m()&&(l=!1),u=f);r._sorted=l}o&&Rw(this,h)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,f=new Array(s);let h,m,y;for(h=0,m=s;h<m;++h)y=h+r,f[h]={[a]:d||i.parse(u[y],y),[l]:o.parse(n[y],y)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,u,d,f;for(l=0,u=s;l<u;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,f,h,m;for(d=0,f=s;d<f;++d)h=d+r,m=n[h],u[d]={x:i.parse(Fo(m,a),h),y:o.parse(Fo(m,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:vO(s,!0),values:n._stacks[e.axis]._visualValues};return Aw(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=Aw(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=e9(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=GY(a);let h,m;function y(){m=s[h];const p=m[a.axis];return!sr(m[e.axis])||d>p||f<p}for(h=0;h<o&&!(!y()&&(this.updateRangeFromParsed(u,e,m,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!y()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],sr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=qY(je(this.options.clip,YY(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=JY(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=ZY(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&ou(r);if(a)return Fw(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(Tt.elements[e]),y=()=>this.getContext(r,s,n),p=u.resolveNamedOptions(h,m,y,f);return p.$shared&&(p.$shared=l,i[o]=Object.freeze(Fw(p,l))),p}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,r,n))}const u=new xO(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){cp(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!cp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Bl(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}k(bo,"defaults",{}),k(bo,"datasetElementType",null),k(bo,"dataElementType",null);function t9(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=sO(r.sort((s,i)=>s-i))}return t._cache.$bar}function n9(t){const e=t.iScale,n=t9(e,t.type);let r=e._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(ou(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),l();return r}function r9(t,e,n,r){const s=n.barThickness;let i,o;return Ye(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function s9(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:u}}function i9(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:i,min:o,max:a}}function bO(t,e,n,r){return It(t)?i9(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Lw(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),a=s===i,l=[];let u,d,f,h;for(u=n,d=n+r;u<d;++u)h=e[u],f={},f[s.axis]=a||s.parse(o[u],u),l.push(bO(h,f,i,u));return l}function up(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function o9(t,e,n){return t!==0?qr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function a9(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function l9(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=a9(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[zw(d,o,a,l)]=!0,s=u)),i[zw(s,o,a,l)]=!0,t.borderSkipped=i}function zw(t,e,n,r){return r?(t=c9(t,e,n),t=Vw(t,n,e)):t=Vw(t,e,n),t}function c9(t,e,n){return t===e?n:t===n?e:t}function Vw(t,e,n){return t==="start"?e:t==="end"?n:t}function u9(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Yd extends bo{parsePrimitiveData(e,n,r,s){return Lw(e,n,r,s)}parseArrayData(e,n,r,s){return Lw(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,m,y,p;for(h=r,m=r+s;h<m;++h)p=n[h],y={},y[i.axis]=i.parse(Fo(p,u),h),f.push(bO(Fo(p,d),y,o,h));return f}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,a=up(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s);for(let m=n;m<n+r;m++){const y=this.getParsed(m),p=i||Ye(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,d),x=(y._stacks||{})[a.axis],g={horizontal:u,base:p.base,enableBorderRadius:!x||up(y._custom)||o===x._top||o===x._bottom,x:u?p.head:b.center,y:u?b.center:p.head,height:u?b.size:Math.abs(p.size),width:u?Math.abs(p.size):b.size};h&&(g.options=f||this.resolveDataElementOptions(m,e[m].active?"active":s));const w=g.options||e[m].options;l9(g,w,x,o),u9(g,w,d.ratio),this.updateElement(e[m],m,g,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],u=d=>{const f=d._parsed.find(m=>m[r.axis]===l),h=f&&f[d.vScale.axis];if(Ye(h)||isNaN(h))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[je(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=e.barThickness;return{min:a||n9(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),u=l._custom,d=up(u);let f=l[n.axis],h=0,m=r?this.applyStack(n,l,r):f,y,p;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&qr(f)!==qr(u.barEnd)&&(h=0),h+=f);const b=!Ye(i)&&!d?i:h;let x=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(h+m):y=x,p=y-x,Math.abs(p)<o){p=o9(p,n,a)*o,f===a&&(x-=p/2);const g=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),S=Math.min(g,w),_=Math.max(g,w);x=Math.max(Math.min(x,_),S),y=x+p,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(y)-n.getValueForPixel(x))}if(x===n.getPixelForValue(a)){const g=qr(p)*n.getLineWidthForValue(a)/2;x+=g,p-=g}return{size:p,base:x,head:y,center:y+p/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=je(s.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?s9(e,n,s,d*u):r9(e,n,s,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(je(h,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;a=f.start+f.chunk*y+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}k(Yd,"id","bar"),k(Yd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),k(Yd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function d9(t,e,n){let r=1,s=1,i=0,o=0;if(e<vt){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),m=(w,S,_)=>lu(w,a,l,!0)?1:Math.max(S,S*n,_,_*n),y=(w,S,_)=>lu(w,a,l,!0)?-1:Math.min(S,S*n,_,_*n),p=m(0,u,f),b=m(Lt,d,h),x=y(Ze,u,f),g=y(Ze+Lt,d,h);r=(p-x)/2,s=(b-g)/2,i=-(p+x)/2,o=-(b+g)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class ec extends bo{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if($e(r[e])){const{key:l="value"}=this._parsing;i=u=>+Fo(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return ps(this.options.rotation-90)}_getCircumference(){return ps(this.options.circumference)}_getRotationExtents(){let e=vt,n=-vt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(gH(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:y,offsetY:p}=d9(f,d,l),b=(r.width-o)/h,x=(r.height-o)/m,g=Math.max(Math.min(b,x)/2,0),w=J2(this.options.radius,g),S=Math.max(w*l,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=y*w,this.offsetY=p*w,s.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/vt)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&u.animateScale,m=h?0:this.innerRadius,y=h?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(n,s);let x=this._getRotation(),g;for(g=0;g<n;++g)x+=this._circumference(g,i);for(g=n;g<n+r;++g){const w=this._circumference(g,i),S=e[g],_={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:y,innerRadius:m};b&&(_.options=p||this.resolveDataElementOptions(g,S.active?"active":s)),x+=w,this.updateElement(S,g,_,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=lv(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}k(ec,"id","doughnut"),k(ec,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),k(ec,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),k(ec,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class qd extends bo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=RH(n,s,o);this._drawStart=a,this._drawCount=l,FH(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),h=o.axis,m=a.axis,{spanGaps:y,segment:p}=this.options,b=au(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||s==="none",g=n+r,w=e.length;let S=n>0&&this.getParsed(n-1);for(let _=0;_<w;++_){const N=e[_],C=x?N:{};if(_<n||_>=g){C.skip=!0;continue}const T=this.getParsed(_),P=Ye(T[m]),O=C[h]=o.getPixelForValue(T[h],_),F=C[m]=i||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[m],_);C.skip=isNaN(O)||isNaN(F)||P,C.stop=_>0&&Math.abs(T[h]-S[h])>b,p&&(C.parsed=T,C.raw=u.data[_]),f&&(C.options=d||this.resolveDataElementOptions(_,N.active?"active":s)),x||this.updateElement(N,_,C,s),S=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}k(qd,"id","line"),k(qd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),k(qd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Yi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yv{constructor(e){k(this,"options");this.options=e||{}}static override(e){Object.assign(yv.prototype,e)}init(){}formats(){return Yi()}parse(){return Yi()}format(){return Yi()}add(){return Yi()}diff(){return Yi()}startOf(){return Yi()}endOf(){return Yi()}}var wO={_date:yv};function f9(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?MH:io;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=u(i,e,n-f),m=u(i,e,n+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=t,m=h.slice(0,d.lo+1).reverse().findIndex(p=>!Ye(p[f.axis]));d.lo-=Math.max(0,m);const y=h.slice(d.hi).findIndex(p=>!Ye(p[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function Kh(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:f,hi:h}=f9(i[a],e,o,s);for(let m=f;m<=h;++m){const y=d[m];y.skip||r(y,u,m)}}}function h9(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function dp(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Kh(t,n,e,function(a,l,u){!s&&!cu(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function m9(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=nO(o,{x:e.x,y:e.y});lu(f,u,d)&&s.push({element:o,datasetIndex:a,index:l})}return Kh(t,n,e,i),s}function p9(t,e,n,r,s,i){let o=[];const a=h9(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(e.x,e.y,s);if(r&&!m)return;const y=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(y))&&!m)return;const b=a(e,y);b<l?(o=[{element:d,datasetIndex:f,index:h}],l=b):b===l&&o.push({element:d,datasetIndex:f,index:h})}return Kh(t,n,e,u),o}function fp(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?m9(t,e,n,s):p9(t,e,n,r,s,i)}function $w(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Kh(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var g9={modes:{index(t,e,n,r){const s=Xi(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?dp(t,s,i,r,o):fp(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Xi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?dp(t,s,i,r,o):fp(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const s=Xi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return dp(t,s,i,r,o)},nearest(t,e,n,r){const s=Xi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return fp(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Xi(e,t);return $w(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Xi(e,t);return $w(t,s,"y",n.intersect,r)}}};const SO=["left","top","right","bottom"];function Ul(t,e){return t.filter(n=>n.pos===e)}function Bw(t,e){return t.filter(n=>SO.indexOf(n.pos)===-1&&n.box.axis===e)}function Wl(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function y9(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function x9(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!SO.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function v9(t,e){const n=x9(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&e.availableHeight)}return n}function b9(t){const e=y9(t),n=Wl(e.filter(u=>u.box.fullSize),!0),r=Wl(Ul(e,"left"),!0),s=Wl(Ul(e,"right")),i=Wl(Ul(e,"top"),!0),o=Wl(Ul(e,"bottom")),a=Bw(e,"x"),l=Bw(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Ul(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function Uw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function _O(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function w9(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!$e(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&_O(o,i.getPadding());const a=Math.max(0,e.outerWidth-Uw(o,t,"left","right")),l=Math.max(0,e.outerHeight-Uw(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function S9(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function _9(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function tc(t,e,n,r){const s=[];let i,o,a,l,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,_9(a.horizontal,e));const{same:f,other:h}=w9(e,n,a,r);u|=f&&s.length,d=d||h,l.fullSize||s.push(a)}return u&&tc(s,e,n,r)||d}function xd(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Ww(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,h=u.size||l.height;ou(u.start)&&(o=u.start),l.fullSize?xd(l,s.left,o,n.outerWidth-s.right-s.left,h):xd(l,e.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*d,h=u.size||l.width;ou(u.start)&&(i=u.start),l.fullSize?xd(l,i,s.top,h,n.outerHeight-s.bottom-s.top):xd(l,i,e.top+u.placed,h,f),u.start=i,u.placed+=f,i=l.right}}e.x=i,e.y=o}var er={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=ir(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=b9(t.boxes),l=a.vertical,u=a.horizontal;Xe(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=l.reduce((p,b)=>b.box.options&&b.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);_O(h,ir(r));const m=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),y=v9(l.concat(u),f);tc(a.fullSize,m,f,y),tc(l,m,f,y),tc(u,m,f,y)&&tc(l,m,f,y),S9(m),Ww(a.leftAndTop,m,f,y),m.x+=m.w,m.y+=m.h,Ww(a.rightAndBottom,m,f,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Xe(a.chartArea,p=>{const b=p.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class NO{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class N9 extends NO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Qd="$chartjs",k9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hw=t=>t===null||t==="";function C9(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Qd]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Hw(s)){const i=jw(t,"width");i!==void 0&&(t.width=i)}if(Hw(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=jw(t,"height");i!==void 0&&(t.height=i)}return t}const kO=CY?{passive:!0}:!1;function T9(t,e,n){t&&t.addEventListener(e,n,kO)}function j9(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,kO)}function P9(t,e){const n=k9[t.type]||t.type,{x:r,y:s}=Xi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function nh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function E9(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||nh(a.addedNodes,r),o=o&&!nh(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function M9(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||nh(a.removedNodes,r),o=o&&!nh(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const du=new Map;let Yw=0;function CO(){const t=window.devicePixelRatio;t!==Yw&&(Yw=t,du.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function D9(t,e){du.size||window.addEventListener("resize",CO),du.set(t,e)}function O9(t){du.delete(t),du.size||window.removeEventListener("resize",CO)}function A9(t,e,n){const r=t.canvas,s=r&&gv(r);if(!s)return;const i=oO((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),D9(t,i),o}function hp(t,e,n){n&&n.disconnect(),e==="resize"&&O9(t)}function I9(t,e,n){const r=t.canvas,s=oO(i=>{t.ctx!==null&&n(P9(i,t))},t);return T9(r,e,s),s}class R9 extends NO{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(C9(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Qd])return!1;const r=n[Qd].initial;["height","width"].forEach(i=>{const o=r[i];Ye(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Qd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:E9,detach:M9,resize:A9}[n]||I9;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:hp,detach:hp,resize:hp}[n]||j9)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return kY(e,n,r,s)}isAttached(e){const n=e&&gv(e);return!!(n&&n.isConnected)}}function F9(t){return!pv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?N9:R9}var kd;let Es=(kd=class{constructor(){k(this,"x");k(this,"y");k(this,"active",!1);k(this,"options");k(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return au(this.x)&&au(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},k(kd,"defaults",{}),k(kd,"defaultRoutes"),kd);function L9(t,e){const n=t.options.ticks,r=z9(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?$9(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>s)return B9(e,u,i,o/s),u;const d=V9(i,e,s);if(o>0){let f,h;const m=o>1?Math.round((l-a)/(o-1)):null;for(vd(e,u,d,Ye(m)?0:a-m,a),f=0,h=o-1;f<h;f++)vd(e,u,d,i[f],i[f+1]);return vd(e,u,d,l,Ye(m)?e.length:l+m),u}return vd(e,u,d),u}function z9(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function V9(t,e,n){const r=U9(t),s=e.length/n;if(!r)return Math.max(s,1);const i=NH(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function $9(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function B9(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function vd(t,e,n,r,s){const i=je(r,0),o=Math.min(je(s,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function U9(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const W9=t=>t==="left"?"right":t==="right"?"left":t,qw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Qw=(t,e)=>Math.min(e||t,t);function Kw(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function H9(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-a||l>o+a)))return l}function Y9(t,e){Xe(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Hl(t){return t.drawTicks?t.tickLength:0}function Gw(t,e){if(!t.display)return 0;const n=an(t.font,e),r=ir(t.padding);return(It(t.text)?t.text.length:1)*n.lineHeight+r.height}function q9(t,e){return Ho(t,{scale:e,type:"scale"})}function Q9(t,e,n){return Ho(t,{tick:n,index:e,type:"tick"})}function K9(t,e,n){let r=ov(t);return(n&&e!=="right"||!n&&e==="right")&&(r=W9(r)),r}function G9(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,h,m,y;const p=o-s,b=a-i;if(t.isHorizontal()){if(m=rn(r,i,a),$e(n)){const x=Object.keys(n)[0],g=n[x];y=d[x].getPixelForValue(g)+p-e}else n==="center"?y=(u.bottom+u.top)/2+p-e:y=qw(t,n,e);h=a-i}else{if($e(n)){const x=Object.keys(n)[0],g=n[x];m=d[x].getPixelForValue(g)-b+e}else n==="center"?m=(u.left+u.right)/2-b+e:m=qw(t,n,e);y=rn(r,o,s),f=n==="left"?-Lt:Lt}return{titleX:m,titleY:y,maxWidth:h,rotation:f}}class kl extends Es{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=jr(e,Number.POSITIVE_INFINITY),n=jr(n,Number.NEGATIVE_INFINITY),r=jr(r,Number.POSITIVE_INFINITY),s=jr(s,Number.NEGATIVE_INFINITY),{min:jr(e,r),max:jr(n,s),minDefined:sr(e),maxDefined:sr(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:jr(n,jr(r,n)),max:jr(r,jr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rY(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Kw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=L9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),at(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=at(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Qw(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=on(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),f+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-Hl(e.grid)-n.padding-Gw(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=jH(Math.min(Math.asin(on((d.highest.height+6)/a,-1,1)),Math.asin(on(l/u,-1,1))-Math.asin(on(h/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Gw(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Hl(i)+l):(e.height=this.maxHeight,e.width=Hl(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=r.padding*2,y=ps(this.labelRotation),p=Math.cos(y),b=Math.sin(y);if(a){const x=r.mirror?0:b*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+x+m)}else{const x=r.mirror?0:p*f.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+x+m)}this._calculatePadding(u,d,b,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?u?(h=s*e.width,m=r*n.height):(h=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,m=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ye(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Kw(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Qw(n,r));let u=0,d=0,f,h,m,y,p,b,x,g,w,S,_;for(f=0;f<n;f+=l){if(y=e[f].label,p=this._resolveTickFontOptions(f),s.font=b=p.string,x=i[b]=i[b]||{data:{},gc:[]},g=p.lineHeight,w=S=0,!Ye(y)&&!It(y))w=_w(s,x.data,x.gc,w,y),S=g;else if(It(y))for(h=0,m=y.length;h<m;++h)_=y[h],!Ye(_)&&!It(_)&&(w=_w(s,x.data,x.gc,w,_),S+=g);o.push(w),a.push(S),u=Math.max(w,u),d=Math.max(S,d)}Y9(i,n);const N=o.indexOf(u),C=a.indexOf(d),T=P=>({width:o[P]||0,height:a[P]||0});return{first:T(0),last:T(n-1),widest:T(N),highest:T(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return EH(this._alignToPixels?Hi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Q9(this.getContext(),e,r))}return this.$context||(this.$context=q9(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ps(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Hl(i),m=[],y=a.setContext(this.getContext()),p=y.display?y.width:0,b=p/2,x=function(z){return Hi(r,z,p)};let g,w,S,_,N,C,T,P,O,F,A,$;if(o==="top")g=x(this.bottom),C=this.bottom-h,P=g-b,F=x(e.top)+b,$=e.bottom;else if(o==="bottom")g=x(this.top),F=e.top,$=x(e.bottom)-b,C=g+b,P=this.top+h;else if(o==="left")g=x(this.right),N=this.right-h,T=g-b,O=x(e.left)+b,A=e.right;else if(o==="right")g=x(this.left),O=e.left,A=x(e.right)-b,N=g+b,T=this.left+h;else if(n==="x"){if(o==="center")g=x((e.top+e.bottom)/2+.5);else if($e(o)){const z=Object.keys(o)[0],B=o[z];g=x(this.chart.scales[z].getPixelForValue(B))}F=e.top,$=e.bottom,C=g+b,P=C+h}else if(n==="y"){if(o==="center")g=x((e.left+e.right)/2);else if($e(o)){const z=Object.keys(o)[0],B=o[z];g=x(this.chart.scales[z].getPixelForValue(B))}N=g-b,T=N-h,O=e.left,A=e.right}const V=je(s.ticks.maxTicksLimit,f),I=Math.max(1,Math.ceil(f/V));for(w=0;w<f;w+=I){const z=this.getContext(w),B=i.setContext(z),j=a.setContext(z),R=B.lineWidth,D=B.color,W=j.dash||[],G=j.dashOffset,ne=B.tickWidth,se=B.tickColor,ge=B.tickBorderDash||[],ve=B.tickBorderDashOffset;S=H9(this,w,l),S!==void 0&&(_=Hi(r,S,R),u?N=T=O=A=_:C=P=F=$=_,m.push({tx1:N,ty1:C,tx2:T,ty2:P,x1:O,y1:F,x2:A,y2:$,width:R,color:D,borderDash:W,borderDashOffset:G,tickWidth:ne,tickColor:se,tickBorderDash:ge,tickBorderDashOffset:ve}))}return this._ticksLength=f,this._borderValue=g,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=i,h=Hl(r.grid),m=h+d,y=f?-d:m,p=-ps(this.labelRotation),b=[];let x,g,w,S,_,N,C,T,P,O,F,A,$="middle";if(s==="top")N=this.bottom-y,C=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+y,C=this._getXAxisLabelAlignment();else if(s==="left"){const I=this._getYAxisLabelAlignment(h);C=I.textAlign,_=I.x}else if(s==="right"){const I=this._getYAxisLabelAlignment(h);C=I.textAlign,_=I.x}else if(n==="x"){if(s==="center")N=(e.top+e.bottom)/2+m;else if($e(s)){const I=Object.keys(s)[0],z=s[I];N=this.chart.scales[I].getPixelForValue(z)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")_=(e.left+e.right)/2-m;else if($e(s)){const I=Object.keys(s)[0],z=s[I];_=this.chart.scales[I].getPixelForValue(z)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const V=this._getLabelSizes();for(x=0,g=a.length;x<g;++x){w=a[x],S=w.label;const I=i.setContext(this.getContext(x));T=this.getPixelForTick(x)+i.labelOffset,P=this._resolveTickFontOptions(x),O=P.lineHeight,F=It(S)?S.length:1;const z=F/2,B=I.color,j=I.textStrokeColor,R=I.textStrokeWidth;let D=C;o?(_=T,C==="inner"&&(x===g-1?D=this.options.reverse?"left":"right":x===0?D=this.options.reverse?"right":"left":D="center"),s==="top"?u==="near"||p!==0?A=-F*O+O/2:u==="center"?A=-V.highest.height/2-z*O+O:A=-V.highest.height+O/2:u==="near"||p!==0?A=O/2:u==="center"?A=V.highest.height/2-z*O:A=V.highest.height-F*O,f&&(A*=-1),p!==0&&!I.showLabelBackdrop&&(_+=O/2*Math.sin(p))):(N=T,A=(1-F)*O/2);let W;if(I.showLabelBackdrop){const G=ir(I.backdropPadding),ne=V.heights[x],se=V.widths[x];let ge=A-G.top,ve=0-G.left;switch($){case"middle":ge-=ne/2;break;case"bottom":ge-=ne;break}switch(C){case"center":ve-=se/2;break;case"right":ve-=se;break;case"inner":x===g-1?ve-=se:x>0&&(ve-=se/2);break}W={left:ve,top:ge,width:se+G.width,height:ne+G.height,color:I.backdropColor}}b.push({label:S,font:P,textOffset:A,options:{rotation:p,color:B,strokeColor:j,strokeWidth:R,textAlign:D,textBaseline:$,translation:[_,N],backdrop:W}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ps(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Hi(e,this.left,o)-o/2,d=Hi(e,this.right,a)+a/2,f=h=l):(f=Hi(e,this.top,o)-o/2,h=Hi(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&cv(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;uu(r,u,0,d,l,a)}s&&uv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=an(r.font),o=ir(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(l+=o.bottom,It(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=G9(this,l,n,a);uu(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:K9(a,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=je(e.grid&&e.grid.z,-1),s=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==kl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return an(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class bd{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;J9(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,X9(e,o,r),this.override&&Tt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Tt[s]&&(delete Tt[s][r],this.override&&delete Lo[r])}}function X9(t,e,n){const r=iu(Object.create(null),[n?Tt.get(n):{},Tt.get(e),t.defaults]);Tt.set(e,r),t.defaultRoutes&&Z9(e,t.defaultRoutes),t.descriptors&&Tt.describe(e,t.descriptors)}function Z9(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Tt.route(i,s,l,a)})}function J9(t){return"id"in t&&"defaults"in t}class e7{constructor(){this.controllers=new bd(bo,"datasets",!0),this.elements=new bd(Es,"elements"),this.plugins=new bd(Object,"plugins"),this.scales=new bd(kl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Xe(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=sv(e);at(r["before"+s],[],r),n[e](r),at(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Mr=new e7;class t7{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(at(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=je(r.options&&r.options.plugins,{}),i=n7(r);return s===!1&&!n?[]:s7(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function n7(t){const e={},n=[],r=Object.keys(Mr.plugins.items);for(let i=0;i<r.length;i++)n.push(Mr.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function r7(t,e){return!e&&t===!1?null:t===!0?{}:t}function s7(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=r7(r[l],s);u!==null&&i.push({plugin:a,options:i7(t.config,{plugin:a,local:n[l]},u,o)})}return i}function i7(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ny(t,e){const n=Tt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function o7(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function a7(t,e){return t===e?"_index_":"_value_"}function Xw(t){if(t==="x"||t==="y"||t==="r")return t}function l7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ry(t,...e){if(Xw(t))return t;for(const n of e){const r=n.axis||l7(n.position)||t.length>1&&Xw(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Zw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function c7(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Zw(t,"x",n[0])||Zw(t,"y",n[0])}return{}}function u7(t,e){const n=Lo[t.type]||{scales:{}},r=e.scales||{},s=ny(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!$e(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ry(o,a,c7(o,t),Tt.scales[a.type]),u=a7(l,s),d=n.scales||{};i[o]=vc(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||ny(a,e),d=(Lo[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=o7(f,l),m=o[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),vc(i[m],[{axis:h},r[m],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];vc(a,[Tt.scales[a.type],Tt.scale])}),i}function TO(t){const e=t.options||(t.options={});e.plugins=je(e.plugins,{}),e.scales=u7(t,e)}function jO(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function d7(t){return t=t||{},t.data=jO(t.data),TO(t),t}const Jw=new Map,PO=new Set;function wd(t,e){let n=Jw.get(t);return n||(n=e(),Jw.set(t,n),PO.add(n)),n}const Yl=(t,e,n)=>{const r=Fo(e,n);r!==void 0&&t.add(r)};class f7{constructor(e){this._config=d7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),TO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return wd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return wd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return wd(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(f=>Yl(l,e,f))),d.forEach(f=>Yl(l,s,f)),d.forEach(f=>Yl(l,Lo[i]||{},f)),d.forEach(f=>Yl(l,Tt,f)),d.forEach(f=>Yl(l,ey,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),PO.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Lo[n]||{},Tt.datasets[n]||{},{type:n},Tt,ey]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=eS(this._resolverCache,e,s);let l=o;if(m7(o,n)){i.$shared=!1,r=Ei(r)?r():r;const u=this.createResolver(e,r,a);l=ll(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=eS(this._resolverCache,e,r);return $e(n)?ll(i,n,void 0,s):i}}function eS(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:fv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const h7=t=>$e(t)&&Object.getOwnPropertyNames(t).some(e=>Ei(t[e]));function m7(t,e){const{isScriptable:n,isIndexable:r}=uO(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Ei(a)||h7(a))||o&&It(a))return!0}return!1}var p7="4.5.0";const g7=["top","bottom","left","right","chartArea"];function tS(t,e){return t==="top"||t==="bottom"||g7.indexOf(t)===-1&&e==="x"}function nS(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function rS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),at(n&&n.onComplete,[t],e)}function y7(t){const e=t.chart,n=e.options.animation;at(n&&n.onProgress,[t],e)}function EO(t){return pv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kd={},sS=t=>{const e=EO(t);return Object.values(Kd).filter(n=>n.canvas===e).pop()};function x7(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function v7(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Fs;let Ou=(Fs=class{static register(...e){Mr.add(...e),iS()}static unregister(...e){Mr.remove(...e),iS()}constructor(e,n){const r=this.config=new f7(n),s=EO(e),i=sS(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||F9(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=pH(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new t7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=AH(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Kd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ss.listen(this,"complete",rS),ss.listen(this,"progress",y7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Ye(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nw(this.canvas,this.ctx),this}stop(){return ss.stop(this),this}resize(e,n){ss.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Tw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),at(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Xe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=ry(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Xe(i,o=>{const a=o.options,l=a.id,u=ry(l,a),d=je(a.type,o.dtype);(a.position===void 0||tS(a.position,u)!==tS(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=Mr.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),Xe(s,(o,a)=>{o||delete r[a]}),Xe(r,o=>{er.configure(this,o,o.options),er.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(nS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||ny(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Mr.getController(a),{datasetElementType:u,dataElementType:d}=Tt.datasets[a];Object.assign(l,{dataElementType:Mr.getElement(d),datasetElementType:u&&Mr.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Xe(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nS("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Xe(this.scales,e=>{er.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!mw(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;x7(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!mw(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;er.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Xe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ei(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ss.has(this)?this.attached&&!ss.running(this)&&ss.start(this):(this.draw(),rS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=VY(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&cv(n,s),e.controller.draw(),s&&uv(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return cu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=g9.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ho(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);ou(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ss.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Nw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Xe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Xf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=wH(e),u=v7(e,this._lastEvent,r,l);r&&(this._lastEvent=null,at(i.onHover,[e,a,this],this),l&&at(i.onClick,[e,a,this],this));const d=!Xf(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},k(Fs,"defaults",Tt),k(Fs,"instances",Kd),k(Fs,"overrides",Lo),k(Fs,"registry",Mr),k(Fs,"version",p7),k(Fs,"getChart",sS),Fs);function iS(){return Xe(Ou.instances,t=>t._plugins.invalidate())}function b7(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,f=Math.min(u/o,hr(r-n));if(t.beginPath(),t.arc(s,i,o-u/2,r+f/2,n-f/2),a>0){const h=Math.min(u/a,hr(r-n));t.arc(s,i,a+u/2,n-h/2,r+h/2,!0)}else{const h=Math.min(u/2,o*hr(r-n));if(d==="round")t.arc(s,i,h,n-Ze/2,r+Ze/2,!0);else if(d==="bevel"){const m=2*h*h,y=-m*Math.cos(n+Ze/2)+s,p=-m*Math.sin(n+Ze/2)+i,b=m*Math.cos(r+Ze/2)+s,x=m*Math.sin(r+Ze/2)+i;t.lineTo(y,p),t.lineTo(b,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function w7(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;t.beginPath(),t.arc(i,o,a,r-u,n+u),l>s?(u=s/l,t.arc(i,o,l,n+u,r-u,!0)):t.arc(i,o,s,n+Lt,r-Lt),t.closePath(),t.clip()}function S7(t){return dv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function _7(t,e,n,r){const s=S7(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const u=(n-Math.min(i,l))*r/2;return on(l,0,Math.min(i,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:on(s.innerStart,0,o),innerEnd:on(s.innerEnd,0,o)}}function Jo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function rh(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),h=d>0?d+r+n+u:0;let m=0;const y=s-l;if(r){const I=d>0?d-r:0,z=f>0?f-r:0,B=(I+z)/2,j=B!==0?y*B/(B+r):y;m=(y-j)/2}const p=Math.max(.001,y*f-n/Ze)/f,b=(y-p)/2,x=l+b+m,g=s-b-m,{outerStart:w,outerEnd:S,innerStart:_,innerEnd:N}=_7(e,h,f,g-x),C=f-w,T=f-S,P=x+w/C,O=g-S/T,F=h+_,A=h+N,$=x+_/F,V=g-N/A;if(t.beginPath(),i){const I=(P+O)/2;if(t.arc(o,a,f,P,I),t.arc(o,a,f,I,O),S>0){const R=Jo(T,O,o,a);t.arc(R.x,R.y,S,O,g+Lt)}const z=Jo(A,g,o,a);if(t.lineTo(z.x,z.y),N>0){const R=Jo(A,V,o,a);t.arc(R.x,R.y,N,g+Lt,V+Math.PI)}const B=(g-N/h+(x+_/h))/2;if(t.arc(o,a,h,g-N/h,B,!0),t.arc(o,a,h,B,x+_/h,!0),_>0){const R=Jo(F,$,o,a);t.arc(R.x,R.y,_,$+Math.PI,x-Lt)}const j=Jo(C,x,o,a);if(t.lineTo(j.x,j.y),w>0){const R=Jo(C,P,o,a);t.arc(R.x,R.y,w,x-Lt,P)}}else{t.moveTo(o,a);const I=Math.cos(P)*f+o,z=Math.sin(P)*f+a;t.lineTo(I,z);const B=Math.cos(O)*f+o,j=Math.sin(O)*f+a;t.lineTo(B,j)}t.closePath()}function N7(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){rh(t,e,n,r,l,s);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%vt||vt))}return rh(t,e,n,r,l,s),t.fill(),l}function k7(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=l,y=l.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=h,y?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(i){rh(t,e,n,r,p,s);for(let b=0;b<i;++b)t.stroke();isNaN(a)||(p=o+(a%vt||vt))}y&&w7(t,e,p),l.selfJoin&&p-o>=Ze&&m===0&&d!=="miter"&&b7(t,e,p),i||(rh(t,e,n,r,p,s),t.stroke())}class nc extends Es{constructor(n){super();k(this,"circumference");k(this,"endAngle");k(this,"fullCircles");k(this,"innerRadius");k(this,"outerRadius");k(this,"pixelMargin");k(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=nO(i,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,y=je(h,u-l),p=lu(o,l,u)&&l!==u,b=y>=vt||p,x=ai(a,d+m,f+m);return b&&x}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+o)/2,h=(a+l+d+u)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>vt?Math.floor(s/vt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Ze,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,N7(n,this,d,o,a),k7(n,this,d,o,a),n.restore()}}k(nc,"id","arc"),k(nc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),k(nc,"defaultRoutes",{backgroundColor:"backgroundColor"}),k(nc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function MO(t,e,n=e){t.lineCap=je(n.borderCapStyle,e.borderCapStyle),t.setLineDash(je(n.borderDash,e.borderDash)),t.lineDashOffset=je(n.borderDashOffset,e.borderDashOffset),t.lineJoin=je(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=je(n.borderWidth,e.borderWidth),t.strokeStyle=je(n.borderColor,e.borderColor)}function C7(t,e,n){t.lineTo(n.x,n.y)}function T7(t){return t.stepped?QH:t.tension||t.cubicInterpolationMode==="monotone"?KH:C7}function DO(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(i,a),d=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function j7(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:u}=DO(s,n,r),d=T7(i);let{move:f=!0,reverse:h}=r||{},m,y,p;for(m=0;m<=u;++m)y=s[(a+(h?u-m:m))%o],!y.skip&&(f?(t.moveTo(y.x,y.y),f=!1):d(t,p,y,h,i.stepped),p=y);return l&&(y=s[(a+(h?u:0))%o],d(t,p,y,h,i.stepped)),!!l}function P7(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=DO(s,n,r),{move:l=!0,reverse:u}=r||{};let d=0,f=0,h,m,y,p,b,x;const g=S=>(o+(u?a-S:S))%i,w=()=>{p!==b&&(t.lineTo(d,b),t.lineTo(d,p),t.lineTo(d,x))};for(l&&(m=s[g(0)],t.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=s[g(h)],m.skip)continue;const S=m.x,_=m.y,N=S|0;N===y?(_<p?p=_:_>b&&(b=_),d=(f*d+S)/++f):(w(),t.lineTo(S,_),y=N,f=0,p=b=_),x=_}w()}function sy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?P7:j7}function E7(t){return t.stepped?TY:t.tension||t.cubicInterpolationMode==="monotone"?jY:Zi}function M7(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),MO(t,e.options),t.stroke(s)}function D7(t,e,n,r){const{segments:s,options:i}=e,o=sy(e);for(const a of s)MO(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const O7=typeof Path2D=="function";function A7(t,e,n,r){O7&&!e.options.segment?M7(t,e,n,r):D7(t,e,n,r)}class pa extends Es{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;vY(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=OY(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=E7(r);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],m=i[f],y=i[h];if(m===y){a.push(m);continue}const p=Math.abs((s-m[n])/(y[n]-m[n])),b=l(m,y,p,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return sy(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=sy(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),A7(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}k(pa,"id","line"),k(pa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),k(pa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),k(pa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function oS(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class _c extends Es{constructor(n){super();k(this,"parsed");k(this,"skip");k(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return oS(this,n,"x",r)}inYRange(n,r){return oS(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!cu(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,ty(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}k(_c,"id","point"),k(_c,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),k(_c,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function OO(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,d,f;return t.horizontal?(f=o/2,a=Math.min(n,s),l=Math.max(n,s),u=r-f,d=r+f):(f=i/2,a=n-f,l=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:a,top:u,right:l,bottom:d}}function li(t,e,n,r){return t?0:on(e,n,r)}function I7(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=cO(r);return{t:li(s.top,i.top,0,n),r:li(s.right,i.right,0,e),b:li(s.bottom,i.bottom,0,n),l:li(s.left,i.left,0,e)}}function R7(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Pa(s),o=Math.min(e,n),a=t.borderSkipped,l=r||$e(s);return{topLeft:li(!l||a.top||a.left,i.topLeft,0,o),topRight:li(!l||a.top||a.right,i.topRight,0,o),bottomLeft:li(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:li(!l||a.bottom||a.right,i.bottomRight,0,o)}}function F7(t){const e=OO(t),n=e.right-e.left,r=e.bottom-e.top,s=I7(t,n/2,r/2),i=R7(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function mp(t,e,n,r){const s=e===null,i=n===null,a=t&&!(s&&i)&&OO(t,r);return a&&(s||ai(e,a.left,a.right))&&(i||ai(n,a.top,a.bottom))}function L7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function z7(t,e){t.rect(e.x,e.y,e.w,e.h)}function pp(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class Gd extends Es{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=F7(this),a=L7(o.radius)?eh:z7;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,pp(o,n,i)),e.clip(),a(e,pp(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,pp(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return mp(this,e,n,r)}inXRange(e,n){return mp(this,e,null,n)}inYRange(e,n){return mp(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}k(Gd,"id","bar"),k(Gd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),k(Gd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const aS=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},V7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class lS extends Es{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=at(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=an(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=aS(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+a;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((y,p)=>{const b=r+n/2+i.measureText(y.text).width;(p===0||u[u.length-1]+b+2*a>o)&&(f+=d,u[u.length-(p>0?0:1)]=0,m+=d,h++),l[p]={left:0,top:m,row:h,width:b,height:s},u[u.length-1]+=b+a}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,h=0,m=0,y=0,p=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:g,itemHeight:w}=$7(r,n,i,b,s);x>0&&m+w+2*a>d&&(f+=h+a,u.push({width:h,height:m}),y+=h+a,p++,h=m=0),l[x]={left:y,top:m,col:p,width:g,height:w},h=Math.max(h,g),m+=w+a}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Ea(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=rn(r,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=rn(r,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=rn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=rn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;cv(e,this),this._draw(),uv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=Tt.color,l=Ea(e.rtl,this.left,this.width),u=an(o.font),{padding:d}=o,f=u.size,h=f/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:y,boxHeight:p,itemHeight:b}=aS(o,f),x=function(N,C,T){if(isNaN(y)||y<=0||isNaN(p)||p<0)return;s.save();const P=je(T.lineWidth,1);if(s.fillStyle=je(T.fillStyle,a),s.lineCap=je(T.lineCap,"butt"),s.lineDashOffset=je(T.lineDashOffset,0),s.lineJoin=je(T.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=je(T.strokeStyle,a),s.setLineDash(je(T.lineDash,[])),o.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:P},F=l.xPlus(N,y/2),A=C+h;lO(s,O,F,A,o.pointStyleWidth&&y)}else{const O=C+Math.max((f-p)/2,0),F=l.leftForLtr(N,y),A=Pa(T.borderRadius);s.beginPath(),Object.values(A).some($=>$!==0)?eh(s,{x:F,y:O,w:y,h:p,radius:A}):s.rect(F,O,y,p),s.fill(),P!==0&&s.stroke()}s.restore()},g=function(N,C,T){uu(s,T.text,N,C+b/2,u,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?m={x:rn(i,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:m={x:this.left+d,y:rn(i,this.top+S+d,this.bottom-n[0].height),line:0},pO(this.ctx,e.textDirection);const _=b+d;this.legendItems.forEach((N,C)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;const T=s.measureText(N.text).width,P=l.textAlign(N.textAlign||(N.textAlign=o.textAlign)),O=y+h+T;let F=m.x,A=m.y;l.setWidth(this.width),w?C>0&&F+O+d>this.right&&(A=m.y+=_,m.line++,F=m.x=rn(i,this.left+d,this.right-r[m.line])):C>0&&A+_>this.bottom&&(F=m.x=F+n[m.line].width+d,m.line++,A=m.y=rn(i,this.top+S+d,this.bottom-n[m.line].height));const $=l.x(F);if(x($,A,N),F=IH(P,F+y+h,w?F+O:this.right,e.rtl),g(l.x(F),A,N),w)m.x+=O+d;else if(typeof N.text!="string"){const V=u.lineHeight;m.y+=AO(N,V)+d}else m.y+=_}),gO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=an(n.font),s=ir(n.padding);if(!n.display)return;const i=Ea(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=s.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=rn(e.align,f,this.right-h);else{const y=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);d=u+rn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=rn(a,f,f+h);o.textAlign=i.textAlign(ov(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,uu(o,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=an(e.font),r=ir(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(ai(e,this.left,this.right)&&ai(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ai(e,s.left,s.left+s.width)&&ai(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!W7(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=V7(s,r);s&&!i&&at(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&at(n.onHover,[e,r,this],this)}else r&&at(n.onClick,[e,r,this],this)}}function $7(t,e,n,r,s){const i=B7(r,t,e,n),o=U7(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function B7(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function U7(t,e,n){let r=t;return typeof e.text!="string"&&(r=AO(e,n)),r}function AO(t,e){const n=t.text?t.text.length:0;return e*n}function W7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var IO={id:"legend",_element:lS,start(t,e,n){const r=t.legend=new lS({ctx:t.ctx,options:n,chart:t});er.configure(t,r,n),er.addBox(t,r)},stop(t){er.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;er.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=ir(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class RO extends Es{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=It(r.text)?r.text.length:1;this._padding=ir(r.padding);const i=s*an(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=rn(a,r,i),f=n+e,u=i-r):(o.position==="left"?(d=r+e,f=rn(a,s,n),l=Ze*-.5):(d=i-e,f=rn(a,n,s),l=Ze*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=an(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);uu(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:ov(n.align),textBaseline:"middle",translation:[o,a]})}}function H7(t,e){const n=new RO({ctx:t.ctx,options:e,chart:t});er.configure(t,n,e),er.addBox(t,n),t.titleBlock=n}var FO={id:"title",_element:RO,start(t,e,n){H7(t,n)},stop(t){const e=t.titleBlock;er.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;er.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rc={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=Jg(e,u);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Pr(t,e){return e&&(It(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function is(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Y7(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function cS(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=an(e.bodyFont),u=an(e.titleFont),d=an(e.footerFont),f=i.length,h=s.length,m=r.length,y=ir(e.padding);let p=y.height,b=0,x=r.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=m*S+(x-m)*l.lineHeight+(x-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let g=0;const w=function(S){b=Math.max(b,n.measureText(S).width+g)};return n.save(),n.font=u.string,Xe(t.title,w),n.font=l.string,Xe(t.beforeBody.concat(t.afterBody),w),g=e.displayColors?o+2+e.boxPadding:0,Xe(r,S=>{Xe(S.before,w),Xe(S.lines,w),Xe(S.after,w)}),g=0,n.font=d.string,Xe(t.footer,w),n.restore(),b+=y.width,{width:b,height:p}}function q7(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Q7(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function K7(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=s<=(a+l)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),Q7(u,t,e,n)&&(u="center"),u}function uS(t,e,n){const r=n.yAlign||e.yAlign||q7(t,n);return{xAlign:n.xAlign||e.xAlign||K7(t,e,n,r),yAlign:r}}function G7(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function X7(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function dS(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Pa(o);let y=G7(e,a);const p=X7(e,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(d,h)+s:a==="right"&&(y+=Math.max(f,m)+s),{x:on(y,0,r.width-e.width),y:on(p,0,r.height-e.height)}}function Sd(t,e,n){const r=ir(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function fS(t){return Pr([],is(t))}function Z7(t,e,n){return Ho(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function hS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const LO={beforeTitle:ts,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:ts,beforeBody:ts,beforeLabel:ts,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ye(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ts,afterBody:ts,beforeFooter:ts,footer:ts,afterFooter:ts};function Sn(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?LO[e].call(n,r):s}class iy extends Es{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new xO(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Z7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Sn(r,"beforeTitle",this,e),i=Sn(r,"title",this,e),o=Sn(r,"afterTitle",this,e);let a=[];return a=Pr(a,is(s)),a=Pr(a,is(i)),a=Pr(a,is(o)),a}getBeforeBody(e,n){return fS(Sn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Xe(e,i=>{const o={before:[],lines:[],after:[]},a=hS(r,i);Pr(o.before,is(Sn(a,"beforeLabel",this,i))),Pr(o.lines,Sn(a,"label",this,i)),Pr(o.after,is(Sn(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return fS(Sn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Sn(r,"beforeFooter",this,e),i=Sn(r,"footer",this,e),o=Sn(r,"afterFooter",this,e);let a=[];return a=Pr(a,is(s)),a=Pr(a,is(i)),a=Pr(a,is(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(Y7(this.chart,n[l]));return e.filter&&(a=a.filter((d,f,h)=>e.filter(d,f,h,r))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,r))),Xe(a,d=>{const f=hS(e.callbacks,d);s.push(Sn(f,"labelColor",this,d)),i.push(Sn(f,"labelPointStyle",this,d)),o.push(Sn(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=rc[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=cS(this,r),u=Object.assign({},a,l),d=uS(this.chart,r,u),f=dS(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Pa(a),{x:h,y:m}=e,{width:y,height:p}=n;let b,x,g,w,S,_;return i==="center"?(S=m+p/2,s==="left"?(b=h,x=b-o,w=S+o,_=S-o):(b=h+y,x=b+o,w=S-o,_=S+o),g=b):(s==="left"?x=h+Math.max(l,d)+o:s==="right"?x=h+y-Math.max(u,f)-o:x=this.caretX,i==="top"?(w=m,S=w-o,b=x-o,g=x+o):(w=m+p,S=w+o,b=x+o,g=x-o),_=w),{x1:b,x2:x,x3:g,y1:w,y2:S,y3:_}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const u=Ea(r.rtl,this.x,this.width);for(e.x=Sd(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=an(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=an(i.bodyFont),f=Sd(this,"left",i),h=s.x(f),m=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+m;if(i.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=s.leftForLtr(h,u)+u/2,x=y+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ty(e,p,b,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ty(e,p,b,x)}else{e.lineWidth=$e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=s.leftForLtr(h,u),b=s.leftForLtr(s.xPlus(h,1),u-2),x=Pa(o.borderRadius);Object.values(x).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,eh(e,{x:p,y,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),eh(e,{x:b,y:y+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,y,u,l),e.strokeRect(p,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=r,f=an(r.bodyFont);let h=f.lineHeight,m=0;const y=Ea(r.rtl,this.x,this.width),p=function(T){n.fillText(T,y.x(e.x+m),e.y+h/2),e.y+=h+i},b=y.textAlign(o);let x,g,w,S,_,N,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Sd(this,b,r),n.fillStyle=r.bodyColor,Xe(this.beforeBody,p),m=a&&b!=="right"?o==="center"?u/2+d:u+2+d:0,S=0,N=s.length;S<N;++S){for(x=s[S],g=this.labelTextColors[S],n.fillStyle=g,Xe(x.before,p),w=x.lines,a&&w.length&&(this._drawColorBox(n,e,S,y,r),h=Math.max(f.lineHeight,l)),_=0,C=w.length;_<C;++_)p(w[_]),h=f.lineHeight;Xe(x.after,p)}m=0,h=f.lineHeight,Xe(this.afterBody,p),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Ea(r.rtl,this.x,this.width);for(e.x=Sd(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=an(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:y}=Pa(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+u-h,l),n.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+u,l+d-y),n.quadraticCurveTo(a+u,l+d,a+u-y,l+d),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,l+d),n.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=rc[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=cS(this,e),l=Object.assign({},o,this._size),u=uS(n,e,l),d=dS(e,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=ir(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),pO(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),gO(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!Xf(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Xf(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=rc[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}k(iy,"positioners",rc);var zO={id:"tooltip",_element:iy,positioners:rc,afterInit(t,e,n){n&&(t.tooltip=new iy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:LO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const J7=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function eq(t,e,n,r){const s=t.indexOf(e);if(s===-1)return J7(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const tq=(t,e)=>t===null?null:on(Math.round(t),0,e);function mS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class sh extends kl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ye(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:eq(r,e,je(n,e),this._addedLabels),tq(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return mS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}k(sh,"id","category"),k(sh,"defaults",{ticks:{callback:mS}});function nq(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,m=i||1,y=d-1,{min:p,max:b}=e,x=!Ye(o),g=!Ye(a),w=!Ye(u),S=(b-p)/(f+1);let _=gw((b-p)/y/m)*m,N,C,T,P;if(_<1e-14&&!x&&!g)return[{value:p},{value:b}];P=Math.ceil(b/_)-Math.floor(p/_),P>y&&(_=gw(P*_/y/m)*m),Ye(l)||(N=Math.pow(10,l),_=Math.ceil(_*N)/N),s==="ticks"?(C=Math.floor(p/_)*_,T=Math.ceil(b/_)*_):(C=p,T=b),x&&g&&i&&CH((a-o)/i,_/1e3)?(P=Math.round(Math.min((a-o)/_,d)),_=(a-o)/P,C=o,T=a):w?(C=x?o:C,T=g?a:T,P=u-1,_=(T-C)/P):(P=(T-C)/_,bc(P,Math.round(P),_/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(yw(_),yw(C));N=Math.pow(10,Ye(l)?O:l),C=Math.round(C*N)/N,T=Math.round(T*N)/N;let F=0;for(x&&(h&&C!==o?(n.push({value:o}),C<o&&F++,bc(Math.round((C+F*_)*N)/N,o,pS(o,S,t))&&F++):C<o&&F++);F<P;++F){const A=Math.round((C+F*_)*N)/N;if(g&&A>a)break;n.push({value:A})}return g&&h&&T!==a?n.length&&bc(n[n.length-1].value,a,pS(a,S,t))?n[n.length-1].value=a:n.push({value:a}):(!g||T===a)&&n.push({value:T}),n}function pS(t,e,{horizontal:n,minRotation:r}){const s=ps(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class rq extends kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=qr(s),u=qr(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=nq(s,i);return e.bounds==="ticks"&&TH(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return lv(e,this.chart.options.locale,this.options.ticks.format)}}class ih extends rq{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=sr(e)?e:0,this.max=sr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ps(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}k(ih,"id","linear"),k(ih,"defaults",{ticks:{callback:aO.formatters.numeric}});const Gh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tn=Object.keys(Gh);function gS(t,e){return t-e}function yS(t,e){if(Ye(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),sr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(au(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function xS(t,e,n,r){const s=Tn.length;for(let i=Tn.indexOf(t);i<s-1;++i){const o=Gh[Tn[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Tn[i]}return Tn[s-1]}function sq(t,e,n,r,s){for(let i=Tn.length-1;i>=Tn.indexOf(n);i--){const o=Tn[i];if(Gh[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Tn[n?Tn.indexOf(n):0]}function iq(t){for(let e=Tn.indexOf(t)+1,n=Tn.length;e<n;++e)if(Gh[Tn[e]].common)return Tn[e]}function vS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=iv(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function oq(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function bS(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:oq(t,r,s,n)}class ul extends kl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new wO._date(e.adapters.date);s.init(n),vc(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:yS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=sr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=sr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=DH(s,i,o);return this._unit=n.unit||(r.autoSkip?xS(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):sq(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:iq(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),bS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=on(n,0,o),r=on(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||xS(i.minUnit,n,r,this._getLabelCapacity(n)),a=je(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=au(l)||l===!0,d={};let f=n,h,m;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<r;h=+e.add(h,a,o),m++)vS(d,h,y);return(h===r||s.bounds==="ticks"||m===1)&&vS(d,h,y),Object.keys(d).sort(gS).map(p=>+p)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return at(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],h=r[n],m=u&&f&&h&&h.major;return this._adapter.format(e,s||(m?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ps(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,bS(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(yS(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sO(e.sort(gS))}}k(ul,"id","time"),k(ul,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _d(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=io(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=io(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class wS extends ul{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=_d(n,this.min),this._tableRange=_d(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],u=s[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(_d(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return _d(this._table,r*this._tableRange+this._minPos,!0)}}k(wS,"id","timeseries"),k(wS,"defaults",ul.defaults);const VO="label";function SS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function aq(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function $O(t,e){t.labels=e}function BO(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:VO;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function lq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:VO;const n={labels:[],datasets:[]};return $O(n,t.labels),BO(n,t.datasets,e),n}function cq(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:f,...h}=t,m=v.useRef(null),y=v.useRef(null),p=()=>{m.current&&(y.current=new Ou(m.current,{type:o,data:lq(a,i),options:l&&{...l},plugins:u}),SS(e,y.current))},b=()=>{SS(e,null),y.current&&(y.current.destroy(),y.current=null)};return v.useEffect(()=>{!s&&y.current&&l&&aq(y.current,l)},[s,l]),v.useEffect(()=>{!s&&y.current&&$O(y.current.config.data,a.labels)},[s,a.labels]),v.useEffect(()=>{!s&&y.current&&a.datasets&&BO(y.current.config.data,a.datasets,i)},[s,a.datasets]),v.useEffect(()=>{y.current&&(s?(b(),setTimeout(p)):y.current.update(f))},[s,l,a.labels,a.datasets,f]),v.useEffect(()=>{y.current&&(b(),setTimeout(p))},[o]),v.useEffect(()=>(p(),()=>b()),[]),ye.createElement("canvas",{ref:m,role:"img",height:n,width:r,...h},d)}const uq=v.forwardRef(cq);function xv(t,e){return Ou.register(e),v.forwardRef((n,r)=>ye.createElement(uq,{...n,ref:r,type:t}))}const UO=xv("line",qd),dq=xv("bar",Yd),gp=xv("doughnut",ec);/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const fq={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};wO._date.override({_id:"date-fns",formats:function(){return fq},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=de(t):n==="string"&&(typeof e=="string"?t=pU(t,e,new Date,this.options):t=$h(t,this.options)),vD(t)?t.getTime():null},format:function(t,e){return Me(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return zh(t,e);case"second":return aB(t,e);case"minute":return iB(t,e);case"hour":return nB(t,e);case"day":return Sl(t,e);case"week":return lB(t,e);case"month":return ju(t,e);case"quarter":return oB(t,e);case"year":return cB(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return Vh(t,e);case"second":return xB(t,e);case"minute":return pB(t,e);case"hour":return mB(t,e);case"day":return bD(t,e);case"week":return vB(t,e);case"month":return SD(t,e);case"quarter":return yB(t,e);case"year":return bB(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return vU(t);case"minute":return SB(t);case"hour":return yU(t);case"day":return ol(t);case"week":return Xr(t);case"isoWeek":return Xr(t,{weekStartsOn:+n});case"month":return _D(t);case"quarter":return _B(t);case"year":return ND(t);default:return t}},endOf:function(t,e){switch(e){case"second":return PB(t);case"minute":return TB(t);case"hour":return kB(t);case"day":return wD(t);case"week":return CB(t);case"month":return Yx(t);case"quarter":return jB(t);case"year":return NB(t);default:return t}}});Ou.register(sh,ih,_c,pa,Gd,FO,zO,IO,ul);const _S=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}],NS=(t,e)=>{const n=t/e*100;if(n<=0)return"#ef4444";if(n>=100)return"#22c55e";if(n<=50){const r=n/50,s=239,i=Math.round(68+166*r);return`rgb(${s}, ${i}, 68)`}else{const r=(n-50)/50,s=Math.round(234-200*r),i=Math.round(234-37*r),o=Math.round(68+26*r);return`rgb(${s}, ${i}, ${o})`}};function vv({title:t,data:e,lineColor:n="#3b82f6",backgroundColor:r="rgba(59, 130, 246, 0.1)",yAxisLabel:s="Y Axis",chartType:i="line",goalValue:o=8}){const[a,l]=v.useState("7d"),u=x=>{var g;return((g=_S.find(w=>w.value===x))==null?void 0:g.days)||7},f=(()=>{const x=u(a),g=new Date,w=al(g,x-1);return e.filter(S=>{const _=new Date(S.date);return _>=ol(w)&&_<=g})})(),m=(()=>{const x=u(a),g=[],w=new Date;for(let S=x-1;S>=0;S--)g.push(Me(al(w,S),"yyyy-MM-dd"));return g})(),y=m.map(x=>{const g=f.find(w=>Me(new Date(w.date),"yyyy-MM-dd")===x);return g?g.value:null}),p={labels:m,datasets:[{label:t,data:y,...i==="bar"?{backgroundColor:y.map(x=>x!==null?NS(x,o):"transparent"),borderColor:y.map(x=>x!==null?NS(x,o):"transparent"),borderWidth:1,barThickness:20,maxBarThickness:30}:{borderColor:n,backgroundColor:r,borderWidth:2,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,spanGaps:!1}}]},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:n,borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:s,color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:t}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:_S.map(x=>c.jsx(Q,{variant:a===x.value?"default":"ghost",size:"sm",onClick:()=>l(x.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${a===x.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:x.label},x.value))})]})}),c.jsx(ue,{className:"pt-0",children:c.jsx("div",{className:"h-64 w-full",children:i==="bar"?c.jsx(dq,{data:p,options:b}):c.jsx(UO,{data:p,options:b})})})]})}function hq(){const[,t]=wt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Progress",showBackButton:!1,onBack:e,showHomeButton:!0}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(vv,{title:"Progress Tracking",data:[{date:"2024-01-01",value:75},{date:"2024-01-02",value:78},{date:"2024-01-03",value:82},{date:"2024-01-04",value:80},{date:"2024-01-05",value:85},{date:"2024-01-06",value:88},{date:"2024-01-07",value:90}],lineColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",yAxisLabel:"Progress Score"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-trophy text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Achievements"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Streak"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(Vi,{})]})})]})}function mq(){const[,t]=wt(),{data:e=[],isLoading:n}=zt({queryKey:["/api/goals"],queryFn:()=>Ie("GET","/api/goals")}),r=()=>{window.history.length>1?window.history.back():t("/")},s=a=>a.targetValueSecondary&&a.targetUnitSecondary?`${a.targetValuePrimary} ${a.targetUnitPrimary} ${a.targetValueSecondary} ${a.targetUnitSecondary}`:`${a.targetValuePrimary} ${a.targetUnitPrimary}`,i=a=>{switch(a){case"sleep":return"fa-bed";case"nutrition":return"fa-utensils";case"daily_move":return"fa-running";default:return"fa-bullseye"}},o=a=>{switch(a){case"sleep":return"text-purple-500";case"nutrition":return"text-green-500";case"daily_move":return"text-blue-500";default:return"text-gray-500"}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Goals",showBackButton:!1,onBack:r,showHomeButton:!0}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(ue,{className:"p-4",children:c.jsxs(Q,{onClick:()=>t("/add-goal"),className:"w-full bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg h-14",children:[c.jsx("i",{className:"fas fa-plus mr-3 text-lg"}),c.jsx("span",{className:"text-lg font-medium",children:"Add New Goal"})]})})}),n?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsxs(ue,{className:"p-8 text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading goals..."})]})}):e.length>0?c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-xl font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-bullseye text-green-500 mr-3"}),"Your Goals (",e.length,")"]})}),c.jsx(ue,{className:"space-y-4",children:e.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center",children:c.jsx("i",{className:`fas ${i(a.goalType)} ${o(a.goalType)} text-xl`})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:a.goalName}),c.jsx("p",{className:"text-sm text-gray-600 capitalize",children:a.goalType.replace("_"," ")})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:s(a)}),c.jsx("p",{className:"text-sm text-gray-500",children:"Target"})]})]},a.id))})]}):c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(ue,{children:c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-bullseye text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Goals Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first goal to start tracking your progress and staying motivated."}),c.jsxs(Q,{onClick:()=>t("/add-goal"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Your First Goal"]})]})})})}),c.jsx(Vi,{})]})})]})}const Nd=[{id:"sleep",label:"Sleep",icon:"fa-bed",color:"text-purple-500",description:"Track your daily sleep duration",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"8",secondary:"30"}},{id:"nutrition",label:"Nutrition",icon:"fa-utensils",color:"text-green-500",description:"Track your daily calorie intake",primaryUnit:"calories",secondaryUnit:null,placeholder:{primary:"2000",secondary:null}},{id:"daily_move",label:"Daily Move",icon:"fa-running",color:"text-blue-500",description:"Track your daily movement/exercise time",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"1",secondary:"30"}}],pq=js({goalType:we().min(1,"Please select a goal type"),goalName:we().min(1,"Goal name is required"),targetValuePrimary:we().min(1,"Target value is required"),targetValueSecondary:we().optional(),customGoalType:we().optional()});function gq(){const[,t]=wt(),[e,n]=v.useState(""),[r,s]=v.useState(!1),i=Dn(),{toast:o}=Bt(),a=vl({resolver:bl(pq),defaultValues:{goalType:"",goalName:"",targetValuePrimary:"",targetValueSecondary:"",customGoalType:""}}),l=Mt({mutationFn:async m=>Ie("POST","/api/goals",m),onSuccess:()=>{o({title:"Success",description:"Goal created successfully!"}),i.invalidateQueries({queryKey:["/api/goals"]}),t("/goals")},onError:()=>{o({title:"Error",description:"Failed to create goal. Please try again.",variant:"destructive"})}}),u=()=>{window.history.length>1?window.history.back():t("/goals")},d=m=>{if(m==="custom")s(!0),n("custom"),a.setValue("goalType","custom"),a.setValue("goalName","");else{s(!1),n(m),a.setValue("goalType",m);const y=Nd.find(p=>p.id===m);y&&(a.setValue("goalName",y.label+" Goal"),a.setValue("targetValuePrimary",y.placeholder.primary),a.setValue("targetValueSecondary",y.placeholder.secondary||""))}},f=m=>{const y=Nd.find(x=>x.id===m.goalType),b={goalType:r?m.customGoalType||"custom":m.goalType,goalName:m.goalName,targetValuePrimary:parseFloat(m.targetValuePrimary),targetUnitPrimary:(y==null?void 0:y.primaryUnit)||"units",targetValueSecondary:m.targetValueSecondary?parseFloat(m.targetValueSecondary):null,targetUnitSecondary:(y==null?void 0:y.secondaryUnit)||null};l.mutate(b)},h=Nd.find(m=>m.id===e);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Add Goal",showBackButton:!0,onBack:u}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[!e&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Choose Goal Type"})}),c.jsxs(ue,{className:"space-y-4",children:[c.jsx("div",{className:"grid gap-3",children:Nd.map(m=>c.jsx(Q,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d(m.id),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:`fas ${m.icon} ${m.color} text-xl`}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:m.label}),c.jsx("div",{className:"text-sm text-gray-500",children:m.description})]})]})},m.id))}),c.jsx("div",{className:"border-t pt-4 mt-4",children:c.jsx(Q,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d("custom"),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:"fas fa-plus text-gray-500 text-xl"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Custom Goal"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Create your own goal type"})]})]})})})]})]}),e&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[h&&c.jsx("i",{className:`fas ${h.icon} ${h.color} mr-3`}),r?"Custom Goal":h==null?void 0:h.label,c.jsx(Q,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>{n(""),s(!1),a.reset()},children:c.jsx("i",{className:"fas fa-arrow-left"})})]})}),c.jsx(ue,{children:c.jsx(FD,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6",children:[r&&c.jsx(so,{control:a.control,name:"customGoalType",render:({field:m})=>c.jsxs(ni,{children:[c.jsx(ri,{children:"Goal Category"}),c.jsx(si,{children:c.jsx(Ce,{placeholder:"e.g., water_intake, steps, meditation",...m})}),c.jsx(ii,{})]})}),c.jsx(so,{control:a.control,name:"goalName",render:({field:m})=>c.jsxs(ni,{children:[c.jsx(ri,{children:"Goal Name"}),c.jsx(si,{children:c.jsx(Ce,{placeholder:"Enter a name for this goal",...m})}),c.jsx(ii,{})]})}),c.jsx(so,{control:a.control,name:"targetValuePrimary",render:({field:m})=>c.jsxs(ni,{children:[c.jsxs(ri,{children:["Target ",(h==null?void 0:h.primaryUnit)||"Value",(h==null?void 0:h.primaryUnit)&&c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.primaryUnit,")"]})]}),c.jsx(si,{children:c.jsx(Ce,{type:"number",step:"0.1",placeholder:(h==null?void 0:h.placeholder.primary)||"0",...m})}),c.jsx(ii,{})]})}),(h==null?void 0:h.secondaryUnit)&&c.jsx(so,{control:a.control,name:"targetValueSecondary",render:({field:m})=>c.jsxs(ni,{children:[c.jsxs(ri,{children:["Additional ",h.secondaryUnit,c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.secondaryUnit,") - optional"]})]}),c.jsx(si,{children:c.jsx(Ce,{type:"number",step:"1",min:"0",max:"59",placeholder:(h==null?void 0:h.placeholder.secondary)||"0",...m})}),c.jsx(ii,{})]})}),c.jsx(Q,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating Goal..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Goal"]})})]})})})]})]})})]})}function yq(){const[,t]=wt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Workouts",showBackButton:!1,showHomeButton:!0,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(vv,{title:"Workout Intensity",data:[{date:"2024-01-01",value:6},{date:"2024-01-02",value:8},{date:"2024-01-03",value:7},{date:"2024-01-04",value:9},{date:"2024-01-05",value:6},{date:"2024-01-06",value:8},{date:"2024-01-07",value:7}],lineColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",yAxisLabel:"Intensity (1-10)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fist-raised text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Strength"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-heartbeat text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Cardio"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-leaf text-green-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Flexibility"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-stopwatch text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"HIIT"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(Vi,{})]})})]})}Ou.register(sh,ih,_c,pa,FO,zO,IO,ul,nc);const kS=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}];function xq(){const[t,e]=v.useState("7d"),{data:n=[],error:r,isLoading:s}=zt({queryKey:["/api/macros"]}),{data:i,error:o,isLoading:a}=zt({queryKey:["/api/macro-targets"]});console.log("NutritionChart Debug:",{allMacros:n,macroTargets:i,macrosError:r,targetsError:o,macrosLoading:s,targetsLoading:a}),n.length>0&&console.log("Sample macro dates:",n.slice(0,3).map(P=>({id:P.id,date:P.date,dateType:typeof P.date})));const l=P=>{var O;return((O=kS.find(F=>F.value===P))==null?void 0:O.days)||7},d=(()=>{const P=l(t),O=new Date,F=al(O,P-1),A={};return n.filter($=>{try{if(!$.date)return console.warn("Macro entry missing date:",$),!1;const V=new Date($.date);return isNaN(V.getTime())?(console.warn("Invalid date in macro entry:",$.date,$),!1):V>=F&&V<=O}catch(V){return console.error("Error processing macro date:",$.date,V),!1}}).forEach($=>{try{const V=new Date($.date),I=Me(V,"yyyy-MM-dd");A[I]||(A[I]=[]),A[I].push($)}catch(V){console.error("Error formatting macro date:",$.date,V)}}),A})();let f=[];try{f=VU(d,l(t))}catch(P){console.error("Error generating calorie data:",P),f=[]}const h=Me(new Date,"yyyy-MM-dd"),m=d[h]||[],y=$D(m),p={proteinTarget:150,fatsTarget:80,carbsTarget:200},b=i&&typeof i.proteinTarget=="number"&&typeof i.fatsTarget=="number"&&typeof i.carbsTarget=="number"&&i.proteinTarget>0&&i.fatsTarget>0&&i.carbsTarget>0,x=b?i:p;console.log("Macro targets debug:",{macroTargets:i,hasValidTargets:b,effectiveTargets:x});let g={protein:0,fats:0,carbs:0};try{const P=$U(y,x);g={protein:isFinite(P.protein)?Math.max(0,P.protein):0,fats:isFinite(P.fats)?Math.max(0,P.fats):0,carbs:isFinite(P.carbs)?Math.max(0,P.carbs):0},console.log("Macro percentages debug:",{todaySummary:y,effectiveTargets:x,rawPercentages:P,macroPercentages:g})}catch(P){console.error("Error calculating macro percentages:",P)}const w={datasets:[{label:"Daily Calories",data:f.map(P=>({x:P.date,y:isFinite(P.value)?P.value:null})),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:1,fill:!1,tension:.4,pointRadius:3,pointHoverRadius:5,spanGaps:!1}]},S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"#10b981",borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},min:Me(al(new Date,l(t)-1),"yyyy-MM-dd"),max:Me(new Date,"yyyy-MM-dd"),grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280",display:!0,font:{size:11}},border:{display:!0,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:"Calories",color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},_=(P,O,F)=>({data:{datasets:[{data:[P,Math.max(0,100-P)],backgroundColor:[O,"#f3f4f6"],borderWidth:0,cutout:"70%"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}),N=_(g.protein,"#ef4444"),C=_(g.fats,"#eab308"),T=_(g.carbs,"#22c55e");return s||a?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(ue,{className:"pt-6",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-600",children:"Loading nutrition data..."})})})}):r||o?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(ue,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-red-600",children:"Error loading nutrition data"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(r==null?void 0:r.message)||(o==null?void 0:o.message)}),c.jsxs("details",{className:"mt-4 text-left",children:[c.jsx("summary",{className:"text-xs text-gray-400 cursor-pointer",children:"Debug Info"}),c.jsx("pre",{className:"text-xs text-gray-400 mt-2 overflow-auto max-h-32",children:JSON.stringify({macrosError:r==null?void 0:r.message,targetsError:o==null?void 0:o.message,macrosCount:(n==null?void 0:n.length)||0,sampleMacro:(n==null?void 0:n[0])||null},null,2)})]})]})})}):c.jsxs(c.Fragment,{children:[c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Daily Calories"}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:kS.map(P=>c.jsx(Q,{variant:t===P.value?"default":"ghost",size:"sm",onClick:()=>e(P.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${t===P.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:P.label},P.value))})]})}),c.jsxs(ue,{className:"pt-0 space-y-6",children:[c.jsx("div",{className:"h-64 w-full",children:c.jsx(UO,{data:w,options:S})}),c.jsxs("div",{className:"text-center pt-4 border-t border-gray-200",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Today's Total"}),c.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[Math.round(y.totalCalories)||0," calories"]}),!b&&c.jsx("p",{className:"text-xs text-amber-600 mt-2",children:"Using default macro targets. Set your personal targets in settings for better tracking."})]})]})]}),c.jsxs("div",{className:"flex justify-center gap-8 px-4 mt-6",children:[c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(gp,{data:N.data,options:N.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.protein)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Protein"}),c.jsxs("p",{className:"text-xs text-red-500 font-medium",children:[Math.round(y.protein)||0,"g / ",x.proteinTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(gp,{data:C.data,options:C.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.fats)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Fats"}),c.jsxs("p",{className:"text-xs text-yellow-500 font-medium",children:[Math.round(y.fats)||0,"g / ",x.fatsTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(gp,{data:T.data,options:T.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.carbs)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Carbs"}),c.jsxs("p",{className:"text-xs text-green-500 font-medium",children:[Math.round(y.carbs)||0,"g / ",x.carbsTarget,"g"]})]})]})]})}function vq(){const[,t]=wt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Nutrition",showBackButton:!1,showHomeButton:!0,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(xq,{}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Calories"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-drumstick-bite text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Protein"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-bread-slice text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Carbs"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-tint text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Hydration"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(Vi,{})]})})]})}function bq(){const[,t]=wt(),{data:e=[],isLoading:n,error:r}=zt({queryKey:["/api/activities/sleep/chart"],queryFn:()=>Ie("GET","/api/activities/sleep/chart")}),s=ye.useMemo(()=>{var f;if(!e.length)return{avgSleep:0,lastNight:0,weekTotal:0,daysWithData:0};const o=e.map(h=>h.value),a=o.length>0?o.reduce((h,m)=>h+m,0)/o.length:0,l=((f=e[e.length-1])==null?void 0:f.value)||0,u=o.reduce((h,m)=>h+m,0),d=o.length;return{avgSleep:a,lastNight:l,weekTotal:u,daysWithData:d}},[e]),i=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Sleep",showBackButton:!1,showHomeButton:!0,onBack:i}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(vv,{title:"Sleep Hours",data:n?[]:e,chartType:"bar",goalValue:8,yAxisLabel:"Hours"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-clock text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Last Night"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":s.lastNight>0?`${s.lastNight.toFixed(1)}h`:"--"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-chart-line text-green-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Weekly Avg"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":s.avgSleep>0?`${s.avgSleep.toFixed(1)}h`:"--"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-calendar-week text-purple-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Week Total"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":s.weekTotal>0?`${s.weekTotal.toFixed(1)}h`:"--"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-target text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Sleep Goal"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"8.0h"})]})})]}),c.jsx(Vi,{})]})})]})}function wq(){const[t,e]=v.useState(""),[n,r]=v.useState(!1),{toast:s}=Bt(),[,i]=wt(),o=async()=>{if(!t){s({title:"Missing Email",description:"Please enter your email address.",variant:"destructive"});return}r(!0);try{await Ie("POST","/api/auth/request-password-reset",{email:t}),s({title:"Reset Link Sent",description:"If your email is registered, a reset link was sent."}),setTimeout(()=>i("/"),2e3)}catch(a){s({title:"Reset Failed",description:(a==null?void 0:a.message)||"Something went wrong.",variant:"destructive"})}finally{r(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-envelope-open-text text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Forgot Password?"}),c.jsx("p",{className:"text-gray-600",children:"Well email you a link to reset it."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"forgot-email",children:"Email Address"}),c.jsx(Ce,{id:"forgot-email",type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"your@email.com",autoComplete:"email",className:"mt-2"})]}),c.jsx(Q,{onClick:o,disabled:n,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:n?"Sending...":"Send Reset Link"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remembered your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go back to login"})]})]})]})})})}function Sq(){const{toast:t}=Bt(),[,e]=wt(),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),l=async()=>{if(!n||!s){t({title:"Missing Fields",description:"Please fill in both fields.",variant:"destructive"});return}a(!0);try{await Ie("POST","/api/auth/change-password",{currentPassword:n,newPassword:s}),t({title:"Password Updated",description:"Your password was successfully changed."}),e("/profile")}catch{t({title:"Update Failed",description:"Current password may be incorrect.",variant:"destructive"})}finally{a(!1)}};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{title:"Change Password",showBackButton:!0,onBack:()=>e("/profile")}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Update Your Password"})}),c.jsxs(ue,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),c.jsx(Ce,{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Enter your current password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsx(Ce,{type:"password",value:s,onChange:u=>i(u.target.value),placeholder:"Enter your new password"})]}),c.jsx(Q,{onClick:l,disabled:o,className:"w-full shadow-md hover:shadow-lg transition-shadow",children:o?"Updating...":"Change Password"})]})]})})]})}function _q(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),[o,a]=v.useState(""),{toast:l}=Bt(),[,u]=wt();v.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("token");if(!h){l({title:"Invalid Link",description:"This password reset link is invalid or missing the token.",variant:"destructive"}),setTimeout(()=>u("/forgot-password"),3e3);return}a(h)},[l,u]);const d=async()=>{if(!t||!n){l({title:"Missing Fields",description:"Please fill in both password fields.",variant:"destructive"});return}if(t!==n){l({title:"Passwords Don't Match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<6){l({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i(!0);try{await Ie("POST","/api/auth/reset-password",{token:o,newPassword:t}),l({title:"Password Reset Successful",description:"Your password has been updated. You can now log in with your new password."}),setTimeout(()=>u("/"),2e3)}catch(f){l({title:"Reset Failed",description:(f==null?void 0:f.message)||"Failed to reset password. The link may have expired.",variant:"destructive"})}finally{i(!1)}};return o?c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-key text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Reset Your Password"}),c.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"new-password",children:"New Password"}),c.jsx(Ce,{id:"new-password",type:"password",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your new password",className:"mt-2",minLength:6})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"confirm-password",children:"Confirm Password"}),c.jsx(Ce,{id:"confirm-password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Confirm your new password",className:"mt-2",minLength:6})]}),c.jsx(Q,{onClick:d,disabled:s,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:s?"Resetting...":"Reset Password"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remember your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go to login"})]})]})]})})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsx(ue,{className:"p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-exclamation-triangle text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Invalid Link"}),c.jsx("p",{className:"text-gray-600",children:"This password reset link is invalid or has expired."})]})})})})}function Nq(){const[,t]=wt(),[e,n]=v.useState(""),[r,s]=v.useState(!1),[i,o]=v.useState(""),{toast:a}=Bt(),l=Dn();v.useEffect(()=>{K2()},[]);const f=new URLSearchParams(window.location.search).get("date")||P8();E8();const h=`journal_entry_${f}`,{data:m,isLoading:y,error:p}=zt({queryKey:["/api/journal-entries/date",f],queryFn:async()=>{try{return await Ie("GET",`/api/journal-entries/date/${f}`)}catch(S){if(S.status===404||S.status===500)return null;throw S}},staleTime:5*60*1e3,cacheTime:30*60*1e3,retry:(S,_)=>(_==null?void 0:_.status)===404?!1:S<2});v.useEffect(()=>{const S=localStorage.getItem(h);if(S&&!m&&!y)try{const _=JSON.parse(S);n(_.content||""),o(_.content||""),console.log(" Loaded journal entry from cache")}catch(_){console.error("Error parsing cached journal entry:",_),localStorage.removeItem(h)}},[h,m,y]),v.useEffect(()=>{m&&(n(m.content||""),o(m.content||""),localStorage.setItem(h,JSON.stringify(m)),console.log(" Updated cache with server data"))},[m,h]),v.useEffect(()=>{if(s(e.trim()!==i.trim()),e!==i){const S={content:e,date:f,lastModified:new Date().toISOString(),isDraft:!0};localStorage.setItem(h,JSON.stringify(S)),console.log(" Updated cache with draft content")}},[e,i,h,f]);const b=Mt({mutationFn:async S=>await Ie("POST","/api/journal-entries",{content:S,date:f}),onSuccess:S=>{o(e),s(!1),localStorage.setItem(h,JSON.stringify(S)),l.invalidateQueries({queryKey:["/api/journal-entries/date",f]}),a({title:"Success",description:"Journal entry saved successfully!"}),console.log(" Journal entry saved to database")},onError:S=>{console.error(" Error saving journal entry:",S),a({title:"Error",description:(S==null?void 0:S.message)||"Failed to save journal entry. Please try again.",variant:"destructive"})}}),x=()=>{window.history.length>1?window.history.back():t("/")},g=()=>{if(!e.trim()){a({title:"Error",description:"Please enter some content before saving.",variant:"destructive"});return}b.mutate(e)},w=S=>{n(S.target.value)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Journal",showBackButton:!1,showHomeButton:!0,onBack:x}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs($t,{className:"text-lg font-semibold text-gray-800",children:["Entry - ",xc(f+"T00:00:00","EEEE, MMMM d, yyyy")]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[r&&c.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Unsaved changes"}),y&&c.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Loading..."})]})]})}),c.jsx(ue,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:e,onChange:w,disabled:y||b.isPending,style:{border:"2px solid black",width:"100%",height:"50vh",resize:"vertical",backgroundColor:"transparent",padding:"12px",borderRadius:"8px"},placeholder:y?"Loading your journal entry...":"What's on your mind today?",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 font-normal text-gray-800"}),c.jsx(Q,{onClick:g,disabled:!e.trim()||!r||b.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:b.isPending?"SAVING...":"SAVE"}),c.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[m&&c.jsxs("div",{children:["Last updated: ",new Date(m.updated_at).toLocaleString()]}),p&&c.jsx("div",{className:"text-red-500",children:"Error loading entry (using cached version)"}),c.jsx("div",{className:"text-gray-400",children:"Changes are automatically saved locally as you type"})]}),!1]})})]}),c.jsx(Vi,{})]})})]})}function kq(){const[,t]=wt(),[e,n]=v.useState("newest");v.useEffect(()=>{K2()},[]);const r="journal_previews_cache",{data:s=[],isLoading:i}=zt({queryKey:["/api/journal-entries"],queryFn:async()=>await Ie("GET","/api/journal-entries"),staleTime:5*60*1e3,cacheTime:30*60*1e3});v.useEffect(()=>{if(s.length>0){const m=s.reduce((y,p)=>{const b=p.date.split("T")[0];return y[b]={preview:p.preview,updated_at:p.updated_at},y},{});localStorage.setItem(r,JSON.stringify(m)),console.log(" Cached journal previews for",Object.keys(m).length,"entries")}},[s,r]),v.useEffect(()=>{const m=localStorage.getItem(r);if(m&&s.length===0)try{const y=JSON.parse(m);console.log(" Loaded cached previews for",Object.keys(y).length,"entries")}catch(y){console.error("Error loading cached previews:",y),localStorage.removeItem(r)}},[r,s.length]);const o=()=>{window.history.length>1?window.history.back():t("/")},a=m=>{const y=m.split("T")[0];t(`/journal-entry?date=${y}`)},l=s.reduce((m,y)=>{const p=y.date.split("T")[0];return m[p]=y,m},{}),u=Object.keys(l).sort((m,y)=>e==="newest"?new Date(y).getTime()-new Date(m).getTime():new Date(m).getTime()-new Date(y).getTime()),d=m=>{try{return xc(m+"T00:00:00","EEEE, MMMM d, yyyy")}catch{return m}},f=m=>m.trim().split(/\s+/).filter(y=>y.length>0).length,h=m=>m.length;return i?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:o}),c.jsx("div",{className:"flex items-center justify-center pt-[calc(env(safe-area-inset-top)+6rem)]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:o}),c.jsxs("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:[c.jsx("div",{className:"flex justify-end items-center mb-6",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:[c.jsxs(Q,{variant:e==="newest"?"default":"ghost",size:"sm",onClick:()=>n("newest"),className:"rounded-r-none",children:[c.jsx("i",{className:"fas fa-arrow-down mr-2"}),"Newest"]}),c.jsxs(Q,{variant:e==="oldest"?"default":"ghost",size:"sm",onClick:()=>n("oldest"),className:"rounded-l-none border-l",children:[c.jsx("i",{className:"fas fa-arrow-up mr-2"}),"Oldest"]})]})}),u.length>0?c.jsx("div",{className:"space-y-6",children:u.map(m=>{const y=l[m],p=f(y.content),b=h(y.content);return c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex justify-end items-center",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:d(m)}),c.jsxs("p",{className:"text-sm text-gray-600",children:[p," words  ",b," characters"]})]})}),c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-6 shadow-xl cursor-pointer hover:bg-white/85 transition-all duration-200 hover:scale-[1.02] hover:shadow-2xl",onClick:()=>a(y.date),children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-gray-800 leading-relaxed",children:c.jsx("p",{className:"text-base",children:y.preview})}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{children:[c.jsx("i",{className:"fas fa-clock mr-1"}),xc(y.updated_at,"h:mm a")]}),c.jsxs("span",{children:[c.jsx("i",{className:"fas fa-edit mr-1"}),"Last edited ",xc(y.updated_at,"MMM d")]})]}),c.jsxs("div",{className:"flex items-center text-blue-600",children:[c.jsx("span",{className:"mr-2",children:"Read more"}),c.jsx("i",{className:"fas fa-chevron-right"})]})]})]})})]},m)})}):c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-book-open text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Journal Entries Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start documenting your thoughts and experiences. Your first journal entry is just a click away."}),c.jsxs(Q,{onClick:()=>t("/journal-entry"),className:"bg-blue-600 hover:bg-blue-700 text-white mr-3",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Start Writing"]}),c.jsxs(Q,{onClick:()=>t("/"),variant:"outline",className:"bg-white/50 hover:bg-white/75",children:[c.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),c.jsx(Vi,{})]})]})})}function Cq(){const{user:t,isAuthenticated:e,isLoading:n}=Uo();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):c.jsxs(c.Fragment,{children:[c.jsx(rz,{}),c.jsxs(XR,{children:[c.jsx(gt,{path:"/forgot-password",component:wq}),c.jsx(gt,{path:"/reset-password",component:_q}),e?c.jsx(c.Fragment,{children:t!=null&&t.onboardingCompleted?c.jsxs(c.Fragment,{children:[c.jsx(gt,{path:"/",component:CW}),c.jsx(gt,{path:"/profile",component:O8}),c.jsx(gt,{path:"/edit-profile",component:I8}),c.jsx(gt,{path:"/feedback",component:R8}),c.jsx(gt,{path:"/photos",component:Y8}),c.jsx(gt,{path:"/progress",component:hq}),c.jsx(gt,{path:"/goals",component:mq}),c.jsx(gt,{path:"/add-goal",component:gq}),c.jsx(gt,{path:"/workouts",component:yq}),c.jsx(gt,{path:"/nutrition",component:vq}),c.jsx(gt,{path:"/sleep",component:bq}),c.jsx(gt,{path:"/add-activity",component:L8}),c.jsx(gt,{path:"/select-activity",component:U8}),c.jsx(gt,{path:"/add-macros",component:W8}),c.jsx(gt,{path:"/change-password",component:Sq}),c.jsx(gt,{path:"/journal-entry",component:Nq}),c.jsx(gt,{path:"/journal-history",component:kq})," "," "]}):c.jsx(gt,{path:"/",component:e8})}):c.jsx(gt,{path:"/",component:BV}),c.jsx(gt,{component:cz})]})]})}function Tq(){return c.jsx(xF,{client:Ki,children:c.jsxs(tz,{children:[c.jsx(g4,{}),c.jsx(az,{}),c.jsx(Cq,{})]})})}MT(document.getElementById("root")).render(c.jsx(Tq,{}));
