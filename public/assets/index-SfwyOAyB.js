var fO=Object.defineProperty;var Dv=t=>{throw TypeError(t)};var hO=(t,e,n)=>e in t?fO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var N=(t,e,n)=>hO(t,typeof e!="symbol"?e+"":e,n),om=(t,e,n)=>e.has(t)||Dv("Cannot "+n);var P=(t,e,n)=>(om(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?Dv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),se=(t,e,n,s)=>(om(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ke=(t,e,n)=>(om(t,e,"access private method"),n);var zu=(t,e,n,s)=>({set _(r){se(t,e,r,n)},get _(){return P(t,e,s)}});function mO(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Aj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oj={exports:{}},mh={},Ij={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),pO=Symbol.for("react.portal"),gO=Symbol.for("react.fragment"),yO=Symbol.for("react.strict_mode"),xO=Symbol.for("react.profiler"),vO=Symbol.for("react.provider"),bO=Symbol.for("react.context"),wO=Symbol.for("react.forward_ref"),SO=Symbol.for("react.suspense"),_O=Symbol.for("react.memo"),NO=Symbol.for("react.lazy"),Av=Symbol.iterator;function jO(t){return t===null||typeof t!="object"?null:(t=Av&&t[Av]||t["@@iterator"],typeof t=="function"?t:null)}var Rj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fj=Object.assign,Lj={};function hl(t,e,n){this.props=t,this.context=e,this.refs=Lj,this.updater=n||Rj}hl.prototype.isReactComponent={};hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zj(){}zj.prototype=hl.prototype;function my(t,e,n){this.props=t,this.context=e,this.refs=Lj,this.updater=n||Rj}var py=my.prototype=new zj;py.constructor=my;Fj(py,hl.prototype);py.isPureReactComponent=!0;var Ov=Array.isArray,$j=Object.prototype.hasOwnProperty,gy={current:null},Vj={key:!0,ref:!0,__self:!0,__source:!0};function Bj(t,e,n){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)$j.call(e,s)&&!Vj.hasOwnProperty(s)&&(r[s]=e[s]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in o=t.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return{$$typeof:bu,type:t,key:i,ref:a,props:r,_owner:gy.current}}function kO(t,e){return{$$typeof:bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yy(t){return typeof t=="object"&&t!==null&&t.$$typeof===bu}function CO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Iv=/\/+/g;function lm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CO(""+t.key):e.toString(36)}function Dd(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bu:case pO:a=!0}}if(a)return a=t,r=r(a),t=s===""?"."+lm(a,0):s,Ov(r)?(n="",t!=null&&(n=t.replace(Iv,"$&/")+"/"),Dd(r,e,n,"",function(u){return u})):r!=null&&(yy(r)&&(r=kO(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Iv,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=s===""?".":s+":",Ov(t))for(var o=0;o<t.length;o++){i=t[o];var c=s+lm(i,o);a+=Dd(i,e,n,c,r)}else if(c=jO(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=s+lm(i,o++),a+=Dd(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function $u(t,e,n){if(t==null)return t;var s=[],r=0;return Dd(t,s,"","",function(i){return e.call(n,i,r++)}),s}function TO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Ad={transition:null},PO={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Ad,ReactCurrentOwner:gy};function Uj(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:$u,forEach:function(t,e,n){$u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $u(t,function(){e++}),e},toArray:function(t){return $u(t,function(e){return e})||[]},only:function(t){if(!yy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=hl;Ae.Fragment=gO;Ae.Profiler=xO;Ae.PureComponent=my;Ae.StrictMode=yO;Ae.Suspense=SO;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PO;Ae.act=Uj;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Fj({},t.props),r=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=gy.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)$j.call(e,c)&&!Vj.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:bu,type:t.type,key:r,ref:i,props:s,_owner:a}};Ae.createContext=function(t){return t={$$typeof:bO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vO,_context:t},t.Consumer=t};Ae.createElement=Bj;Ae.createFactory=function(t){var e=Bj.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:wO,render:t}};Ae.isValidElement=yy;Ae.lazy=function(t){return{$$typeof:NO,_payload:{_status:-1,_result:t},_init:TO}};Ae.memo=function(t,e){return{$$typeof:_O,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Ad.transition;Ad.transition={};try{t()}finally{Ad.transition=e}};Ae.unstable_act=Uj;Ae.useCallback=function(t,e){return vn.current.useCallback(t,e)};Ae.useContext=function(t){return vn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return vn.current.useEffect(t,e)};Ae.useId=function(){return vn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return vn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Ae.useRef=function(t){return vn.current.useRef(t)};Ae.useState=function(t){return vn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return vn.current.useTransition()};Ae.version="18.3.1";Ij.exports=Ae;var b=Ij.exports;const ye=Aj(b),xy=mO({__proto__:null,default:ye},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO=b,MO=Symbol.for("react.element"),DO=Symbol.for("react.fragment"),AO=Object.prototype.hasOwnProperty,OO=EO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IO={key:!0,ref:!0,__self:!0,__source:!0};function Wj(t,e,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)AO.call(e,s)&&!IO.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:MO,type:t,key:i,ref:a,props:r,_owner:OO.current}}mh.Fragment=DO;mh.jsx=Wj;mh.jsxs=Wj;Oj.exports=mh;var l=Oj.exports,Hj={exports:{}},Wn={},Yj={exports:{}},qj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,F){var D=C.length;C.push(F);e:for(;0<D;){var W=D-1>>>1,G=C[W];if(0<r(G,F))C[W]=F,C[D]=G,D=W;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var F=C[0],D=C.pop();if(D!==F){C[0]=D;e:for(var W=0,G=C.length,ne=G>>>1;W<ne;){var re=2*(W+1)-1,ge=C[re],ve=re+1,H=C[ve];if(0>r(ge,D))ve<G&&0>r(H,ge)?(C[W]=H,C[ve]=D,W=ve):(C[W]=ge,C[re]=D,W=re);else if(ve<G&&0>r(H,D))C[W]=H,C[ve]=D,W=ve;else break e}}return F}function r(C,F){var D=C.sortIndex-F.sortIndex;return D!==0?D:C.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=C)s(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function S(C){if(p=!1,w(C),!y)if(n(c)!==null)y=!0,V(_);else{var F=n(u);F!==null&&B(S,F.startTime-C)}}function _(C,F){y=!1,p&&(p=!1,x(T),T=-1),m=!0;var D=h;try{for(w(F),f=n(c);f!==null&&(!(f.expirationTime>F)||C&&!z());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=F);F=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&s(c),w(F)}else s(c);f=n(c)}if(f!==null)var ne=!0;else{var re=n(u);re!==null&&B(S,re.startTime-F),ne=!1}return ne}finally{f=null,h=D,m=!1}}var j=!1,k=null,T=-1,E=5,A=-1;function z(){return!(t.unstable_now()-A<E)}function R(){if(k!==null){var C=t.unstable_now();A=C;var F=!0;try{F=k(!0,C)}finally{F?L():(j=!1,k=null)}}else j=!1}var L;if(typeof g=="function")L=function(){g(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,O=I.port2;I.port1.onmessage=R,L=function(){O.postMessage(null)}}else L=function(){v(R,0)};function V(C){k=C,j||(j=!0,L())}function B(C,F){T=v(function(){C(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,V(_))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var D=h;h=F;try{return C()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,F){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=h;h=C;try{return F()}finally{h=D}},t.unstable_scheduleCallback=function(C,F,D){var W=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,C){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,C={id:d++,callback:F,priorityLevel:C,startTime:D,expirationTime:G,sortIndex:-1},D>W?(C.sortIndex=D,e(u,C),n(c)===null&&C===n(u)&&(p?(x(T),T=-1):p=!0,B(S,D-W))):(C.sortIndex=G,e(c,C),y||m||(y=!0,V(_))),C},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(C){var F=h;return function(){var D=h;h=F;try{return C.apply(this,arguments)}finally{h=D}}}})(qj);Yj.exports=qj;var RO=Yj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO=b,Un=RO;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qj=new Set,Tc={};function $a(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(Tc[t]=e,t=0;t<e.length;t++)Qj.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jp=Object.prototype.hasOwnProperty,LO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rv={},Fv={};function zO(t){return jp.call(Fv,t)?!0:jp.call(Rv,t)?!1:LO.test(t)?Fv[t]=!0:(Rv[t]=!0,!1)}function $O(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VO(t,e,n,s){if(e===null||typeof e>"u"||$O(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vy=/[\-:]([a-z])/g;function by(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vy,by);Zt[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vy,by);Zt[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vy,by);Zt[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function wy(t,e,n,s){var r=Zt.hasOwnProperty(e)?Zt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VO(e,n,r,s)&&(n=null),s||r===null?zO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Pr=FO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),so=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),Kj=Symbol.for("react.provider"),Gj=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Xj=Symbol.for("react.offscreen"),Lv=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=Lv&&t[Lv]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,cm;function Xl(t){if(cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cm=e&&e[1]||""}return`
`+cm+t}var um=!1;function dm(t,e){if(!t||um)return"";um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==i[o]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{um=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function BO(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=dm(t.type,!1),t;case 11:return t=dm(t.type.render,!1),t;case 1:return t=dm(t.type,!0),t;default:return""}}function Pp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case so:return"Portal";case kp:return"Profiler";case Sy:return"StrictMode";case Cp:return"Suspense";case Tp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gj:return(t.displayName||"Context")+".Consumer";case Kj:return(t._context.displayName||"Context")+".Provider";case _y:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ny:return e=t.displayName||null,e!==null?e:Pp(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return Pp(t(e))}catch{}}return null}function UO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pp(e);case 8:return e===Sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WO(t){var e=Zj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bu(t){t._valueTracker||(t._valueTracker=WO(t))}function Jj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Zj(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function sf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ep(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zv(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ek(t,e){e=e.checked,e!=null&&wy(t,"checked",e,!1)}function Mp(t,e){ek(t,e);var n=Ni(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dp(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $v(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dp(t,e,n){(e!=="number"||sf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function xo(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Zl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function tk(t,e){var n=Ni(e.value),s=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Bv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,sk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HO=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){HO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function rk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function ik(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=rk(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var YO=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(t,e){if(e){if(YO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=null;function jy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lp=null,vo=null,bo=null;function Uv(t){if(t=_u(t)){if(typeof Lp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=vh(e),Lp(t.stateNode,t.type,e))}}function ak(t){vo?bo?bo.push(t):bo=[t]:vo=t}function ok(){if(vo){var t=vo,e=bo;if(bo=vo=null,Uv(t),e)for(t=0;t<e.length;t++)Uv(e[t])}}function lk(t,e){return t(e)}function ck(){}var fm=!1;function uk(t,e,n){if(fm)return t(e,n);fm=!0;try{return lk(t,e,n)}finally{fm=!1,(vo!==null||bo!==null)&&(ck(),ok())}}function Ec(t,e){var n=t.stateNode;if(n===null)return null;var s=vh(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var zp=!1;if(Sr)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){zp=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{zp=!1}function qO(t,e,n,s,r,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var uc=!1,rf=null,af=!1,$p=null,QO={onError:function(t){uc=!0,rf=t}};function KO(t,e,n,s,r,i,a,o,c){uc=!1,rf=null,qO.apply(QO,arguments)}function GO(t,e,n,s,r,i,a,o,c){if(KO.apply(this,arguments),uc){if(uc){var u=rf;uc=!1,rf=null}else throw Error(K(198));af||(af=!0,$p=u)}}function Va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wv(t){if(Va(t)!==t)throw Error(K(188))}function XO(t){var e=t.alternate;if(!e){if(e=Va(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Wv(r),t;if(i===s)return Wv(r),e;i=i.sibling}throw Error(K(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==s)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function fk(t){return t=XO(t),t!==null?hk(t):null}function hk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hk(t);if(e!==null)return e;t=t.sibling}return null}var mk=Un.unstable_scheduleCallback,Hv=Un.unstable_cancelCallback,ZO=Un.unstable_shouldYield,JO=Un.unstable_requestPaint,Ct=Un.unstable_now,eI=Un.unstable_getCurrentPriorityLevel,ky=Un.unstable_ImmediatePriority,pk=Un.unstable_UserBlockingPriority,of=Un.unstable_NormalPriority,tI=Un.unstable_LowPriority,gk=Un.unstable_IdlePriority,ph=null,Us=null;function nI(t){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var vs=Math.clz32?Math.clz32:iI,sI=Math.log,rI=Math.LN2;function iI(t){return t>>>=0,t===0?32:31-(sI(t)/rI|0)|0}var Wu=64,Hu=4194304;function Jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?s=Jl(o):(i&=a,i!==0&&(s=Jl(i)))}else a=n&~r,a!==0?s=Jl(a):i!==0&&(s=Jl(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-vs(e),r=1<<n,s|=t[n],e&=~r;return s}function aI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oI(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-vs(i),o=1<<a,c=r[a];c===-1?(!(o&n)||o&s)&&(r[a]=aI(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function Vp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yk(){var t=Wu;return Wu<<=1,!(Wu&4194240)&&(Wu=64),t}function hm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vs(e),t[e]=n}function lI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-vs(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Cy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-vs(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Je=0;function xk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vk,Ty,bk,wk,Sk,Bp=!1,Yu=[],mi=null,pi=null,gi=null,Mc=new Map,Dc=new Map,qr=[],cI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yv(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(e.pointerId)}}function El(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=_u(e),e!==null&&Ty(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function uI(t,e,n,s,r){switch(e){case"focusin":return mi=El(mi,t,e,n,s,r),!0;case"dragenter":return pi=El(pi,t,e,n,s,r),!0;case"mouseover":return gi=El(gi,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Mc.set(i,El(Mc.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Dc.set(i,El(Dc.get(i)||null,t,e,n,s,r)),!0}return!1}function _k(t){var e=ta(t.target);if(e!==null){var n=Va(e);if(n!==null){if(e=n.tag,e===13){if(e=dk(n),e!==null){t.blockedOn=e,Sk(t.priority,function(){bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Up(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Fp=s,n.target.dispatchEvent(s),Fp=null}else return e=_u(n),e!==null&&Ty(e),t.blockedOn=n,!1;e.shift()}return!0}function qv(t,e,n){Od(t)&&n.delete(e)}function dI(){Bp=!1,mi!==null&&Od(mi)&&(mi=null),pi!==null&&Od(pi)&&(pi=null),gi!==null&&Od(gi)&&(gi=null),Mc.forEach(qv),Dc.forEach(qv)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Bp||(Bp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,dI)))}function Ac(t){function e(r){return Ml(r,t)}if(0<Yu.length){Ml(Yu[0],t);for(var n=1;n<Yu.length;n++){var s=Yu[n];s.blockedOn===t&&(s.blockedOn=null)}}for(mi!==null&&Ml(mi,t),pi!==null&&Ml(pi,t),gi!==null&&Ml(gi,t),Mc.forEach(e),Dc.forEach(e),n=0;n<qr.length;n++)s=qr[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)_k(n),n.blockedOn===null&&qr.shift()}var wo=Pr.ReactCurrentBatchConfig,cf=!0;function fI(t,e,n,s){var r=Je,i=wo.transition;wo.transition=null;try{Je=1,Py(t,e,n,s)}finally{Je=r,wo.transition=i}}function hI(t,e,n,s){var r=Je,i=wo.transition;wo.transition=null;try{Je=4,Py(t,e,n,s)}finally{Je=r,wo.transition=i}}function Py(t,e,n,s){if(cf){var r=Up(t,e,n,s);if(r===null)_m(t,e,s,uf,n),Yv(t,s);else if(uI(r,t,e,n,s))s.stopPropagation();else if(Yv(t,s),e&4&&-1<cI.indexOf(t)){for(;r!==null;){var i=_u(r);if(i!==null&&vk(i),i=Up(t,e,n,s),i===null&&_m(t,e,s,uf,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else _m(t,e,s,null,n)}}var uf=null;function Up(t,e,n,s){if(uf=null,t=jy(s),t=ta(t),t!==null)if(e=Va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uf=t,null}function Nk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eI()){case ky:return 1;case pk:return 4;case of:case tI:return 16;case gk:return 536870912;default:return 16}default:return 16}}var ii=null,Ey=null,Id=null;function jk(){if(Id)return Id;var t,e=Ey,n=e.length,s,r="value"in ii?ii.value:ii.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Id=r.slice(t,1<s?1-s:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function Qv(){return!1}function Hn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qu:Qv,this.isPropagationStopped=Qv,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},My=Hn(ml),Su=yt({},ml,{view:0,detail:0}),mI=Hn(Su),mm,pm,Dl,gh=yt({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(mm=t.screenX-Dl.screenX,pm=t.screenY-Dl.screenY):pm=mm=0,Dl=t),mm)},movementY:function(t){return"movementY"in t?t.movementY:pm}}),Kv=Hn(gh),pI=yt({},gh,{dataTransfer:0}),gI=Hn(pI),yI=yt({},Su,{relatedTarget:0}),gm=Hn(yI),xI=yt({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),vI=Hn(xI),bI=yt({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wI=Hn(bI),SI=yt({},ml,{data:0}),Gv=Hn(SI),_I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jI[t])?!!e[t]:!1}function Dy(){return kI}var CI=yt({},Su,{key:function(t){if(t.key){var e=_I[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TI=Hn(CI),PI=yt({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=Hn(PI),EI=yt({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),MI=Hn(EI),DI=yt({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),AI=Hn(DI),OI=yt({},gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),II=Hn(OI),RI=[9,13,27,32],Ay=Sr&&"CompositionEvent"in window,dc=null;Sr&&"documentMode"in document&&(dc=document.documentMode);var FI=Sr&&"TextEvent"in window&&!dc,kk=Sr&&(!Ay||dc&&8<dc&&11>=dc),Zv=" ",Jv=!1;function Ck(t,e){switch(t){case"keyup":return RI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function LI(t,e){switch(t){case"compositionend":return Tk(e);case"keypress":return e.which!==32?null:(Jv=!0,Zv);case"textInput":return t=e.data,t===Zv&&Jv?null:t;default:return null}}function zI(t,e){if(io)return t==="compositionend"||!Ay&&Ck(t,e)?(t=jk(),Id=Ey=ii=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kk&&e.locale!=="ko"?null:e.data;default:return null}}var $I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$I[t.type]:e==="textarea"}function Pk(t,e,n,s){ak(s),e=df(e,"onChange"),0<e.length&&(n=new My("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var fc=null,Oc=null;function VI(t){$k(t,0)}function yh(t){var e=lo(t);if(Jj(e))return t}function BI(t,e){if(t==="change")return e}var Ek=!1;if(Sr){var ym;if(Sr){var xm="oninput"in document;if(!xm){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),xm=typeof t0.oninput=="function"}ym=xm}else ym=!1;Ek=ym&&(!document.documentMode||9<document.documentMode)}function n0(){fc&&(fc.detachEvent("onpropertychange",Mk),Oc=fc=null)}function Mk(t){if(t.propertyName==="value"&&yh(Oc)){var e=[];Pk(e,Oc,t,jy(t)),uk(VI,e)}}function UI(t,e,n){t==="focusin"?(n0(),fc=e,Oc=n,fc.attachEvent("onpropertychange",Mk)):t==="focusout"&&n0()}function WI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yh(Oc)}function HI(t,e){if(t==="click")return yh(e)}function YI(t,e){if(t==="input"||t==="change")return yh(e)}function qI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ss=typeof Object.is=="function"?Object.is:qI;function Ic(t,e){if(Ss(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!jp.call(e,r)||!Ss(t[r],e[r]))return!1}return!0}function s0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r0(t,e){var n=s0(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s0(n)}}function Dk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ak(){for(var t=window,e=sf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sf(t.document)}return e}function Oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QI(t){var e=Ak(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dk(n.ownerDocument.documentElement,n)){if(s!==null&&Oy(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=r0(n,i);var a=r0(n,s);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KI=Sr&&"documentMode"in document&&11>=document.documentMode,ao=null,Wp=null,hc=null,Hp=!1;function i0(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hp||ao==null||ao!==sf(s)||(s=ao,"selectionStart"in s&&Oy(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),hc&&Ic(hc,s)||(hc=s,s=df(Wp,"onSelect"),0<s.length&&(e=new My("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ao)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},vm={},Ok={};Sr&&(Ok=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function xh(t){if(vm[t])return vm[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ok)return vm[t]=e[n];return t}var Ik=xh("animationend"),Rk=xh("animationiteration"),Fk=xh("animationstart"),Lk=xh("transitionend"),zk=new Map,a0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){zk.set(t,e),$a(e,[t])}for(var bm=0;bm<a0.length;bm++){var wm=a0[bm],GI=wm.toLowerCase(),XI=wm[0].toUpperCase()+wm.slice(1);Ri(GI,"on"+XI)}Ri(Ik,"onAnimationEnd");Ri(Rk,"onAnimationIteration");Ri(Fk,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(Lk,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function o0(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,GO(s,e,void 0,t),t.currentTarget=null}function $k(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;o0(r,o,u),i=c}else for(a=0;a<s.length;a++){if(o=s[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;o0(r,o,u),i=c}}}if(af)throw t=$p,af=!1,$p=null,t}function lt(t,e){var n=e[Gp];n===void 0&&(n=e[Gp]=new Set);var s=t+"__bubble";n.has(s)||(Vk(e,t,2,!1),n.add(s))}function Sm(t,e,n){var s=0;e&&(s|=4),Vk(n,t,s,e)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Rc(t){if(!t[Ku]){t[Ku]=!0,Qj.forEach(function(n){n!=="selectionchange"&&(ZI.has(n)||Sm(n,!1,t),Sm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ku]||(e[Ku]=!0,Sm("selectionchange",!1,e))}}function Vk(t,e,n,s){switch(Nk(e)){case 1:var r=fI;break;case 4:r=hI;break;default:r=Py}n=r.bind(null,e,n,t),r=void 0,!zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function _m(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;o!==null;){if(a=ta(o),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}o=o.parentNode}}s=s.return}uk(function(){var u=i,d=jy(n),f=[];e:{var h=zk.get(t);if(h!==void 0){var m=My,y=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":m=TI;break;case"focusin":y="focus",m=gm;break;case"focusout":y="blur",m=gm;break;case"beforeblur":case"afterblur":m=gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MI;break;case Ik:case Rk:case Fk:m=vI;break;case Lk:m=AI;break;case"scroll":m=mI;break;case"wheel":m=II;break;case"copy":case"cut":case"paste":m=wI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xv}var p=(e&4)!==0,v=!p&&t==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Ec(g,x),S!=null&&p.push(Fc(g,S,w)))),v)break;g=g.return}0<p.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Fp&&(y=n.relatedTarget||n.fromElement)&&(ta(y)||y[_r]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ta(y):null,y!==null&&(v=Va(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(p=Kv,S="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=Xv,S="onPointerLeave",x="onPointerEnter",g="pointer"),v=m==null?h:lo(m),w=y==null?h:lo(y),h=new p(S,g+"leave",m,n,d),h.target=v,h.relatedTarget=w,S=null,ta(d)===u&&(p=new p(x,g+"enter",y,n,d),p.target=w,p.relatedTarget=v,S=p),v=S,m&&y)t:{for(p=m,x=y,g=0,w=p;w;w=qa(w))g++;for(w=0,S=x;S;S=qa(S))w++;for(;0<g-w;)p=qa(p),g--;for(;0<w-g;)x=qa(x),w--;for(;g--;){if(p===x||x!==null&&p===x.alternate)break t;p=qa(p),x=qa(x)}p=null}else p=null;m!==null&&l0(f,h,m,p,!1),y!==null&&v!==null&&l0(f,v,y,p,!0)}}e:{if(h=u?lo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=BI;else if(e0(h))if(Ek)_=YI;else{_=WI;var j=UI}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=HI);if(_&&(_=_(t,u))){Pk(f,_,n,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Dp(h,"number",h.value)}switch(j=u?lo(u):window,t){case"focusin":(e0(j)||j.contentEditable==="true")&&(ao=j,Wp=u,hc=null);break;case"focusout":hc=Wp=ao=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,i0(f,n,d);break;case"selectionchange":if(KI)break;case"keydown":case"keyup":i0(f,n,d)}var k;if(Ay)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else io?Ck(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(kk&&n.locale!=="ko"&&(io||T!=="onCompositionStart"?T==="onCompositionEnd"&&io&&(k=jk()):(ii=d,Ey="value"in ii?ii.value:ii.textContent,io=!0)),j=df(u,T),0<j.length&&(T=new Gv(T,t,null,n,d),f.push({event:T,listeners:j}),k?T.data=k:(k=Tk(n),k!==null&&(T.data=k)))),(k=FI?LI(t,n):zI(t,n))&&(u=df(u,"onBeforeInput"),0<u.length&&(d=new Gv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}$k(f,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Ec(t,n),i!=null&&s.unshift(Fc(t,i,r)),i=Ec(t,e),i!=null&&s.push(Fc(t,i,r))),t=t.return}return s}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l0(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&u!==null&&(o=u,r?(c=Ec(n,i),c!=null&&a.unshift(Fc(n,c,o))):r||(c=Ec(n,i),c!=null&&a.push(Fc(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var JI=/\r\n?/g,eR=/\u0000|\uFFFD/g;function c0(t){return(typeof t=="string"?t:""+t).replace(JI,`
`).replace(eR,"")}function Gu(t,e,n){if(e=c0(e),c0(t)!==e&&n)throw Error(K(425))}function ff(){}var Yp=null,qp=null;function Qp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,nR=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(t){return u0.resolve(null).then(t).catch(sR)}:Kp;function sR(t){setTimeout(function(){throw t})}function Nm(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Ac(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Ac(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pl=Math.random().toString(36).slice(2),Rs="__reactFiber$"+pl,Lc="__reactProps$"+pl,_r="__reactContainer$"+pl,Gp="__reactEvents$"+pl,rR="__reactListeners$"+pl,iR="__reactHandles$"+pl;function ta(t){var e=t[Rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d0(t);t!==null;){if(n=t[Rs])return n;t=d0(t)}return e}t=n,n=t.parentNode}return null}function _u(t){return t=t[Rs]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function vh(t){return t[Lc]||null}var Xp=[],co=-1;function Fi(t){return{current:t}}function ut(t){0>co||(t.current=Xp[co],Xp[co]=null,co--)}function at(t,e){co++,Xp[co]=t.current,t.current=e}var ji={},ln=Fi(ji),Mn=Fi(!1),Sa=ji;function Yo(t,e){var n=t.type.contextTypes;if(!n)return ji;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Dn(t){return t=t.childContextTypes,t!=null}function hf(){ut(Mn),ut(ln)}function f0(t,e,n){if(ln.current!==ji)throw Error(K(168));at(ln,e),at(Mn,n)}function Bk(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(K(108,UO(t)||"Unknown",r));return yt({},n,s)}function mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Sa=ln.current,at(ln,t),at(Mn,Mn.current),!0}function h0(t,e,n){var s=t.stateNode;if(!s)throw Error(K(169));n?(t=Bk(t,e,Sa),s.__reactInternalMemoizedMergedChildContext=t,ut(Mn),ut(ln),at(ln,t)):ut(Mn),at(Mn,n)}var cr=null,bh=!1,jm=!1;function Uk(t){cr===null?cr=[t]:cr.push(t)}function aR(t){bh=!0,Uk(t)}function Li(){if(!jm&&cr!==null){jm=!0;var t=0,e=Je;try{var n=cr;for(Je=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}cr=null,bh=!1}catch(r){throw cr!==null&&(cr=cr.slice(t+1)),mk(ky,Li),r}finally{Je=e,jm=!1}}return null}var uo=[],fo=0,pf=null,gf=0,Zn=[],Jn=0,_a=null,pr=1,gr="";function Qi(t,e){uo[fo++]=gf,uo[fo++]=pf,pf=t,gf=e}function Wk(t,e,n){Zn[Jn++]=pr,Zn[Jn++]=gr,Zn[Jn++]=_a,_a=t;var s=pr;t=gr;var r=32-vs(s)-1;s&=~(1<<r),n+=1;var i=32-vs(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,pr=1<<32-vs(e)+r|n<<r|s,gr=i+t}else pr=1<<i|n<<r|s,gr=t}function Iy(t){t.return!==null&&(Qi(t,1),Wk(t,1,0))}function Ry(t){for(;t===pf;)pf=uo[--fo],uo[fo]=null,gf=uo[--fo],uo[fo]=null;for(;t===_a;)_a=Zn[--Jn],Zn[Jn]=null,gr=Zn[--Jn],Zn[Jn]=null,pr=Zn[--Jn],Zn[Jn]=null}var $n=null,zn=null,dt=!1,ps=null;function Hk(t,e){var n=es(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,zn=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_a!==null?{id:pr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=es(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,zn=null,!0):!1;default:return!1}}function Zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jp(t){if(dt){var e=zn;if(e){var n=e;if(!m0(t,e)){if(Zp(t))throw Error(K(418));e=yi(n.nextSibling);var s=$n;e&&m0(t,e)?Hk(s,n):(t.flags=t.flags&-4097|2,dt=!1,$n=t)}}else{if(Zp(t))throw Error(K(418));t.flags=t.flags&-4097|2,dt=!1,$n=t}}}function p0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function Xu(t){if(t!==$n)return!1;if(!dt)return p0(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qp(t.type,t.memoizedProps)),e&&(e=zn)){if(Zp(t))throw Yk(),Error(K(418));for(;e;)Hk(t,e),e=yi(e.nextSibling)}if(p0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=$n?yi(t.stateNode.nextSibling):null;return!0}function Yk(){for(var t=zn;t;)t=yi(t.nextSibling)}function qo(){zn=$n=null,dt=!1}function Fy(t){ps===null?ps=[t]:ps.push(t)}var oR=Pr.ReactCurrentBatchConfig;function Al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var s=n.stateNode}if(!s)throw Error(K(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=r.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Zu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g0(t){var e=t._init;return e(t._payload)}function qk(t){function e(x,g){if(t){var w=x.deletions;w===null?(x.deletions=[g],x.flags|=16):w.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function s(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function r(x,g){return x=wi(x,g),x.index=0,x.sibling=null,x}function i(x,g,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<g?(x.flags|=2,g):w):(x.flags|=2,g)):(x.flags|=1048576,g)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,g,w,S){return g===null||g.tag!==6?(g=Dm(w,x.mode,S),g.return=x,g):(g=r(g,w),g.return=x,g)}function c(x,g,w,S){var _=w.type;return _===ro?d(x,g,w.props.children,S,w.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hr&&g0(_)===g.type)?(S=r(g,w.props),S.ref=Al(x,g,w),S.return=x,S):(S=Ud(w.type,w.key,w.props,null,x.mode,S),S.ref=Al(x,g,w),S.return=x,S)}function u(x,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Am(w,x.mode,S),g.return=x,g):(g=r(g,w.children||[]),g.return=x,g)}function d(x,g,w,S,_){return g===null||g.tag!==7?(g=xa(w,x.mode,S,_),g.return=x,g):(g=r(g,w),g.return=x,g)}function f(x,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dm(""+g,x.mode,w),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vu:return w=Ud(g.type,g.key,g.props,null,x.mode,w),w.ref=Al(x,null,g),w.return=x,w;case so:return g=Am(g,x.mode,w),g.return=x,g;case Hr:var S=g._init;return f(x,S(g._payload),w)}if(Zl(g)||Tl(g))return g=xa(g,x.mode,w,null),g.return=x,g;Zu(x,g)}return null}function h(x,g,w,S){var _=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(x,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:return w.key===_?c(x,g,w,S):null;case so:return w.key===_?u(x,g,w,S):null;case Hr:return _=w._init,h(x,g,_(w._payload),S)}if(Zl(w)||Tl(w))return _!==null?null:d(x,g,w,S,null);Zu(x,w)}return null}function m(x,g,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,o(g,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vu:return x=x.get(S.key===null?w:S.key)||null,c(g,x,S,_);case so:return x=x.get(S.key===null?w:S.key)||null,u(g,x,S,_);case Hr:var j=S._init;return m(x,g,w,j(S._payload),_)}if(Zl(S)||Tl(S))return x=x.get(w)||null,d(g,x,S,_,null);Zu(g,S)}return null}function y(x,g,w,S){for(var _=null,j=null,k=g,T=g=0,E=null;k!==null&&T<w.length;T++){k.index>T?(E=k,k=null):E=k.sibling;var A=h(x,k,w[T],S);if(A===null){k===null&&(k=E);break}t&&k&&A.alternate===null&&e(x,k),g=i(A,g,T),j===null?_=A:j.sibling=A,j=A,k=E}if(T===w.length)return n(x,k),dt&&Qi(x,T),_;if(k===null){for(;T<w.length;T++)k=f(x,w[T],S),k!==null&&(g=i(k,g,T),j===null?_=k:j.sibling=k,j=k);return dt&&Qi(x,T),_}for(k=s(x,k);T<w.length;T++)E=m(k,x,T,w[T],S),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?T:E.key),g=i(E,g,T),j===null?_=E:j.sibling=E,j=E);return t&&k.forEach(function(z){return e(x,z)}),dt&&Qi(x,T),_}function p(x,g,w,S){var _=Tl(w);if(typeof _!="function")throw Error(K(150));if(w=_.call(w),w==null)throw Error(K(151));for(var j=_=null,k=g,T=g=0,E=null,A=w.next();k!==null&&!A.done;T++,A=w.next()){k.index>T?(E=k,k=null):E=k.sibling;var z=h(x,k,A.value,S);if(z===null){k===null&&(k=E);break}t&&k&&z.alternate===null&&e(x,k),g=i(z,g,T),j===null?_=z:j.sibling=z,j=z,k=E}if(A.done)return n(x,k),dt&&Qi(x,T),_;if(k===null){for(;!A.done;T++,A=w.next())A=f(x,A.value,S),A!==null&&(g=i(A,g,T),j===null?_=A:j.sibling=A,j=A);return dt&&Qi(x,T),_}for(k=s(x,k);!A.done;T++,A=w.next())A=m(k,x,T,A.value,S),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?T:A.key),g=i(A,g,T),j===null?_=A:j.sibling=A,j=A);return t&&k.forEach(function(R){return e(x,R)}),dt&&Qi(x,T),_}function v(x,g,w,S){if(typeof w=="object"&&w!==null&&w.type===ro&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:e:{for(var _=w.key,j=g;j!==null;){if(j.key===_){if(_=w.type,_===ro){if(j.tag===7){n(x,j.sibling),g=r(j,w.props.children),g.return=x,x=g;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hr&&g0(_)===j.type){n(x,j.sibling),g=r(j,w.props),g.ref=Al(x,j,w),g.return=x,x=g;break e}n(x,j);break}else e(x,j);j=j.sibling}w.type===ro?(g=xa(w.props.children,x.mode,S,w.key),g.return=x,x=g):(S=Ud(w.type,w.key,w.props,null,x.mode,S),S.ref=Al(x,g,w),S.return=x,x=S)}return a(x);case so:e:{for(j=w.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(x,g.sibling),g=r(g,w.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else e(x,g);g=g.sibling}g=Am(w,x.mode,S),g.return=x,x=g}return a(x);case Hr:return j=w._init,v(x,g,j(w._payload),S)}if(Zl(w))return y(x,g,w,S);if(Tl(w))return p(x,g,w,S);Zu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(x,g.sibling),g=r(g,w),g.return=x,x=g):(n(x,g),g=Dm(w,x.mode,S),g.return=x,x=g),a(x)):n(x,g)}return v}var Qo=qk(!0),Qk=qk(!1),yf=Fi(null),xf=null,ho=null,Ly=null;function zy(){Ly=ho=xf=null}function $y(t){var e=yf.current;ut(yf),t._currentValue=e}function eg(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function So(t,e){xf=t,Ly=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function ss(t){var e=t._currentValue;if(Ly!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(xf===null)throw Error(K(308));ho=t,xf.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var na=null;function Vy(t){na===null?na=[t]:na.push(t)}function Kk(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Vy(e)):(n.next=r.next,r.next=n),e.interleaved=n,Nr(t,s)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function By(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xi(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Be&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Nr(t,n)}return r=s.interleaved,r===null?(e.next=e,Vy(s)):(e.next=r.next,r.next=e),s.interleaved=e,Nr(t,n)}function Fd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Cy(t,n)}}function y0(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vf(t,e,n,s){var r=t.updateQueue;Yr=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=r.baseState;a=0,d=u=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,p=o;switch(h=e,m=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=yt({},f,h);break e;case 2:Yr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(d===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ja|=a,t.lanes=a,t.memoizedState=f}}function x0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(K(191,r));r.call(s)}}}var Nu={},Ws=Fi(Nu),zc=Fi(Nu),$c=Fi(Nu);function sa(t){if(t===Nu)throw Error(K(174));return t}function Uy(t,e){switch(at($c,e),at(zc,t),at(Ws,Nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}ut(Ws),at(Ws,e)}function Ko(){ut(Ws),ut(zc),ut($c)}function Xk(t){sa($c.current);var e=sa(Ws.current),n=Op(e,t.type);e!==n&&(at(zc,t),at(Ws,n))}function Wy(t){zc.current===t&&(ut(Ws),ut(zc))}var mt=Fi(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function Hy(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var Ld=Pr.ReactCurrentDispatcher,Cm=Pr.ReactCurrentBatchConfig,Na=0,gt=null,Lt=null,Wt=null,wf=!1,mc=!1,Vc=0,lR=0;function en(){throw Error(K(321))}function Yy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ss(t[n],e[n]))return!1;return!0}function qy(t,e,n,s,r,i){if(Na=i,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?fR:hR,t=n(s,r),mc){i=0;do{if(mc=!1,Vc=0,25<=i)throw Error(K(301));i+=1,Wt=Lt=null,e.updateQueue=null,Ld.current=mR,t=n(s,r)}while(mc)}if(Ld.current=Sf,e=Lt!==null&&Lt.next!==null,Na=0,Wt=Lt=gt=null,wf=!1,e)throw Error(K(300));return t}function Qy(){var t=Vc!==0;return Vc=0,t}function Ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?gt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function rs(){if(Lt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Wt===null?gt.memoizedState:Wt.next;if(e!==null)Wt=e,Lt=t;else{if(t===null)throw Error(K(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?gt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Bc(t,e){return typeof e=="function"?e(t):e}function Tm(t){var e=rs(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=Lt,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((Na&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=s):c=c.next=f,gt.lanes|=d,ja|=d}u=u.next}while(u!==null&&u!==i);c===null?a=s:c.next=o,Ss(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,gt.lanes|=i,ja|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pm(t){var e=rs(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);Ss(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Zk(){}function Jk(t,e){var n=gt,s=rs(),r=e(),i=!Ss(s.memoizedState,r);if(i&&(s.memoizedState=r,En=!0),s=s.queue,Ky(nC.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Uc(9,tC.bind(null,n,s,r,e),void 0,null),Ht===null)throw Error(K(349));Na&30||eC(n,e,r)}return r}function eC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tC(t,e,n,s){e.value=n,e.getSnapshot=s,sC(e)&&rC(t)}function nC(t,e,n){return n(function(){sC(e)&&rC(t)})}function sC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ss(t,n)}catch{return!0}}function rC(t){var e=Nr(t,1);e!==null&&bs(e,t,1,-1)}function v0(t){var e=Ms();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=dR.bind(null,gt,t),[e.memoizedState,t]}function Uc(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function iC(){return rs().memoizedState}function zd(t,e,n,s){var r=Ms();gt.flags|=t,r.memoizedState=Uc(1|e,n,void 0,s===void 0?null:s)}function wh(t,e,n,s){var r=rs();s=s===void 0?null:s;var i=void 0;if(Lt!==null){var a=Lt.memoizedState;if(i=a.destroy,s!==null&&Yy(s,a.deps)){r.memoizedState=Uc(e,n,i,s);return}}gt.flags|=t,r.memoizedState=Uc(1|e,n,i,s)}function b0(t,e){return zd(8390656,8,t,e)}function Ky(t,e){return wh(2048,8,t,e)}function aC(t,e){return wh(4,2,t,e)}function oC(t,e){return wh(4,4,t,e)}function lC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cC(t,e,n){return n=n!=null?n.concat([t]):null,wh(4,4,lC.bind(null,e,t),n)}function Gy(){}function uC(t,e){var n=rs();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Yy(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function dC(t,e){var n=rs();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Yy(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function fC(t,e,n){return Na&21?(Ss(n,e)||(n=yk(),gt.lanes|=n,ja|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function cR(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var s=Cm.transition;Cm.transition={};try{t(!1),e()}finally{Je=n,Cm.transition=s}}function hC(){return rs().memoizedState}function uR(t,e,n){var s=bi(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},mC(t))pC(e,n);else if(n=Kk(t,e,n,s),n!==null){var r=yn();bs(n,t,s,r),gC(n,e,s)}}function dR(t,e,n){var s=bi(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(mC(t))pC(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,Ss(o,a)){var c=e.interleaved;c===null?(r.next=r,Vy(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Kk(t,e,r,s),n!==null&&(r=yn(),bs(n,t,s,r),gC(n,e,s))}}function mC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function pC(t,e){mc=wf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gC(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Cy(t,n)}}var Sf={readContext:ss,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},fR={readContext:ss,useCallback:function(t,e){return Ms().memoizedState=[t,e===void 0?null:e],t},useContext:ss,useEffect:b0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zd(4194308,4,lC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var n=Ms();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ms();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=uR.bind(null,gt,t),[s.memoizedState,t]},useRef:function(t){var e=Ms();return t={current:t},e.memoizedState=t},useState:v0,useDebugValue:Gy,useDeferredValue:function(t){return Ms().memoizedState=t},useTransition:function(){var t=v0(!1),e=t[0];return t=cR.bind(null,t[1]),Ms().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=gt,r=Ms();if(dt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ht===null)throw Error(K(349));Na&30||eC(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,b0(nC.bind(null,s,i,t),[t]),s.flags|=2048,Uc(9,tC.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Ms(),e=Ht.identifierPrefix;if(dt){var n=gr,s=pr;n=(s&~(1<<32-vs(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hR={readContext:ss,useCallback:uC,useContext:ss,useEffect:Ky,useImperativeHandle:cC,useInsertionEffect:aC,useLayoutEffect:oC,useMemo:dC,useReducer:Tm,useRef:iC,useState:function(){return Tm(Bc)},useDebugValue:Gy,useDeferredValue:function(t){var e=rs();return fC(e,Lt.memoizedState,t)},useTransition:function(){var t=Tm(Bc)[0],e=rs().memoizedState;return[t,e]},useMutableSource:Zk,useSyncExternalStore:Jk,useId:hC,unstable_isNewReconciler:!1},mR={readContext:ss,useCallback:uC,useContext:ss,useEffect:Ky,useImperativeHandle:cC,useInsertionEffect:aC,useLayoutEffect:oC,useMemo:dC,useReducer:Pm,useRef:iC,useState:function(){return Pm(Bc)},useDebugValue:Gy,useDeferredValue:function(t){var e=rs();return Lt===null?e.memoizedState=t:fC(e,Lt.memoizedState,t)},useTransition:function(){var t=Pm(Bc)[0],e=rs().memoizedState;return[t,e]},useMutableSource:Zk,useSyncExternalStore:Jk,useId:hC,unstable_isNewReconciler:!1};function us(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tg(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sh={isMounted:function(t){return(t=t._reactInternals)?Va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=yn(),r=bi(t),i=xr(s,r);i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,r),e!==null&&(bs(e,t,r,s),Fd(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=yn(),r=bi(t),i=xr(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,r),e!==null&&(bs(e,t,r,s),Fd(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),s=bi(t),r=xr(n,s);r.tag=2,e!=null&&(r.callback=e),e=xi(t,r,s),e!==null&&(bs(e,t,s,n),Fd(e,t,s))}};function w0(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,s)||!Ic(r,i):!0}function yC(t,e,n){var s=!1,r=ji,i=e.contextType;return typeof i=="object"&&i!==null?i=ss(i):(r=Dn(e)?Sa:ln.current,s=e.contextTypes,i=(s=s!=null)?Yo(t,r):ji),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sh,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function S0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Sh.enqueueReplaceState(e,e.state,null)}function ng(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},By(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ss(i):(i=Dn(e)?Sa:ln.current,r.context=Yo(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tg(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Sh.enqueueReplaceState(r,r.state,null),vf(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e){try{var n="",s=e;do n+=BO(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Em(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pR=typeof WeakMap=="function"?WeakMap:Map;function xC(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Nf||(Nf=!0,hg=s),sg(t,e)},n}function vC(t,e,n){n=xr(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){sg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sg(t,e),typeof s!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function _0(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new pR;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=PR.bind(null,t,e,n),e.then(t,t))}function N0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function j0(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,xi(n,e,1))),n.lanes|=1),t)}var gR=Pr.ReactCurrentOwner,En=!1;function fn(t,e,n,s){e.child=t===null?Qk(e,null,n,s):Qo(e,t.child,n,s)}function k0(t,e,n,s,r){n=n.render;var i=e.ref;return So(e,r),s=qy(t,e,n,s,i,r),n=Qy(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,jr(t,e,r)):(dt&&n&&Iy(e),e.flags|=1,fn(t,e,s,r),e.child)}function C0(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!rx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bC(t,e,i,s,r)):(t=Ud(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(a,s)&&t.ref===e.ref)return jr(t,e,r)}return e.flags|=1,t=wi(i,s),t.ref=e.ref,t.return=e,e.child=t}function bC(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Ic(i,s)&&t.ref===e.ref)if(En=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,jr(t,e,r)}return rg(t,e,n,s,r)}function wC(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(po,Rn),Rn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(po,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,at(po,Rn),Rn|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,at(po,Rn),Rn|=s;return fn(t,e,r,n),e.child}function SC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rg(t,e,n,s,r){var i=Dn(n)?Sa:ln.current;return i=Yo(e,i),So(e,r),n=qy(t,e,n,s,i,r),s=Qy(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,jr(t,e,r)):(dt&&s&&Iy(e),e.flags|=1,fn(t,e,n,r),e.child)}function T0(t,e,n,s,r){if(Dn(n)){var i=!0;mf(e)}else i=!1;if(So(e,r),e.stateNode===null)$d(t,e),yC(e,n,s),ng(e,n,s,r),s=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ss(u):(u=Dn(n)?Sa:ln.current,u=Yo(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||c!==u)&&S0(e,a,s,u),Yr=!1;var h=e.memoizedState;a.state=h,vf(e,s,a,r),c=e.memoizedState,o!==s||h!==c||Mn.current||Yr?(typeof d=="function"&&(tg(e,n,d,s),c=e.memoizedState),(o=Yr||w0(e,n,o,s,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),a.props=s,a.state=c,a.context=u,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,Gk(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:us(e.type,o),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ss(c):(c=Dn(n)?Sa:ln.current,c=Yo(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&S0(e,a,s,c),Yr=!1,h=e.memoizedState,a.state=h,vf(e,s,a,r);var y=e.memoizedState;o!==f||h!==y||Mn.current||Yr?(typeof m=="function"&&(tg(e,n,m,s),y=e.memoizedState),(u=Yr||w0(e,n,u,s,h,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),a.props=s,a.state=y,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),s=!1)}return ig(t,e,n,s,i,r)}function ig(t,e,n,s,r,i){SC(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&h0(e,n,!1),jr(t,e,i);s=e.stateNode,gR.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=Qo(e,t.child,null,i),e.child=Qo(e,null,o,i)):fn(t,e,o,i),e.memoizedState=s.state,r&&h0(e,n,!0),e.child}function _C(t){var e=t.stateNode;e.pendingContext?f0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f0(t,e.context,!1),Uy(t,e.containerInfo)}function P0(t,e,n,s,r){return qo(),Fy(r),e.flags|=256,fn(t,e,n,s),e.child}var ag={dehydrated:null,treeContext:null,retryLane:0};function og(t){return{baseLanes:t,cachePool:null,transitions:null}}function NC(t,e,n){var s=e.pendingProps,r=mt.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),at(mt,r&1),t===null)return Jp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=jh(a,s,0,null),t=xa(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=og(n),e.memoizedState=ag,t):Xy(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return yR(t,e,a,s,o,r,n);if(i){i=s.fallback,a=e.mode,r=t.child,o=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=wi(r,c),s.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=wi(o,i):(i=xa(i,a,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=t.child.memoizedState,a=a===null?og(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ag,s}return i=t.child,t=i.sibling,s=wi(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Xy(t,e){return e=jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,n,s){return s!==null&&Fy(s),Qo(e,t.child,null,n),t=Xy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yR(t,e,n,s,r,i,a){if(n)return e.flags&256?(e.flags&=-257,s=Em(Error(K(422))),Ju(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=jh({mode:"visible",children:s.children},r,0,null),i=xa(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Qo(e,t.child,null,a),e.child.memoizedState=og(a),e.memoizedState=ag,i);if(!(e.mode&1))return Ju(t,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(K(419)),s=Em(i,s,void 0),Ju(t,e,a,s)}if(o=(a&t.childLanes)!==0,En||o){if(s=Ht,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Nr(t,r),bs(s,t,r,-1))}return sx(),s=Em(Error(K(421))),Ju(t,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=ER.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,zn=yi(r.nextSibling),$n=e,dt=!0,ps=null,t!==null&&(Zn[Jn++]=pr,Zn[Jn++]=gr,Zn[Jn++]=_a,pr=t.id,gr=t.overflow,_a=e),e=Xy(e,s.children),e.flags|=4096,e)}function E0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),eg(t.return,e,n)}function Mm(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function jC(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(fn(t,e,s.children,n),s=mt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E0(t,n,e);else if(t.tag===19)E0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(at(mt,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&bf(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Mm(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&bf(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Mm(e,!0,n,null,i);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ja|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xR(t,e,n){switch(e.tag){case 3:_C(e),qo();break;case 5:Xk(e);break;case 1:Dn(e.type)&&mf(e);break;case 4:Uy(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;at(yf,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(at(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?NC(t,e,n):(at(mt,mt.current&1),t=jr(t,e,n),t!==null?t.sibling:null);at(mt,mt.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return jC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),at(mt,mt.current),s)break;return null;case 22:case 23:return e.lanes=0,wC(t,e,n)}return jr(t,e,n)}var kC,lg,CC,TC;kC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lg=function(){};CC=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,sa(Ws.current);var i=null;switch(n){case"input":r=Ep(t,r),s=Ep(t,s),i=[];break;case"select":r=yt({},r,{value:void 0}),s=yt({},s,{value:void 0}),i=[];break;case"textarea":r=Ap(t,r),s=Ap(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=ff)}Ip(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(o=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&lt("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};TC=function(t,e,n,s){n!==s&&(e.flags|=4)};function Ol(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function vR(t,e,n){var s=e.pendingProps;switch(Ry(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Dn(e.type)&&hf(),tn(e),null;case 3:return s=e.stateNode,Ko(),ut(Mn),ut(ln),Hy(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ps!==null&&(gg(ps),ps=null))),lg(t,e),tn(e),null;case 5:Wy(e);var r=sa($c.current);if(n=e.type,t!==null&&e.stateNode!=null)CC(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(K(166));return tn(e),null}if(t=sa(Ws.current),Xu(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Rs]=e,s[Lc]=i,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(r=0;r<ec.length;r++)lt(ec[r],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":zv(s,i),lt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},lt("invalid",s);break;case"textarea":Vv(s,i),lt("invalid",s)}Ip(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&Gu(s.textContent,o,t),r=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Gu(s.textContent,o,t),r=["children",""+o]):Tc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&lt("scroll",s)}switch(n){case"input":Bu(s),$v(s,i,!0);break;case"textarea":Bu(s),Bv(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=ff)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[Rs]=e,t[Lc]=s,kC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Rp(n,s),n){case"dialog":lt("cancel",t),lt("close",t),r=s;break;case"iframe":case"object":case"embed":lt("load",t),r=s;break;case"video":case"audio":for(r=0;r<ec.length;r++)lt(ec[r],t);r=s;break;case"source":lt("error",t),r=s;break;case"img":case"image":case"link":lt("error",t),lt("load",t),r=s;break;case"details":lt("toggle",t),r=s;break;case"input":zv(t,s),r=Ep(t,s),lt("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=yt({},s,{value:void 0}),lt("invalid",t);break;case"textarea":Vv(t,s),r=Ap(t,s),lt("invalid",t);break;default:r=s}Ip(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ik(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sk(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pc(t,c):typeof c=="number"&&Pc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&lt("scroll",t):c!=null&&wy(t,i,c,a))}switch(n){case"input":Bu(t),$v(t,s,!1);break;case"textarea":Bu(t),Bv(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Ni(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?xo(t,!!s.multiple,i,!1):s.defaultValue!=null&&xo(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)TC(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(K(166));if(n=sa($c.current),sa(Ws.current),Xu(e)){if(s=e.stateNode,n=e.memoizedProps,s[Rs]=e,(i=s.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:Gu(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gu(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Rs]=e,e.stateNode=s}return tn(e),null;case 13:if(ut(mt),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&zn!==null&&e.mode&1&&!(e.flags&128))Yk(),qo(),e.flags|=98560,i=!1;else if(i=Xu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Rs]=e}else qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),i=!1}else ps!==null&&(gg(ps),ps=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Vt===0&&(Vt=3):sx())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return Ko(),lg(t,e),t===null&&Rc(e.stateNode.containerInfo),tn(e),null;case 10:return $y(e.type._context),tn(e),null;case 17:return Dn(e.type)&&hf(),tn(e),null;case 19:if(ut(mt),i=e.memoizedState,i===null)return tn(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Ol(i,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bf(t),a!==null){for(e.flags|=128,Ol(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(mt,mt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ct()>Xo&&(e.flags|=128,s=!0,Ol(i,!1),e.lanes=4194304)}else{if(!s)if(t=bf(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ol(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!dt)return tn(e),null}else 2*Ct()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,s=!0,Ol(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ct(),e.sibling=null,n=mt.current,at(mt,s?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return nx(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Rn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function bR(t,e){switch(Ry(e),e.tag){case 1:return Dn(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ko(),ut(Mn),ut(ln),Hy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wy(e),null;case 13:if(ut(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(mt),null;case 4:return Ko(),null;case 10:return $y(e.type._context),null;case 22:case 23:return nx(),null;case 24:return null;default:return null}}var ed=!1,rn=!1,wR=typeof WeakSet=="function"?WeakSet:Set,ce=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){vt(t,e,s)}else n.current=null}function cg(t,e,n){try{n()}catch(s){vt(t,e,s)}}var M0=!1;function SR(t,e){if(Yp=cf,t=Ak(),Oy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(o=a+r),f!==i||s!==0&&f.nodeType!==3||(c=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===r&&(o=a),h===i&&++d===s&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:t,selectionRange:n},cf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,v=y.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?p:us(e.type,p),v);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(S){vt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return y=M0,M0=!1,y}function pc(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&cg(e,n,i)}r=r.next}while(r!==s)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ug(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PC(t){var e=t.alternate;e!==null&&(t.alternate=null,PC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rs],delete e[Lc],delete e[Gp],delete e[rR],delete e[iR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EC(t){return t.tag===5||t.tag===3||t.tag===4}function D0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(s!==4&&(t=t.child,t!==null))for(dg(t,e,n),t=t.sibling;t!==null;)dg(t,e,n),t=t.sibling}function fg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(fg(t,e,n),t=t.sibling;t!==null;)fg(t,e,n),t=t.sibling}var Kt=null,hs=!1;function Lr(t,e,n){for(n=n.child;n!==null;)MC(t,e,n),n=n.sibling}function MC(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:rn||mo(n,e);case 6:var s=Kt,r=hs;Kt=null,Lr(t,e,n),Kt=s,hs=r,Kt!==null&&(hs?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(hs?(t=Kt,n=n.stateNode,t.nodeType===8?Nm(t.parentNode,n):t.nodeType===1&&Nm(t,n),Ac(t)):Nm(Kt,n.stateNode));break;case 4:s=Kt,r=hs,Kt=n.stateNode.containerInfo,hs=!0,Lr(t,e,n),Kt=s,hs=r;break;case 0:case 11:case 14:case 15:if(!rn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&cg(n,e,a),r=r.next}while(r!==s)}Lr(t,e,n);break;case 1:if(!rn&&(mo(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){vt(n,e,o)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(rn=(s=rn)||n.memoizedState!==null,Lr(t,e,n),rn=s):Lr(t,e,n);break;default:Lr(t,e,n)}}function A0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wR),e.forEach(function(s){var r=MR.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function ls(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Kt=o.stateNode,hs=!1;break e;case 3:Kt=o.stateNode.containerInfo,hs=!0;break e;case 4:Kt=o.stateNode.containerInfo,hs=!0;break e}o=o.return}if(Kt===null)throw Error(K(160));MC(i,a,r),Kt=null,hs=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){vt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DC(e,t),e=e.sibling}function DC(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ls(e,t),Ts(t),s&4){try{pc(3,t,t.return),_h(3,t)}catch(p){vt(t,t.return,p)}try{pc(5,t,t.return)}catch(p){vt(t,t.return,p)}}break;case 1:ls(e,t),Ts(t),s&512&&n!==null&&mo(n,n.return);break;case 5:if(ls(e,t),Ts(t),s&512&&n!==null&&mo(n,n.return),t.flags&32){var r=t.stateNode;try{Pc(r,"")}catch(p){vt(t,t.return,p)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ek(r,i),Rp(o,a);var u=Rp(o,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?ik(r,f):d==="dangerouslySetInnerHTML"?sk(r,f):d==="children"?Pc(r,f):wy(r,d,f,u)}switch(o){case"input":Mp(r,i);break;case"textarea":tk(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xo(r,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?xo(r,!!i.multiple,i.defaultValue,!0):xo(r,!!i.multiple,i.multiple?[]:"",!1))}r[Lc]=i}catch(p){vt(t,t.return,p)}}break;case 6:if(ls(e,t),Ts(t),s&4){if(t.stateNode===null)throw Error(K(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(p){vt(t,t.return,p)}}break;case 3:if(ls(e,t),Ts(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ac(e.containerInfo)}catch(p){vt(t,t.return,p)}break;case 4:ls(e,t),Ts(t);break;case 13:ls(e,t),Ts(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(ex=Ct())),s&4&&A0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(u=rn)||d,ls(e,t),rn=u):ls(e,t),Ts(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:pc(4,h,h.return);break;case 1:mo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){s=h,n=h.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){vt(s,n,p)}}break;case 5:mo(h,h.return);break;case 22:if(h.memoizedState!==null){I0(f);continue}}m!==null?(m.return=h,ce=m):I0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=rk("display",a))}catch(p){vt(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){vt(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ls(e,t),Ts(t),s&4&&A0(t);break;case 21:break;default:ls(e,t),Ts(t)}}function Ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EC(n)){var s=n;break e}n=n.return}throw Error(K(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Pc(r,""),s.flags&=-33);var i=D0(t);fg(t,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,o=D0(t);dg(t,o,a);break;default:throw Error(K(161))}}catch(c){vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _R(t,e,n){ce=t,AC(t)}function AC(t,e,n){for(var s=(t.mode&1)!==0;ce!==null;){var r=ce,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||ed;if(!a){var o=r.alternate,c=o!==null&&o.memoizedState!==null||rn;o=ed;var u=rn;if(ed=a,(rn=c)&&!u)for(ce=r;ce!==null;)a=ce,c=a.child,a.tag===22&&a.memoizedState!==null?R0(r):c!==null?(c.return=a,ce=c):R0(r);for(;i!==null;)ce=i,AC(i),i=i.sibling;ce=r,ed=o,rn=u}O0(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ce=i):O0(t)}}function O0(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||_h(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!rn)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:us(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&x0(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x0(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ac(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}rn||e.flags&512&&ug(e)}catch(h){vt(e,e.return,h)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function I0(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function R0(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(c){vt(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){vt(e,r,c)}}var i=e.return;try{ug(e)}catch(c){vt(e,i,c)}break;case 5:var a=e.return;try{ug(e)}catch(c){vt(e,a,c)}}}catch(c){vt(e,e.return,c)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var NR=Math.ceil,_f=Pr.ReactCurrentDispatcher,Zy=Pr.ReactCurrentOwner,ns=Pr.ReactCurrentBatchConfig,Be=0,Ht=null,Ot=null,Xt=0,Rn=0,po=Fi(0),Vt=0,Wc=null,ja=0,Nh=0,Jy=0,gc=null,Tn=null,ex=0,Xo=1/0,lr=null,Nf=!1,hg=null,vi=null,td=!1,ai=null,jf=0,yc=0,mg=null,Vd=-1,Bd=0;function yn(){return Be&6?Ct():Vd!==-1?Vd:Vd=Ct()}function bi(t){return t.mode&1?Be&2&&Xt!==0?Xt&-Xt:oR.transition!==null?(Bd===0&&(Bd=yk()),Bd):(t=Je,t!==0||(t=window.event,t=t===void 0?16:Nk(t.type)),t):1}function bs(t,e,n,s){if(50<yc)throw yc=0,mg=null,Error(K(185));wu(t,n,s),(!(Be&2)||t!==Ht)&&(t===Ht&&(!(Be&2)&&(Nh|=n),Vt===4&&Qr(t,Xt)),An(t,s),n===1&&Be===0&&!(e.mode&1)&&(Xo=Ct()+500,bh&&Li()))}function An(t,e){var n=t.callbackNode;oI(t,e);var s=lf(t,t===Ht?Xt:0);if(s===0)n!==null&&Hv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Hv(n),e===1)t.tag===0?aR(F0.bind(null,t)):Uk(F0.bind(null,t)),nR(function(){!(Be&6)&&Li()}),n=null;else{switch(xk(s)){case 1:n=ky;break;case 4:n=pk;break;case 16:n=of;break;case 536870912:n=gk;break;default:n=of}n=VC(n,OC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OC(t,e){if(Vd=-1,Bd=0,Be&6)throw Error(K(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var s=lf(t,t===Ht?Xt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=kf(t,s);else{e=s;var r=Be;Be|=2;var i=RC();(Ht!==t||Xt!==e)&&(lr=null,Xo=Ct()+500,ya(t,e));do try{CR();break}catch(o){IC(t,o)}while(!0);zy(),_f.current=i,Be=r,Ot!==null?e=0:(Ht=null,Xt=0,e=Vt)}if(e!==0){if(e===2&&(r=Vp(t),r!==0&&(s=r,e=pg(t,r))),e===1)throw n=Wc,ya(t,0),Qr(t,s),An(t,Ct()),n;if(e===6)Qr(t,s);else{if(r=t.current.alternate,!(s&30)&&!jR(r)&&(e=kf(t,s),e===2&&(i=Vp(t),i!==0&&(s=i,e=pg(t,i))),e===1))throw n=Wc,ya(t,0),Qr(t,s),An(t,Ct()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(K(345));case 2:Ki(t,Tn,lr);break;case 3:if(Qr(t,s),(s&130023424)===s&&(e=ex+500-Ct(),10<e)){if(lf(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){yn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Kp(Ki.bind(null,t,Tn,lr),e);break}Ki(t,Tn,lr);break;case 4:if(Qr(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var a=31-vs(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=Ct()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*NR(s/1960))-s,10<s){t.timeoutHandle=Kp(Ki.bind(null,t,Tn,lr),s);break}Ki(t,Tn,lr);break;case 5:Ki(t,Tn,lr);break;default:throw Error(K(329))}}}return An(t,Ct()),t.callbackNode===n?OC.bind(null,t):null}function pg(t,e){var n=gc;return t.current.memoizedState.isDehydrated&&(ya(t,e).flags|=256),t=kf(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&gg(e)),t}function gg(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function jR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Ss(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~Jy,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vs(e),s=1<<n;t[n]=-1,e&=~s}}function F0(t){if(Be&6)throw Error(K(327));_o();var e=lf(t,0);if(!(e&1))return An(t,Ct()),null;var n=kf(t,e);if(t.tag!==0&&n===2){var s=Vp(t);s!==0&&(e=s,n=pg(t,s))}if(n===1)throw n=Wc,ya(t,0),Qr(t,e),An(t,Ct()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,Tn,lr),An(t,Ct()),null}function tx(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Xo=Ct()+500,bh&&Li())}}function ka(t){ai!==null&&ai.tag===0&&!(Be&6)&&_o();var e=Be;Be|=1;var n=ns.transition,s=Je;try{if(ns.transition=null,Je=1,t)return t()}finally{Je=s,ns.transition=n,Be=e,!(Be&6)&&Li()}}function nx(){Rn=po.current,ut(po)}function ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tR(n)),Ot!==null)for(n=Ot.return;n!==null;){var s=n;switch(Ry(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hf();break;case 3:Ko(),ut(Mn),ut(ln),Hy();break;case 5:Wy(s);break;case 4:Ko();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:$y(s.type._context);break;case 22:case 23:nx()}n=n.return}if(Ht=t,Ot=t=wi(t.current,null),Xt=Rn=e,Vt=0,Wc=null,Jy=Nh=ja=0,Tn=gc=null,na!==null){for(e=0;e<na.length;e++)if(n=na[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}na=null}return t}function IC(t,e){do{var n=Ot;try{if(zy(),Ld.current=Sf,wf){for(var s=gt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}wf=!1}if(Na=0,Wt=Lt=gt=null,mc=!1,Vc=0,Zy.current=null,n===null||n.return===null){Vt=1,Wc=e,Ot=null;break}e:{var i=t,a=n.return,o=n,c=e;if(e=Xt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=N0(a);if(m!==null){m.flags&=-257,j0(m,a,o,i,e),m.mode&1&&_0(i,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var p=new Set;p.add(c),e.updateQueue=p}else y.add(c);break e}else{if(!(e&1)){_0(i,u,e),sx();break e}c=Error(K(426))}}else if(dt&&o.mode&1){var v=N0(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),j0(v,a,o,i,e),Fy(Go(c,o));break e}}i=c=Go(c,o),Vt!==4&&(Vt=2),gc===null?gc=[i]:gc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=xC(i,c,e);y0(i,x);break e;case 1:o=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vi===null||!vi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=vC(i,o,e);y0(i,S);break e}}i=i.return}while(i!==null)}LC(n)}catch(_){e=_,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function RC(){var t=_f.current;return _f.current=Sf,t===null?Sf:t}function sx(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ht===null||!(ja&268435455)&&!(Nh&268435455)||Qr(Ht,Xt)}function kf(t,e){var n=Be;Be|=2;var s=RC();(Ht!==t||Xt!==e)&&(lr=null,ya(t,e));do try{kR();break}catch(r){IC(t,r)}while(!0);if(zy(),Be=n,_f.current=s,Ot!==null)throw Error(K(261));return Ht=null,Xt=0,Vt}function kR(){for(;Ot!==null;)FC(Ot)}function CR(){for(;Ot!==null&&!ZO();)FC(Ot)}function FC(t){var e=$C(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?LC(t):Ot=e,Zy.current=null}function LC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bR(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Ot=null;return}}else if(n=vR(n,e,Rn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Vt===0&&(Vt=5)}function Ki(t,e,n){var s=Je,r=ns.transition;try{ns.transition=null,Je=1,TR(t,e,n,s)}finally{ns.transition=r,Je=s}return null}function TR(t,e,n,s){do _o();while(ai!==null);if(Be&6)throw Error(K(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(lI(t,i),t===Ht&&(Ot=Ht=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||td||(td=!0,VC(of,function(){return _o(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ns.transition,ns.transition=null;var a=Je;Je=1;var o=Be;Be|=4,Zy.current=null,SR(t,n),DC(n,t),QI(qp),cf=!!Yp,qp=Yp=null,t.current=n,_R(n),JO(),Be=o,Je=a,ns.transition=i}else t.current=n;if(td&&(td=!1,ai=t,jf=r),i=t.pendingLanes,i===0&&(vi=null),nI(n.stateNode),An(t,Ct()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Nf)throw Nf=!1,t=hg,hg=null,t;return jf&1&&t.tag!==0&&_o(),i=t.pendingLanes,i&1?t===mg?yc++:(yc=0,mg=t):yc=0,Li(),null}function _o(){if(ai!==null){var t=xk(jf),e=ns.transition,n=Je;try{if(ns.transition=null,Je=16>t?16:t,ai===null)var s=!1;else{if(t=ai,ai=null,jf=0,Be&6)throw Error(K(331));var r=Be;for(Be|=4,ce=t.current;ce!==null;){var i=ce,a=i.child;if(ce.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:pc(8,d,i)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,m=d.return;if(PC(d),d===u){ce=null;break}if(h!==null){h.return=m,ce=h;break}ce=m}}}var y=i.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ce=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ce=a;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ce=x;break e}ce=i.return}}var g=t.current;for(ce=g;ce!==null;){a=ce;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ce=w;else e:for(a=g;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_h(9,o)}}catch(_){vt(o,o.return,_)}if(o===a){ce=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ce=S;break e}ce=o.return}}if(Be=r,Li(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(ph,t)}catch{}s=!0}return s}finally{Je=n,ns.transition=e}}return!1}function L0(t,e,n){e=Go(n,e),e=xC(t,e,1),t=xi(t,e,1),e=yn(),t!==null&&(wu(t,1,e),An(t,e))}function vt(t,e,n){if(t.tag===3)L0(t,t,n);else for(;e!==null;){if(e.tag===3){L0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(vi===null||!vi.has(s))){t=Go(n,t),t=vC(e,t,1),e=xi(e,t,1),t=yn(),e!==null&&(wu(e,1,t),An(e,t));break}}e=e.return}}function PR(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>Ct()-ex?ya(t,0):Jy|=n),An(t,e)}function zC(t,e){e===0&&(t.mode&1?(e=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):e=1);var n=yn();t=Nr(t,e),t!==null&&(wu(t,e,n),An(t,n))}function ER(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zC(t,n)}function MR(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(K(314))}s!==null&&s.delete(e),zC(t,n)}var $C;$C=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,xR(t,e,n);En=!!(t.flags&131072)}else En=!1,dt&&e.flags&1048576&&Wk(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;$d(t,e),t=e.pendingProps;var r=Yo(e,ln.current);So(e,n),r=qy(null,e,s,t,r,n);var i=Qy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(s)?(i=!0,mf(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,By(e),r.updater=Sh,e.stateNode=r,r._reactInternals=e,ng(e,s,t,n),e=ig(null,e,s,!0,i,n)):(e.tag=0,dt&&i&&Iy(e),fn(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch($d(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=AR(s),t=us(s,t),r){case 0:e=rg(null,e,s,t,n);break e;case 1:e=T0(null,e,s,t,n);break e;case 11:e=k0(null,e,s,t,n);break e;case 14:e=C0(null,e,s,us(s.type,t),n);break e}throw Error(K(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:us(s,r),rg(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:us(s,r),T0(t,e,s,r,n);case 3:e:{if(_C(e),t===null)throw Error(K(387));s=e.pendingProps,i=e.memoizedState,r=i.element,Gk(t,e),vf(e,s,null,n);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Go(Error(K(423)),e),e=P0(t,e,s,n,r);break e}else if(s!==r){r=Go(Error(K(424)),e),e=P0(t,e,s,n,r);break e}else for(zn=yi(e.stateNode.containerInfo.firstChild),$n=e,dt=!0,ps=null,n=Qk(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qo(),s===r){e=jr(t,e,n);break e}fn(t,e,s,n)}e=e.child}return e;case 5:return Xk(e),t===null&&Jp(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,a=r.children,Qp(s,r)?a=null:i!==null&&Qp(s,i)&&(e.flags|=32),SC(t,e),fn(t,e,a,n),e.child;case 6:return t===null&&Jp(e),null;case 13:return NC(t,e,n);case 4:return Uy(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Qo(e,null,s,n):fn(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:us(s,r),k0(t,e,s,r,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,at(yf,s._currentValue),s._currentValue=a,i!==null)if(Ss(i.value,a)){if(i.children===r.children&&!Mn.current){e=jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=xr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),eg(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(K(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),eg(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}fn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,So(e,n),r=ss(r),s=s(r),e.flags|=1,fn(t,e,s,n),e.child;case 14:return s=e.type,r=us(s,e.pendingProps),r=us(s.type,r),C0(t,e,s,r,n);case 15:return bC(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:us(s,r),$d(t,e),e.tag=1,Dn(s)?(t=!0,mf(e)):t=!1,So(e,n),yC(e,s,r),ng(e,s,r,n),ig(null,e,s,!0,t,n);case 19:return jC(t,e,n);case 22:return wC(t,e,n)}throw Error(K(156,e.tag))};function VC(t,e){return mk(t,e)}function DR(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(t,e,n,s){return new DR(t,e,n,s)}function rx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AR(t){if(typeof t=="function")return rx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_y)return 11;if(t===Ny)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=es(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ud(t,e,n,s,r,i){var a=2;if(s=t,typeof t=="function")rx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ro:return xa(n.children,r,i,e);case Sy:a=8,r|=8;break;case kp:return t=es(12,n,e,r|2),t.elementType=kp,t.lanes=i,t;case Cp:return t=es(13,n,e,r),t.elementType=Cp,t.lanes=i,t;case Tp:return t=es(19,n,e,r),t.elementType=Tp,t.lanes=i,t;case Xj:return jh(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kj:a=10;break e;case Gj:a=9;break e;case _y:a=11;break e;case Ny:a=14;break e;case Hr:a=16,s=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=es(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function xa(t,e,n,s){return t=es(7,t,s,e),t.lanes=n,t}function jh(t,e,n,s){return t=es(22,t,s,e),t.elementType=Xj,t.lanes=n,t.stateNode={isHidden:!1},t}function Dm(t,e,n){return t=es(6,t,null,e),t.lanes=n,t}function Am(t,e,n){return e=es(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OR(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ix(t,e,n,s,r,i,a,o,c){return t=new OR(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=es(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(i),t}function IR(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function BC(t){if(!t)return ji;t=t._reactInternals;e:{if(Va(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Dn(n))return Bk(t,n,e)}return e}function UC(t,e,n,s,r,i,a,o,c){return t=ix(n,s,!0,t,r,i,a,o,c),t.context=BC(null),n=t.current,s=yn(),r=bi(n),i=xr(s,r),i.callback=e??null,xi(n,i,r),t.current.lanes=r,wu(t,r,s),An(t,s),t}function kh(t,e,n,s){var r=e.current,i=yn(),a=bi(r);return n=BC(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(i,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=xi(r,e,a),t!==null&&(bs(t,r,a,i),Fd(t,r,a)),a}function Cf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ax(t,e){z0(t,e),(t=t.alternate)&&z0(t,e)}function RR(){return null}var WC=typeof reportError=="function"?reportError:function(t){console.error(t)};function ox(t){this._internalRoot=t}Ch.prototype.render=ox.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));kh(t,e,null,null)};Ch.prototype.unmount=ox.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ka(function(){kh(null,t,null,null)}),e[_r]=null}};function Ch(t){this._internalRoot=t}Ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=wk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&_k(t)}};function lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $0(){}function FR(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Cf(a);i.call(u)}}var a=UC(e,s,t,0,null,!1,!1,"",$0);return t._reactRootContainer=a,t[_r]=a.current,Rc(t.nodeType===8?t.parentNode:t),ka(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var o=s;s=function(){var u=Cf(c);o.call(u)}}var c=ix(t,0,!1,null,null,!1,!1,"",$0);return t._reactRootContainer=c,t[_r]=c.current,Rc(t.nodeType===8?t.parentNode:t),ka(function(){kh(e,c,n,s)}),c}function Ph(t,e,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var o=r;r=function(){var c=Cf(a);o.call(c)}}kh(e,a,t,r)}else a=FR(n,e,t,r,s);return Cf(a)}vk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jl(e.pendingLanes);n!==0&&(Cy(e,n|1),An(e,Ct()),!(Be&6)&&(Xo=Ct()+500,Li()))}break;case 13:ka(function(){var s=Nr(t,1);if(s!==null){var r=yn();bs(s,t,1,r)}}),ax(t,1)}};Ty=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=yn();bs(e,t,134217728,n)}ax(t,134217728)}};bk=function(t){if(t.tag===13){var e=bi(t),n=Nr(t,e);if(n!==null){var s=yn();bs(n,t,e,s)}ax(t,e)}};wk=function(){return Je};Sk=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Lp=function(t,e,n){switch(e){case"input":if(Mp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=vh(s);if(!r)throw Error(K(90));Jj(s),Mp(s,r)}}}break;case"textarea":tk(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};lk=tx;ck=ka;var LR={usingClientEntryPoint:!1,Events:[_u,lo,vh,ak,ok,tx]},Il={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zR={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fk(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{ph=nd.inject(zR),Us=nd}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LR;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lx(e))throw Error(K(200));return IR(t,e,null,n)};Wn.createRoot=function(t,e){if(!lx(t))throw Error(K(299));var n=!1,s="",r=WC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ix(t,1,!1,null,null,n,!1,s,r),t[_r]=e.current,Rc(t.nodeType===8?t.parentNode:t),new ox(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=fk(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return ka(t)};Wn.hydrate=function(t,e,n){if(!Th(e))throw Error(K(200));return Ph(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!lx(t))throw Error(K(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=WC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=UC(e,null,t,1,n??null,r,!1,i,a),t[_r]=e.current,Rc(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ch(e)};Wn.render=function(t,e,n){if(!Th(e))throw Error(K(200));return Ph(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!Th(t))throw Error(K(40));return t._reactRootContainer?(ka(function(){Ph(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};Wn.unstable_batchedUpdates=tx;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Th(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Ph(t,e,n,!1,s)};Wn.version="18.3.1-next-f1338f8080-20240426";function HC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HC)}catch(t){console.error(t)}}HC(),Hj.exports=Wn;var Ba=Hj.exports;const $R=Aj(Ba);var YC,V0=Ba;YC=V0.createRoot,V0.hydrateRoot;function VR(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,r,i,a=[],o="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)n=r[0],n==="*"?(a.push(n),o+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=r.indexOf("?",1),i=r.indexOf(".",1),a.push(r.substring(1,~s?s:~i?i:r.length)),o+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~s?"?":"")+"\\"+r.substring(i))):o+="/"+r;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var qC={exports:{}},QC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=b;function BR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UR=typeof Object.is=="function"?Object.is:BR,WR=Zo.useState,HR=Zo.useEffect,YR=Zo.useLayoutEffect,qR=Zo.useDebugValue;function QR(t,e){var n=e(),s=WR({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return YR(function(){r.value=n,r.getSnapshot=e,Om(r)&&i({inst:r})},[t,n,e]),HR(function(){return Om(r)&&i({inst:r}),t(function(){Om(r)&&i({inst:r})})},[t]),qR(n),n}function Om(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!UR(t,n)}catch{return!0}}function KR(t,e){return e()}var GR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KR:QR;QC.useSyncExternalStore=Zo.useSyncExternalStore!==void 0?Zo.useSyncExternalStore:GR;qC.exports=QC;var XR=qC.exports;const ZR=xy.useInsertionEffect,JR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eF=JR?b.useLayoutEffect:b.useEffect,tF=ZR||eF,KC=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return tF(()=>{e[0]=t}),e[1]},nF="popstate",cx="pushState",ux="replaceState",sF="hashchange",B0=[nF,cx,ux,sF],rF=t=>{for(const e of B0)addEventListener(e,t);return()=>{for(const e of B0)removeEventListener(e,t)}},GC=(t,e)=>XR.useSyncExternalStore(rF,t,e),iF=()=>location.search,aF=({ssrSearch:t=""}={})=>GC(iF,()=>t),U0=()=>location.pathname,oF=({ssrPath:t}={})=>GC(U0,t?()=>t:U0),lF=(t,{replace:e=!1,state:n=null}={})=>history[e?ux:cx](n,"",t),cF=(t={})=>[oF(t),lF],W0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[W0]>"u"){for(const t of[cx,ux]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,W0,{value:!0})}const uF=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",XC=(t="")=>t==="/"?"":t,dF=(t,e)=>t[0]==="~"?t.slice(1):XC(e)+t,fF=(t="",e)=>uF(H0(XC(t)),H0(e)),H0=t=>{try{return decodeURI(t)}catch{return t}},ZC={hook:cF,searchHook:aF,parser:VR,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},JC=b.createContext(ZC),ju=()=>b.useContext(JC),eT={},tT=b.createContext(eT),hF=()=>b.useContext(tT),Eh=t=>{const[e,n]=t.hook(t);return[fF(t.base,e),KC((s,r)=>n(dF(s,t.base),r))]},nt=()=>Eh(ju()),nT=(t,e,n,s)=>{const{pattern:r,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),a=r.exec(n)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):a.groups;let d={...c};return u&&Object.assign(d,u),d})(),...s?[o]:[]]:[!1,null]},mF=({children:t,...e})=>{var d,f;const n=ju(),s=e.hook?ZC:n;let r=s;const[i,a]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=b.useRef({}),c=o.current,u=c;for(let h in s){const m=h==="base"?s[h]+(e[h]||""):e[h]||s[h];c===u&&m!==u[h]&&(o.current=u={...u}),u[h]=m,(m!==s[h]||m!==r[h])&&(r=u)}return b.createElement(JC.Provider,{value:r,children:t})},Y0=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,pF=t=>{let e=b.useRef(eT);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([s,r])=>r!==n[s])?t:n},et=({path:t,nest:e,match:n,...s})=>{const r=ju(),[i]=Eh(r),[a,o,c]=n??nT(r.parser,t,i,e),u=pF({...hF(),...o});if(!a)return null;const d=c?b.createElement(mF,{base:c},Y0(s,u)):Y0(s,u);return b.createElement(tT.Provider,{value:u,children:d})},$s=b.forwardRef((t,e)=>{const n=ju(),[s,r]=Eh(n),{to:i="",href:a=i,onClick:o,asChild:c,children:u,className:d,replace:f,state:h,...m}=t,y=KC(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o==null||o(v),v.defaultPrevented||(v.preventDefault(),r(a,t)))}),p=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&b.isValidElement(u)?b.cloneElement(u,{onClick:y,href:p}):b.createElement("a",{...m,onClick:y,href:p,className:d!=null&&d.call?d(s===a):d,children:u,ref:e})}),sT=t=>Array.isArray(t)?t.flatMap(e=>sT(e&&e.type===b.Fragment?e.props.children:e)):[t],gF=({children:t,location:e})=>{const n=ju(),[s]=Eh(n);for(const r of sT(t)){let i=0;if(b.isValidElement(r)&&(i=nT(n.parser,r.props.path,e||s,r.props.nest))[0])return b.cloneElement(r,{match:i})}return null};var gl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ca=typeof window>"u"||"Deno"in globalThis;function hn(){}function yF(t,e){return typeof t=="function"?t(e):t}function yg(t){return typeof t=="number"&&t>=0&&t!==1/0}function rT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Si(t,e){return typeof t=="function"?t(e):t}function Xn(t,e){return typeof t=="function"?t(e):t}function q0(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:o}=t;if(a){if(s){if(e.queryHash!==dx(a,e.options))return!1}else if(!Hc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||r&&r!==e.state.fetchStatus||i&&!i(e))}function Q0(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ta(e.options.mutationKey)!==Ta(i))return!1}else if(!Hc(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function dx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ta)(t)}function Ta(t){return JSON.stringify(t,(e,n)=>xg(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Hc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hc(t[n],e[n])):!1}function iT(t,e){if(t===e)return t;const n=K0(t)&&K0(e);if(n||xg(t)&&xg(e)){const s=n?t:Object.keys(t),r=s.length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{},c=new Set(s);let u=0;for(let d=0;d<a;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,u++):(o[f]=iT(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&u++)}return r===a&&u===r?t:o}return e}function Tf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function K0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xg(t){if(!G0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!G0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function G0(t){return Object.prototype.toString.call(t)==="[object Object]"}function xF(t){return new Promise(e=>{setTimeout(e,t)})}function vg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?iT(t,e):e}function vF(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function bF(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var fx=Symbol();function aT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===fx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function oT(t,e){return typeof t=="function"?t(...e):!!t}var la,Kr,Ao,VS,wF=(VS=class extends gl{constructor(){super();he(this,la);he(this,Kr);he(this,Ao);se(this,Ao,e=>{if(!Ca&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Kr)||this.setEventListener(P(this,Ao))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Kr))==null||e.call(this),se(this,Kr,void 0))}setEventListener(e){var n;se(this,Ao,e),(n=P(this,Kr))==null||n.call(this),se(this,Kr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){P(this,la)!==e&&(se(this,la,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof P(this,la)=="boolean"?P(this,la):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},la=new WeakMap,Kr=new WeakMap,Ao=new WeakMap,VS),hx=new wF,Oo,Gr,Io,BS,SF=(BS=class extends gl{constructor(){super();he(this,Oo,!0);he(this,Gr);he(this,Io);se(this,Io,e=>{if(!Ca&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){P(this,Gr)||this.setEventListener(P(this,Io))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Gr))==null||e.call(this),se(this,Gr,void 0))}setEventListener(e){var n;se(this,Io,e),(n=P(this,Gr))==null||n.call(this),se(this,Gr,e(this.setOnline.bind(this)))}setOnline(e){P(this,Oo)!==e&&(se(this,Oo,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return P(this,Oo)}},Oo=new WeakMap,Gr=new WeakMap,Io=new WeakMap,BS),Pf=new SF;function bg(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function _F(t){return Math.min(1e3*2**t,3e4)}function lT(t){return(t??"online")==="online"?Pf.isOnline():!0}var cT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Im(t){return t instanceof cT}function uT(t){let e=!1,n=0,s=!1,r;const i=bg(),a=p=>{var v;s||(h(new cT(p)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>hx.isFocused()&&(t.networkMode==="always"||Pf.isOnline())&&t.canRun(),d=()=>lT(t.networkMode)&&t.canRun(),f=p=>{var v;s||(s=!0,(v=t.onSuccess)==null||v.call(t,p),r==null||r(),i.resolve(p))},h=p=>{var v;s||(s=!0,(v=t.onError)==null||v.call(t,p),r==null||r(),i.reject(p))},m=()=>new Promise(p=>{var v;r=x=>{(s||u())&&p(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var p;r=void 0,s||(p=t.onContinue)==null||p.call(t)}),y=()=>{if(s)return;let p;const v=n===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var j;if(s)return;const g=t.retry??(Ca?0:3),w=t.retryDelay??_F,S=typeof w=="function"?w(n,x):w,_=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(e||!_){h(x);return}n++,(j=t.onFail)==null||j.call(t,n,x),xF(S).then(()=>u()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}var NF=t=>setTimeout(t,0);function jF(){let t=[],e=0,n=o=>{o()},s=o=>{o()},r=NF;const i=o=>{e?t.push(o):r(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&r(()=>{s(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{r=o}}}var zt=jF(),ca,US,dT=(US=class{constructor(){he(this,ca)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yg(this.gcTime)&&se(this,ca,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ca?1/0:5*60*1e3))}clearGcTimeout(){P(this,ca)&&(clearTimeout(P(this,ca)),se(this,ca,void 0))}},ca=new WeakMap,US),Ro,ua,Kn,da,nn,gu,fa,ds,rr,WS,kF=(WS=class extends dT{constructor(e){super();he(this,ds);he(this,Ro);he(this,ua);he(this,Kn);he(this,da);he(this,nn);he(this,gu);he(this,fa);se(this,fa,!1),se(this,gu,e.defaultOptions),this.setOptions(e.options),this.observers=[],se(this,da,e.client),se(this,Kn,P(this,da).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,se(this,Ro,CF(this.options)),this.state=e.state??P(this,Ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=P(this,nn))==null?void 0:e.promise}setOptions(e){this.options={...P(this,gu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Kn).remove(this)}setData(e,n){const s=vg(this.state.data,e,this.options);return ke(this,ds,rr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){ke(this,ds,rr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=P(this,nn))==null?void 0:s.promise;return(r=P(this,nn))==null||r.cancel(e),n?n.then(hn).catch(hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,Ro))}isActive(){return this.observers.some(e=>Xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Si(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rT(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,nn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=P(this,nn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),P(this,Kn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(P(this,nn)&&(P(this,fa)?P(this,nn).cancel({revert:!0}):P(this,nn).cancelRetry()),this.scheduleGc()),P(this,Kn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,ds,rr).call(this,{type:"invalidate"})}fetch(e,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,nn))return P(this,nn).continueRetry(),P(this,nn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(se(this,fa,!0),s.signal)})},i=()=>{const h=aT(this.options,n),y=(()=>{const p={client:P(this,da),queryKey:this.queryKey,meta:this.meta};return r(p),p})();return se(this,fa,!1),this.options.persister?this.options.persister(h,y,this):h(y)},o=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,da),state:this.state,fetchFn:i};return r(h),h})();(u=this.options.behavior)==null||u.onFetch(o,this),se(this,ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ke(this,ds,rr).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,y,p,v;Im(h)&&h.silent||ke(this,ds,rr).call(this,{type:"error",error:h}),Im(h)||((y=(m=P(this,Kn).config).onError)==null||y.call(m,h,this),(v=(p=P(this,Kn).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return se(this,nn,uT({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var m,y,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(y=(m=P(this,Kn).config).onSuccess)==null||y.call(m,h,this),(v=(p=P(this,Kn).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{ke(this,ds,rr).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ke(this,ds,rr).call(this,{type:"pause"})},onContinue:()=>{ke(this,ds,rr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),P(this,nn).start()}},Ro=new WeakMap,ua=new WeakMap,Kn=new WeakMap,da=new WeakMap,nn=new WeakMap,gu=new WeakMap,fa=new WeakMap,ds=new WeakSet,rr=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...fT(s.data,this.options),fetchMeta:e.meta??null};case"success":return se(this,ua,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Im(r)&&r.revert&&P(this,ua)?{...P(this,ua),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),P(this,Kn).notify({query:this,type:"updated",action:e})})},WS);function fT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function CF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var As,HS,TF=(HS=class extends gl{constructor(e={}){super();he(this,As);this.config=e,se(this,As,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??dx(r,n);let a=this.get(i);return a||(a=new kF({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){P(this,As).has(e.queryHash)||(P(this,As).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,As).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,As).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,As).get(e)}getAll(){return[...P(this,As).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>q0(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>q0(e,s)):n}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},As=new WeakMap,HS),Os,un,ha,Is,Ur,YS,PF=(YS=class extends dT{constructor(e){super();he(this,Is);he(this,Os);he(this,un);he(this,ha);this.mutationId=e.mutationId,se(this,un,e.mutationCache),se(this,Os,[]),this.state=e.state||hT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){P(this,Os).includes(e)||(P(this,Os).push(e),this.clearGcTimeout(),P(this,un).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){se(this,Os,P(this,Os).filter(n=>n!==e)),this.scheduleGc(),P(this,un).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){P(this,Os).length||(this.state.status==="pending"?this.scheduleGc():P(this,un).remove(this))}continue(){var e;return((e=P(this,ha))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,c,u,d,f,h,m,y,p,v,x,g,w,S,_,j,k,T;const n=()=>{ke(this,Is,Ur).call(this,{type:"continue"})};se(this,ha,uT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{ke(this,Is,Ur).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{ke(this,Is,Ur).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,un).canRun(this)}));const s=this.state.status==="pending",r=!P(this,ha).canStart();try{if(s)n();else{ke(this,Is,Ur).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=P(this,un).config).onMutate)==null?void 0:a.call(i,e,this));const A=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,e));A!==this.state.context&&ke(this,Is,Ur).call(this,{type:"pending",context:A,variables:e,isPaused:r})}const E=await P(this,ha).start();return await((d=(u=P(this,un).config).onSuccess)==null?void 0:d.call(u,E,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,E,e,this.state.context)),await((y=(m=P(this,un).config).onSettled)==null?void 0:y.call(m,E,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,E,null,e,this.state.context)),ke(this,Is,Ur).call(this,{type:"success",data:E}),E}catch(E){try{throw await((g=(x=P(this,un).config).onError)==null?void 0:g.call(x,E,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,E,e,this.state.context)),await((j=(_=P(this,un).config).onSettled)==null?void 0:j.call(_,void 0,E,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,E,e,this.state.context)),E}finally{ke(this,Is,Ur).call(this,{type:"error",error:E})}}finally{P(this,un).runNext(this)}}},Os=new WeakMap,un=new WeakMap,ha=new WeakMap,Is=new WeakSet,Ur=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zt.batch(()=>{P(this,Os).forEach(s=>{s.onMutationUpdate(e)}),P(this,un).notify({mutation:this,type:"updated",action:e})})},YS);function hT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,fs,yu,qS,EF=(qS=class extends gl{constructor(e={}){super();he(this,fr);he(this,fs);he(this,yu);this.config=e,se(this,fr,new Set),se(this,fs,new Map),se(this,yu,0)}build(e,n,s){const r=new PF({mutationCache:this,mutationId:++zu(this,yu)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){P(this,fr).add(e);const n=sd(e);if(typeof n=="string"){const s=P(this,fs).get(n);s?s.push(e):P(this,fs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(P(this,fr).delete(e)){const n=sd(e);if(typeof n=="string"){const s=P(this,fs).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&P(this,fs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=sd(e);if(typeof n=="string"){const s=P(this,fs).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=sd(e);if(typeof n=="string"){const r=(s=P(this,fs).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zt.batch(()=>{P(this,fr).forEach(e=>{this.notify({type:"removed",mutation:e})}),P(this,fr).clear(),P(this,fs).clear()})}getAll(){return Array.from(P(this,fr))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>Q0(n,s))}findAll(e={}){return this.getAll().filter(n=>Q0(e,n))}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(hn))))}},fr=new WeakMap,fs=new WeakMap,yu=new WeakMap,qS);function sd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function X0(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const s=e.options,r=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},x=aT(e.options,e.fetchOptions),g=async(w,S,_)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return v(z),z})(),T=await x(k),{maxPages:E}=e.options,A=_?bF:vF;return{pages:A(w.pages,T,E),pageParams:A(w.pageParams,S,E)}};if(r&&i.length){const w=r==="backward",S=w?MF:Z0,_={pages:i,pageParams:a},j=S(s,_);o=await g(_,j,w)}else{const w=t??i.length;do{const S=c===0?a[0]??s.initialPageParam:Z0(s,o);if(c>0&&S==null)break;o=await g(o,S),c++}while(c<w)}return o};e.options.persister?e.fetchFn=()=>{var p,v;return(v=(p=e.options).persister)==null?void 0:v.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Z0(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function MF(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var xt,Xr,Zr,Fo,Lo,Jr,zo,$o,QS,DF=(QS=class{constructor(t={}){he(this,xt);he(this,Xr);he(this,Zr);he(this,Fo);he(this,Lo);he(this,Jr);he(this,zo);he(this,$o);se(this,xt,t.queryCache||new TF),se(this,Xr,t.mutationCache||new EF),se(this,Zr,t.defaultOptions||{}),se(this,Fo,new Map),se(this,Lo,new Map),se(this,Jr,0)}mount(){zu(this,Jr)._++,P(this,Jr)===1&&(se(this,zo,hx.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,xt).onFocus())})),se(this,$o,Pf.subscribe(async t=>{t&&(await this.resumePausedMutations(),P(this,xt).onOnline())})))}unmount(){var t,e;zu(this,Jr)._--,P(this,Jr)===0&&((t=P(this,zo))==null||t.call(this),se(this,zo,void 0),(e=P(this,$o))==null||e.call(this),se(this,$o,void 0))}isFetching(t){return P(this,xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,Xr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=P(this,xt).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Si(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return P(this,xt).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=P(this,xt).get(s.queryHash),i=r==null?void 0:r.state.data,a=yF(e,i);if(a!==void 0)return P(this,xt).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return zt.batch(()=>P(this,xt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=P(this,xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=P(this,xt);zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,xt);return zt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=zt.batch(()=>P(this,xt).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(hn).catch(hn)}invalidateQueries(t,e={}){return zt.batch(()=>(P(this,xt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=zt.batch(()=>P(this,xt).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(hn)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=P(this,xt).build(this,e);return n.isStaleByTime(Si(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hn).catch(hn)}fetchInfiniteQuery(t){return t.behavior=X0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hn).catch(hn)}ensureInfiniteQueryData(t){return t.behavior=X0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pf.isOnline()?P(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,xt)}getMutationCache(){return P(this,Xr)}getDefaultOptions(){return P(this,Zr)}setDefaultOptions(t){se(this,Zr,t)}setQueryDefaults(t,e){P(this,Fo).set(Ta(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,Fo).values()],n={};return e.forEach(s=>{Hc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){P(this,Lo).set(Ta(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,Lo).values()],n={};return e.forEach(s=>{Hc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...P(this,Zr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,Zr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,xt).clear(),P(this,Xr).clear()}},xt=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,Fo=new WeakMap,Lo=new WeakMap,Jr=new WeakMap,zo=new WeakMap,$o=new WeakMap,QS),jn,Re,xu,dn,ma,Vo,ei,ti,vu,Bo,Uo,pa,ga,ni,Wo,qe,tc,wg,Sg,_g,Ng,jg,kg,Cg,mT,KS,AF=(KS=class extends gl{constructor(e,n){super();he(this,qe);he(this,jn);he(this,Re);he(this,xu);he(this,dn);he(this,ma);he(this,Vo);he(this,ei);he(this,ti);he(this,vu);he(this,Bo);he(this,Uo);he(this,pa);he(this,ga);he(this,ni);he(this,Wo,new Set);this.options=n,se(this,jn,e),se(this,ti,null),se(this,ei,bg()),this.options.experimental_prefetchInRender||P(this,ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Re).addObserver(this),J0(P(this,Re),this.options)?ke(this,qe,tc).call(this):this.updateResult(),ke(this,qe,Ng).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tg(P(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tg(P(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,qe,jg).call(this),ke(this,qe,kg).call(this),P(this,Re).removeObserver(this)}setOptions(e){const n=this.options,s=P(this,Re);if(this.options=P(this,jn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xn(this.options.enabled,P(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,qe,Cg).call(this),P(this,Re).setOptions(this.options),n._defaulted&&!Tf(this.options,n)&&P(this,jn).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Re),observer:this});const r=this.hasListeners();r&&eb(P(this,Re),s,this.options,n)&&ke(this,qe,tc).call(this),this.updateResult(),r&&(P(this,Re)!==s||Xn(this.options.enabled,P(this,Re))!==Xn(n.enabled,P(this,Re))||Si(this.options.staleTime,P(this,Re))!==Si(n.staleTime,P(this,Re)))&&ke(this,qe,wg).call(this);const i=ke(this,qe,Sg).call(this);r&&(P(this,Re)!==s||Xn(this.options.enabled,P(this,Re))!==Xn(n.enabled,P(this,Re))||i!==P(this,ni))&&ke(this,qe,_g).call(this,i)}getOptimisticResult(e){const n=P(this,jn).getQueryCache().build(P(this,jn),e),s=this.createResult(n,e);return IF(this,s)&&(se(this,dn,s),se(this,Vo,this.options),se(this,ma,P(this,Re).state)),s}getCurrentResult(){return P(this,dn)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(s,r))})}trackProp(e){P(this,Wo).add(e)}getCurrentQuery(){return P(this,Re)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=P(this,jn).defaultQueryOptions(e),s=P(this,jn).getQueryCache().build(P(this,jn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return ke(this,qe,tc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,dn)))}createResult(e,n){var E;const s=P(this,Re),r=this.options,i=P(this,dn),a=P(this,ma),o=P(this,Vo),u=e!==s?e.state:P(this,xu),{state:d}=e;let f={...d},h=!1,m;if(n._optimisticResults){const A=this.hasListeners(),z=!A&&J0(e,n),R=A&&eb(e,s,n,r);(z||R)&&(f={...f,...fT(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:v}=f;m=f.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(A=i.data,x=!0):A=typeof n.placeholderData=="function"?n.placeholderData((E=P(this,Uo))==null?void 0:E.state.data,P(this,Uo)):n.placeholderData,A!==void 0&&(v="success",m=vg(i==null?void 0:i.data,A,n),h=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(a==null?void 0:a.data)&&n.select===P(this,vu))m=P(this,Bo);else try{se(this,vu,n.select),m=n.select(m),m=vg(i==null?void 0:i.data,m,n),se(this,Bo,m),se(this,ti,null)}catch(A){se(this,ti,A)}P(this,ti)&&(y=P(this,ti),m=P(this,Bo),p=Date.now(),v="error");const g=f.fetchStatus==="fetching",w=v==="pending",S=v==="error",_=w&&g,j=m!==void 0,T={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:S,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:S&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&j,isStale:mx(e,n),refetch:this.refetch,promise:P(this,ei),isEnabled:Xn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=L=>{T.status==="error"?L.reject(T.error):T.data!==void 0&&L.resolve(T.data)},z=()=>{const L=se(this,ei,T.promise=bg());A(L)},R=P(this,ei);switch(R.status){case"pending":e.queryHash===s.queryHash&&A(R);break;case"fulfilled":(T.status==="error"||T.data!==R.value)&&z();break;case"rejected":(T.status!=="error"||T.error!==R.reason)&&z();break}}return T}updateResult(){const e=P(this,dn),n=this.createResult(P(this,Re),this.options);if(se(this,ma,P(this,Re).state),se(this,Vo,this.options),P(this,ma).data!==void 0&&se(this,Uo,P(this,Re)),Tf(n,e))return;se(this,dn,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!P(this,Wo).size)return!0;const a=new Set(i??P(this,Wo));return this.options.throwOnError&&a.add("error"),Object.keys(P(this,dn)).some(o=>{const c=o;return P(this,dn)[c]!==e[c]&&a.has(c)})};ke(this,qe,mT).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,qe,Ng).call(this)}},jn=new WeakMap,Re=new WeakMap,xu=new WeakMap,dn=new WeakMap,ma=new WeakMap,Vo=new WeakMap,ei=new WeakMap,ti=new WeakMap,vu=new WeakMap,Bo=new WeakMap,Uo=new WeakMap,pa=new WeakMap,ga=new WeakMap,ni=new WeakMap,Wo=new WeakMap,qe=new WeakSet,tc=function(e){ke(this,qe,Cg).call(this);let n=P(this,Re).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(hn)),n},wg=function(){ke(this,qe,jg).call(this);const e=Si(this.options.staleTime,P(this,Re));if(Ca||P(this,dn).isStale||!yg(e))return;const s=rT(P(this,dn).dataUpdatedAt,e)+1;se(this,pa,setTimeout(()=>{P(this,dn).isStale||this.updateResult()},s))},Sg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Re)):this.options.refetchInterval)??!1},_g=function(e){ke(this,qe,kg).call(this),se(this,ni,e),!(Ca||Xn(this.options.enabled,P(this,Re))===!1||!yg(P(this,ni))||P(this,ni)===0)&&se(this,ga,setInterval(()=>{(this.options.refetchIntervalInBackground||hx.isFocused())&&ke(this,qe,tc).call(this)},P(this,ni)))},Ng=function(){ke(this,qe,wg).call(this),ke(this,qe,_g).call(this,ke(this,qe,Sg).call(this))},jg=function(){P(this,pa)&&(clearTimeout(P(this,pa)),se(this,pa,void 0))},kg=function(){P(this,ga)&&(clearInterval(P(this,ga)),se(this,ga,void 0))},Cg=function(){const e=P(this,jn).getQueryCache().build(P(this,jn),this.options);if(e===P(this,Re))return;const n=P(this,Re);se(this,Re,e),se(this,xu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},mT=function(e){zt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(P(this,dn))}),P(this,jn).getQueryCache().notify({query:P(this,Re),type:"observerResultsUpdated"})})},KS);function OF(t,e){return Xn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function J0(t,e){return OF(t,e)||t.state.data!==void 0&&Tg(t,e,e.refetchOnMount)}function Tg(t,e,n){if(Xn(e.enabled,t)!==!1&&Si(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&mx(t,e)}return!1}function eb(t,e,n,s){return(t!==e||Xn(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&mx(t,n)}function mx(t,e){return Xn(e.enabled,t)!==!1&&t.isStaleByTime(Si(e.staleTime,t))}function IF(t,e){return!Tf(t.getCurrentResult(),e)}var si,ri,kn,hr,wr,Wd,Pg,GS,RF=(GS=class extends gl{constructor(n,s){super();he(this,wr);he(this,si);he(this,ri);he(this,kn);he(this,hr);se(this,si,n),this.setOptions(s),this.bindMethods(),ke(this,wr,Wd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=P(this,si).defaultMutationOptions(n),Tf(this.options,s)||P(this,si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,kn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ta(s.mutationKey)!==Ta(this.options.mutationKey)?this.reset():((r=P(this,kn))==null?void 0:r.state.status)==="pending"&&P(this,kn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,kn))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,wr,Wd).call(this),ke(this,wr,Pg).call(this,n)}getCurrentResult(){return P(this,ri)}reset(){var n;(n=P(this,kn))==null||n.removeObserver(this),se(this,kn,void 0),ke(this,wr,Wd).call(this),ke(this,wr,Pg).call(this)}mutate(n,s){var r;return se(this,hr,s),(r=P(this,kn))==null||r.removeObserver(this),se(this,kn,P(this,si).getMutationCache().build(P(this,si),this.options)),P(this,kn).addObserver(this),P(this,kn).execute(n)}},si=new WeakMap,ri=new WeakMap,kn=new WeakMap,hr=new WeakMap,wr=new WeakSet,Wd=function(){var s;const n=((s=P(this,kn))==null?void 0:s.state)??hT();se(this,ri,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Pg=function(n){zt.batch(()=>{var s,r,i,a,o,c,u,d;if(P(this,hr)&&this.hasListeners()){const f=P(this,ri).variables,h=P(this,ri).context;(n==null?void 0:n.type)==="success"?((r=(s=P(this,hr)).onSuccess)==null||r.call(s,n.data,f,h),(a=(i=P(this,hr)).onSettled)==null||a.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(o=P(this,hr)).onError)==null||c.call(o,n.error,f,h),(d=(u=P(this,hr)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(P(this,ri))})})},GS),pT=b.createContext(void 0),wn=t=>{const e=b.useContext(pT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FF=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(pT.Provider,{value:t,children:e})),gT=b.createContext(!1),LF=()=>b.useContext(gT);gT.Provider;function zF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $F=b.createContext(zF()),VF=()=>b.useContext($F),BF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},UF=t=>{b.useEffect(()=>{t.clearReset()},[t])},WF=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||oT(n,[t.error,s])),HF=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},YF=(t,e)=>t.isLoading&&t.isFetching&&!e,qF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,tb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function QF(t,e,n){var f,h,m,y,p;const s=LF(),r=VF(),i=wn(),a=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=s?"isRestoring":"optimistic",HF(a),BF(a,r),UF(r);const o=!i.getQueryCache().get(a.queryHash),[c]=b.useState(()=>new e(i,a)),u=c.getOptimisticResult(a),d=!s&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const x=d?c.subscribe(zt.batchCalls(v)):hn;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(a)},[a,c]),qF(a,u))throw tb(a,c,r);if(WF({result:u,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,u),a.experimental_prefetchInRender&&!Ca&&YF(u,s)){const v=o?tb(a,c,r):(p=i.getQueryCache().get(a.queryHash))==null?void 0:p.promise;v==null||v.catch(hn).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Rt(t,e){return QF(t,AF)}function It(t,e){const n=wn(),[s]=b.useState(()=>new RF(n,t));b.useEffect(()=>{s.setOptions(t)},[s,t]);const r=b.useSyncExternalStore(b.useCallback(a=>s.subscribe(zt.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=b.useCallback((a,o)=>{s.mutate(a,o).catch(hn)},[s]);if(r.error&&oT(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}async function KF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}function yT(){return window.location.origin}async function Ee(t,e,n){const s=localStorage.getItem("authToken"),r={};let i;n instanceof FormData?i=n:n&&(r["Content-Type"]="application/json",i=JSON.stringify(n)),s&&(r.Authorization=`Bearer ${s}`);const a=yT(),o=e.startsWith("http")?e:`${a}${e}`,c=await fetch(o,{method:t,headers:r,body:i,credentials:"include"});if(!c.ok){const d=await c.text()||c.statusText;throw console.error("API Error:",c.status,d),c.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),new Error(`${c.status}: ${d}`)}if(c.status===204)return null;const u=c.headers.get("Content-Type");return u&&u.includes("application/json")?c.json():c.text()}const xT=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("authToken"),s={};n&&(s.Authorization=`Bearer ${n}`);const r=yT(),i=e.join("/"),a=i.startsWith("http")?i:`${r}${i}`,o=await fetch(a,{headers:s,credentials:"include"});return t==="returnNull"&&o.status===401?(localStorage.removeItem("authToken"),null):(o.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),await KF(o),await o.json())},Gi=new DF({defaultOptions:{queries:{queryFn:xT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),GF=1,XF=1e6;let Rm=0;function ZF(){return Rm=(Rm+1)%Number.MAX_SAFE_INTEGER,Rm.toString()}const Fm=new Map,nb=t=>{if(Fm.has(t))return;const e=setTimeout(()=>{Fm.delete(t),xc({type:"REMOVE_TOAST",toastId:t})},XF);Fm.set(t,e)},JF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,GF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?nb(n):t.toasts.forEach(s=>{nb(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Hd=[];let Yd={toasts:[]};function xc(t){Yd=JF(Yd,t),Hd.forEach(e=>{e(Yd)})}function eL({...t}){const e=ZF(),n=r=>xc({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>xc({type:"DISMISS_TOAST",toastId:e});return xc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function Nt(){const[t,e]=b.useState(Yd);return b.useEffect(()=>(Hd.push(e),()=>{const n=Hd.indexOf(e);n>-1&&Hd.splice(n,1)}),[t]),{...t,toast:eL,dismiss:n=>xc({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function sb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vT(...t){return e=>{let n=!1;const s=t.map(r=>{const i=sb(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():sb(t[r],null)}}}}function We(...t){return b.useCallback(vT(...t),t)}function tL(t,e){const n=b.createContext(e),s=i=>{const{children:a,...o}=i,c=b.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};s.displayName=t+"Provider";function r(i){const a=b.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function Ua(t,e=[]){let n=[];function s(i,a){const o=b.createContext(a),c=n.length;n=[...n,a];const u=f=>{var x;const{scope:h,children:m,...y}=f,p=((x=h==null?void 0:h[t])==null?void 0:x[c])||o,v=b.useMemo(()=>y,Object.values(y));return l.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[t])==null?void 0:p[c])||o,y=b.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>b.createContext(a));return function(o){const c=(o==null?void 0:o[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return r.scopeName=t,[s,nL(r,...e)]}function nL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Jo(t){const e=sL(t),n=b.forwardRef((s,r)=>{const{children:i,...a}=s,o=b.Children.toArray(i),c=o.find(iL);if(c){const u=c.props.children,d=o.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...a,ref:r,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var bT=Jo("Slot");function sL(t){const e=b.forwardRef((n,s)=>{const{children:r,...i}=n;if(b.isValidElement(r)){const a=oL(r),o=aL(i,r.props);return r.type!==b.Fragment&&(o.ref=s?vT(s,a):a),b.cloneElement(r,o)}return b.Children.count(r)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wT=Symbol("radix.slottable");function rL(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=wT,e}function iL(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wT}function aL(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...o)=>{const c=i(...o);return r(...o),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function oL(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function px(t){const e=t+"CollectionProvider",[n,s]=Ua(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:v,children:x}=p,g=ye.useRef(null),w=ye.useRef(new Map).current;return l.jsx(r,{scope:v,itemMap:w,collectionRef:g,children:x})};a.displayName=e;const o=t+"CollectionSlot",c=Jo(o),u=ye.forwardRef((p,v)=>{const{scope:x,children:g}=p,w=i(o,x),S=We(v,w.collectionRef);return l.jsx(c,{ref:S,children:g})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Jo(d),m=ye.forwardRef((p,v)=>{const{scope:x,children:g,...w}=p,S=ye.useRef(null),_=We(v,S),j=i(d,x);return ye.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:_,children:g})});m.displayName=d;function y(p){const v=i(t+"CollectionConsumer",p);return ye.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((j,k)=>w.indexOf(j.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},y,s]}var lL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=lL.reduce((t,e)=>{const n=Jo(`Primitive.${e}`),s=b.forwardRef((r,i)=>{const{asChild:a,...o}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function ST(t,e){t&&Ba.flushSync(()=>t.dispatchEvent(e))}function _s(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function cL(t,e=globalThis==null?void 0:globalThis.document){const n=_s(t);b.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var uL="DismissableLayer",Eg="dismissableLayer.update",dL="dismissableLayer.pointerDownOutside",fL="dismissableLayer.focusOutside",rb,_T=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ku=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=t,u=b.useContext(_T),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),y=We(e,k=>f(k)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),g=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,_=mL(k=>{const T=k.target,E=[...u.branches].some(A=>A.contains(T));!S||E||(r==null||r(k),a==null||a(k),k.defaultPrevented||o==null||o())},h),j=pL(k=>{const T=k.target;[...u.branches].some(A=>A.contains(T))||(i==null||i(k),a==null||a(k),k.defaultPrevented||o==null||o())},h);return cL(k=>{g===u.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ib(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=rb)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ib())},[d,u]),b.useEffect(()=>{const k=()=>m({});return document.addEventListener(Eg,k),()=>document.removeEventListener(Eg,k)},[]),l.jsx(Me.div,{...c,ref:y,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,j.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,_.onPointerDownCapture)})});ku.displayName=uL;var hL="DismissableLayerBranch",NT=b.forwardRef((t,e)=>{const n=b.useContext(_T),s=b.useRef(null),r=We(e,s);return b.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Me.div,{...t,ref:r})});NT.displayName=hL;function mL(t,e=globalThis==null?void 0:globalThis.document){const n=_s(t),s=b.useRef(!1),r=b.useRef(()=>{});return b.useEffect(()=>{const i=o=>{if(o.target&&!s.current){let c=function(){jT(dL,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function pL(t,e=globalThis==null?void 0:globalThis.document){const n=_s(t),s=b.useRef(!1);return b.useEffect(()=>{const r=i=>{i.target&&!s.current&&jT(fL,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ib(){const t=new CustomEvent(Eg);document.dispatchEvent(t)}function jT(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?ST(r,i):r.dispatchEvent(i)}var gL=ku,yL=NT,Jt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},xL="Portal",Mh=b.forwardRef((t,e)=>{var o;const{container:n,...s}=t,[r,i]=b.useState(!1);Jt(()=>i(!0),[]);const a=n||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?$R.createPortal(l.jsx(Me.div,{...s,ref:e}),a):null});Mh.displayName=xL;function vL(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var yl=t=>{const{present:e,children:n}=t,s=bL(e),r=typeof n=="function"?n({present:s.isPresent}):b.Children.only(n),i=We(s.ref,wL(r));return typeof n=="function"||s.isPresent?b.cloneElement(r,{ref:i}):null};yl.displayName="Presence";function bL(t){const[e,n]=b.useState(),s=b.useRef(null),r=b.useRef(t),i=b.useRef("none"),a=t?"mounted":"unmounted",[o,c]=vL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=rd(s.current);i.current=o==="mounted"?u:"none"},[o]),Jt(()=>{const u=s.current,d=r.current;if(d!==t){const h=i.current,m=rd(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Jt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const p=rd(s.current).includes(m.animationName);if(m.target===e&&p&&(c("ANIMATION_END"),!r.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(i.current=rd(s.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function rd(t){return(t==null?void 0:t.animationName)||"none"}function wL(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SL=xy[" useInsertionEffect ".trim().toString()]||Jt;function Yc({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,a]=_L({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:r;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,s])}const u=b.useCallback(d=>{var f;if(o){const h=NL(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else i(d)},[o,t,i,a]);return[c,u]}function _L({defaultProp:t,onChange:e}){const[n,s]=b.useState(t),r=b.useRef(n),i=b.useRef(e);return SL(()=>{i.current=e},[e]),b.useEffect(()=>{var a;r.current!==n&&((a=i.current)==null||a.call(i,n),r.current=n)},[n,r]),[n,s,i]}function NL(t){return typeof t=="function"}var kT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jL="VisuallyHidden",Dh=b.forwardRef((t,e)=>l.jsx(Me.span,{...t,ref:e,style:{...kT,...t.style}}));Dh.displayName=jL;var kL=Dh,gx="ToastProvider",[yx,CL,TL]=px("Toast"),[CT,bQ]=Ua("Toast",[TL]),[PL,Ah]=CT(gx),TT=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=t,[o,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gx}\`. Expected non-empty \`string\`.`),l.jsx(yx.Provider,{scope:e,children:l.jsx(PL,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};TT.displayName=gx;var PT="ToastViewport",EL=["F8"],Mg="toast.viewportPause",Dg="toast.viewportResume",ET=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=EL,label:r="Notifications ({hotkey})",...i}=t,a=Ah(PT,n),o=CL(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=We(e,f,a.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;b.useEffect(()=>{const v=x=>{var w;s.length!==0&&s.every(S=>x[S]||x.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[s]),b.useEffect(()=>{const v=c.current,x=f.current;if(y&&v&&x){const g=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Mg);x.dispatchEvent(j),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(Dg);x.dispatchEvent(j),a.isClosePausedRef.current=!1}},S=j=>{!v.contains(j.relatedTarget)&&w()},_=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",g),v.addEventListener("focusout",S),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",_),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[y,a.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:v})=>{const g=o().map(w=>{const S=w.ref.current,_=[S,...UL(S)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?g.reverse():g).flat()},[o]);return b.useEffect(()=>{const v=f.current;if(v){const x=g=>{var _,j,k;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const T=document.activeElement,E=g.shiftKey;if(g.target===v&&E){(_=u.current)==null||_.focus();return}const R=p({tabbingDirection:E?"backwards":"forwards"}),L=R.findIndex(I=>I===T);Lm(R.slice(L+1))?g.preventDefault():E?(j=u.current)==null||j.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[o,p]),l.jsxs(yL,{ref:c,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(Ag,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});Lm(v)}}),l.jsx(yx.Slot,{scope:n,children:l.jsx(Me.ol,{tabIndex:-1,...i,ref:h})}),y&&l.jsx(Ag,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});Lm(v)}})]})});ET.displayName=PT;var MT="ToastFocusProxy",Ag=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=Ah(MT,n);return l.jsx(Dh,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&s()}})});Ag.displayName=MT;var Cu="Toast",ML="toast.swipeStart",DL="toast.swipeMove",AL="toast.swipeCancel",OL="toast.swipeEnd",DT=b.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...a}=t,[o,c]=Yc({prop:s,defaultProp:r??!0,onChange:i,caller:Cu});return l.jsx(yl,{present:n||o,children:l.jsx(FL,{open:o,...a,ref:e,onClose:()=>c(!1),onPause:_s(t.onPause),onResume:_s(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});DT.displayName=Cu;var[IL,RL]=CT(Cu,{onClose(){}}),FL=b.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,p=Ah(Cu,n),[v,x]=b.useState(null),g=We(e,I=>x(I)),w=b.useRef(null),S=b.useRef(null),_=r||p.duration,j=b.useRef(0),k=b.useRef(_),T=b.useRef(0),{onToastAdd:E,onToastRemove:A}=p,z=_s(()=>{var O;(v==null?void 0:v.contains(document.activeElement))&&((O=p.viewport)==null||O.focus()),a()}),R=b.useCallback(I=>{!I||I===1/0||(window.clearTimeout(T.current),j.current=new Date().getTime(),T.current=window.setTimeout(z,I))},[z]);b.useEffect(()=>{const I=p.viewport;if(I){const O=()=>{R(k.current),u==null||u()},V=()=>{const B=new Date().getTime()-j.current;k.current=k.current-B,window.clearTimeout(T.current),c==null||c()};return I.addEventListener(Mg,V),I.addEventListener(Dg,O),()=>{I.removeEventListener(Mg,V),I.removeEventListener(Dg,O)}}},[p.viewport,_,c,u,R]),b.useEffect(()=>{i&&!p.isClosePausedRef.current&&R(_)},[i,_,p.isClosePausedRef,R]),b.useEffect(()=>(E(),()=>A()),[E,A]);const L=b.useMemo(()=>v?zT(v):null,[v]);return p.viewport?l.jsxs(l.Fragment,{children:[L&&l.jsx(LL,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),l.jsx(IL,{scope:n,onClose:z,children:Ba.createPortal(l.jsx(yx.ItemSlot,{scope:n,children:l.jsx(gL,{asChild:!0,onEscapeKeyDown:xe(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||z(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,I=>{I.key==="Escape"&&(o==null||o(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:xe(t.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:xe(t.onPointerMove,I=>{if(!w.current)return;const O=I.clientX-w.current.x,V=I.clientY-w.current.y,B=!!S.current,C=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=C?F(0,O):0,W=C?0:F(0,V),G=I.pointerType==="touch"?10:2,ne={x:D,y:W},re={originalEvent:I,delta:ne};B?(S.current=ne,id(DL,f,re,{discrete:!1})):ab(ne,p.swipeDirection,G)?(S.current=ne,id(ML,d,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(O)>G||Math.abs(V)>G)&&(w.current=null)}),onPointerUp:xe(t.onPointerUp,I=>{const O=S.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),S.current=null,w.current=null,O){const B=I.currentTarget,C={originalEvent:I,delta:O};ab(O,p.swipeDirection,p.swipeThreshold)?id(OL,m,C,{discrete:!0}):id(AL,h,C,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),LL=t=>{const{__scopeToast:e,children:n,...s}=t,r=Ah(Cu,e),[i,a]=b.useState(!1),[o,c]=b.useState(!1);return VL(()=>a(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Mh,{asChild:!0,children:l.jsx(Dh,{...s,children:i&&l.jsxs(l.Fragment,{children:[r.label," ",n]})})})},zL="ToastTitle",AT=b.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return l.jsx(Me.div,{...s,ref:e})});AT.displayName=zL;var $L="ToastDescription",OT=b.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return l.jsx(Me.div,{...s,ref:e})});OT.displayName=$L;var IT="ToastAction",RT=b.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?l.jsx(LT,{altText:n,asChild:!0,children:l.jsx(xx,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${IT}\`. Expected non-empty \`string\`.`),null)});RT.displayName=IT;var FT="ToastClose",xx=b.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=RL(FT,n);return l.jsx(LT,{asChild:!0,children:l.jsx(Me.button,{type:"button",...s,ref:e,onClick:xe(t.onClick,r.onClose)})})});xx.displayName=FT;var LT=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return l.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function zT(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),BL(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...zT(s))}}),e}function id(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?ST(r,i):r.dispatchEvent(i)}var ab=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function VL(t=()=>{}){const e=_s(t);Jt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function BL(t){return t.nodeType===t.ELEMENT_NODE}function UL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var WL=TT,$T=ET,VT=DT,BT=AT,UT=OT,WT=RT,HT=xx;function YT(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=YT(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function qT(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=YT(t))&&(s&&(s+=" "),s+=e);return s}const ob=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lb=qT,Oh=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return lb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=ob(d)||ob(f);return r[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[p,v]=y;return Array.isArray(v)?v.includes({...i,...o}[p]):{...i,...o}[p]===v})?[...u,f,h]:u},[]);return lb(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QT=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...o},c)=>b.createElement("svg",{ref:c,...YL,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:QT("lucide",r),...o},[...a.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=(t,e)=>{const n=b.forwardRef(({className:s,...r},i)=>b.createElement(qL,{ref:i,iconNode:e,className:QT(`lucide-${HL(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=zi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=zi("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=zi("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=zi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=zi("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=zi("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=zi("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=zi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bx="-",ZL=t=>{const e=e4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const o=a.split(bx);return o[0]===""&&o.length!==1&&o.shift(),XT(o,e)||JL(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&s[a]?[...c,...s[a]]:c}}},XT=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?XT(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(bx);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},cb=/^\[(.+)\]$/,JL=t=>{if(cb.test(t)){const e=cb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},e4=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return n4(Object.entries(t.classGroups),n).forEach(([i,a])=>{Ig(a,s,i,e)}),s},Ig=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:ub(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(t4(r)){Ig(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{Ig(a,ub(e,i),n,s)})})},ub=(t,e)=>{let n=t;return e.split(bx).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},t4=t=>t.isThemeGetter,n4=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,r]}):t,s4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},ZT="!",r4=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=o=>{const c=[];let u=0,d=0,f;for(let v=0;v<o.length;v++){let x=o[v];if(u===0){if(x===r&&(s||o.slice(v,v+i)===e)){c.push(o.slice(d,v)),d=v+i;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?o:o.substring(d),m=h.startsWith(ZT),y=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}};return n?o=>n({className:o,parseClassName:a}):a},i4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},a4=t=>({cache:s4(t.cacheSize),parseClassName:r4(t),...ZL(t)}),o4=/\s+/,l4=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(o4);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,p=s(y?h.substring(0,m):h);if(!p){if(!y){o=u+(o.length>0?" "+o:o);continue}if(p=s(h),!p){o=u+(o.length>0?" "+o:o);continue}y=!1}const v=i4(d).join(":"),x=f?v+ZT:v,g=x+p;if(i.includes(g))continue;i.push(g);const w=r(p,y);for(let S=0;S<w.length;++S){const _=w[S];i.push(x+_)}o=u+(o.length>0?" "+o:o)}return o};function c4(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=JT(e))&&(s&&(s+=" "),s+=n);return s}const JT=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=JT(t[s]))&&(n&&(n+=" "),n+=e);return n};function u4(t,...e){let n,s,r,i=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=a4(u),s=n.cache.get,r=n.cache.set,i=o,o(c)}function o(c){const u=s(c);if(u)return u;const d=l4(c,n);return r(c,d),d}return function(){return i(c4.apply(null,arguments))}}const ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},eP=/^\[(?:([a-z-]+):)?(.+)\]$/i,d4=/^\d+\/\d+$/,f4=new Set(["px","full","screen"]),h4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,m4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,g4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tr=t=>No(t)||f4.has(t)||d4.test(t),zr=t=>xl(t,"length",j4),No=t=>!!t&&!Number.isNaN(Number(t)),zm=t=>xl(t,"number",No),Rl=t=>!!t&&Number.isInteger(Number(t)),x4=t=>t.endsWith("%")&&No(t.slice(0,-1)),Ne=t=>eP.test(t),$r=t=>h4.test(t),v4=new Set(["length","size","percentage"]),b4=t=>xl(t,v4,tP),w4=t=>xl(t,"position",tP),S4=new Set(["image","url"]),_4=t=>xl(t,S4,C4),N4=t=>xl(t,"",k4),Fl=()=>!0,xl=(t,e,n)=>{const s=eP.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},j4=t=>m4.test(t)&&!p4.test(t),tP=()=>!1,k4=t=>g4.test(t),C4=t=>y4.test(t),T4=()=>{const t=ot("colors"),e=ot("spacing"),n=ot("blur"),s=ot("brightness"),r=ot("borderColor"),i=ot("borderRadius"),a=ot("borderSpacing"),o=ot("borderWidth"),c=ot("contrast"),u=ot("grayscale"),d=ot("hueRotate"),f=ot("invert"),h=ot("gap"),m=ot("gradientColorStops"),y=ot("gradientColorStopPositions"),p=ot("inset"),v=ot("margin"),x=ot("opacity"),g=ot("padding"),w=ot("saturate"),S=ot("scale"),_=ot("sepia"),j=ot("skew"),k=ot("space"),T=ot("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Ne,e],R=()=>[Ne,e],L=()=>["",tr,zr],I=()=>["auto",No,Ne],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ne],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[No,Ne];return{cacheSize:500,separator:":",theme:{colors:[Fl],spacing:[tr,zr],blur:["none","",$r,Ne],brightness:W(),borderColor:[t],borderRadius:["none","","full",$r,Ne],borderSpacing:R(),borderWidth:L(),contrast:W(),grayscale:F(),hueRotate:W(),invert:F(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[x4,zr],inset:z(),margin:z(),opacity:W(),padding:R(),saturate:W(),scale:W(),sepia:F(),skew:W(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),Ne]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,Ne]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Rl,Ne]}],"grid-cols":[{"grid-cols":[Fl]}],"col-start-end":[{col:["auto",{span:["full",Rl,Ne]},Ne]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Fl]}],"row-start-end":[{row:["auto",{span:[Rl,Ne]},Ne]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[$r]},$r]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$r,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zm]}],"font-family":[{font:[Fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",No,zm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tr,zr]}],"underline-offset":[{"underline-offset":["auto",tr,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),w4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",b4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[tr,Ne]}],"outline-w":[{outline:[tr,zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[tr,zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$r,N4]}],"shadow-color":[{shadow:[Fl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$r,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Rl,Ne]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tr,zr,zm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},P4=u4(T4);function Ie(...t){return P4(qT(t))}function E4(t){return t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Activity"}function nP(t,e,n){if(!t||!e)return null;const[s,r]=t.split(":").map(Number),[i,a]=e.split(":").map(Number);let o=new Date;o.setHours(s,r,0,0);let c=new Date;if(c.setHours(i,a,0,0),n==="sleep"&&c<=o)c.setDate(c.getDate()+1);else if(n!=="sleep"&&c<=o)return null;const u=c.getTime()-o.getTime(),d=Math.floor(u/(1e3*60)),f=Math.floor(d/60),h=d%60;return{hours:f,minutes:h}}function M4(t){if(!t)return"";const e=[];return t.hours>0&&e.push(`${t.hours} hr`),t.minutes>0&&e.push(`${t.minutes} min`),e.join(" ")||"0 min"}const D4=WL,sP=b.forwardRef(({className:t,...e},n)=>l.jsx($T,{ref:n,className:Ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sP.displayName=$T.displayName;const A4=Oh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rP=b.forwardRef(({className:t,variant:e,...n},s)=>l.jsx(VT,{ref:s,className:Ie(A4({variant:e}),t),...n}));rP.displayName=VT.displayName;const O4=b.forwardRef(({className:t,...e},n)=>l.jsx(WT,{ref:n,className:Ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));O4.displayName=WT.displayName;const iP=b.forwardRef(({className:t,...e},n)=>l.jsx(HT,{ref:n,className:Ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(vx,{className:"h-4 w-4"})}));iP.displayName=HT.displayName;const aP=b.forwardRef(({className:t,...e},n)=>l.jsx(BT,{ref:n,className:Ie("text-sm font-semibold",t),...e}));aP.displayName=BT.displayName;const oP=b.forwardRef(({className:t,...e},n)=>l.jsx(UT,{ref:n,className:Ie("text-sm opacity-90",t),...e}));oP.displayName=UT.displayName;function I4(){const{toasts:t}=Nt();return l.jsxs(D4,{children:[t.map(function({id:e,title:n,description:s,action:r,...i}){return l.jsxs(rP,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(aP,{children:n}),s&&l.jsx(oP,{children:s})]}),r,l.jsx(iP,{})]},e)}),l.jsx(sP,{})]})}var R4=xy[" useId ".trim().toString()]||(()=>{}),F4=0;function jo(t){const[e,n]=b.useState(R4());return Jt(()=>{n(s=>s??String(F4++))},[t]),e?`radix-${e}`:""}const L4=["top","right","bottom","left"],ki=Math.min,Ln=Math.max,Ef=Math.round,ad=Math.floor,Hs=t=>({x:t,y:t}),z4={left:"right",right:"left",bottom:"top",top:"bottom"},$4={start:"end",end:"start"};function Rg(t,e,n){return Ln(t,ki(e,n))}function kr(t,e){return typeof t=="function"?t(e):t}function Cr(t){return t.split("-")[0]}function vl(t){return t.split("-")[1]}function wx(t){return t==="x"?"y":"x"}function Sx(t){return t==="y"?"height":"width"}const V4=new Set(["top","bottom"]);function Vs(t){return V4.has(Cr(t))?"y":"x"}function _x(t){return wx(Vs(t))}function B4(t,e,n){n===void 0&&(n=!1);const s=vl(t),r=_x(t),i=Sx(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Mf(a)),[a,Mf(a)]}function U4(t){const e=Mf(t);return[Fg(t),e,Fg(e)]}function Fg(t){return t.replace(/start|end/g,e=>$4[e])}const db=["left","right"],fb=["right","left"],W4=["top","bottom"],H4=["bottom","top"];function Y4(t,e,n){switch(t){case"top":case"bottom":return n?e?fb:db:e?db:fb;case"left":case"right":return e?W4:H4;default:return[]}}function q4(t,e,n,s){const r=vl(t);let i=Y4(Cr(t),n==="start",s);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(Fg)))),i}function Mf(t){return t.replace(/left|right|bottom|top/g,e=>z4[e])}function Q4(t){return{top:0,right:0,bottom:0,left:0,...t}}function lP(t){return typeof t!="number"?Q4(t):{top:t,right:t,bottom:t,left:t}}function Df(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function hb(t,e,n){let{reference:s,floating:r}=t;const i=Vs(e),a=_x(e),o=Sx(a),c=Cr(e),u=i==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,h=s[o]/2-r[o]/2;let m;switch(c){case"top":m={x:d,y:s.y-r.height};break;case"bottom":m={x:d,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:f};break;case"left":m={x:s.x-r.width,y:f};break;default:m={x:s.x,y:s.y}}switch(vl(e)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const K4=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:f}=hb(u,s,c),h=s,m={},y=0;for(let p=0;p<o.length;p++){const{name:v,fn:x}=o[p],{x:g,y:w,data:S,reset:_}=await x({x:d,y:f,initialPlacement:s,placement:h,strategy:r,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=g??d,f=w??f,m={...m,[v]:{...m[v],...S}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):_.rects),{x:d,y:f}=hb(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:r,middlewareData:m}};async function qc(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=kr(e,t),y=lP(m),v=o[h?f==="floating"?"reference":"floating":f],x=Df(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Df(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:w,strategy:c}):g);return{top:(x.top-_.top+y.top)/S.y,bottom:(_.bottom-x.bottom+y.bottom)/S.y,left:(x.left-_.left+y.left)/S.x,right:(_.right-x.right+y.right)/S.x}}const G4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=kr(t,e)||{};if(u==null)return{};const f=lP(d),h={x:n,y:s},m=_x(r),y=Sx(m),p=await a.getDimensions(u),v=m==="y",x=v?"top":"left",g=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[m]-h[m]-i.floating[y],_=h[m]-i.reference[m],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=j?j[w]:0;(!k||!await(a.isElement==null?void 0:a.isElement(j)))&&(k=o.floating[w]||i.floating[y]);const T=S/2-_/2,E=k/2-p[y]/2-1,A=ki(f[x],E),z=ki(f[g],E),R=A,L=k-p[y]-z,I=k/2-p[y]/2+T,O=Rg(R,I,L),V=!c.arrow&&vl(r)!=null&&I!==O&&i.reference[y]/2-(I<R?A:z)-p[y]/2<0,B=V?I<R?I-R:I-L:0;return{[m]:h[m]+B,data:{[m]:O,centerOffset:I-O-B,...V&&{alignmentOffset:B}},reset:V}}}),X4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...v}=kr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Cr(r),g=Vs(o),w=Cr(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!p?[Mf(o)]:U4(o)),j=y!=="none";!h&&j&&_.push(...q4(o,p,y,S));const k=[o,..._],T=await qc(e,v),E=[];let A=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&E.push(T[x]),f){const I=B4(r,a,S);E.push(T[I[0]],T[I[1]])}if(A=[...A,{placement:r,overflows:E}],!E.every(I=>I<=0)){var z,R;const I=(((z=i.flip)==null?void 0:z.index)||0)+1,O=k[I];if(O&&(!(f==="alignment"?g!==Vs(O):!1)||A.every(C=>C.overflows[0]>0&&Vs(C.placement)===g)))return{data:{index:I,overflows:A},reset:{placement:O}};let V=(R=A.filter(B=>B.overflows[0]<=0).sort((B,C)=>B.overflows[1]-C.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(m){case"bestFit":{var L;const B=(L=A.filter(C=>{if(j){const F=Vs(C.placement);return F===g||F==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((C,F)=>C[1]-F[1])[0])==null?void 0:L[0];B&&(V=B);break}case"initialPlacement":V=o;break}if(r!==V)return{reset:{placement:V}}}return{}}}};function mb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pb(t){return L4.some(e=>t[e]>=0)}const Z4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=kr(t,e);switch(s){case"referenceHidden":{const i=await qc(e,{...r,elementContext:"reference"}),a=mb(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:pb(a)}}}case"escaped":{const i=await qc(e,{...r,altBoundary:!0}),a=mb(i,n.floating);return{data:{escapedOffsets:a,escaped:pb(a)}}}default:return{}}}}},cP=new Set(["left","top"]);async function J4(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=Cr(n),o=vl(n),c=Vs(n)==="y",u=cP.has(a)?-1:1,d=i&&c?-1:1,f=kr(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const e5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:a,middlewareData:o}=e,c=await J4(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},t5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x,y:g}=v;return{x,y:g}}},...c}=kr(t,e),u={x:n,y:s},d=await qc(e,c),f=Vs(Cr(r)),h=wx(f);let m=u[h],y=u[f];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=m+d[v],w=m-d[x];m=Rg(g,m,w)}if(a){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=y+d[v],w=y-d[x];y=Rg(g,y,w)}const p=o.fn({...e,[h]:m,[f]:y});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[h]:i,[f]:a}}}}}},n5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=kr(t,e),d={x:n,y:s},f=Vs(r),h=wx(f);let m=d[h],y=d[f];const p=kr(o,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+v.mainAxis,_=i.reference[h]+i.reference[w]-v.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var x,g;const w=h==="y"?"width":"height",S=cP.has(Cr(r)),_=i.reference[f]-i.floating[w]+(S&&((x=a.offset)==null?void 0:x[f])||0)+(S?0:v.crossAxis),j=i.reference[f]+i.reference[w]+(S?0:((g=a.offset)==null?void 0:g[f])||0)-(S?v.crossAxis:0);y<_?y=_:y>j&&(y=j)}return{[h]:m,[f]:y}}}},s5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:a,elements:o}=e,{apply:c=()=>{},...u}=kr(t,e),d=await qc(e,u),f=Cr(r),h=vl(r),m=Vs(r)==="y",{width:y,height:p}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const g=p-d.top-d.bottom,w=y-d.left-d.right,S=ki(p-d[v],g),_=ki(y-d[x],w),j=!e.middlewareData.shift;let k=S,T=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(k=g),j&&!h){const A=Ln(d.left,0),z=Ln(d.right,0),R=Ln(d.top,0),L=Ln(d.bottom,0);m?T=y-2*(A!==0||z!==0?A+z:Ln(d.left,d.right)):k=p-2*(R!==0||L!==0?R+L:Ln(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:k});const E=await a.getDimensions(o.floating);return y!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function Ih(){return typeof window<"u"}function bl(t){return uP(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Js(t){var e;return(e=(uP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uP(t){return Ih()?t instanceof Node||t instanceof Vn(t).Node:!1}function Ns(t){return Ih()?t instanceof Element||t instanceof Vn(t).Element:!1}function Ks(t){return Ih()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function gb(t){return!Ih()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const r5=new Set(["inline","contents"]);function Tu(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=js(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!r5.has(r)}const i5=new Set(["table","td","th"]);function a5(t){return i5.has(bl(t))}const o5=[":popover-open",":modal"];function Rh(t){return o5.some(e=>{try{return t.matches(e)}catch{return!1}})}const l5=["transform","translate","scale","rotate","perspective"],c5=["transform","translate","scale","rotate","perspective","filter"],u5=["paint","layout","strict","content"];function Nx(t){const e=jx(),n=Ns(t)?js(t):t;return l5.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||c5.some(s=>(n.willChange||"").includes(s))||u5.some(s=>(n.contain||"").includes(s))}function d5(t){let e=Ci(t);for(;Ks(e)&&!el(e);){if(Nx(e))return e;if(Rh(e))return null;e=Ci(e)}return null}function jx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const f5=new Set(["html","body","#document"]);function el(t){return f5.has(bl(t))}function js(t){return Vn(t).getComputedStyle(t)}function Fh(t){return Ns(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ci(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gb(t)&&t.host||Js(t);return gb(e)?e.host:e}function dP(t){const e=Ci(t);return el(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ks(e)&&Tu(e)?e:dP(e)}function Qc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=dP(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),a=Vn(r);if(i){const o=Lg(a);return e.concat(a,a.visualViewport||[],Tu(r)?r:[],o&&n?Qc(o):[])}return e.concat(r,Qc(r,[],n))}function Lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fP(t){const e=js(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Ks(t),i=r?t.offsetWidth:n,a=r?t.offsetHeight:s,o=Ef(n)!==i||Ef(s)!==a;return o&&(n=i,s=a),{width:n,height:s,$:o}}function kx(t){return Ns(t)?t:t.contextElement}function ko(t){const e=kx(t);if(!Ks(e))return Hs(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=fP(e);let a=(i?Ef(n.width):n.width)/s,o=(i?Ef(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const h5=Hs(0);function hP(t){const e=Vn(t);return!jx()||!e.visualViewport?h5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function Pa(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=kx(t);let a=Hs(1);e&&(s?Ns(s)&&(a=ko(s)):a=ko(t));const o=m5(i,n,s)?hP(i):Hs(0);let c=(r.left+o.x)/a.x,u=(r.top+o.y)/a.y,d=r.width/a.x,f=r.height/a.y;if(i){const h=Vn(i),m=s&&Ns(s)?Vn(s):s;let y=h,p=Lg(y);for(;p&&s&&m!==y;){const v=ko(p),x=p.getBoundingClientRect(),g=js(p),w=x.left+(p.clientLeft+parseFloat(g.paddingLeft))*v.x,S=x.top+(p.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=S,y=Vn(p),p=Lg(y)}}return Df({width:d,height:f,x:c,y:u})}function Cx(t,e){const n=Fh(t).scrollLeft;return e?e.left+n:Pa(Js(t)).left+n}function mP(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=s.left+e.scrollLeft-(n?0:Cx(t,s)),i=s.top+e.scrollTop;return{x:r,y:i}}function p5(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",a=Js(s),o=e?Rh(e.floating):!1;if(s===a||o&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Hs(1);const d=Hs(0),f=Ks(s);if((f||!f&&!i)&&((bl(s)!=="body"||Tu(a))&&(c=Fh(s)),Ks(s))){const m=Pa(s);u=ko(s),d.x=m.x+s.clientLeft,d.y=m.y+s.clientTop}const h=a&&!f&&!i?mP(a,c,!0):Hs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function g5(t){return Array.from(t.getClientRects())}function y5(t){const e=Js(t),n=Fh(t),s=t.ownerDocument.body,r=Ln(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Ln(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+Cx(t);const o=-n.scrollTop;return js(s).direction==="rtl"&&(a+=Ln(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:o}}function x5(t,e){const n=Vn(t),s=Js(t),r=n.visualViewport;let i=s.clientWidth,a=s.clientHeight,o=0,c=0;if(r){i=r.width,a=r.height;const u=jx();(!u||u&&e==="fixed")&&(o=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:o,y:c}}const v5=new Set(["absolute","fixed"]);function b5(t,e){const n=Pa(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=Ks(t)?ko(t):Hs(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:a,height:o,x:c,y:u}}function yb(t,e,n){let s;if(e==="viewport")s=x5(t,n);else if(e==="document")s=y5(Js(t));else if(Ns(e))s=b5(e,n);else{const r=hP(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Df(s)}function pP(t,e){const n=Ci(t);return n===e||!Ns(n)||el(n)?!1:js(n).position==="fixed"||pP(n,e)}function w5(t,e){const n=e.get(t);if(n)return n;let s=Qc(t,[],!1).filter(o=>Ns(o)&&bl(o)!=="body"),r=null;const i=js(t).position==="fixed";let a=i?Ci(t):t;for(;Ns(a)&&!el(a);){const o=js(a),c=Nx(a);!c&&o.position==="fixed"&&(r=null),(i?!c&&!r:!c&&o.position==="static"&&!!r&&v5.has(r.position)||Tu(a)&&!c&&pP(t,a))?s=s.filter(d=>d!==a):r=o,a=Ci(a)}return e.set(t,s),s}function S5(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?Rh(e)?[]:w5(e,this._c):[].concat(n),s],o=a[0],c=a.reduce((u,d)=>{const f=yb(e,d,r);return u.top=Ln(f.top,u.top),u.right=ki(f.right,u.right),u.bottom=ki(f.bottom,u.bottom),u.left=Ln(f.left,u.left),u},yb(e,o,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _5(t){const{width:e,height:n}=fP(t);return{width:e,height:n}}function N5(t,e,n){const s=Ks(e),r=Js(e),i=n==="fixed",a=Pa(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const c=Hs(0);function u(){c.x=Cx(r)}if(s||!s&&!i)if((bl(e)!=="body"||Tu(r))&&(o=Fh(e)),s){const m=Pa(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?mP(r,o):Hs(0),f=a.left+o.scrollLeft-c.x-d.x,h=a.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function $m(t){return js(t).position==="static"}function xb(t,e){if(!Ks(t)||js(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Js(t)===n&&(n=n.ownerDocument.body),n}function gP(t,e){const n=Vn(t);if(Rh(t))return n;if(!Ks(t)){let r=Ci(t);for(;r&&!el(r);){if(Ns(r)&&!$m(r))return r;r=Ci(r)}return n}let s=xb(t,e);for(;s&&a5(s)&&$m(s);)s=xb(s,e);return s&&el(s)&&$m(s)&&!Nx(s)?n:s||d5(t)||n}const j5=async function(t){const e=this.getOffsetParent||gP,n=this.getDimensions,s=await n(t.floating);return{reference:N5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function k5(t){return js(t).direction==="rtl"}const C5={convertOffsetParentRelativeRectToViewportRelativeRect:p5,getDocumentElement:Js,getClippingRect:S5,getOffsetParent:gP,getElementRects:j5,getClientRects:g5,getDimensions:_5,getScale:ko,isElement:Ns,isRTL:k5};function yP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function T5(t,e){let n=null,s;const r=Js(t);function i(){var o;clearTimeout(s),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||e(),!h||!m)return;const y=ad(f),p=ad(r.clientWidth-(d+h)),v=ad(r.clientHeight-(f+m)),x=ad(d),w={rootMargin:-y+"px "+-p+"px "+-v+"px "+-x+"px",threshold:Ln(0,ki(1,c))||1};let S=!0;function _(j){const k=j[0].intersectionRatio;if(k!==c){if(!S)return a();k?a(!1,k):s=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!yP(u,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(_,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(t)}return a(!0),i}function P5(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=kx(t),d=r||i?[...u?Qc(u):[],...Qc(e)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&o?T5(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let y,p=c?Pa(t):null;c&&v();function v(){const x=Pa(t);p&&!yP(p,x)&&n(),p=x,y=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(g=>{r&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const E5=e5,M5=t5,D5=X4,A5=s5,O5=Z4,vb=G4,I5=n5,R5=(t,e,n)=>{const s=new Map,r={platform:C5,...n},i={...r.platform,_c:s};return K4(t,e,{...r,platform:i})};var F5=typeof document<"u",L5=function(){},qd=F5?b.useLayoutEffect:L5;function Af(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Af(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!Af(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function xP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bb(t,e){const n=xP(t);return Math.round(e*n)/n}function Vm(t){const e=b.useRef(t);return qd(()=>{e.current=t}),e}function z5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(s);Af(h,s)||m(s);const[y,p]=b.useState(null),[v,x]=b.useState(null),g=b.useCallback(C=>{C!==j.current&&(j.current=C,p(C))},[]),w=b.useCallback(C=>{C!==k.current&&(k.current=C,x(C))},[]),S=i||y,_=a||v,j=b.useRef(null),k=b.useRef(null),T=b.useRef(d),E=c!=null,A=Vm(c),z=Vm(r),R=Vm(u),L=b.useCallback(()=>{if(!j.current||!k.current)return;const C={placement:e,strategy:n,middleware:h};z.current&&(C.platform=z.current),R5(j.current,k.current,C).then(F=>{const D={...F,isPositioned:R.current!==!1};I.current&&!Af(T.current,D)&&(T.current=D,Ba.flushSync(()=>{f(D)}))})},[h,e,n,z,R]);qd(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const I=b.useRef(!1);qd(()=>(I.current=!0,()=>{I.current=!1}),[]),qd(()=>{if(S&&(j.current=S),_&&(k.current=_),S&&_){if(A.current)return A.current(S,_,L);L()}},[S,_,L,A,E]);const O=b.useMemo(()=>({reference:j,floating:k,setReference:g,setFloating:w}),[g,w]),V=b.useMemo(()=>({reference:S,floating:_}),[S,_]),B=b.useMemo(()=>{const C={position:n,left:0,top:0};if(!V.floating)return C;const F=bb(V.floating,d.x),D=bb(V.floating,d.y);return o?{...C,transform:"translate("+F+"px, "+D+"px)",...xP(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:D}},[n,o,V.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:L,refs:O,elements:V,floatingStyles:B}),[d,L,O,V,B])}const $5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?vb({element:s.current,padding:r}).fn(n):{}:s?vb({element:s,padding:r}).fn(n):{}}}},V5=(t,e)=>({...E5(t),options:[t,e]}),B5=(t,e)=>({...M5(t),options:[t,e]}),U5=(t,e)=>({...I5(t),options:[t,e]}),W5=(t,e)=>({...D5(t),options:[t,e]}),H5=(t,e)=>({...A5(t),options:[t,e]}),Y5=(t,e)=>({...O5(t),options:[t,e]}),q5=(t,e)=>({...$5(t),options:[t,e]});var Q5="Arrow",vP=b.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return l.jsx(Me.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});vP.displayName=Q5;var K5=vP;function bP(t){const[e,n]=b.useState(void 0);return Jt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Tx="Popper",[wP,Lh]=Ua(Tx),[G5,SP]=wP(Tx),_P=t=>{const{__scopePopper:e,children:n}=t,[s,r]=b.useState(null);return l.jsx(G5,{scope:e,anchor:s,onAnchorChange:r,children:n})};_P.displayName=Tx;var NP="PopperAnchor",jP=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=SP(NP,n),a=b.useRef(null),o=We(e,a);return b.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:l.jsx(Me.div,{...r,ref:o})});jP.displayName=NP;var Px="PopperContent",[X5,Z5]=wP(Px),kP=b.forwardRef((t,e)=>{var H,Z,ze,De,be,Oe;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...p}=t,v=SP(Px,n),[x,g]=b.useState(null),w=We(e,Qt=>g(Qt)),[S,_]=b.useState(null),j=bP(S),k=(j==null?void 0:j.width)??0,T=(j==null?void 0:j.height)??0,E=s+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],R=z.length>0,L={padding:A,boundary:z.filter(ez),altBoundary:R},{refs:I,floatingStyles:O,placement:V,isPositioned:B,middlewareData:C}=z5({strategy:"fixed",placement:E,whileElementsMounted:(...Qt)=>P5(...Qt,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[V5({mainAxis:r+T,alignmentAxis:a}),c&&B5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?U5():void 0,...L}),c&&W5({...L}),H5({...L,apply:({elements:Qt,rects:In,availableWidth:Rr,availableHeight:Bi})=>{const{width:Ui,height:Pv}=In.reference,Wi=Qt.floating.style;Wi.setProperty("--radix-popper-available-width",`${Rr}px`),Wi.setProperty("--radix-popper-available-height",`${Bi}px`),Wi.setProperty("--radix-popper-anchor-width",`${Ui}px`),Wi.setProperty("--radix-popper-anchor-height",`${Pv}px`)}}),S&&q5({element:S,padding:o}),tz({arrowWidth:k,arrowHeight:T}),h&&Y5({strategy:"referenceHidden",...L})]}),[F,D]=PP(V),W=_s(y);Jt(()=>{B&&(W==null||W())},[B,W]);const G=(H=C.arrow)==null?void 0:H.x,ne=(Z=C.arrow)==null?void 0:Z.y,re=((ze=C.arrow)==null?void 0:ze.centerOffset)!==0,[ge,ve]=b.useState();return Jt(()=>{x&&ve(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:B?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(De=C.transformOrigin)==null?void 0:De.x,(be=C.transformOrigin)==null?void 0:be.y].join(" "),...((Oe=C.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(X5,{scope:n,placedSide:F,onArrowChange:_,arrowX:G,arrowY:ne,shouldHideArrow:re,children:l.jsx(Me.div,{"data-side":F,"data-align":D,...p,ref:w,style:{...p.style,animation:B?void 0:"none"}})})})});kP.displayName=Px;var CP="PopperArrow",J5={top:"bottom",right:"left",bottom:"top",left:"right"},TP=b.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=Z5(CP,s),a=J5[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(K5,{...r,ref:n,style:{...r.style,display:"block"}})})});TP.displayName=CP;function ez(t){return t!==null}var tz=t=>({name:"transformOrigin",options:t,fn(e){var v,x,g;const{placement:n,rects:s,middlewareData:r}=e,a=((v=r.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=PP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=r.arrow)==null?void 0:x.x)??0)+o/2,m=(((g=r.arrow)==null?void 0:g.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=a?f:`${h}px`,p=`${-c}px`):u==="top"?(y=a?f:`${h}px`,p=`${s.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=a?f:`${m}px`):u==="left"&&(y=`${s.floating.width+c}px`,p=a?f:`${m}px`),{data:{x:y,y:p}}}});function PP(t){const[e,n="center"]=t.split("-");return[e,n]}var nz=_P,EP=jP,MP=kP,DP=TP,[zh,wQ]=Ua("Tooltip",[Lh]),Ex=Lh(),AP="TooltipProvider",sz=700,wb="tooltip.open",[rz,OP]=zh(AP),IP=t=>{const{__scopeTooltip:e,delayDuration:n=sz,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,a=b.useRef(!0),o=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(rz,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(u=>{o.current=u},[]),disableHoverableContent:r,children:i})};IP.displayName=AP;var RP="Tooltip",[SQ,$h]=zh(RP),zg="TooltipTrigger",iz=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=$h(zg,n),i=OP(zg,n),a=Ex(n),o=b.useRef(null),c=We(e,o,r.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(EP,{asChild:!0,...a,children:l.jsx(Me.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:xe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:xe(t.onBlur,r.onClose),onClick:xe(t.onClick,r.onClose)})})});iz.displayName=zg;var az="TooltipPortal",[_Q,oz]=zh(az,{forceMount:void 0}),tl="TooltipContent",FP=b.forwardRef((t,e)=>{const n=oz(tl,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,a=$h(tl,t.__scopeTooltip);return l.jsx(yl,{present:s||a.open,children:a.disableHoverableContent?l.jsx(LP,{side:r,...i,ref:e}):l.jsx(lz,{side:r,...i,ref:e})})}),lz=b.forwardRef((t,e)=>{const n=$h(tl,t.__scopeTooltip),s=OP(tl,t.__scopeTooltip),r=b.useRef(null),i=We(e,r),[a,o]=b.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,h=b.useCallback(()=>{o(null),f(!1)},[f]),m=b.useCallback((y,p)=>{const v=y.currentTarget,x={x:y.clientX,y:y.clientY},g=hz(x,v.getBoundingClientRect()),w=mz(x,g),S=pz(p.getBoundingClientRect()),_=yz([...w,...S]);o(_),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&d){const y=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),b.useEffect(()=>{if(a){const y=p=>{const v=p.target,x={x:p.clientX,y:p.clientY},g=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!gz(x,a);g?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,a,u,h]),l.jsx(LP,{...t,ref:i})}),[cz,uz]=zh(RP,{isInside:!1}),dz=rL("TooltipContent"),LP=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=t,c=$h(tl,n),u=Ex(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(wb,d),()=>document.removeEventListener(wb,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(ku,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(MP,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(dz,{children:s}),l.jsx(cz,{scope:n,isInside:!0,children:l.jsx(kL,{id:c.contentId,role:"tooltip",children:r||s})})]})})});FP.displayName=tl;var zP="TooltipArrow",fz=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Ex(n);return uz(zP,n).isInside?null:l.jsx(DP,{...r,...s,ref:e})});fz.displayName=zP;function hz(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function mz(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function pz(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function gz(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],c=e[a],u=o.x,d=o.y,f=c.x,h=c.y;d>s!=h>s&&n<(f-u)*(s-d)/(h-d)+u&&(r=!r)}return r}function yz(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),xz(e)}function xz(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var vz=IP,$P=FP;const bz=vz,wz=b.forwardRef(({className:t,sideOffset:e=4,...n},s)=>l.jsx($P,{ref:s,sideOffset:e,className:Ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));wz.displayName=$P.displayName;function Sz(){const[t]=nt();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const _z=Oh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=b.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?bT:"button";return l.jsx(a,{className:Ie(_z({variant:e,size:n,className:t})),ref:i,...r})});Y.displayName="Button";const oe=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));oe.displayName="Card";const wt=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 pb-2 pt-4 p-6",t),...e}));wt.displayName="CardHeader";const St=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));St.displayName="CardTitle";const Nz=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));Nz.displayName="CardDescription";const le=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("p-6 pb-2 pt-0",t),...e}));le.displayName="CardContent";const jz=b.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ie("flex items-center p-6 pb-2 pt-0",t),...e}));jz.displayName="CardFooter";function kz(){const[t,e]=b.useState(!1),[n,s]=b.useState(null),[r,i]=b.useState(!1),[a,o]=b.useState(!1);b.useEffect(()=>{(()=>{const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");o(m)})();const f=m=>{const y=m;m.preventDefault(),s(y),a||setTimeout(()=>{e(!0)},3e3)},h=()=>{e(!1),s(null),o(!0)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[a]);const c=async()=>{if(n){i(!0);try{await n.prompt();const{outcome:d}=await n.userChoice;console.log(d==="accepted"?"✅ PWA install accepted":"❌ PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{i(!1),e(!1),s(null)}}},u=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return!t||!n||a||sessionStorage.getItem("pwa-install-dismissed")?null:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 transition-opacity duration-300",onClick:u}),l.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 flex justify-center animate-in slide-in-from-top-4 duration-500",children:l.jsxs(oe,{className:"w-full max-w-md bg-white shadow-2xl border-0 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-purple-600 p-4",children:l.jsxs("div",{className:"flex items-center justify-between text-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:l.jsx(Og,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Install Journey"}),l.jsx("p",{className:"text-white/90 text-sm",children:"Get the full app experience"})]})]}),l.jsx(Y,{variant:"ghost",size:"sm",onClick:u,className:"text-white hover:bg-white/20 h-8 w-8 p-0",children:l.jsx(vx,{className:"w-4 h-4"})})]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(GL,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Native Experience"}),l.jsx("div",{className:"text-gray-500",children:"No browser bars"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(XL,{className:"w-4 h-4 text-green-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Offline Access"}),l.jsx("div",{className:"text-gray-500",children:"Works anywhere"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-rocket text-purple-600 text-sm"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Faster Loading"}),l.jsx("div",{className:"text-gray-500",children:"Instant startup"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:l.jsx("i",{className:"fas fa-home text-orange-600 text-sm"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Home Screen"}),l.jsx("div",{className:"text-gray-500",children:"Easy access"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["📱 ",l.jsx("strong",{children:"Installation takes seconds:"})]}),l.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[l.jsx("li",{children:'1. Click "Install App" below'}),l.jsx("li",{children:"2. Confirm installation"}),l.jsx("li",{children:"3. Find Journey on your home screen"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx(Y,{onClick:c,disabled:r,className:"flex-1 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg",size:"lg",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Installing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Og,{className:"w-4 h-4 mr-2"}),"Install App"]})}),l.jsx(Y,{variant:"outline",onClick:u,className:"px-6",size:"lg",children:"Later"})]}),l.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Free • No app store required • Uninstall anytime"})]})]})})]})}function Cz(){const[t,e]=b.useState(!1),[n,s]=b.useState(!1);return b.useEffect(()=>{(()=>{const o=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");s(o)})();const i=o=>{o.preventDefault(),n||e(!0)},a=()=>{e(!1),s(!0)};return window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",a),()=>{window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",a)}},[n]),{canInstall:t,isInstalled:n}}function Sn(){const{data:t,isLoading:e}=Rt({queryKey:["/api/user"],queryFn:xT({on401:"returnNull"}),retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function Tz(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(oe,{className:"w-full max-w-md mx-4",children:l.jsxs(le,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(KL,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Pu=t=>t.type==="checkbox",ra=t=>t instanceof Date,mn=t=>t==null;const VP=t=>typeof t=="object";var Mt=t=>!mn(t)&&!Array.isArray(t)&&VP(t)&&!ra(t),BP=t=>Mt(t)&&t.target?Pu(t.target)?t.target.checked:t.target.value:t,Pz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,UP=(t,e)=>t.has(Pz(e)),Ez=t=>{const e=t.constructor&&t.constructor.prototype;return Mt(e)&&e.hasOwnProperty("isPrototypeOf")},Mx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ft(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Mx&&(t instanceof Blob||s))&&(n||Mt(t)))if(e=n?[]:{},!n&&!Ez(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Ft(t[r]));else return t;return e}var Vh=t=>/^\w*$/.test(t),kt=t=>t===void 0,Dx=t=>Array.isArray(t)?t.filter(Boolean):[],Ax=t=>Dx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ee=(t,e,n)=>{if(!e||!Mt(t))return n;const s=(Vh(e)?[e]:Ax(e)).reduce((r,i)=>mn(r)?r:r[i],t);return kt(s)||s===t?kt(t[e])?n:t[e]:s},Fn=t=>typeof t=="boolean",Ke=(t,e,n)=>{let s=-1;const r=Vh(e)?[e]:Ax(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let c=n;if(s!==a){const u=t[o];c=Mt(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const Of={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},nr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ox=ye.createContext(null);Ox.displayName="HookFormContext";const Bh=()=>ye.useContext(Ox),Mz=t=>{const{children:e,...n}=t;return ye.createElement(Ox.Provider,{value:n},e)};var WP=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==gs.all&&(e._proxyFormState[a]=!s||gs.all),n&&(n[a]=!0),t[a]}});return r};const Ix=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function Dz(t){const e=Bh(),{control:n=e.control,disabled:s,name:r,exact:i}=t||{},[a,o]=ye.useState(n._formState),c=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ix(()=>n._subscribe({name:r,formState:c.current,exact:i,callback:u=>{!s&&o({...n._formState,...u})}}),[r,s,i]),ye.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ye.useMemo(()=>WP(a,n,c.current,!1),[a,n])}var Bs=t=>typeof t=="string",HP=(t,e,n,s,r)=>Bs(t)?(s&&e.watch.add(t),ee(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),ee(n,i))):(s&&(e.watchAll=!0),n),$g=t=>mn(t)||!VP(t);function mr(t,e,n=new WeakSet){if($g(t)||$g(e))return t===e;if(ra(t)&&ra(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ra(a)&&ra(o)||Mt(a)&&Mt(o)||Array.isArray(a)&&Array.isArray(o)?!mr(a,o,n):a!==o)return!1}}return!0}function Az(t){const e=Bh(),{control:n=e.control,name:s,defaultValue:r,disabled:i,exact:a,compute:o}=t||{},c=ye.useRef(r),u=ye.useRef(o),d=ye.useRef(void 0);u.current=o;const f=ye.useMemo(()=>n._getWatch(s,c.current),[n,s]),[h,m]=ye.useState(u.current?u.current(f):f);return Ix(()=>n._subscribe({name:s,formState:{values:!0},exact:a,callback:y=>{if(!i){const p=HP(s,n._names,y.values||n._formValues,!1,c.current);if(u.current){const v=u.current(p);mr(v,d.current)||(m(v),d.current=v)}else m(p)}}}),[n,i,s,a]),ye.useEffect(()=>n._removeUnmounted()),h}function Oz(t){const e=Bh(),{name:n,disabled:s,control:r=e.control,shouldUnregister:i,defaultValue:a}=t,o=UP(r._names.array,n),c=ye.useMemo(()=>ee(r._formValues,n,ee(r._defaultValues,n,a)),[r,n,a]),u=Az({control:r,name:n,defaultValue:c,exact:!0}),d=Dz({control:r,name:n,exact:!0}),f=ye.useRef(t),h=ye.useRef(r.register(n,{...t.rules,value:u,...Fn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const m=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ee(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ee(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ee(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ee(d.validatingFields,n)},error:{enumerable:!0,get:()=>ee(d.errors,n)}}),[d,n]),y=ye.useCallback(g=>h.current.onChange({target:{value:BP(g),name:n},type:Of.CHANGE}),[n]),p=ye.useCallback(()=>h.current.onBlur({target:{value:ee(r._formValues,n),name:n},type:Of.BLUR}),[n,r._formValues]),v=ye.useCallback(g=>{const w=ee(r._fields,n);w&&g&&(w._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:S=>g.setCustomValidity(S),reportValidity:()=>g.reportValidity()})},[r._fields,n]),x=ye.useMemo(()=>({name:n,value:u,...Fn(s)||d.disabled?{disabled:d.disabled||s}:{},onChange:y,onBlur:p,ref:v}),[n,s,d.disabled,y,p,v,u]);return ye.useEffect(()=>{const g=r._options.shouldUnregister||i;r.register(n,{...f.current.rules,...Fn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(S,_)=>{const j=ee(r._fields,S);j&&j._f&&(j._f.mount=_)};if(w(n,!0),g){const S=Ft(ee(r._options.defaultValues,n));Ke(r._defaultValues,n,S),kt(ee(r._formValues,n))&&Ke(r._formValues,n,S)}return!o&&r.register(n),()=>{(o?g&&!r._state.action:g)?r.unregister(n):w(n,!1)}},[n,r,o,i]),ye.useEffect(()=>{r._setDisabledField({disabled:s,name:n})},[s,n,r]),ye.useMemo(()=>({field:x,formState:d,fieldState:m}),[x,d,m])}const Iz=t=>t.render(Oz(t));var YP=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},vc=t=>Array.isArray(t)?t:[t],Sb=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},Cn=t=>Mt(t)&&!Object.keys(t).length,Rx=t=>t.type==="file",ys=t=>typeof t=="function",If=t=>{if(!Mx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},qP=t=>t.type==="select-multiple",Fx=t=>t.type==="radio",Rz=t=>Fx(t)||Pu(t),Bm=t=>If(t)&&t.isConnected;function Fz(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=kt(t)?s++:t[e[s++]];return t}function Lz(t){for(const e in t)if(t.hasOwnProperty(e)&&!kt(t[e]))return!1;return!0}function At(t,e){const n=Array.isArray(e)?e:Vh(e)?[e]:Ax(e),s=n.length===1?t:Fz(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(Mt(s)&&Cn(s)||Array.isArray(s)&&Lz(s))&&At(t,n.slice(0,-1)),t}var QP=t=>{for(const e in t)if(ys(t[e]))return!0;return!1};function Rf(t,e={}){const n=Array.isArray(t);if(Mt(t)||n)for(const s in t)Array.isArray(t[s])||Mt(t[s])&&!QP(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Rf(t[s],e[s])):mn(t[s])||(e[s]=!0);return e}function KP(t,e,n){const s=Array.isArray(t);if(Mt(t)||s)for(const r in t)Array.isArray(t[r])||Mt(t[r])&&!QP(t[r])?kt(e)||$g(n[r])?n[r]=Array.isArray(t[r])?Rf(t[r],[]):{...Rf(t[r])}:KP(t[r],mn(e)?{}:e[r],n[r]):n[r]=!mr(t[r],e[r]);return n}var Ll=(t,e)=>KP(t,e,Rf(e));const _b={value:!1,isValid:!1},Nb={value:!0,isValid:!0};var GP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!kt(t[0].attributes.value)?kt(t[0].value)||t[0].value===""?Nb:{value:t[0].value,isValid:!0}:Nb:_b}return _b},XP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>kt(t)?t:e?t===""?NaN:t&&+t:n&&Bs(t)?new Date(t):s?s(t):t;const jb={isValid:!1,value:null};var ZP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,jb):jb;function kb(t){const e=t.ref;return Rx(e)?e.files:Fx(e)?ZP(t.refs).value:qP(e)?[...e.selectedOptions].map(({value:n})=>n):Pu(e)?GP(t.refs).value:XP(kt(e.value)?t.ref.value:e.value,t)}var zz=(t,e,n,s)=>{const r={};for(const i of t){const a=ee(e,i);a&&Ke(r,i,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Ff=t=>t instanceof RegExp,zl=t=>kt(t)?t:Ff(t)?t.source:Mt(t)?Ff(t.value)?t.value.source:t.value:t,Cb=t=>({isOnSubmit:!t||t===gs.onSubmit,isOnBlur:t===gs.onBlur,isOnChange:t===gs.onChange,isOnAll:t===gs.all,isOnTouch:t===gs.onTouched});const Tb="AsyncFunction";var $z=t=>!!t&&!!t.validate&&!!(ys(t.validate)&&t.validate.constructor.name===Tb||Mt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Tb)),Vz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Pb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const bc=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=ee(t,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(bc(o,e))break}else if(Mt(o)&&bc(o,e))break}}};function Eb(t,e,n){const s=ee(t,n);if(s||Vh(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),a=ee(e,i),o=ee(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:n}}var Bz=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return Cn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||gs.all))},Uz=(t,e,n)=>!t||!e||t===e||vc(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),Wz=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,Hz=(t,e)=>!Dx(ee(t,e)).length&&At(t,e),Yz=(t,e,n)=>{const s=vc(ee(t,n));return Ke(s,"root",e[n]),Ke(t,n,s),t},Qd=t=>Bs(t);function Mb(t,e,n="validate"){if(Qd(t)||Array.isArray(t)&&t.every(Qd)||Fn(t)&&!t)return{type:n,message:Qd(t)?t:"",ref:e}}var Qa=t=>Mt(t)&&!Ff(t)?t:{value:t,message:""},Db=async(t,e,n,s,r,i)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:p,valueAsNumber:v,mount:x}=t._f,g=ee(n,p);if(!x||e.has(p))return{};const w=o?o[0]:a,S=R=>{r&&w.reportValidity&&(w.setCustomValidity(Fn(R)?"":R||""),w.reportValidity())},_={},j=Fx(a),k=Pu(a),T=j||k,E=(v||Rx(a))&&kt(a.value)&&kt(g)||If(a)&&a.value===""||g===""||Array.isArray(g)&&!g.length,A=YP.bind(null,p,s,_),z=(R,L,I,O=nr.maxLength,V=nr.minLength)=>{const B=R?L:I;_[p]={type:R?O:V,message:B,ref:a,...A(R?O:V,B)}};if(i?!Array.isArray(g)||!g.length:c&&(!T&&(E||mn(g))||Fn(g)&&!g||k&&!GP(o).isValid||j&&!ZP(o).isValid)){const{value:R,message:L}=Qd(c)?{value:!!c,message:c}:Qa(c);if(R&&(_[p]={type:nr.required,message:L,ref:w,...A(nr.required,L)},!s))return S(L),_}if(!E&&(!mn(f)||!mn(h))){let R,L;const I=Qa(h),O=Qa(f);if(!mn(g)&&!isNaN(g)){const V=a.valueAsNumber||g&&+g;mn(I.value)||(R=V>I.value),mn(O.value)||(L=V<O.value)}else{const V=a.valueAsDate||new Date(g),B=D=>new Date(new Date().toDateString()+" "+D),C=a.type=="time",F=a.type=="week";Bs(I.value)&&g&&(R=C?B(g)>B(I.value):F?g>I.value:V>new Date(I.value)),Bs(O.value)&&g&&(L=C?B(g)<B(O.value):F?g<O.value:V<new Date(O.value))}if((R||L)&&(z(!!R,I.message,O.message,nr.max,nr.min),!s))return S(_[p].message),_}if((u||d)&&!E&&(Bs(g)||i&&Array.isArray(g))){const R=Qa(u),L=Qa(d),I=!mn(R.value)&&g.length>+R.value,O=!mn(L.value)&&g.length<+L.value;if((I||O)&&(z(I,R.message,L.message),!s))return S(_[p].message),_}if(m&&!E&&Bs(g)){const{value:R,message:L}=Qa(m);if(Ff(R)&&!g.match(R)&&(_[p]={type:nr.pattern,message:L,ref:a,...A(nr.pattern,L)},!s))return S(L),_}if(y){if(ys(y)){const R=await y(g,n),L=Mb(R,w);if(L&&(_[p]={...L,...A(nr.validate,L.message)},!s))return S(L.message),_}else if(Mt(y)){let R={};for(const L in y){if(!Cn(R)&&!s)break;const I=Mb(await y[L](g,n),w,L);I&&(R={...I,...A(L,I.message)},S(I.message),s&&(_[p]=R))}if(!Cn(R)&&(_[p]={ref:w,...R},!s))return _}}return S(!0),_};const qz={mode:gs.onSubmit,reValidateMode:gs.onChange,shouldFocusError:!0};function Qz(t={}){let e={...qz,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ys(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=Mt(e.defaultValues)||Mt(e.values)?Ft(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ft(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Sb(),state:Sb()},m=e.criteriaMode===gs.all,y=M=>$=>{clearTimeout(u),u=setTimeout(M,$)},p=async M=>{if(!e.disabled&&(d.isValid||f.isValid||M)){const $=e.resolver?Cn((await k()).errors):await E(s,!0);$!==n.isValid&&h.state.next({isValid:$})}},v=(M,$)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(o.mount)).forEach(U=>{U&&($?Ke(n.validatingFields,U,$):At(n.validatingFields,U))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Cn(n.validatingFields)}))},x=(M,$=[],U,ie,J=!0,X=!0)=>{if(ie&&U&&!e.disabled){if(a.action=!0,X&&Array.isArray(ee(s,M))){const fe=U(ee(s,M),ie.argA,ie.argB);J&&Ke(s,M,fe)}if(X&&Array.isArray(ee(n.errors,M))){const fe=U(ee(n.errors,M),ie.argA,ie.argB);J&&Ke(n.errors,M,fe),Hz(n.errors,M)}if((d.touchedFields||f.touchedFields)&&X&&Array.isArray(ee(n.touchedFields,M))){const fe=U(ee(n.touchedFields,M),ie.argA,ie.argB);J&&Ke(n.touchedFields,M,fe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Ll(r,i)),h.state.next({name:M,isDirty:z(M,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ke(i,M,$)},g=(M,$)=>{Ke(n.errors,M,$),h.state.next({errors:n.errors})},w=M=>{n.errors=M,h.state.next({errors:n.errors,isValid:!1})},S=(M,$,U,ie)=>{const J=ee(s,M);if(J){const X=ee(i,M,kt(U)?ee(r,M):U);kt(X)||ie&&ie.defaultChecked||$?Ke(i,M,$?X:kb(J._f)):I(M,X),a.mount&&p()}},_=(M,$,U,ie,J)=>{let X=!1,fe=!1;const Qe={name:M};if(!e.disabled){if(!U||ie){(d.isDirty||f.isDirty)&&(fe=n.isDirty,n.isDirty=Qe.isDirty=z(),X=fe!==Qe.isDirty);const st=mr(ee(r,M),$);fe=!!ee(n.dirtyFields,M),st?At(n.dirtyFields,M):Ke(n.dirtyFields,M,!0),Qe.dirtyFields=n.dirtyFields,X=X||(d.dirtyFields||f.dirtyFields)&&fe!==!st}if(U){const st=ee(n.touchedFields,M);st||(Ke(n.touchedFields,M,U),Qe.touchedFields=n.touchedFields,X=X||(d.touchedFields||f.touchedFields)&&st!==U)}X&&J&&h.state.next(Qe)}return X?Qe:{}},j=(M,$,U,ie)=>{const J=ee(n.errors,M),X=(d.isValid||f.isValid)&&Fn($)&&n.isValid!==$;if(e.delayError&&U?(c=y(()=>g(M,U)),c(e.delayError)):(clearTimeout(u),c=null,U?Ke(n.errors,M,U):At(n.errors,M)),(U?!mr(J,U):J)||!Cn(ie)||X){const fe={...ie,...X&&Fn($)?{isValid:$}:{},errors:n.errors,name:M};n={...n,...fe},h.state.next(fe)}},k=async M=>{v(M,!0);const $=await e.resolver(i,e.context,zz(M||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return v(M),$},T=async M=>{const{errors:$}=await k(M);if(M)for(const U of M){const ie=ee($,U);ie?Ke(n.errors,U,ie):At(n.errors,U)}else n.errors=$;return $},E=async(M,$,U={valid:!0})=>{for(const ie in M){const J=M[ie];if(J){const{_f:X,...fe}=J;if(X){const Qe=o.array.has(X.name),st=J._f&&$z(J._f);st&&d.validatingFields&&v([ie],!0);const qn=await Db(J,o.disabled,i,m,e.shouldUseNativeValidation&&!$,Qe);if(st&&d.validatingFields&&v([ie]),qn[X.name]&&(U.valid=!1,$))break;!$&&(ee(qn,X.name)?Qe?Yz(n.errors,qn,X.name):Ke(n.errors,X.name,qn[X.name]):At(n.errors,X.name))}!Cn(fe)&&await E(fe,$,U)}}return U.valid},A=()=>{for(const M of o.unMount){const $=ee(s,M);$&&($._f.refs?$._f.refs.every(U=>!Bm(U)):!Bm($._f.ref))&&H(M)}o.unMount=new Set},z=(M,$)=>!e.disabled&&(M&&$&&Ke(i,M,$),!mr(D(),r)),R=(M,$,U)=>HP(M,o,{...a.mount?i:kt($)?r:Bs(M)?{[M]:$}:$},U,$),L=M=>Dx(ee(a.mount?i:r,M,e.shouldUnregister?ee(r,M,[]):[])),I=(M,$,U={})=>{const ie=ee(s,M);let J=$;if(ie){const X=ie._f;X&&(!X.disabled&&Ke(i,M,XP($,X)),J=If(X.ref)&&mn($)?"":$,qP(X.ref)?[...X.ref.options].forEach(fe=>fe.selected=J.includes(fe.value)):X.refs?Pu(X.ref)?X.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(J)?fe.checked=!!J.find(Qe=>Qe===fe.value):fe.checked=J===fe.value||!!J)}):X.refs.forEach(fe=>fe.checked=fe.value===J):Rx(X.ref)?X.ref.value="":(X.ref.value=J,X.ref.type||h.state.next({name:M,values:Ft(i)})))}(U.shouldDirty||U.shouldTouch)&&_(M,J,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&F(M)},O=(M,$,U)=>{for(const ie in $){if(!$.hasOwnProperty(ie))return;const J=$[ie],X=M+"."+ie,fe=ee(s,X);(o.array.has(M)||Mt(J)||fe&&!fe._f)&&!ra(J)?O(X,J,U):I(X,J,U)}},V=(M,$,U={})=>{const ie=ee(s,M),J=o.array.has(M),X=Ft($);Ke(i,M,X),J?(h.array.next({name:M,values:Ft(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:M,dirtyFields:Ll(r,i),isDirty:z(M,X)})):ie&&!ie._f&&!mn(X)?O(M,X,U):I(M,X,U),Pb(M,o)&&h.state.next({...n,name:M}),h.state.next({name:a.mount?M:void 0,values:Ft(i)})},B=async M=>{a.mount=!0;const $=M.target;let U=$.name,ie=!0;const J=ee(s,U),X=st=>{ie=Number.isNaN(st)||ra(st)&&isNaN(st.getTime())||mr(st,ee(i,U,st))},fe=Cb(e.mode),Qe=Cb(e.reValidateMode);if(J){let st,qn;const Lu=$.type?kb(J._f):BP(M),Fr=M.type===Of.BLUR||M.type===Of.FOCUS_OUT,cO=!Vz(J._f)&&!e.resolver&&!ee(n.errors,U)&&!J._f.deps||Wz(Fr,ee(n.touchedFields,U),n.isSubmitted,Qe,fe),im=Pb(U,o,Fr);Ke(i,U,Lu),Fr?(J._f.onBlur&&J._f.onBlur(M),c&&c(0)):J._f.onChange&&J._f.onChange(M);const am=_(U,Lu,Fr),uO=!Cn(am)||im;if(!Fr&&h.state.next({name:U,type:M.type,values:Ft(i)}),cO)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Fr&&p():Fr||p()),uO&&h.state.next({name:U,...im?{}:am});if(!Fr&&im&&h.state.next({...n}),e.resolver){const{errors:Ev}=await k([U]);if(X(Lu),ie){const dO=Eb(n.errors,s,U),Mv=Eb(Ev,s,dO.name||U);st=Mv.error,U=Mv.name,qn=Cn(Ev)}}else v([U],!0),st=(await Db(J,o.disabled,i,m,e.shouldUseNativeValidation))[U],v([U]),X(Lu),ie&&(st?qn=!1:(d.isValid||f.isValid)&&(qn=await E(s,!0)));ie&&(J._f.deps&&F(J._f.deps),j(U,qn,st,am))}},C=(M,$)=>{if(ee(n.errors,$)&&M.focus)return M.focus(),1},F=async(M,$={})=>{let U,ie;const J=vc(M);if(e.resolver){const X=await T(kt(M)?M:J);U=Cn(X),ie=M?!J.some(fe=>ee(X,fe)):U}else M?(ie=(await Promise.all(J.map(async X=>{const fe=ee(s,X);return await E(fe&&fe._f?{[X]:fe}:fe)}))).every(Boolean),!(!ie&&!n.isValid)&&p()):ie=U=await E(s);return h.state.next({...!Bs(M)||(d.isValid||f.isValid)&&U!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:U}:{},errors:n.errors}),$.shouldFocus&&!ie&&bc(s,C,M?J:o.mount),ie},D=M=>{const $={...a.mount?i:r};return kt(M)?$:Bs(M)?ee($,M):M.map(U=>ee($,U))},W=(M,$)=>({invalid:!!ee(($||n).errors,M),isDirty:!!ee(($||n).dirtyFields,M),error:ee(($||n).errors,M),isValidating:!!ee(n.validatingFields,M),isTouched:!!ee(($||n).touchedFields,M)}),G=M=>{M&&vc(M).forEach($=>At(n.errors,$)),h.state.next({errors:M?n.errors:{}})},ne=(M,$,U)=>{const ie=(ee(s,M,{_f:{}})._f||{}).ref,J=ee(n.errors,M)||{},{ref:X,message:fe,type:Qe,...st}=J;Ke(n.errors,M,{...st,...$,ref:ie}),h.state.next({name:M,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&ie&&ie.focus&&ie.focus()},re=(M,$)=>ys(M)?h.state.subscribe({next:U=>"values"in U&&M(R(void 0,$),U)}):R(M,$,!0),ge=M=>h.state.subscribe({next:$=>{Uz(M.name,$.name,M.exact)&&Bz($,M.formState||d,Ui,M.reRenderRoot)&&M.callback({values:{...i},...n,...$,defaultValues:r})}}).unsubscribe,ve=M=>(a.mount=!0,f={...f,...M.formState},ge({...M,formState:f})),H=(M,$={})=>{for(const U of M?vc(M):o.mount)o.mount.delete(U),o.array.delete(U),$.keepValue||(At(s,U),At(i,U)),!$.keepError&&At(n.errors,U),!$.keepDirty&&At(n.dirtyFields,U),!$.keepTouched&&At(n.touchedFields,U),!$.keepIsValidating&&At(n.validatingFields,U),!e.shouldUnregister&&!$.keepDefaultValue&&At(r,U);h.state.next({values:Ft(i)}),h.state.next({...n,...$.keepDirty?{isDirty:z()}:{}}),!$.keepIsValid&&p()},Z=({disabled:M,name:$})=>{(Fn(M)&&a.mount||M||o.disabled.has($))&&(M?o.disabled.add($):o.disabled.delete($))},ze=(M,$={})=>{let U=ee(s,M);const ie=Fn($.disabled)||Fn(e.disabled);return Ke(s,M,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:M}},name:M,mount:!0,...$}}),o.mount.add(M),U?Z({disabled:Fn($.disabled)?$.disabled:e.disabled,name:M}):S(M,!0,$.value),{...ie?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:zl($.min),max:zl($.max),minLength:zl($.minLength),maxLength:zl($.maxLength),pattern:zl($.pattern)}:{},name:M,onChange:B,onBlur:B,ref:J=>{if(J){ze(M,$),U=ee(s,M);const X=kt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,fe=Rz(X),Qe=U._f.refs||[];if(fe?Qe.find(st=>st===X):X===U._f.ref)return;Ke(s,M,{_f:{...U._f,...fe?{refs:[...Qe.filter(Bm),X,...Array.isArray(ee(r,M))?[{}]:[]],ref:{type:X.type,name:M}}:{ref:X}}}),S(M,!1,void 0,X)}else U=ee(s,M,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(UP(o.array,M)&&a.action)&&o.unMount.add(M)}}},De=()=>e.shouldFocusError&&bc(s,C,o.mount),be=M=>{Fn(M)&&(h.state.next({disabled:M}),bc(s,($,U)=>{const ie=ee(s,U);ie&&($.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(J=>{J.disabled=ie._f.disabled||M}))},0,!1))},Oe=(M,$)=>async U=>{let ie;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let J=Ft(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:fe}=await k();n.errors=X,J=Ft(fe)}else await E(s);if(o.disabled.size)for(const X of o.disabled)At(J,X);if(At(n.errors,"root"),Cn(n.errors)){h.state.next({errors:{}});try{await M(J,U)}catch(X){ie=X}}else $&&await $({...n.errors},U),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Qt=(M,$={})=>{ee(s,M)&&(kt($.defaultValue)?V(M,Ft(ee(r,M))):(V(M,$.defaultValue),Ke(r,M,Ft($.defaultValue))),$.keepTouched||At(n.touchedFields,M),$.keepDirty||(At(n.dirtyFields,M),n.isDirty=$.defaultValue?z(M,Ft(ee(r,M))):z()),$.keepError||(At(n.errors,M),d.isValid&&p()),h.state.next({...n}))},In=(M,$={})=>{const U=M?Ft(M):r,ie=Ft(U),J=Cn(M),X=J?r:ie;if($.keepDefaultValues||(r=U),!$.keepValues){if($.keepDirtyValues){const fe=new Set([...o.mount,...Object.keys(Ll(r,i))]);for(const Qe of Array.from(fe))ee(n.dirtyFields,Qe)?Ke(X,Qe,ee(i,Qe)):V(Qe,ee(X,Qe))}else{if(Mx&&kt(M))for(const fe of o.mount){const Qe=ee(s,fe);if(Qe&&Qe._f){const st=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(If(st)){const qn=st.closest("form");if(qn){qn.reset();break}}}}if($.keepFieldsRef)for(const fe of o.mount)V(fe,ee(X,fe));else s={}}i=e.shouldUnregister?$.keepDefaultValues?Ft(r):{}:Ft(X),h.array.next({values:{...X}}),h.state.next({values:{...X}})}o={mount:$.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:J?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!mr(M,r)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:$.keepDirtyValues?$.keepDefaultValues&&i?Ll(r,i):n.dirtyFields:$.keepDefaultValues&&M?Ll(r,M):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Rr=(M,$)=>In(ys(M)?M(i):M,$),Bi=(M,$={})=>{const U=ee(s,M),ie=U&&U._f;if(ie){const J=ie.refs?ie.refs[0]:ie.ref;J.focus&&(J.focus(),$.shouldSelect&&ys(J.select)&&J.select())}},Ui=M=>{n={...n,...M}},Wi={control:{register:ze,unregister:H,getFieldState:W,handleSubmit:Oe,setError:ne,_subscribe:ge,_runSchema:k,_focusError:De,_getWatch:R,_getDirty:z,_setValid:p,_setFieldArray:x,_setDisabledField:Z,_setErrors:w,_getFieldArray:L,_reset:In,_resetDefaultValues:()=>ys(e.defaultValues)&&e.defaultValues().then(M=>{Rr(M,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:be,_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return r},get _names(){return o},set _names(M){o=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:ve,trigger:F,register:ze,handleSubmit:Oe,watch:re,setValue:V,getValues:D,reset:Rr,resetField:Qt,clearErrors:G,unregister:H,setError:ne,setFocus:Bi,getFieldState:W};return{...Wi,formControl:Wi}}function wl(t={}){const e=ye.useRef(void 0),n=ye.useRef(void 0),[s,r]=ye.useState({isDirty:!1,isValidating:!1,isLoading:ys(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ys(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!ys(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Qz(t);e.current={...o,formState:s}}const i=e.current.control;return i._options=t,Ix(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ye.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ye.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ye.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ye.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),ye.useEffect(()=>{t.values&&!mr(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),ye.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=WP(s,i),e.current}const Ab=(t,e,n)=>{if(t&&"reportValidity"in t){const s=ee(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},JP=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?Ab(s.ref,n,t):s.refs&&s.refs.forEach(r=>Ab(r,n,t))}},Kz=(t,e)=>{e.shouldUseNativeValidation&&JP(t,e);const n={};for(const s in t){const r=ee(e.fields,s),i=Object.assign(t[s]||{},{ref:r&&r.ref});if(Gz(e.names||Object.keys(t),s)){const a=Object.assign({},ee(n,s));Ke(a,"root",i),Ke(n,s,a)}else Ke(n,s,i)}return n},Gz=(t,e)=>t.some(n=>n.startsWith(e+"."));var Xz=function(t,e){for(var n={};t.length;){var s=t[0],r=s.code,i=s.message,a=s.path.join(".");if(!n[a])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[s.code];n[a]=YP(a,e,n,r,u?[].concat(u,s.message):s.message)}t.shift()}return n},Sl=function(t,e,n){return n===void 0&&(n={}),function(s,r,i){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(u){return i.shouldUseNativeValidation&&JP({},i),{errors:{},values:n.raw?s:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:Kz(Xz(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const Ce=b.forwardRef(({className:t,type:e,...n},s)=>l.jsx("input",{type:e,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Ce.displayName="Input";var Zz="Label",eE=b.forwardRef((t,e)=>l.jsx(Me.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eE.displayName=Zz;var tE=eE;const Jz=Oh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$e=b.forwardRef(({className:t,...e},n)=>l.jsx(tE,{ref:n,className:Ie(Jz(),t),...e}));$e.displayName=tE.displayName;const q=Symbol.for("drizzle:entityKind");function Gt(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,q))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(q in n&&n[q]===e[q])return!0;n=Object.getPrototypeOf(n)}return!1}var XS;XS=q;class nl{constructor(e,n){N(this,"name");N(this,"keyAsName");N(this,"primary");N(this,"notNull");N(this,"default");N(this,"defaultFn");N(this,"onUpdateFn");N(this,"hasDefault");N(this,"isUnique");N(this,"uniqueName");N(this,"uniqueType");N(this,"dataType");N(this,"columnType");N(this,"enumValues");N(this,"generated");N(this,"generatedIdentity");N(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}N(nl,XS,"Column");var ZS;ZS=q;class nE{constructor(e,n,s){N(this,"config");N(this,"$default",this.$defaultFn);N(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}N(nE,ZS,"ColumnBuilder");const Co=Symbol.for("drizzle:Name");var JS;JS=q;class sE{constructor(e,n){N(this,"reference");N(this,"_onUpdate","no action");N(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:r,foreignColumns:i}=e();return{name:s,columns:r,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new rE(e,this)}}N(sE,JS,"PgForeignKeyBuilder");var e_;e_=q;class rE{constructor(e,n){N(this,"reference");N(this,"onUpdate");N(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:s}=this.reference(),r=n.map(o=>o.name),i=s.map(o=>o.name),a=[this.table[Co],...r,s[0].table[Co],...i];return e??`${a.join("_")}_fk`}}N(rE,e_,"PgForeignKey");function e3(t,...e){return t(...e)}function t3(t,e){return`${t[Co]}_${e.join("_")}_unique`}function Ob(t,e,n){for(let s=e;s<t.length;s++){const r=t[s];if(r==="\\"){s++;continue}if(r==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!n&&(r===","||r==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function iE(t,e=0){const n=[];let s=e,r=!1;for(;s<t.length;){const i=t[s];if(i===","){(r||s===e)&&n.push(""),r=!0,s++;continue}if(r=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,u]=Ob(t,s+1,!0);n.push(c),s=u;continue}if(i==="}")return[n,s+1];if(i==="{"){const[c,u]=iE(t,s+1);n.push(c),s=u;continue}const[a,o]=Ob(t,s,!1);n.push(a),s=o}return[n,s]}function n3(t){const[e]=iE(t,1);return e}function aE(t){return`{${t.map(e=>Array.isArray(e)?aE(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var t_,n_;class Le extends(n_=nE,t_=q,n_){constructor(){super(...arguments);N(this,"foreignKeyConfigs",[])}array(n){return new lE(this.config.name,this,n)}references(n,s={}){return this.foreignKeyConfigs.push({ref:n,actions:s}),this}unique(n,s){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,s){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>e3((a,o)=>{const c=new sE(()=>{const u=a();return{columns:[n],foreignColumns:[u]}});return o.onUpdate&&c.onUpdate(o.onUpdate),o.onDelete&&c.onDelete(o.onDelete),c.build(s)},r,i))}buildExtraConfigColumn(n){return new oE(n,this.config)}}N(Le,t_,"PgColumnBuilder");var s_,r_;class _e extends(r_=nl,s_=q,r_){constructor(e,n){n.uniqueName||(n.uniqueName=t3(e,[n.name])),super(e,n),this.table=e}}N(_e,s_,"PgColumn");var i_,a_;class oE extends(a_=_e,i_=q,a_){constructor(){super(...arguments);N(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});N(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}N(oE,i_,"ExtraConfigColumn");var o_,l_;class lE extends(l_=Le,o_=q,l_){constructor(e,n,s){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(e){const n=this.config.baseBuilder.build(e);return new Vg(e,this.config,n)}}N(lE,o_,"PgArrayBuilder");var c_,u_;const hh=class hh extends(u_=_e,c_=q,u_){constructor(n,s,r,i){super(n,s);N(this,"size");this.baseColumn=r,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=n3(n)),n.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(n,s=!1){const r=n.map(i=>i===null?null:Gt(this.baseColumn,hh)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?r:aE(r)}};N(hh,c_,"PgArray");let Vg=hh;const Ib=Symbol.for("drizzle:isPgEnum");function s3(t){return!!t&&typeof t=="function"&&Ib in t&&t[Ib]===!0}var d_;d_=q;class Lx{constructor(e,n,s,r=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:s,isWith:r}}}N(Lx,d_,"Subquery");const r3={startActiveSpan(t,e){return e()}},To=Symbol.for("drizzle:ViewBaseConfig"),Um=Symbol.for("drizzle:Schema"),Rb=Symbol.for("drizzle:Columns"),Fb=Symbol.for("drizzle:ExtraConfigColumns"),Wm=Symbol.for("drizzle:OriginalName"),Hm=Symbol.for("drizzle:BaseName"),Lf=Symbol.for("drizzle:IsAlias"),Lb=Symbol.for("drizzle:ExtraConfigBuilder"),cE=Symbol.for("drizzle:IsDrizzleTable");var f_,h_,m_,p_,g_,y_,x_,v_,b_,w_;w_=q,b_=Co,v_=Wm,x_=Um,y_=Rb,g_=Fb,p_=Hm,m_=Lf,h_=cE,f_=Lb;class pn{constructor(e,n,s){N(this,b_);N(this,v_);N(this,x_);N(this,y_);N(this,g_);N(this,p_);N(this,m_,!1);N(this,h_,!0);N(this,f_);this[Co]=this[Wm]=e,this[Um]=n,this[Hm]=s}}N(pn,w_,"Table"),N(pn,"Symbol",{Name:Co,Schema:Um,OriginalName:Wm,Columns:Rb,ExtraConfigColumns:Fb,BaseName:Hm,IsAlias:Lf,ExtraConfigBuilder:Lb});function uE(t){return typeof t=="object"&&t!==null&&cE in t}function i3(t){return t!=null&&typeof t.getSQL=="function"}function a3(t){var n;const e={sql:"",params:[]};for(const s of t)e.sql+=s.sql,e.params.push(...s.params),(n=s.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...s.typings));return e}var S_;S_=q;class Gn{constructor(e){N(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Bt([this])}}N(Gn,S_,"StringChunk");var __;__=q;const ea=class ea{constructor(e){N(this,"decoder",dE);N(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return r3.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:r,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:c,paramStartIndex:u}=s;return a3(e.map(d=>{var f;if(Gt(d,Gn))return{sql:d.value.join(""),params:[]};if(Gt(d,zf))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Gn("(")];for(const[m,y]of d.entries())h.push(y),m<d.length-1&&h.push(new Gn(", "));return h.push(new Gn(")")),this.buildQueryFromSourceParams(h,s)}if(Gt(d,ea))return this.buildQueryFromSourceParams(d.queryChunks,{...s,inlineParams:c||d.shouldInlineParams});if(Gt(d,pn)){const h=d[pn.Symbol.Schema],m=d[pn.Symbol.Name];return{sql:h===void 0||d[Lf]?i(m):i(h)+"."+i(m),params:[]}}if(Gt(d,nl)){const h=r.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const m=d.table[pn.Symbol.Schema];return{sql:d.table[Lf]||m===void 0?i(d.table[pn.Symbol.Name])+"."+i(h):i(m)+"."+i(d.table[pn.Symbol.Name])+"."+i(h),params:[]}}if(Gt(d,mE)){const h=d[To].schema,m=d[To].name;return{sql:h===void 0||d[To].isAlias?i(m):i(h)+"."+i(m),params:[]}}if(Gt(d,zx)){if(Gt(d.value,Vf))return{sql:a(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Gt(h,ea))return this.buildQueryFromSourceParams([h],s);if(c)return{sql:this.mapInlineParam(h,s),params:[]};let m=["none"];return o&&(m=[o(d.encoder)]),{sql:a(u.value++,h),params:[h],typings:m}}return Gt(d,Vf)?{sql:a(u.value++,d),params:[d],typings:["none"]}:Gt(d,ea.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Gt(d,Lx)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Gn("("),d._.sql,new Gn(") "),new zf(d._.alias)],s):s3(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:i3(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],s):this.buildQueryFromSourceParams([new Gn("("),d.getSQL(),new Gn(")")],s):c?{sql:this.mapInlineParam(d,s),params:[]}:{sql:a(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const s=e.toString();return n(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new ea.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};N(ea,__,"SQL");let Bt=ea;var N_;N_=q;class zf{constructor(e){N(this,"brand");this.value=e}getSQL(){return new Bt([this])}}N(zf,N_,"Name");const dE={mapFromDriverValue:t=>t},fE={mapToDriverValue:t=>t};({...dE,...fE});var j_;j_=q;class zx{constructor(e,n=fE){N(this,"brand");this.value=e,this.encoder=n}getSQL(){return new Bt([this])}}N(zx,j_,"Param");function $f(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Gn(t[0]));for(const[s,r]of e.entries())n.push(r,new Gn(t[s+1]));return new Bt(n)}(t=>{function e(){return new Bt([])}t.empty=e;function n(c){return new Bt(c)}t.fromList=n;function s(c){return new Bt([new Gn(c)])}t.raw=s;function r(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Bt(d)}t.join=r;function i(c){return new zf(c)}t.identifier=i;function a(c){return new Vf(c)}t.placeholder=a;function o(c,u){return new zx(c,u)}t.param=o})($f||($f={}));(t=>{var n;n=q;const s=class s{constructor(i,a){N(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};N(s,n,"SQL.Aliased");let e=s;t.Aliased=e})(Bt||(Bt={}));var k_;k_=q;class Vf{constructor(e){this.name=e}getSQL(){return new Bt([this])}}N(Vf,k_,"Placeholder");const hE=Symbol.for("drizzle:IsDrizzleView");var C_,T_,P_;P_=q,T_=To,C_=hE;class mE{constructor({name:e,schema:n,selectedFields:s,query:r}){N(this,T_);N(this,C_,!0);this[To]={name:e,originalName:e,schema:n,selectedFields:s,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new Bt([this])}}N(mE,P_,"View");function o3(t){return typeof t=="object"&&t!==null&&hE in t}nl.prototype.getSQL=function(){return new Bt([this])};pn.prototype.getSQL=function(){return new Bt([this])};Lx.prototype.getSQL=function(){return new Bt([this])};function l3(t){return t[pn.Symbol.Columns]}function c3(t){return t[To].selectedFields}function qt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var E_,M_;class Eu extends(M_=Le,E_=q,M_){generatedAlwaysAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}N(Eu,E_,"PgIntColumnBaseBuilder");var D_,A_;class pE extends(A_=Eu,D_=q,A_){constructor(e){super(e,"number","PgBigInt53")}build(e){return new gE(e,this.config)}}N(pE,D_,"PgBigInt53Builder");var O_,I_;class gE extends(I_=_e,O_=q,I_){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}N(gE,O_,"PgBigInt53");var R_,F_;class yE extends(F_=Eu,R_=q,F_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new xE(e,this.config)}}N(yE,R_,"PgBigInt64Builder");var L_,z_;class xE extends(z_=_e,L_=q,z_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}N(xE,L_,"PgBigInt64");function u3(t,e){const{name:n,config:s}=qt(t,e);return s.mode==="number"?new pE(n):new yE(n)}var $_,V_;class vE extends(V_=Le,$_=q,V_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new bE(e,this.config)}}N(vE,$_,"PgBigSerial53Builder");var B_,U_;class bE extends(U_=_e,B_=q,U_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}N(bE,B_,"PgBigSerial53");var W_,H_;class wE extends(H_=Le,W_=q,H_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new SE(e,this.config)}}N(wE,W_,"PgBigSerial64Builder");var Y_,q_;class SE extends(q_=_e,Y_=q,q_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}N(SE,Y_,"PgBigSerial64");function d3(t,e){const{name:n,config:s}=qt(t,e);return s.mode==="number"?new vE(n):new wE(n)}var Q_,K_;class _E extends(K_=Le,Q_=q,K_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new NE(e,this.config)}}N(_E,Q_,"PgBooleanBuilder");var G_,X_;class NE extends(X_=_e,G_=q,X_){getSQLType(){return"boolean"}}N(NE,G_,"PgBoolean");function sl(t){return new _E(t??"")}var Z_,J_;class jE extends(J_=Le,Z_=q,J_){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new kE(e,this.config)}}N(jE,Z_,"PgCharBuilder");var eN,tN;class kE extends(tN=_e,eN=q,tN){constructor(){super(...arguments);N(this,"length",this.config.length);N(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}N(kE,eN,"PgChar");function f3(t,e={}){const{name:n,config:s}=qt(t,e);return new jE(n,s)}var nN,sN;class CE extends(sN=Le,nN=q,sN){constructor(e){super(e,"string","PgCidr")}build(e){return new TE(e,this.config)}}N(CE,nN,"PgCidrBuilder");var rN,iN;class TE extends(iN=_e,rN=q,iN){getSQLType(){return"cidr"}}N(TE,rN,"PgCidr");function h3(t){return new CE(t??"")}var aN,oN;class PE extends(oN=Le,aN=q,oN){constructor(e,n,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(e){return new EE(e,this.config)}}N(PE,aN,"PgCustomColumnBuilder");var lN,cN;class EE extends(cN=_e,lN=q,cN){constructor(n,s){super(n,s);N(this,"sqlName");N(this,"mapTo");N(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}N(EE,lN,"PgCustomColumn");function m3(t){return(e,n)=>{const{name:s,config:r}=qt(e,n);return new PE(s,r,t)}}var uN,dN;class _l extends(dN=Le,uN=q,dN){defaultNow(){return this.default($f`now()`)}}N(_l,uN,"PgDateColumnBaseBuilder");var fN,hN;class ME extends(hN=_l,fN=q,hN){constructor(e){super(e,"date","PgDate")}build(e){return new DE(e,this.config)}}N(ME,fN,"PgDateBuilder");var mN,pN;class DE extends(pN=_e,mN=q,pN){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}N(DE,mN,"PgDate");var gN,yN;class AE extends(yN=_l,gN=q,yN){constructor(e){super(e,"string","PgDateString")}build(e){return new OE(e,this.config)}}N(AE,gN,"PgDateStringBuilder");var xN,vN;class OE extends(vN=_e,xN=q,vN){getSQLType(){return"date"}}N(OE,xN,"PgDateString");function $x(t,e){const{name:n,config:s}=qt(t,e);return(s==null?void 0:s.mode)==="date"?new ME(n):new AE(n)}var bN,wN;class IE extends(wN=Le,bN=q,wN){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new RE(e,this.config)}}N(IE,bN,"PgDoublePrecisionBuilder");var SN,_N;class RE extends(_N=_e,SN=q,_N){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}N(RE,SN,"PgDoublePrecision");function p3(t){return new IE(t??"")}var NN,jN;class FE extends(jN=Le,NN=q,jN){constructor(e){super(e,"string","PgInet")}build(e){return new LE(e,this.config)}}N(FE,NN,"PgInetBuilder");var kN,CN;class LE extends(CN=_e,kN=q,CN){getSQLType(){return"inet"}}N(LE,kN,"PgInet");function g3(t){return new FE(t??"")}var TN,PN;class zE extends(PN=Eu,TN=q,PN){constructor(e){super(e,"number","PgInteger")}build(e){return new $E(e,this.config)}}N(zE,TN,"PgIntegerBuilder");var EN,MN;class $E extends(MN=_e,EN=q,MN){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}N($E,EN,"PgInteger");function Yt(t){return new zE(t??"")}var DN,AN;class VE extends(AN=Le,DN=q,AN){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new BE(e,this.config)}}N(VE,DN,"PgIntervalBuilder");var ON,IN;class BE extends(IN=_e,ON=q,IN){constructor(){super(...arguments);N(this,"fields",this.config.intervalConfig.fields);N(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${n}${s}`}}N(BE,ON,"PgInterval");function y3(t,e={}){const{name:n,config:s}=qt(t,e);return new VE(n,s)}var RN,FN;class UE extends(FN=Le,RN=q,FN){constructor(e){super(e,"json","PgJson")}build(e){return new WE(e,this.config)}}N(UE,RN,"PgJsonBuilder");var LN,zN;class WE extends(zN=_e,LN=q,zN){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}N(WE,LN,"PgJson");function x3(t){return new UE(t??"")}var $N,VN;class HE extends(VN=Le,$N=q,VN){constructor(e){super(e,"json","PgJsonb")}build(e){return new YE(e,this.config)}}N(HE,$N,"PgJsonbBuilder");var BN,UN;class YE extends(UN=_e,BN=q,UN){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}N(YE,BN,"PgJsonb");function qE(t){return new HE(t??"")}var WN,HN;class QE extends(HN=Le,WN=q,HN){constructor(e){super(e,"array","PgLine")}build(e){return new KE(e,this.config)}}N(QE,WN,"PgLineBuilder");var YN,qN;class KE extends(qN=_e,YN=q,qN){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(r)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}N(KE,YN,"PgLine");var QN,KN;class GE extends(KN=Le,QN=q,KN){constructor(e){super(e,"json","PgLineABC")}build(e){return new XE(e,this.config)}}N(GE,QN,"PgLineABCBuilder");var GN,XN;class XE extends(XN=_e,GN=q,XN){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,r]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(r)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}N(XE,GN,"PgLineABC");function v3(t,e){const{name:n,config:s}=qt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new QE(n):new GE(n)}var ZN,JN;class ZE extends(JN=Le,ZN=q,JN){constructor(e){super(e,"string","PgMacaddr")}build(e){return new JE(e,this.config)}}N(ZE,ZN,"PgMacaddrBuilder");var e1,t1;class JE extends(t1=_e,e1=q,t1){getSQLType(){return"macaddr"}}N(JE,e1,"PgMacaddr");function b3(t){return new ZE(t??"")}var n1,s1;class eM extends(s1=Le,n1=q,s1){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new tM(e,this.config)}}N(eM,n1,"PgMacaddr8Builder");var r1,i1;class tM extends(i1=_e,r1=q,i1){getSQLType(){return"macaddr8"}}N(tM,r1,"PgMacaddr8");function w3(t){return new eM(t??"")}var a1,o1;class nM extends(o1=Le,a1=q,o1){constructor(e,n,s){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(e){return new sM(e,this.config)}}N(nM,a1,"PgNumericBuilder");var l1,c1;class sM extends(c1=_e,l1=q,c1){constructor(n,s){super(n,s);N(this,"precision");N(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}N(sM,l1,"PgNumeric");function vr(t,e){const{name:n,config:s}=qt(t,e);return new nM(n,s==null?void 0:s.precision,s==null?void 0:s.scale)}const wc=vr;var u1,d1;class rM extends(d1=Le,u1=q,d1){constructor(e){super(e,"array","PgPointTuple")}build(e){return new iM(e,this.config)}}N(rM,u1,"PgPointTupleBuilder");var f1,h1;class iM extends(h1=_e,f1=q,h1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}N(iM,f1,"PgPointTuple");var m1,p1;class aM extends(p1=Le,m1=q,p1){constructor(e){super(e,"json","PgPointObject")}build(e){return new oM(e,this.config)}}N(aM,m1,"PgPointObjectBuilder");var g1,y1;class oM extends(y1=_e,g1=q,y1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}N(oM,g1,"PgPointObject");function S3(t,e){const{name:n,config:s}=qt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new rM(n):new aM(n)}function _3(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function zb(t,e){const n=new ArrayBuffer(8),s=new DataView(n);for(let r=0;r<8;r++)s.setUint8(r,t[e+r]);return s.getFloat64(0,!0)}function lM(t){const e=_3(t);let n=0;const s=e[n];n+=1;const r=new DataView(e.buffer),i=r.getUint32(n,s===1);if(n+=4,i&536870912&&(r.getUint32(n,s===1),n+=4),(i&65535)===1){const a=zb(e,n);n+=8;const o=zb(e,n);return n+=8,[a,o]}throw new Error("Unsupported geometry type")}var x1,v1;class cM extends(v1=Le,x1=q,v1){constructor(e){super(e,"array","PgGeometry")}build(e){return new uM(e,this.config)}}N(cM,x1,"PgGeometryBuilder");var b1,w1;class uM extends(w1=_e,b1=q,w1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return lM(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}N(uM,b1,"PgGeometry");var S1,_1;class dM extends(_1=Le,S1=q,_1){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new fM(e,this.config)}}N(dM,S1,"PgGeometryObjectBuilder");var N1,j1;class fM extends(j1=_e,N1=q,j1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=lM(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}N(fM,N1,"PgGeometryObject");function N3(t,e){const{name:n,config:s}=qt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new cM(n):new dM(n)}var k1,C1;class hM extends(C1=Le,k1=q,C1){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new mM(e,this.config)}}N(hM,k1,"PgRealBuilder");var T1,P1;class mM extends(P1=_e,T1=q,P1){constructor(n,s){super(n,s);N(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}N(mM,T1,"PgReal");function j3(t){return new hM(t??"")}var E1,M1;class pM extends(M1=Le,E1=q,M1){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new gM(e,this.config)}}N(pM,E1,"PgSerialBuilder");var D1,A1;class gM extends(A1=_e,D1=q,A1){getSQLType(){return"serial"}}N(gM,D1,"PgSerial");function _n(t){return new pM(t??"")}var O1,I1;class yM extends(I1=Eu,O1=q,I1){constructor(e){super(e,"number","PgSmallInt")}build(e){return new xM(e,this.config)}}N(yM,O1,"PgSmallIntBuilder");var R1,F1;class xM extends(F1=_e,R1=q,F1){constructor(){super(...arguments);N(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}N(xM,R1,"PgSmallInt");function k3(t){return new yM(t??"")}var L1,z1;class vM extends(z1=Le,L1=q,z1){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new bM(e,this.config)}}N(vM,L1,"PgSmallSerialBuilder");var $1,V1;class bM extends(V1=_e,$1=q,V1){getSQLType(){return"smallserial"}}N(bM,$1,"PgSmallSerial");function C3(t){return new vM(t??"")}var B1,U1;class wM extends(U1=Le,B1=q,U1){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new SM(e,this.config)}}N(wM,B1,"PgTextBuilder");var W1,H1;class SM extends(H1=_e,W1=q,H1){constructor(){super(...arguments);N(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}N(SM,W1,"PgText");function Vx(t,e={}){const{name:n,config:s}=qt(t,e);return new wM(n,s)}var Y1,q1;class _M extends(q1=_l,Y1=q,q1){constructor(e,n,s){super(e,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}build(e){return new NM(e,this.config)}}N(_M,Y1,"PgTimeBuilder");var Q1,K1;class NM extends(K1=_e,Q1=q,K1){constructor(n,s){super(n,s);N(this,"withTimezone");N(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(NM,Q1,"PgTime");function T3(t,e={}){const{name:n,config:s}=qt(t,e);return new _M(n,s.withTimezone??!1,s.precision)}var G1,X1;class jM extends(X1=_l,G1=q,X1){constructor(e,n,s){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(e){return new kM(e,this.config)}}N(jM,G1,"PgTimestampBuilder");var Z1,J1;class kM extends(J1=_e,Z1=q,J1){constructor(n,s){super(n,s);N(this,"withTimezone");N(this,"precision");N(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));N(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(kM,Z1,"PgTimestamp");var ej,tj;class CM extends(tj=_l,ej=q,tj){constructor(e,n,s){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(e){return new TM(e,this.config)}}N(CM,ej,"PgTimestampStringBuilder");var nj,sj;class TM extends(sj=_e,nj=q,sj){constructor(n,s){super(n,s);N(this,"withTimezone");N(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}N(TM,nj,"PgTimestampString");function tt(t,e={}){const{name:n,config:s}=qt(t,e);return(s==null?void 0:s.mode)==="string"?new CM(n,s.withTimezone??!1,s.precision):new jM(n,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var rj,ij;class PM extends(ij=Le,rj=q,ij){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default($f`gen_random_uuid()`)}build(e){return new EM(e,this.config)}}N(PM,rj,"PgUUIDBuilder");var aj,oj;class EM extends(oj=_e,aj=q,oj){getSQLType(){return"uuid"}}N(EM,aj,"PgUUID");function P3(t){return new PM(t??"")}var lj,cj;class MM extends(cj=Le,lj=q,cj){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new DM(e,this.config)}}N(MM,lj,"PgVarcharBuilder");var uj,dj;class DM extends(dj=_e,uj=q,dj){constructor(){super(...arguments);N(this,"length",this.config.length);N(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}N(DM,uj,"PgVarchar");function Ve(t,e={}){const{name:n,config:s}=qt(t,e);return new MM(n,s)}var fj,hj;class AM extends(hj=Le,fj=q,hj){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new OM(e,this.config)}}N(AM,fj,"PgBinaryVectorBuilder");var mj,pj;class OM extends(pj=_e,mj=q,pj){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}N(OM,mj,"PgBinaryVector");function E3(t,e){const{name:n,config:s}=qt(t,e);return new AM(n,s)}var gj,yj;class IM extends(yj=Le,gj=q,yj){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new RM(e,this.config)}}N(IM,gj,"PgHalfVectorBuilder");var xj,vj;class RM extends(vj=_e,xj=q,vj){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}N(RM,xj,"PgHalfVector");function M3(t,e){const{name:n,config:s}=qt(t,e);return new IM(n,s)}var bj,wj;class FM extends(wj=Le,bj=q,wj){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new LM(e,this.config)}}N(FM,bj,"PgSparseVectorBuilder");var Sj,_j;class LM extends(_j=_e,Sj=q,_j){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}N(LM,Sj,"PgSparseVector");function D3(t,e){const{name:n,config:s}=qt(t,e);return new FM(n,s)}var Nj,jj;class zM extends(jj=Le,Nj=q,jj){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new $M(e,this.config)}}N(zM,Nj,"PgVectorBuilder");var kj,Cj;class $M extends(Cj=_e,kj=q,Cj){constructor(){super(...arguments);N(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}N($M,kj,"PgVector");function A3(t,e){const{name:n,config:s}=qt(t,e);return new zM(n,s)}function O3(){return{bigint:u3,bigserial:d3,boolean:sl,char:f3,cidr:h3,customType:m3,date:$x,doublePrecision:p3,inet:g3,integer:Yt,interval:y3,json:x3,jsonb:qE,line:v3,macaddr:b3,macaddr8:w3,numeric:vr,point:S3,geometry:N3,real:j3,serial:_n,smallint:k3,smallserial:C3,text:Vx,time:T3,timestamp:tt,uuid:P3,varchar:Ve,bit:E3,halfvec:M3,sparsevec:D3,vector:A3}}const Bg=Symbol.for("drizzle:PgInlineForeignKeys"),$b=Symbol.for("drizzle:EnableRLS");var Tj,Pj,Ej,Mj,Dj;class Bf extends(Dj=pn,Mj=q,Ej=Bg,Pj=$b,Tj=pn.Symbol.ExtraConfigBuilder,Dj){constructor(){super(...arguments);N(this,Ej,[]);N(this,Pj,!1);N(this,Tj)}}N(Bf,Mj,"PgTable"),N(Bf,"Symbol",Object.assign({},pn.Symbol,{InlineForeignKeys:Bg,EnableRLS:$b}));function I3(t,e,n,s,r=t){const i=new Bf(t,s,r),a=typeof e=="function"?e(O3()):e,o=Object.fromEntries(Object.entries(a).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(i);return i[Bg].push(...h.buildForeignKeys(m,i)),[d,m]})),c=Object.fromEntries(Object.entries(a).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(i);return[d,m]})),u=Object.assign(i,o);return u[pn.Symbol.Columns]=o,u[pn.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[Bf.Symbol.EnableRLS]=!0,u)})}const On=(t,e,n)=>I3(t,e,n,void 0);var Fe;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const a of r)i[a]=a;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),a={};for(const o of i)a[o]=r[o];return t.objectValues(a)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.push(a);return i},t.find=(r,i)=>{for(const a of r)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Fe||(Fe={}));var Ug;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ug||(Ug={}));const ae=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ur=t=>{switch(typeof t){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return Number.isNaN(t)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(t)?ae.array:t===null?ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ae.promise:typeof Map<"u"&&t instanceof Map?ae.map:typeof Set<"u"&&t instanceof Set?ae.set:typeof Date<"u"&&t instanceof Date?ae.date:ae.object;default:return ae.unknown}},Q=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),R3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Bn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)s._errors.push(n(a));else{let o=s,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return r(this),s}static assert(e){if(!(e instanceof Bn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)if(r.path.length>0){const i=r.path[0];n[i]=n[i]||[],n[i].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Bn.create=t=>new Bn(t);const rl=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Fe.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Fe.assertNever(t)}return{message:n}};let VM=rl;function F3(t){VM=t}function Uf(){return VM}const Wf=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,i=[...n,...r.path||[]],a={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let o="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:e,defaultError:o}).message;return{...r,path:i,message:o}},L3=[];function te(t,e){const n=Uf(),s=Wf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===rl?void 0:rl].filter(r=>!!r)});t.common.issues.push(s)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return me;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const i=await r.key,a=await r.value;s.push({key:i,value:a})}return cn.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:i,value:a}=r;if(i.status==="aborted"||a.status==="aborted")return me;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(s[i.value]=a.value)}return{status:e.value,value:s}}}const me=Object.freeze({status:"aborted"}),go=t=>({status:"dirty",value:t}),xn=t=>({status:"valid",value:t}),Wg=t=>t.status==="aborted",Hg=t=>t.status==="dirty",Ea=t=>t.status==="valid",Kc=t=>typeof Promise<"u"&&t instanceof Promise;var ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));class Gs{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Vb=(t,e)=>{if(Ea(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bn(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(a,o)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??s??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:r}}class Te{get description(){return this._def.description}_getType(e){return ur(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ur(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:ur(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Kc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ur(e)},r=this._parseSync({data:e,path:s.path,parent:s});return Vb(s,r)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ur(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ea(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(r=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ea(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ur(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(Kc(r)?r:Promise.resolve(r));return Vb(s,i)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const a=e(r),o=()=>i.addIssue({code:Q.custom,...s(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new ks({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ys.create(this,this._def)}nullable(){return Mi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ws.create(this)}promise(){return al.create(this,this._def)}or(e){return Jc.create([this,e],this._def)}and(e){return eu.create(this,e,this._def)}transform(e){return new ks({...Se(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new iu({...Se(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new Bx({typeName:pe.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new au({...Se(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Mu.create(this,e)}readonly(){return ou.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const z3=/^c[^\s-]{8,}$/i,$3=/^[0-9a-z]+$/,V3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,B3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U3=/^[a-z0-9_-]{21}$/i,W3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,H3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Y3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,q3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ym;const Q3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,K3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,G3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,X3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Z3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,J3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,BM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",e$=new RegExp(`^${BM}$`);function UM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function t$(t){return new RegExp(`^${UM(t)}$`)}function WM(t){let e=`${BM}T${UM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function n$(t,e){return!!((e==="v4"||!e)&&Q3.test(t)||(e==="v6"||!e)&&G3.test(t))}function s$(t,e){if(!W3.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function r$(t,e){return!!((e==="v4"||!e)&&K3.test(t)||(e==="v6"||!e)&&X3.test(t))}class xs extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ae.string){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_type,expected:ae.string,received:i.parsedType}),me}const s=new cn;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(r=this._getOrReturnCtx(e,r),a?te(r,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&te(r,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Y3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"email",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Ym||(Ym=new RegExp(q3,"u")),Ym.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"emoji",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")B3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"uuid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")U3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"nanoid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")z3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"cuid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")$3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"cuid2",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")V3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"ulid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),te(r,{validation:"url",code:Q.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"regex",code:Q.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?WM(i).test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?e$.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?t$(i).test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?H3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"duration",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?n$(e.data,i.version)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"ip",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?s$(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"jwt",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?r$(e.data,i.version)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"cidr",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Z3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"base64",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?J3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"base64url",code:Q.invalid_string,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:Q.invalid_string,...ue.errToObj(s)})}_addCheck(e){return new xs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ue.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ue.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ue.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ue.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ue.errToObj(n)})}nonempty(e){return this.min(1,ue.errToObj(e))}trim(){return new xs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xs.create=t=>new xs({checks:[],typeName:pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});function i$(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,i=Number.parseInt(t.toFixed(r).replace(".","")),a=Number.parseInt(e.toFixed(r).replace(".",""));return i%a/10**r}class Ti extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ae.number){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_type,expected:ae.number,received:i.parsedType}),me}let s;const r=new cn;for(const i of this._def.checks)i.kind==="int"?Fe.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?i$(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:Q.not_finite,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,s,r){return new Ti({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:ue.toString(r)}]})}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ti.create=t=>new Ti({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Pi extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ae.bigint)return this._getInvalidInput(e);let s;const r=new cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:Q.invalid_type,expected:ae.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,s,r){return new Pi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:ue.toString(r)}]})}_addCheck(e){return new Pi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Pi.create=t=>new Pi({checks:[],typeName:pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});class Gc extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ae.boolean){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.boolean,received:s.parsedType}),me}return xn(e.data)}}Gc.create=t=>new Gc({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Ma extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ae.date){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_type,expected:ae.date,received:i.parsedType}),me}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_date}),me}const s=new cn;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ma({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ma.create=t=>new Ma({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,...Se(t)});class Hf extends Te{_parse(e){if(this._getType(e)!==ae.symbol){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.symbol,received:s.parsedType}),me}return xn(e.data)}}Hf.create=t=>new Hf({typeName:pe.ZodSymbol,...Se(t)});class Xc extends Te{_parse(e){if(this._getType(e)!==ae.undefined){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.undefined,received:s.parsedType}),me}return xn(e.data)}}Xc.create=t=>new Xc({typeName:pe.ZodUndefined,...Se(t)});class Zc extends Te{_parse(e){if(this._getType(e)!==ae.null){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.null,received:s.parsedType}),me}return xn(e.data)}}Zc.create=t=>new Zc({typeName:pe.ZodNull,...Se(t)});class il extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}il.create=t=>new il({typeName:pe.ZodAny,...Se(t)});class va extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}va.create=t=>new va({typeName:pe.ZodUnknown,...Se(t)});class Tr extends Te{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:Q.invalid_type,expected:ae.never,received:n.parsedType}),me}}Tr.create=t=>new Tr({typeName:pe.ZodNever,...Se(t)});class Yf extends Te{_parse(e){if(this._getType(e)!==ae.undefined){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.void,received:s.parsedType}),me}return xn(e.data)}}Yf.create=t=>new Yf({typeName:pe.ZodVoid,...Se(t)});class ws extends Te{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==ae.array)return te(n,{code:Q.invalid_type,expected:ae.array,received:n.parsedType}),me;if(r.exactLength!==null){const a=n.data.length>r.exactLength.value,o=n.data.length<r.exactLength.value;(a||o)&&(te(n,{code:a?Q.too_big:Q.too_small,minimum:o?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(te(n,{code:Q.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(te(n,{code:Q.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>r.type._parseAsync(new Gs(n,a,n.path,o)))).then(a=>cn.mergeArray(s,a));const i=[...n.data].map((a,o)=>r.type._parseSync(new Gs(n,a,n.path,o)));return cn.mergeArray(s,i)}get element(){return this._def.type}min(e,n){return new ws({...this._def,minLength:{value:e,message:ue.toString(n)}})}max(e,n){return new ws({...this._def,maxLength:{value:e,message:ue.toString(n)}})}length(e,n){return new ws({...this._def,exactLength:{value:e,message:ue.toString(n)}})}nonempty(e){return this.min(1,e)}}ws.create=(t,e)=>new ws({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...Se(e)});function to(t){if(t instanceof ht){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=Ys.create(to(s))}return new ht({...t._def,shape:()=>e})}else return t instanceof ws?new ws({...t._def,type:to(t.element)}):t instanceof Ys?Ys.create(to(t.unwrap())):t instanceof Mi?Mi.create(to(t.unwrap())):t instanceof Xs?Xs.create(t.items.map(e=>to(e))):t}class ht extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Fe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ae.object){const u=this._getOrReturnCtx(e);return te(u,{code:Q.invalid_type,expected:ae.object,received:u.parsedType}),me}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Tr&&this._def.unknownKeys==="strip"))for(const u in r.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const d=i[u],f=r.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Gs(r,f,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Tr){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(u==="strict")o.length>0&&(te(r,{code:Q.unrecognized_keys,keys:o}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=r.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Gs(r,f,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>cn.mergeObjectSync(s,u)):cn.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new ht({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var i,a;const r=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:ue.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ht({...this._def,catchall:e})}pick(e){const n={};for(const s of Fe.objectKeys(e))e[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new ht({...this._def,shape:()=>n})}omit(e){const n={};for(const s of Fe.objectKeys(this.shape))e[s]||(n[s]=this.shape[s]);return new ht({...this._def,shape:()=>n})}deepPartial(){return to(this)}partial(e){const n={};for(const s of Fe.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}return new ht({...this._def,shape:()=>n})}required(e){const n={};for(const s of Fe.objectKeys(this.shape))if(e&&!e[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ys;)i=i._def.innerType;n[s]=i}return new ht({...this._def,shape:()=>n})}keyof(){return HM(Fe.objectKeys(this.shape))}}ht.create=(t,e)=>new ht({shape:()=>t,unknownKeys:"strip",catchall:Tr.create(),typeName:pe.ZodObject,...Se(e)});ht.strictCreate=(t,e)=>new ht({shape:()=>t,unknownKeys:"strict",catchall:Tr.create(),typeName:pe.ZodObject,...Se(e)});ht.lazycreate=(t,e)=>new ht({shape:t,unknownKeys:"strip",catchall:Tr.create(),typeName:pe.ZodObject,...Se(e)});class Jc extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new Bn(o.ctx.common.issues));return te(n,{code:Q.invalid_union,unionErrors:a}),me}if(n.common.async)return Promise.all(s.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(r);{let i;const a=[];for(const c of s){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new Bn(c));return te(n,{code:Q.invalid_union,unionErrors:o}),me}}get options(){return this._def.options}}Jc.create=(t,e)=>new Jc({options:t,typeName:pe.ZodUnion,...Se(e)});const ir=t=>t instanceof nu?ir(t.schema):t instanceof ks?ir(t.innerType()):t instanceof su?[t.value]:t instanceof Ei?t.options:t instanceof ru?Fe.objectValues(t.enum):t instanceof iu?ir(t._def.innerType):t instanceof Xc?[void 0]:t instanceof Zc?[null]:t instanceof Ys?[void 0,...ir(t.unwrap())]:t instanceof Mi?[null,...ir(t.unwrap())]:t instanceof Bx||t instanceof ou?ir(t.unwrap()):t instanceof au?ir(t._def.innerType):[];class Uh extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.object)return te(n,{code:Q.invalid_type,expected:ae.object,received:n.parsedType}),me;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const r=new Map;for(const i of n){const a=ir(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,i)}}return new Uh({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...Se(s)})}}function Yg(t,e){const n=ur(t),s=ur(e);if(t===e)return{valid:!0,data:t};if(n===ae.object&&s===ae.object){const r=Fe.objectKeys(e),i=Fe.objectKeys(t).filter(o=>r.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=Yg(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===ae.array&&s===ae.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=Yg(a,o);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===ae.date&&s===ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class eu extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(i,a)=>{if(Wg(i)||Wg(a))return me;const o=Yg(i.value,a.value);return o.valid?((Hg(i)||Hg(a))&&n.dirty(),{status:n.value,value:o.data}):(te(s,{code:Q.invalid_intersection_types}),me)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>r(i,a)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}eu.create=(t,e,n)=>new eu({left:t,right:e,typeName:pe.ZodIntersection,...Se(n)});class Xs extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.array)return te(s,{code:Q.invalid_type,expected:ae.array,received:s.parsedType}),me;if(s.data.length<this._def.items.length)return te(s,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&s.data.length>this._def.items.length&&(te(s,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Gs(s,a,s.path,o)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>cn.mergeArray(n,a)):cn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Xs({...this._def,rest:e})}}Xs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xs({items:t,typeName:pe.ZodTuple,rest:null,...Se(e)})};class tu extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.object)return te(s,{code:Q.invalid_type,expected:ae.object,received:s.parsedType}),me;const r=[],i=this._def.keyType,a=this._def.valueType;for(const o in s.data)r.push({key:i._parse(new Gs(s,o,s.path,o)),value:a._parse(new Gs(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?cn.mergeObjectAsync(n,r):cn.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof Te?new tu({keyType:e,valueType:n,typeName:pe.ZodRecord,...Se(s)}):new tu({keyType:xs.create(),valueType:e,typeName:pe.ZodRecord,...Se(n)})}}class qf extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.map)return te(s,{code:Q.invalid_type,expected:ae.map,received:s.parsedType}),me;const r=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([o,c],u)=>({key:r._parse(new Gs(s,o,s.path,[u,"key"])),value:i._parse(new Gs(s,c,s.path,[u,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}qf.create=(t,e,n)=>new qf({valueType:e,keyType:t,typeName:pe.ZodMap,...Se(n)});class Da extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.set)return te(s,{code:Q.invalid_type,expected:ae.set,received:s.parsedType}),me;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(te(s,{code:Q.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(te(s,{code:Q.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return me;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...s.data.values()].map((c,u)=>i._parse(new Gs(s,c,s.path,u)));return s.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new Da({...this._def,minSize:{value:e,message:ue.toString(n)}})}max(e,n){return new Da({...this._def,maxSize:{value:e,message:ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Da.create=(t,e)=>new Da({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,...Se(e)});class Po extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.function)return te(n,{code:Q.invalid_type,expected:ae.function,received:n.parsedType}),me;function s(o,c){return Wf({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Uf(),rl].filter(u=>!!u),issueData:{code:Q.invalid_arguments,argumentsError:c}})}function r(o,c){return Wf({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Uf(),rl].filter(u=>!!u),issueData:{code:Q.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof al){const o=this;return xn(async function(...c){const u=new Bn([]),d=await o._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(s(c,m)),u}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(r(f,m)),u})})}else{const o=this;return xn(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new Bn([s(c,u.error)]);const d=Reflect.apply(a,this,u.data),f=o._def.returns.safeParse(d,i);if(!f.success)throw new Bn([r(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Po({...this._def,args:Xs.create(e).rest(va.create())})}returns(e){return new Po({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new Po({args:e||Xs.create([]).rest(va.create()),returns:n||va.create(),typeName:pe.ZodFunction,...Se(s)})}}class nu extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nu.create=(t,e)=>new nu({getter:t,typeName:pe.ZodLazy,...Se(e)});class su extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}su.create=(t,e)=>new su({value:t,typeName:pe.ZodLiteral,...Se(e)});function HM(t,e){return new Ei({values:t,typeName:pe.ZodEnum,...Se(e)})}class Ei extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return te(n,{expected:Fe.joinValues(s),received:n.parsedType,code:Q.invalid_type}),me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return te(n,{received:n.data,code:Q.invalid_enum_value,options:s}),me}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ei.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ei.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Ei.create=HM;class ru extends Te{_parse(e){const n=Fe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ae.string&&s.parsedType!==ae.number){const r=Fe.objectValues(n);return te(s,{expected:Fe.joinValues(r),received:s.parsedType,code:Q.invalid_type}),me}if(this._cache||(this._cache=new Set(Fe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Fe.objectValues(n);return te(s,{received:s.data,code:Q.invalid_enum_value,options:r}),me}return xn(e.data)}get enum(){return this._def.values}}ru.create=(t,e)=>new ru({values:t,typeName:pe.ZodNativeEnum,...Se(e)});class al extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.promise&&n.common.async===!1)return te(n,{code:Q.invalid_type,expected:ae.promise,received:n.parsedType}),me;const s=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return xn(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}al.create=(t,e)=>new al({type:t,typeName:pe.ZodPromise,...Se(e)});class ks extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:a=>{te(s,a),a.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const a=r.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return me;const c=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return c.status==="aborted"?me:c.status==="dirty"||n.value==="dirty"?go(c.value):c});{if(n.value==="aborted")return me;const o=this._def.schema._parseSync({data:a,path:s.path,parent:s});return o.status==="aborted"?me:o.status==="dirty"||n.value==="dirty"?go(o.value):o}}if(r.type==="refinement"){const a=o=>{const c=r.refinement(o,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?me:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?me:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ea(a))return me;const o=r.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>Ea(a)?Promise.resolve(r.transform(a.value,i)).then(o=>({status:n.value,value:o})):me);Fe.assertNever(r)}}ks.create=(t,e,n)=>new ks({schema:t,typeName:pe.ZodEffects,effect:e,...Se(n)});ks.createWithPreprocess=(t,e,n)=>new ks({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,...Se(n)});class Ys extends Te{_parse(e){return this._getType(e)===ae.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ys.create=(t,e)=>new Ys({innerType:t,typeName:pe.ZodOptional,...Se(e)});class Mi extends Te{_parse(e){return this._getType(e)===ae.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mi.create=(t,e)=>new Mi({innerType:t,typeName:pe.ZodNullable,...Se(e)});class iu extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===ae.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}iu.create=(t,e)=>new iu({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class au extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Kc(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bn(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Bn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}au.create=(t,e)=>new au({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class Qf extends Te{_parse(e){if(this._getType(e)!==ae.nan){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.nan,received:s.parsedType}),me}return{status:"valid",value:e.data}}}Qf.create=t=>new Qf({typeName:pe.ZodNaN,...Se(t)});const a$=Symbol("zod_brand");class Bx extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Mu extends Te{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),go(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?me:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new Mu({in:e,out:n,typeName:pe.ZodPipeline})}}class ou extends Te{_parse(e){const n=this._def.innerType._parse(e),s=r=>(Ea(r)&&(r.value=Object.freeze(r.value)),r);return Kc(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:pe.ZodReadonly,...Se(e)});function Bb(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Ux(t,e={},n){return t?il.create().superRefine((s,r)=>{const i=t(s);if(i instanceof Promise)return i.then(a=>{if(!a){const o=Bb(e,s),c=o.fatal??n??!0;r.addIssue({code:"custom",...o,fatal:c})}});if(!i){const a=Bb(e,s),o=a.fatal??n??!0;r.addIssue({code:"custom",...a,fatal:o})}}):il.create()}const o$={object:ht.lazycreate};var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const l$=(t,e={message:`Input not instance of ${t.name}`})=>Ux(n=>n instanceof t,e),we=xs.create,qs=Ti.create,c$=Qf.create,u$=Pi.create,Wx=Gc.create,d$=Ma.create,f$=Hf.create,h$=Xc.create,YM=Zc.create,Kf=il.create,m$=va.create,p$=Tr.create,g$=Yf.create,Hx=ws.create,Er=ht.create,y$=ht.strictCreate,br=Jc.create,x$=Uh.create,v$=eu.create,b$=Xs.create,Yx=tu.create,w$=qf.create,S$=Da.create,_$=Po.create,N$=nu.create,j$=su.create,k$=Ei.create,C$=ru.create,T$=al.create,Ub=ks.create,P$=Ys.create,E$=Mi.create,M$=ks.createWithPreprocess,D$=Mu.create,A$=()=>we().optional(),O$=()=>qs().optional(),I$=()=>Wx().optional(),Kd={string:t=>xs.create({...t,coerce:!0}),number:t=>Ti.create({...t,coerce:!0}),boolean:t=>Gc.create({...t,coerce:!0}),bigint:t=>Pi.create({...t,coerce:!0}),date:t=>Ma.create({...t,coerce:!0})},R$=me,F$=Object.freeze(Object.defineProperty({__proto__:null,BRAND:a$,DIRTY:go,EMPTY_PATH:L3,INVALID:me,NEVER:R$,OK:xn,ParseStatus:cn,Schema:Te,ZodAny:il,ZodArray:ws,ZodBigInt:Pi,ZodBoolean:Gc,ZodBranded:Bx,ZodCatch:au,ZodDate:Ma,ZodDefault:iu,ZodDiscriminatedUnion:Uh,ZodEffects:ks,ZodEnum:Ei,ZodError:Bn,get ZodFirstPartyTypeKind(){return pe},ZodFunction:Po,ZodIntersection:eu,ZodIssueCode:Q,ZodLazy:nu,ZodLiteral:su,ZodMap:qf,ZodNaN:Qf,ZodNativeEnum:ru,ZodNever:Tr,ZodNull:Zc,ZodNullable:Mi,ZodNumber:Ti,ZodObject:ht,ZodOptional:Ys,ZodParsedType:ae,ZodPipeline:Mu,ZodPromise:al,ZodReadonly:ou,ZodRecord:tu,ZodSchema:Te,ZodSet:Da,ZodString:xs,ZodSymbol:Hf,ZodTransformer:ks,ZodTuple:Xs,ZodType:Te,ZodUndefined:Xc,ZodUnion:Jc,ZodUnknown:va,ZodVoid:Yf,addIssueToContext:te,any:Kf,array:Hx,bigint:u$,boolean:Wx,coerce:Kd,custom:Ux,date:d$,datetimeRegex:WM,defaultErrorMap:rl,discriminatedUnion:x$,effect:Ub,enum:k$,function:_$,getErrorMap:Uf,getParsedType:ur,instanceof:l$,intersection:v$,isAborted:Wg,isAsync:Kc,isDirty:Hg,isValid:Ea,late:o$,lazy:N$,literal:j$,makeIssue:Wf,map:w$,nan:c$,nativeEnum:C$,never:p$,null:YM,nullable:E$,number:qs,object:Er,get objectUtil(){return Ug},oboolean:I$,onumber:O$,optional:P$,ostring:A$,pipeline:D$,preprocess:M$,promise:T$,quotelessJson:R3,record:Yx,set:S$,setErrorMap:F3,strictObject:y$,string:we,symbol:f$,transformer:Ub,tuple:b$,undefined:h$,union:br,unknown:m$,get util(){return Fe},void:g$},Symbol.toStringTag,{value:"Module"})),ft={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function jt(t,e){return e.includes(t.columnType)}function L$(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const z$=br([we(),qs(),Wx(),YM()]),$$=br([z$,Yx(Kf()),Hx(Kf())]),V$=Ux(t=>t instanceof Buffer);function qM(t,e){const n=(e==null?void 0:e.zodInstance)??F$,s=(e==null?void 0:e.coerce)??{};let r;return L$(t)&&(r=t.enumValues.length?n.enum(t.enumValues):n.string()),r||(jt(t,["PgGeometry","PgPointTuple"])?r=n.tuple([n.number(),n.number()]):jt(t,["PgGeometryObject","PgPointObject"])?r=n.object({x:n.number(),y:n.number()}):jt(t,["PgHalfVector","PgVector"])?(r=n.array(n.number()),r=t.dimensions?r.length(t.dimensions):r):jt(t,["PgLine"])?r=n.tuple([n.number(),n.number(),n.number()]):jt(t,["PgLineABC"])?r=n.object({a:n.number(),b:n.number(),c:n.number()}):jt(t,["PgArray"])?(r=n.array(qM(t.baseColumn,n)),r=t.size?r.length(t.size):r):t.dataType==="array"?r=n.array(n.any()):t.dataType==="number"?r=B$(t,n,s):t.dataType==="bigint"?r=U$(t,n,s):t.dataType==="boolean"?r=s===!0||s.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?r=s===!0||s.date?n.coerce.date():n.date():t.dataType==="string"?r=W$(t,n,s):t.dataType==="json"?r=$$:t.dataType==="custom"?r=n.any():t.dataType==="buffer"&&(r=V$)),r||(r=n.any()),r}function B$(t,e,n){let s=t.getSQLType().includes("unsigned"),r,i,a=!1;jt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(r=s?0:ft.INT8_MIN,i=s?ft.INT8_UNSIGNED_MAX:ft.INT8_MAX,a=!0):jt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(r=s?0:ft.INT16_MIN,i=s?ft.INT16_UNSIGNED_MAX:ft.INT16_MAX,a=!0):jt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(r=s?0:ft.INT24_MIN,i=s?ft.INT24_UNSIGNED_MAX:ft.INT24_MAX,a=jt(t,["MySqlMediumInt","SingleStoreMediumInt"])):jt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(r=s?0:ft.INT32_MIN,i=s?ft.INT32_UNSIGNED_MAX:ft.INT32_MAX,a=!0):jt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(r=s?0:ft.INT48_MIN,i=s?ft.INT48_UNSIGNED_MAX:ft.INT48_MAX):jt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||jt(t,["MySqlSerial","SingleStoreSerial"]),r=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):jt(t,["MySqlYear","SingleStoreYear"])?(r=1901,i=2155,a=!0):(r=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=n===!0||n!=null&&n.number?e.coerce.number():e.number();return o=o.min(r).max(i),a?o.int():o}function U$(t,e,n){const s=t.getSQLType().includes("unsigned"),r=s?0n:ft.INT64_MIN,i=s?ft.INT64_UNSIGNED_MAX:ft.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(r).max(i)}function W$(t,e,n){if(jt(t,["PgUUID"]))return e.string().uuid();let s,r,i=!1;jt(t,["PgVarchar","SQLiteText"])?s=t.length:jt(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??ft.INT16_UNSIGNED_MAX:jt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=ft.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=ft.INT24_UNSIGNED_MAX:t.textType==="text"?s=ft.INT16_UNSIGNED_MAX:s=ft.INT8_UNSIGNED_MAX),jt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,i=!0),jt(t,["PgBinaryVector"])&&(r=/^[01]+$/,s=t.dimensions);let a=n===!0||n!=null&&n.string?e.coerce.string():e.string();return a=r?a.regex(r):a,s&&i?a.length(s):s?a.max(s):a}function QM(t){return uE(t)?l3(t):c3(t)}function KM(t,e,n,s){const r={};for(const[i,a]of Object.entries(t)){if(!Gt(a,nl)&&!Gt(a,Bt)&&!Gt(a,Bt.Aliased)&&typeof a=="object"){const f=uE(a)||o3(a)?QM(a):a;r[i]=KM(f,e[i]??{},n,s);continue}const o=e[i];if(o!==void 0&&typeof o!="function"){r[i]=o;continue}const c=Gt(a,nl)?a:void 0,u=c?qM(c,s):Kf(),d=typeof o=="function"?o(u):u;n.never(c)||(r[i]=d,c&&(n.nullable(c)&&(r[i]=r[i].nullable()),n.optional(c)&&(r[i]=r[i].optional())))}return Er(r)}const H$={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},os=(t,e)=>{const n=QM(t);return KM(n,{},H$)},Yn=On("users",{id:_n("id").primaryKey(),email:Ve("email").unique().notNull(),username:Ve("username").unique().notNull(),passwordHash:Ve("password_hash").notNull(),firstName:Ve("first_name"),lastName:Ve("last_name"),profileImageUrl:Ve("profile_image_url"),isEmailVerified:sl("is_email_verified").default(!1),photosPin:Ve("photos_pin"),photosPinEnabled:sl("photos_pin_enabled"),membership:Ve("membership",{length:20}).notNull().default("Premium (beta)"),createdAt:tt("created_at").defaultNow(),updatedAt:tt("updated_at").defaultNow()}),Y$=On("user_profiles",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),gender:Ve("gender"),birthday:$x("birthday"),height:Ve("height"),weight:Ve("weight"),bodyType:Ve("body_type"),onboardingCompleted:sl("onboarding_completed").default(!1),createdAt:tt("created_at").defaultNow(),updatedAt:tt("updated_at").defaultNow()}),q$=On("user_goals",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),goalType:Ve("goal_type").notNull(),isActive:sl("is_active").default(!0),createdAt:tt("created_at").defaultNow()}),Q$=On("progress_entries",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),goalType:Ve("goal_type").notNull(),progressValue:Yt("progress_value").notNull(),entryDate:tt("entry_date").notNull().defaultNow(),createdAt:tt("created_at").defaultNow()}),GM=On("goal_targets",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),goalType:Ve("goal_type",{length:100}).notNull(),goalName:Ve("goal_name",{length:255}).notNull(),targetValuePrimary:wc("target_value_primary",{precision:10,scale:2}).notNull(),targetUnitPrimary:Ve("target_unit_primary",{length:50}).notNull(),targetValueSecondary:wc("target_value_secondary",{precision:10,scale:2}),targetUnitSecondary:Ve("target_unit_secondary",{length:50}),isActive:sl("is_active").default(!0),createdAt:tt("created_at").defaultNow(),updatedAt:tt("updated_at").defaultNow()}),K$=On("goal_progress",{id:_n("id").primaryKey(),goalTargetId:Yt("goal_target_id").notNull().references(()=>GM.id),userId:Yt("user_id").notNull().references(()=>Yn.id),progressDate:$x("progress_date").notNull(),actualValuePrimary:wc("actual_value_primary",{precision:10,scale:2}).notNull(),actualValueSecondary:wc("actual_value_secondary",{precision:10,scale:2}),percentageAchieved:wc("percentage_achieved",{precision:5,scale:2}),createdAt:tt("created_at").defaultNow()}),G$=On("photos",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),filename:Ve("filename").notNull(),originalName:Ve("original_name").notNull(),mimeType:Ve("mime_type").notNull(),size:Yt("size").notNull(),imagePath:Ve("image_path").notNull(),thumbnailPath:Ve("thumbnail_path").notNull(),bucketPath:Ve("bucket_path").notNull(),date:tt("date").notNull(),uploadDate:tt("upload_date").defaultNow()});On("user_sessions",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),tokenHash:Ve("token_hash").notNull(),expiresAt:tt("expires_at").notNull(),createdAt:tt("created_at").defaultNow()});const X$=On("metrics",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),date:tt("date").notNull(),weight:vr("weight",{precision:5,scale:2}),customFields:qE("custom_fields").$type().default({}),createdAt:tt("created_at").defaultNow()});os(X$).omit({id:!0,createdAt:!0});const Z$=On("custom_metric_fields",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),fieldName:Ve("field_name").notNull(),unit:Ve("unit").notNull(),createdAt:tt("created_at").defaultNow()});os(Z$).omit({id:!0,createdAt:!0});const J$=On("activities",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),activityType:Ve("activity_type").notNull(),startTime:tt("start_time").notNull(),endTime:tt("end_time").notNull(),durationMinutes:Yt("duration_minutes"),date:tt("date").notNull(),location:Ve("location"),notes:Vx("notes"),createdAt:tt("created_at").defaultNow()});os(J$).omit({id:!0,createdAt:!0,location:!0,notes:!0});const eV=On("custom_activities",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),name:Ve("name").notNull(),category:Ve("category").notNull().default("STRAIN"),icon:Ve("icon").default("fa-dumbbell"),createdAt:tt("created_at").defaultNow()});os(eV).omit({id:!0,createdAt:!0});const tV=On("macros",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id),description:Vx("description").notNull(),protein:vr("protein",{precision:5,scale:1}).notNull().$type(),fats:vr("fats",{precision:5,scale:1}).notNull().$type(),carbs:vr("carbs",{precision:5,scale:1}).notNull().$type(),date:tt("date").notNull(),createdAt:tt("created_at").defaultNow()});os(tV).omit({id:!0,createdAt:!0}).extend({protein:br([we(),qs()]).transform(t=>String(t)),fats:br([we(),qs()]).transform(t=>String(t)),carbs:br([we(),qs()]).transform(t=>String(t))});const nV=On("macro_targets",{id:_n("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Yn.id).unique(),proteinTarget:vr("protein_target",{precision:5,scale:1}).notNull().default("0").$type(),fatsTarget:vr("fats_target",{precision:5,scale:1}).notNull().default("0").$type(),carbsTarget:vr("carbs_target",{precision:5,scale:1}).notNull().default("0").$type(),createdAt:tt("created_at").defaultNow(),updatedAt:tt("updated_at").defaultNow()});os(nV).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({proteinTarget:br([we(),qs()]).transform(t=>String(t)),fatsTarget:br([we(),qs()]).transform(t=>String(t)),carbsTarget:br([we(),qs()]).transform(t=>String(t))});os(Y$).omit({id:!0,createdAt:!0,updatedAt:!0});os(q$).omit({id:!0,createdAt:!0});os(Q$).omit({id:!0,createdAt:!0});os(G$).omit({id:!0,uploadDate:!0});os(GM).omit({id:!0,createdAt:!0,updatedAt:!0});os(K$).omit({id:!0,createdAt:!0});const sV=Er({usernameOrEmail:we().min(1,"Username or email is required"),password:we().min(6,"Password must be at least 6 characters")}),rV=Er({username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),password:we().min(6,"Password must be at least 6 characters"),firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required")});Er({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional(),goals:Hx(we()).min(1,"Please select at least one goal"),progress:Yx(we(),qs().min(0).max(100))});const qx={Free:{name:"Free",displayName:"🆓 Free",description:"Basic fitness tracking with ads",features:["Basic activity tracking","Photo uploads","Progress charts","Community support"],emoji:"🆓"},"Ad-free":{name:"Ad-free",displayName:"🚫 Ad-free",description:"All free features without advertisements",features:["Everything in Free","No advertisements","Clean interface","Priority support"],emoji:"🚫"},Premium:{name:"Premium",displayName:"⭐ Premium",description:"Full access to all features",features:["Everything in Ad-free","Advanced analytics","Custom goals","Export data","Premium support"],emoji:"⭐"},"Premium (beta)":{name:"Premium (beta)",displayName:"🧪 Premium (Beta)",description:"Early access to premium features",features:["All Premium features","Beta testing access","Early feature previews","Direct feedback channel"],emoji:"🧪"}};function nc(t,e){switch(e){case"ads-free":return["Ad-free","Premium","Premium (beta)"].includes(t);case"premium-analytics":return["Premium","Premium (beta)"].includes(t);case"beta-features":return t==="Premium (beta)";default:return!1}}function iV({onToggleMode:t}){const{toast:e}=Nt(),n=wn(),s=b.useRef(null),[r,i]=b.useState("text"),{register:a,handleSubmit:o,formState:{errors:c}}=wl({resolver:Sl(sV)}),u=()=>{setTimeout(()=>{i("password")},100)},d=It({mutationFn:async m=>await Ee("POST","/api/login",m),onSuccess:async m=>{localStorage.setItem("authToken",m.token),e({title:"Welcome back!",description:"You have been logged in successfully."});try{const y=await Ee("GET","/api/user");n.setQueryData(["/api/user"],y),console.log("Login successful, user data updated:",y)}catch(y){console.error("Failed to fetch user data after login:",y),window.location.reload()}},onError:m=>{e({title:"Login Failed",description:m.message||"Invalid credentials. Please try again.",variant:"destructive"})}}),f=m=>{d.mutate(m)},[,h]=nt();return l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:l.jsx(oe,{className:"w-full max-w-md card-shadow",children:l.jsxs(le,{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),l.jsx("p",{className:"text-gray-600",children:"Welcome back!"})]}),l.jsxs("form",{onSubmit:o(f),className:"space-y-6",autoComplete:"off","data-form-type":"login",noValidate:!0,"data-webkit-autofill":"off","data-password-manager":"off","data-1p-ignore":"true",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"login-username",children:"Username or Email"}),l.jsx(Ce,{id:"login-username",name:"username",type:"text",...a("usernameOrEmail"),placeholder:"Enter your username or email",className:"mt-2",autoComplete:"off",inputMode:"text","data-lpignore":"true","data-form-type":"other",spellCheck:"false",autoCapitalize:"none",autoCorrect:"off","data-webkit-autofill":"off","data-1p-ignore":"true"}),c.usernameOrEmail&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.usernameOrEmail.message})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"login-password",children:"Password"}),l.jsx("input",{type:"password",autoComplete:"new-password",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none"},tabIndex:-1,"aria-hidden":"true"}),l.jsx(Ce,{ref:s,id:"login-password",name:"password",type:r,placeholder:"Enter your password",className:"mt-2",spellCheck:"false",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off","data-lpignore":"true","data-form-type":"other","data-webkit-autofill":"off","data-1p-ignore":"true","data-password-generator":"off","data-password-manager":"off",onFocus:u,...a("password")}),c.password&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.password.message})]}),l.jsx(Y,{type:"submit",disabled:d.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:d.isPending?"Signing In...":"Sign In"})]}),l.jsxs("div",{className:"mt-6 text-center space-y-3",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Create Account"})]}),l.jsx("p",{className:"text-sm",children:l.jsx("button",{onClick:()=>h("/forgot-password"),className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Forgot Password?"})})]})]})})})}function aV({onToggleMode:t}){const{toast:e}=Nt(),n=wn(),{register:s,handleSubmit:r,formState:{errors:i}}=wl({resolver:Sl(rV)}),a=It({mutationFn:async c=>await Ee("POST","/api/register",c),onSuccess:async c=>{localStorage.setItem("authToken",c.token),e({title:"Account Created!",description:"Welcome to Journey! Let's set up your profile."});try{const u=await Ee("GET","/api/user");n.setQueryData(["/api/user"],u),console.log("Registration successful, user data updated:",u)}catch(u){console.error("Failed to fetch user data after registration:",u),window.location.reload()}},onError:c=>{e({title:"Registration Failed",description:c.message||"Failed to create account. Please try again.",variant:"destructive"})}}),o=c=>{a.mutate(c)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:l.jsx(oe,{className:"w-full max-w-md card-shadow",children:l.jsxs(le,{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),l.jsx("p",{className:"text-gray-600",children:"Create your account"})]}),l.jsxs("form",{onSubmit:r(o),className:"space-y-6",autoComplete:"on","data-form-type":"register",children:[l.jsx("input",{type:"hidden",name:"signup-form",value:"true"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"firstName",children:"First Name"}),l.jsx(Ce,{id:"firstName",name:"given-name",...s("firstName"),placeholder:"First name",className:"mt-2",autoComplete:"given-name","data-form-type":"register"}),i.firstName&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.firstName.message})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"lastName",children:"Last Name"}),l.jsx(Ce,{id:"lastName",name:"family-name",...s("lastName"),placeholder:"Last name",className:"mt-2",autoComplete:"family-name","data-form-type":"register"}),i.lastName&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.lastName.message})]})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"register-username",children:"Username"}),l.jsx(Ce,{id:"register-username",name:"username",...s("username"),placeholder:"Choose a unique username",className:"mt-2",autoComplete:"username","data-form-type":"register"}),i.username&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.username.message})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"register-email",children:"Email"}),l.jsx(Ce,{id:"register-email",name:"email",type:"email",...s("email"),placeholder:"Enter your email address",className:"mt-2",autoComplete:"email","data-form-type":"register"}),i.email&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.email.message})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"register-password",children:"Password"}),l.jsx(Ce,{id:"register-password",name:"password",type:"password",...s("password"),placeholder:"Create a secure password",className:"mt-2",autoComplete:"new-password",autoCorrect:"off",spellCheck:"false",autoCapitalize:"none","data-form-type":"register","data-webkit-autofill":"off","data-1p-ignore":"true"}),i.password&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.password.message})]}),l.jsx(Y,{type:"submit",disabled:a.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:a.isPending?"Creating Account...":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Sign In"})]})})]})})})}function Wb(){const[t,e]=b.useState(!0),n=()=>{e(!t)};return t?l.jsx(iV,{onToggleMode:n}):l.jsx(aV,{onToggleMode:n})}var qm="focusScope.autoFocusOnMount",Qm="focusScope.autoFocusOnUnmount",Hb={bubbles:!1,cancelable:!0},oV="FocusScope",Qx=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=t,[o,c]=b.useState(null),u=_s(r),d=_s(i),f=b.useRef(null),h=We(e,p=>c(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let p=function(w){if(m.paused||!o)return;const S=w.target;o.contains(S)?f.current=S:Wr(f.current,{select:!0})},v=function(w){if(m.paused||!o)return;const S=w.relatedTarget;S!==null&&(o.contains(S)||Wr(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Wr(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const g=new MutationObserver(x);return o&&g.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),g.disconnect()}}},[s,o,m.paused]),b.useEffect(()=>{if(o){qb.add(m);const p=document.activeElement;if(!o.contains(p)){const x=new CustomEvent(qm,Hb);o.addEventListener(qm,u),o.dispatchEvent(x),x.defaultPrevented||(lV(hV(XM(o)),{select:!0}),document.activeElement===p&&Wr(o))}return()=>{o.removeEventListener(qm,u),setTimeout(()=>{const x=new CustomEvent(Qm,Hb);o.addEventListener(Qm,d),o.dispatchEvent(x),x.defaultPrevented||Wr(p??document.body,{select:!0}),o.removeEventListener(Qm,d),qb.remove(m)},0)}}},[o,u,d,m]);const y=b.useCallback(p=>{if(!n&&!s||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const g=p.currentTarget,[w,S]=cV(g);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),n&&Wr(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),n&&Wr(S,{select:!0})):x===g&&p.preventDefault()}},[n,s,m.paused]);return l.jsx(Me.div,{tabIndex:-1,...a,ref:h,onKeyDown:y})});Qx.displayName=oV;function lV(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Wr(s,{select:e}),document.activeElement!==n)return}function cV(t){const e=XM(t),n=Yb(e,t),s=Yb(e.reverse(),t);return[n,s]}function XM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yb(t,e){for(const n of t)if(!uV(n,{upTo:e}))return n}function uV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dV(t){return t instanceof HTMLInputElement&&"select"in t}function Wr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&dV(t)&&e&&t.select()}}var qb=fV();function fV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Qb(t,e),t.unshift(e)},remove(e){var n;t=Qb(t,e),(n=t[0])==null||n.resume()}}}function Qb(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function hV(t){return t.filter(e=>e.tagName!=="A")}var Km=0;function ZM(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Kb()),document.body.insertAdjacentElement("beforeend",t[1]??Kb()),Km++,()=>{Km===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Km--}},[])}function Kb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fs=function(){return Fs=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fs.apply(this,arguments)};function JM(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function mV(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var Gd="right-scroll-bar-position",Xd="width-before-scroll-bar",pV="with-scroll-bars-hidden",gV="--removed-body-scroll-bar-size";function Gm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yV(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var xV=typeof window<"u"?b.useLayoutEffect:b.useEffect,Gb=new WeakMap;function vV(t,e){var n=yV(null,function(s){return t.forEach(function(r){return Gm(r,s)})});return xV(function(){var s=Gb.get(n);if(s){var r=new Set(s),i=new Set(t),a=n.current;r.forEach(function(o){i.has(o)||Gm(o,null)}),i.forEach(function(o){r.has(o)||Gm(o,a)})}Gb.set(n,t)},[t]),n}function bV(t){return t}function wV(t,e){e===void 0&&(e=bV);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,s);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(s=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){s=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return r}function SV(t){t===void 0&&(t={});var e=wV(null);return e.options=Fs({async:!0,ssr:!1},t),e}var eD=function(t){var e=t.sideCar,n=JM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,Fs({},n))};eD.isSideCarExport=!0;function _V(t,e){return t.useMedium(e),eD}var tD=SV(),Xm=function(){},Wh=b.forwardRef(function(t,e){var n=b.useRef(null),s=b.useState({onScrollCapture:Xm,onWheelCapture:Xm,onTouchMoveCapture:Xm}),r=s[0],i=s[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,y=t.noIsolation,p=t.inert,v=t.allowPinchZoom,x=t.as,g=x===void 0?"div":x,w=t.gapMode,S=JM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=vV([n,e]),k=Fs(Fs({},S),r);return b.createElement(b.Fragment,null,d&&b.createElement(_,{sideCar:tD,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),a?b.cloneElement(b.Children.only(o),Fs(Fs({},k),{ref:j})):b.createElement(g,Fs({},k,{className:c,ref:j}),o))});Wh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wh.classNames={fullWidth:Xd,zeroRight:Gd};var NV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NV();return e&&t.setAttribute("nonce",e),t}function kV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var TV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jV())&&(kV(e,n),CV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PV=function(){var t=TV();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nD=function(){var t=PV(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},EV={left:0,top:0,right:0,gap:0},Zm=function(t){return parseInt(t||"",10)||0},MV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Zm(n),Zm(s),Zm(r)]},DV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return EV;var e=MV(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},AV=nD(),Eo="data-scroll-locked",OV=function(t,e,n,s){var r=t.left,i=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(pV,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(o,"px ").concat(s,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gd,` {
    right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Xd,` {
    margin-right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(gV,": ").concat(o,`px;
  }
`)},Xb=function(){var t=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(t)?t:0},IV=function(){b.useEffect(function(){return document.body.setAttribute(Eo,(Xb()+1).toString()),function(){var t=Xb()-1;t<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,t.toString())}},[])},RV=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;IV();var i=b.useMemo(function(){return DV(r)},[r]);return b.createElement(AV,{styles:OV(i,!e,r,n?"":"!important")})},qg=!1;if(typeof window<"u")try{var od=Object.defineProperty({},"passive",{get:function(){return qg=!0,!0}});window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{qg=!1}var Ka=qg?{passive:!1}:!1,FV=function(t){return t.tagName==="TEXTAREA"},sD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!FV(t)&&n[e]==="visible")},LV=function(t){return sD(t,"overflowY")},zV=function(t){return sD(t,"overflowX")},Zb=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=rD(t,s);if(r){var i=iD(t,s),a=i[1],o=i[2];if(a>o)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},$V=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},VV=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},rD=function(t,e){return t==="v"?LV(e):zV(e)},iD=function(t,e){return t==="v"?$V(e):VV(e)},BV=function(t,e){return t==="h"&&e==="rtl"?-1:1},UV=function(t,e,n,s,r){var i=BV(t,window.getComputedStyle(e).direction),a=i*s,o=n.target,c=e.contains(o),u=!1,d=a>0,f=0,h=0;do{if(!o)break;var m=iD(t,o),y=m[0],p=m[1],v=m[2],x=p-v-i*y;(y||x)&&rD(t,o)&&(f+=x,h+=y);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},ld=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Jb=function(t){return[t.deltaX,t.deltaY]},ew=function(t){return t&&"current"in t?t.current:t},WV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YV=0,Ga=[];function qV(t){var e=b.useRef([]),n=b.useRef([0,0]),s=b.useRef(),r=b.useState(YV++)[0],i=b.useState(nD)[0],a=b.useRef(t);b.useEffect(function(){a.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var p=mV([t.lockRef.current],(t.shards||[]).map(ew),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=b.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var x=ld(p),g=n.current,w="deltaX"in p?p.deltaX:g[0]-x[0],S="deltaY"in p?p.deltaY:g[1]-x[1],_,j=p.target,k=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&k==="h"&&j.type==="range")return!1;var T=Zb(k,j);if(!T)return!0;if(T?_=k:(_=k==="v"?"h":"v",T=Zb(k,j)),!T)return!1;if(!s.current&&"changedTouches"in p&&(w||S)&&(s.current=_),!_)return!0;var E=s.current||_;return UV(E,v,p,E==="h"?w:S)},[]),c=b.useCallback(function(p){var v=p;if(!(!Ga.length||Ga[Ga.length-1]!==i)){var x="deltaY"in v?Jb(v):ld(v),g=e.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&WV(_.delta,x)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var w=(a.current.shards||[]).map(ew).filter(Boolean).filter(function(_){return _.contains(v.target)}),S=w.length>0?o(v,w[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(p,v,x,g){var w={name:p,delta:v,target:x,should:g,shadowParent:QV(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=b.useCallback(function(p){n.current=ld(p),s.current=void 0},[]),f=b.useCallback(function(p){u(p.type,Jb(p),p.target,o(p,t.lockRef.current))},[]),h=b.useCallback(function(p){u(p.type,ld(p),p.target,o(p,t.lockRef.current))},[]);b.useEffect(function(){return Ga.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ka),document.addEventListener("touchmove",c,Ka),document.addEventListener("touchstart",d,Ka),function(){Ga=Ga.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Ka),document.removeEventListener("touchmove",c,Ka),document.removeEventListener("touchstart",d,Ka)}},[]);var m=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(i,{styles:HV(r)}):null,m?b.createElement(RV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KV=_V(tD,qV);var Kx=b.forwardRef(function(t,e){return b.createElement(Wh,Fs({},t,{ref:e,sideCar:KV}))});Kx.classNames=Wh.classNames;var GV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xa=new WeakMap,cd=new WeakMap,ud={},Jm=0,aD=function(t){return t&&(t.host||aD(t.parentNode))},XV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=aD(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ZV=function(t,e,n,s){var r=XV(e,Array.isArray(t)?t:[t]);ud[n]||(ud[n]=new WeakMap);var i=ud[n],a=[],o=new Set,c=new Set(r),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(s),y=m!==null&&m!=="false",p=(Xa.get(h)||0)+1,v=(i.get(h)||0)+1;Xa.set(h,p),i.set(h,v),a.push(h),p===1&&y&&cd.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),o.clear(),Jm++,function(){a.forEach(function(f){var h=Xa.get(f)-1,m=i.get(f)-1;Xa.set(f,h),i.set(f,m),h||(cd.has(f)||f.removeAttribute(s),cd.delete(f)),m||f.removeAttribute(n)}),Jm--,Jm||(Xa=new WeakMap,Xa=new WeakMap,cd=new WeakMap,ud={})}},oD=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=GV(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),ZV(s,r,n,"aria-hidden")):function(){return null}},Hh="Dialog",[lD,NQ]=Ua(Hh),[JV,Cs]=lD(Hh),cD=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=t,o=b.useRef(null),c=b.useRef(null),[u,d]=Yc({prop:s,defaultProp:r??!1,onChange:i,caller:Hh});return l.jsx(JV,{scope:e,triggerRef:o,contentRef:c,contentId:jo(),titleId:jo(),descriptionId:jo(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};cD.displayName=Hh;var uD="DialogTrigger",dD=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Cs(uD,n),i=We(e,r.triggerRef);return l.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Zx(r.open),...s,ref:i,onClick:xe(t.onClick,r.onOpenToggle)})});dD.displayName=uD;var Gx="DialogPortal",[eB,fD]=lD(Gx,{forceMount:void 0}),hD=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=Cs(Gx,e);return l.jsx(eB,{scope:e,forceMount:n,children:b.Children.map(s,a=>l.jsx(yl,{present:n||i.open,children:l.jsx(Mh,{asChild:!0,container:r,children:a})}))})};hD.displayName=Gx;var Gf="DialogOverlay",mD=b.forwardRef((t,e)=>{const n=fD(Gf,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=Cs(Gf,t.__scopeDialog);return i.modal?l.jsx(yl,{present:s||i.open,children:l.jsx(nB,{...r,ref:e})}):null});mD.displayName=Gf;var tB=Jo("DialogOverlay.RemoveScroll"),nB=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Cs(Gf,n);return l.jsx(Kx,{as:tB,allowPinchZoom:!0,shards:[r.contentRef],children:l.jsx(Me.div,{"data-state":Zx(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Aa="DialogContent",pD=b.forwardRef((t,e)=>{const n=fD(Aa,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=Cs(Aa,t.__scopeDialog);return l.jsx(yl,{present:s||i.open,children:i.modal?l.jsx(sB,{...r,ref:e}):l.jsx(rB,{...r,ref:e})})});pD.displayName=Aa;var sB=b.forwardRef((t,e)=>{const n=Cs(Aa,t.__scopeDialog),s=b.useRef(null),r=We(e,n.contentRef,s);return b.useEffect(()=>{const i=s.current;if(i)return oD(i)},[]),l.jsx(gD,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault())})}),rB=b.forwardRef((t,e)=>{const n=Cs(Aa,t.__scopeDialog),s=b.useRef(!1),r=b.useRef(!1);return l.jsx(gD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(s.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),gD=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=t,o=Cs(Aa,n),c=b.useRef(null),u=We(e,c);return ZM(),l.jsxs(l.Fragment,{children:[l.jsx(Qx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:l.jsx(ku,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Zx(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(iB,{titleId:o.titleId}),l.jsx(oB,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Xx="DialogTitle",yD=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Cs(Xx,n);return l.jsx(Me.h2,{id:r.titleId,...s,ref:e})});yD.displayName=Xx;var xD="DialogDescription",vD=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Cs(xD,n);return l.jsx(Me.p,{id:r.descriptionId,...s,ref:e})});vD.displayName=xD;var bD="DialogClose",wD=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Cs(bD,n);return l.jsx(Me.button,{type:"button",...s,ref:e,onClick:xe(t.onClick,()=>r.onOpenChange(!1))})});wD.displayName=bD;function Zx(t){return t?"open":"closed"}var SD="DialogTitleWarning",[jQ,_D]=tL(SD,{contentName:Aa,titleName:Xx,docsSlug:"dialog"}),iB=({titleId:t})=>{const e=_D(SD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aB="DialogDescriptionWarning",oB=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_D(aB).contentName}}.`;return b.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},lB=cD,cB=dD,uB=hD,ND=mD,jD=pD,kD=yD,CD=vD,dB=wD;const Mr=lB,fB=cB,hB=uB,TD=b.forwardRef(({className:t,...e},n)=>l.jsx(ND,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));TD.displayName=ND.displayName;const er=b.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(hB,{children:[l.jsx(TD,{}),l.jsxs(jD,{ref:s,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(dB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(vx,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=jD.displayName;const Dr=({className:t,...e})=>l.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dr.displayName="DialogHeader";const Ar=b.forwardRef(({className:t,...e},n)=>l.jsx(kD,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",t),...e}));Ar.displayName=kD.displayName;const Jx=b.forwardRef(({className:t,...e},n)=>l.jsx(CD,{ref:n,className:Ie("text-sm text-muted-foreground",t),...e}));Jx.displayName=CD.displayName;const mB={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-20 h-20 text-xl",xl:"w-32 h-32 text-3xl"};function pB(t,e){var r,i;const n=((r=t==null?void 0:t.charAt(0))==null?void 0:r.toUpperCase())||"",s=((i=e==null?void 0:e.charAt(0))==null?void 0:i.toUpperCase())||"";return n+s||"U"}function Yh({firstName:t,lastName:e,profileImageUrl:n,size:s="md",onImageUpload:r,editable:i=!1}){const[a,o]=b.useState(null),[c,u]=b.useState({x:0,y:0}),[d,f]=b.useState(1),[h,m]=b.useState(!1),[y,p]=b.useState(!1),[v,x]=b.useState(!1),[g,w]=b.useState(null),[S,_]=b.useState(null),j=b.useRef(null),k=b.useRef(null),T=pB(t,e),E=mB[s],A=D=>{o(D),u({x:0,y:0}),f(1),m(!0)},z=()=>{a&&r&&(r(a),m(!1),o(null))},R=D=>{const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},L=D=>{D.preventDefault(),D.touches.length===1?(x(!0),w({x:D.touches[0].clientX,y:D.touches[0].clientY})):D.touches.length===2&&(x(!1),_(R(D.touches)))},I=D=>{if(D.preventDefault(),D.touches.length===1&&v&&g){const W=D.touches[0].clientX-g.x,G=D.touches[0].clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.touches[0].clientX,y:D.touches[0].clientY})}else if(D.touches.length===2&&S){const W=R(D.touches),G=W/S;f(ne=>Math.max(.5,Math.min(3,ne*G))),_(W)}},O=D=>{D.preventDefault(),x(!1),w(null),_(null)},V=D=>{x(!0),w({x:D.clientX,y:D.clientY})},B=D=>{if(v&&g){const W=D.clientX-g.x,G=D.clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.clientX,y:D.clientY})}},C=()=>{x(!1),w(null)},F=D=>{D.preventDefault();const W=D.deltaY>0?.9:1.1;f(G=>Math.max(.5,Math.min(3,G*W)))};return l.jsxs("div",{className:"relative inline-block",children:[l.jsx("div",{className:`${E} rounded-full flex items-center justify-center overflow-hidden`,children:n?l.jsx("img",{src:n,alt:"Profile",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-700 to-accent-300 shadow-lg ring-2 ring-black/30",children:l.jsx("span",{className:"font-semibold text-black text-lg",children:T})})}),i&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mt-3 flex justify-center",children:l.jsx(Y,{type:"button",variant:"outline",size:"md",onClick:()=>{var D;return(D=document.getElementById("avatar-photo-upload"))==null?void 0:D.click()},className:"text-sm text-center",children:"Choose a different picture"})}),l.jsx("input",{id:"avatar-photo-upload",type:"file",accept:"image/*",onChange:D=>{var G;const W=(G=D.target.files)==null?void 0:G[0];W&&A(W)},className:"hidden"}),l.jsx(Mr,{open:h,onOpenChange:m,children:l.jsxs(er,{className:"max-w-md",children:[l.jsxs(Dr,{children:[l.jsx(Ar,{className:"text-center",children:"Adjust Your Photo"}),l.jsx(Jx,{className:"sr-only",children:"Use touch gestures to adjust your profile photo"})]}),a&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{ref:k,className:"relative w-64 h-64 mx-auto bg-gray-100 rounded-lg overflow-hidden touch-none",onTouchStart:L,onTouchMove:I,onTouchEnd:O,onMouseDown:V,onMouseMove:B,onMouseUp:C,onMouseLeave:C,onWheel:F,children:[l.jsx("img",{ref:j,src:URL.createObjectURL(a),alt:"Preview",className:"w-full h-full object-cover select-none",style:{transform:`scale(${d}) translate(${c.x}px, ${c.y}px)`},draggable:!1}),l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsxs("svg",{className:"w-full h-full",children:[l.jsx("defs",{children:l.jsxs("mask",{id:"circleMask",children:[l.jsx("rect",{width:"100%",height:"100%",fill:"white"}),l.jsx("circle",{cx:"50%",cy:"50%",r:"100",fill:"black"})]})}),l.jsx("rect",{width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.5)",mask:"url(#circleMask)"})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-[200px] h-[200px] rounded-full border-2 border-white shadow-lg"})})]})]}),l.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Adjust image as needed"}),l.jsxs("div",{className:"flex space-x-2 pt-4",children:[l.jsx(Y,{onClick:()=>m(!1),variant:"outline",className:"flex-1 text-center",children:"Cancel"}),l.jsx(Y,{onClick:z,className:"flex-1 text-center bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500",children:"Save Photo"})]})]})]})})]})]})}function gB({trigger:t,children:e,className:n=""}){const[s,r]=b.useState(!1),i=b.useRef(null),a=b.useRef(null);return b.useEffect(()=>{function o(c){i.current&&!i.current.contains(c.target)&&a.current&&!a.current.contains(c.target)&&r(!1)}if(s)return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[s]),l.jsxs("div",{className:"relative",children:[l.jsx("div",{ref:a,onClick:()=>r(!s),children:t}),s&&l.jsx("div",{ref:i,className:`absolute top-full left-0 mt-2 z-50 bg-white rounded-md shadow-lg border min-w-[200px] ${n}`,style:{transform:"translateZ(0)",willChange:"auto"},children:e})]})}const yB=[{label:"Dashboard",path:"/home",icon:"fas fa-home"},{label:"Blog",path:"/landing",icon:"fas fa-newspaper"},{label:"Goals",path:"/goals",icon:"fas fa-target"},{label:"Nutrition",path:"/nutrition",icon:"fas fa-apple-alt"},{label:"Workouts",path:"/workouts",icon:"fas fa-dumbbell"},{label:"Sleep",path:"/sleep",icon:"fas fa-calculator"},{label:"Photos",path:"/photos",icon:"fas fa-camera"},{label:"Journal",path:"/journal-history",icon:"fas fa-book-open"},{label:"Progress",path:"/progress",icon:"fas fa-chart-line"},{label:"Feedback",path:"/feedback",icon:"fas fa-comment"}];function xB(){const[t]=nt(),e=l.jsx(Y,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),l.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),l.jsx("div",{className:"w-4 h-0.5 bg-gray-600"})]})});return l.jsx(gB,{trigger:e,className:"w-56",children:l.jsx("div",{className:"py-1",children:yB.map(n=>l.jsxs($s,{href:n.path,className:`flex items-center space-x-3 px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 transition-colors ${t===n.path?"bg-primary-50 text-primary-600":"text-gray-700"}`,children:[l.jsx("i",{className:`${n.icon} w-4 h-4`}),l.jsx("span",{children:n.label})]},n.path))})})}function Dt({title:t,showBackButton:e=!1,onBack:n,showHomeButton:s=!1}={}){const{user:r}=Sn();return l.jsx("header",{className:`bg-white shadow-lg border-0 px-2 fixed top-0 left-0 right-0 z-50 
      pt-[calc(env(safe-area-inset-top)+0.75rem)] pb-3 min-h-[calc(env(safe-area-inset-top)+4rem)]`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[e?l.jsxs(Y,{variant:"ghost",size:"sm",onClick:n||(()=>window.history.back()),className:"text-primary-600 hover:text-primary-700 hover:bg-primary-50/50 p-2 flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-arrow-left text-lg"}),l.jsx("span",{children:"Back"})]}):l.jsx(xB,{}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-800",children:t||"Journey"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Your fitness journal for every step"})]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[s&&l.jsx($s,{href:"/home",children:l.jsx("div",{className:"w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-700 transition-colors",children:l.jsx("i",{className:"fas fa-home text-sm",style:{color:"#FFFFFF"}})})}),l.jsx($s,{href:"/profile",children:l.jsx("div",{className:"flex items-center justify-center cursor-pointer",children:l.jsx(Yh,{firstName:(r==null?void 0:r.firstName)||void 0,lastName:(r==null?void 0:r.lastName)||void 0,profileImageUrl:(r==null?void 0:r.profileImageUrl)||void 0,size:"md"})})})]})]})})}function Or(){return l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsx(wt,{children:l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"Quick Actions"})}),l.jsx(le,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx($s,{href:"/progress",children:l.jsxs(Y,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #ec4899, #db2777)",boxShadow:"0 10px 25px rgba(236, 72, 153, 0.3)"},children:[l.jsx("i",{className:"fas fa-plus text-lg"}),l.jsx("span",{className:"text-sm",children:"Log Progress"})]})}),l.jsx($s,{href:"/photos",children:l.jsxs(Y,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #2dd4bf, #14b8a6)",boxShadow:"0 10px 25px rgba(45, 212, 191, 0.3)"},children:[l.jsx("i",{className:"fas fa-camera text-lg"}),l.jsx("span",{className:"text-sm",children:"Add Photos"})]})}),l.jsx($s,{href:"/goals",children:l.jsxs(Y,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #fbbf24, #f59e0b)",boxShadow:"0 10px 25px rgba(251, 191, 36, 0.3)"},children:[l.jsx("i",{className:"fas fa-target text-lg"}),l.jsx("span",{className:"text-sm",children:"View Goals"})]})}),l.jsx($s,{href:"/workouts",children:l.jsxs(Y,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #a855f7, #9333ea)",boxShadow:"0 10px 25px rgba(168, 85, 247, 0.3)"},children:[l.jsx("i",{className:"fas fa-dumbbell text-lg"}),l.jsx("span",{className:"text-sm",children:"Workouts"})]})})]})})]})}const vB=[{filename:"wearables.md",title:"How Wearable Tech is Revolutionizing Fitness and Recovery in 2025",excerpt:"Wearables are no longer just step counters. In 2025, they've become personalized wellness engines—tracking recovery, heart rate variability, sleep, and even stress."},{filename:"nutrition-trends.md",title:"The Future of Personalized Nutrition: AI-Driven Meal Planning",excerpt:"Personalized nutrition is revolutionizing how we approach health and wellness. With AI-powered algorithms analyzing our unique genetic makeup, lifestyle, and goals."},{filename:"sleep-optimization.md",title:"Sleep Optimization: The Missing Link in Fitness Performance",excerpt:"Sleep is the foundation of all health and fitness goals. Yet, it's often the most overlooked aspect of wellness. Understanding how to optimize your sleep."}],PD=async()=>{try{const t=[];for(const e of vB)try{const n=await fetch(`/blog-posts/${e.filename}`);if(n.ok){const s=await n.text();t.push({...e,content:s})}else t.push({...e,content:""})}catch(n){console.warn(`Failed to load ${e.filename}:`,n),t.push({...e,content:""})}return t}catch(t){return console.error("Error loading blog posts:",t),[]}};var ED={};function bB({adSlot:t,adFormat:e="auto",adStyle:n={display:"block"},className:s="",responsive:r=!0}){const i=b.useRef(null),{user:a}=Sn();return b.useEffect(()=>{try{typeof window<"u"&&window.adsbygoogle&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(o){console.error("AdSense error:",o)}},[]),a!=null&&a.membership&&nc(a.membership,"ads-free")?null:l.jsx("div",{className:`adsense-container ${s}`,children:l.jsx("ins",{ref:i,className:"adsbygoogle",style:n,"data-ad-client":ED.VITE_ADSENSE_CLIENT_ID,"data-ad-slot":t,"data-ad-format":e,"data-full-width-responsive":r?"true":"false"})})}function tw({className:t="",adKey:e}){return l.jsx(bB,{adSlot:ED.VITE_ADSENSE_DISPLAY_SLOT||"0987654321",adFormat:"auto",className:`my-8 ${t}`,adStyle:{display:"block",minHeight:"200px"},responsive:!0})}function nw(){const[,t]=nt(),{isAuthenticated:e}=Sn(),[n,s]=b.useState([]),[r,i]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const u=await PD();s(u)}catch(u){console.error("Error loading blog posts:",u)}finally{i(!1)}})()},[]);const a=()=>{e?t("/"):window.history.length>1?window.history.back():t("/")},o=c=>{t(`/blog-post?post=${encodeURIComponent(c)}`)};return l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"JOURNEY BLOG",showBackButton:e,onBack:a}),l.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Latest Articles"}),l.jsx("p",{className:"text-white/80 text-sm",children:"Insights on fitness, nutrition, and wellness"})]}),r?l.jsx("div",{className:"space-y-4",children:[1,2,3].map(c=>l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:l.jsx(le,{className:"pt-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})})},c))}):l.jsxs("div",{className:"space-y-4",children:[n.map((c,u)=>l.jsxs("div",{children:[l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-200 cursor-pointer transform hover:-translate-y-1",onClick:()=>o(c.filename),children:[l.jsx(wt,{className:"pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(St,{className:"text-xl font-bold text-gray-800 line-clamp-2 leading-tight",children:c.title})})}),l.jsx(le,{className:"pt-0",children:l.jsxs("div",{className:"space-y-3 mb-4",children:[c.excerpt&&l.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 leading-relaxed",children:c.excerpt}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:c.filename.replace(".md","")}),l.jsx("div",{className:"text-xs text-gray-400",children:"Read more →"})]})]})})]}),u<n.length-1&&l.jsx(tw,{className:"rounded-lg overflow-hidden bg-white/75 backdrop-blur-sm border-0 shadow-lg"},`ad-${u}`)]},`post-${u}`)),n.length>2&&l.jsx(tw,{className:"rounded-lg overflow-hidden bg-white/75 backdrop-blur-sm border-0 shadow-lg mt-8"},"final-ad")]}),l.jsx(Or,{})]})]})}function wB(){const[,t]=nt(),{isAuthenticated:e}=Sn(),[n,s]=b.useState(null),[r,i]=b.useState(!0),[a,o]=b.useState(null);b.useEffect(()=>{(async()=>{try{const h=new URLSearchParams(window.location.search).get("post");if(!h){o("No blog post specified"),i(!1);return}const y=(await PD()).find(p=>p.filename===h);if(!y){o("Blog post not found"),i(!1);return}s(y)}catch(f){console.error("Error loading blog post:",f),o("Failed to load blog post")}finally{i(!1)}})()},[]);const c=()=>{t(e?"/landing":"/")},u=d=>{const f=d.split(`
`),h=[];let m=[],y=!1;return f.forEach((p,v)=>{if(p.startsWith("# ")){y&&m.length>0&&(h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${v}`)),m=[],y=!1),h.push(l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4 mt-6",children:p.substring(2)},v));return}if(p.startsWith("## ")){y&&m.length>0&&(h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${v}`)),m=[],y=!1),h.push(l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 mt-5",children:p.substring(3)},v));return}if(p.startsWith("### ")){y&&m.length>0&&(h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${v}`)),m=[],y=!1),h.push(l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 mt-4",children:p.substring(4)},v));return}if(p.startsWith("- ")){y||(y=!0),m.push(l.jsx("li",{className:"text-gray-700",children:p.substring(2)},v));return}if(p.startsWith("1. ")){y||(y=!0),m.push(l.jsx("li",{className:"text-gray-700",children:p.substring(3)},v));return}if(y&&p.trim()===""){m.length>0&&(h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${v}`)),m=[],y=!1);return}if(p.includes("**")){y&&m.length>0&&(h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${v}`)),m=[],y=!1);const x=p.split("**");h.push(l.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:x.map((g,w)=>w%2===1?l.jsx("strong",{className:"font-semibold",children:g},w):g)},v));return}if(p.trim()){y&&m.length>0&&(h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${v}`)),m=[],y=!1),h.push(l.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:p},v));return}p.trim()===""&&(y&&m.length>0&&(h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${v}`)),m=[],y=!1),h.push(l.jsx("div",{className:"mb-2"},v)))}),y&&m.length>0&&h.push(l.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},"final-list")),h};return r?l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Loading...",showBackButton:!0,onBack:c}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:l.jsx(le,{className:"pt-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})})})})]}):a||!n?l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Error",showBackButton:!0,onBack:c}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:l.jsx(le,{className:"pt-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Blog Post Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:a||"The requested blog post could not be loaded."}),l.jsx("button",{onClick:c,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Back to Blog"})]})})})})]}):l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:n.title,showBackButton:!0,onBack:c}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[l.jsxs(wt,{className:"pb-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(St,{className:"text-2xl font-bold text-gray-800 leading-tight",children:n.title})}),l.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-wide font-medium",children:n.filename.replace(".md","")})]}),l.jsx(le,{className:"pt-0",children:l.jsx("div",{className:"prose prose-gray max-w-none",children:u(n.content)})})]})})]})}function de(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function it(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Nl(t,e){const n=de(t);return isNaN(e)?it(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Du(t,e){const n=de(t);if(isNaN(e))return it(t,NaN);if(!e)return n;const s=n.getDate(),r=it(t,n.getTime());r.setMonth(n.getMonth()+e+1,0);const i=r.getDate();return s>=i?r:(n.setFullYear(r.getFullYear(),r.getMonth(),s),n)}function qh(t,e){const n=+de(t);return it(t,n+e)}const MD=6048e5,SB=864e5,Au=6e4,Ou=36e5,_B=1e3;function NB(t,e){return qh(t,e*Ou)}let jB={};function Wa(){return jB}function Zs(t,e){var o,c,u,d;const n=Wa(),s=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=de(t),i=r.getDay(),a=(i<s?7:0)+i-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function ol(t){return Zs(t,{weekStartsOn:1})}function DD(t){const e=de(t),n=e.getFullYear(),s=it(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=ol(s),i=it(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=ol(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function ll(t){const e=de(t);return e.setHours(0,0,0,0),e}function Xf(t){const e=de(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function AD(t,e){const n=ll(t),s=ll(e),r=+n-Xf(n),i=+s-Xf(s);return Math.round((r-i)/SB)}function kB(t){const e=DD(t),n=it(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ol(n)}function CB(t,e){return qh(t,e*Au)}function TB(t,e){const n=e*3;return Du(t,n)}function PB(t,e){return qh(t,e*1e3)}function EB(t,e){const n=e*7;return Nl(t,n)}function MB(t,e){return Du(t,e*12)}function Sc(t,e){const n=de(t),s=de(e),r=n.getTime()-s.getTime();return r<0?-1:r>0?1:r}function DB(t){return it(t,Date.now())}function OD(t,e){const n=ll(t),s=ll(e);return+n==+s}function AB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ID(t){if(!AB(t)&&typeof t!="number")return!1;const e=de(t);return!isNaN(Number(e))}function OB(t,e){const n=de(t),s=de(e),r=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return r*12+i}function IB(t,e){const n=de(t),s=de(e);return n.getFullYear()-s.getFullYear()}function RD(t,e){const n=de(t),s=de(e),r=sw(n,s),i=Math.abs(AD(n,s));n.setDate(n.getDate()-r*i);const a=+(sw(n,s)===-r),o=r*(i-a);return o===0?0:o}function sw(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Iu(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Qh(t,e){return+de(t)-+de(e)}function RB(t,e,n){const s=Qh(t,e)/Ou;return Iu(n==null?void 0:n.roundingMethod)(s)}function FB(t,e,n){const s=Qh(t,e)/Au;return Iu(n==null?void 0:n.roundingMethod)(s)}function FD(t){const e=de(t);return e.setHours(23,59,59,999),e}function ev(t){const e=de(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function LB(t){const e=de(t);return+FD(e)==+ev(e)}function LD(t,e){const n=de(t),s=de(e),r=Sc(n,s),i=Math.abs(OB(n,s));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);let o=Sc(n,s)===-r;LB(de(t))&&i===1&&Sc(t,s)===1&&(o=!1),a=r*(i-Number(o))}return a===0?0:a}function zB(t,e,n){const s=LD(t,e)/3;return Iu(n==null?void 0:n.roundingMethod)(s)}function $B(t,e,n){const s=Qh(t,e)/1e3;return Iu(n==null?void 0:n.roundingMethod)(s)}function VB(t,e,n){const s=RD(t,e)/7;return Iu(n==null?void 0:n.roundingMethod)(s)}function BB(t,e){const n=de(t),s=de(e),r=Sc(n,s),i=Math.abs(IB(n,s));n.setFullYear(1584),s.setFullYear(1584);const a=Sc(n,s)===-r,o=r*(i-+a);return o===0?0:o}function UB(t,e){const n=de(t.start),s=de(t.end);let r=+n>+s;const i=r?+n:+s,a=r?s:n;a.setHours(0,0,0,0);let o=1;const c=[];for(;+a<=i;)c.push(de(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return r?c.reverse():c}function WB(t){const e=de(t);return e.setSeconds(0,0),e}function HB(t){const e=de(t),n=e.getMonth(),s=n-n%3;return e.setMonth(s,1),e.setHours(0,0,0,0),e}function zD(t){const e=de(t);return e.setDate(1),e.setHours(0,0,0,0),e}function YB(t){const e=de(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function $D(t){const e=de(t),n=it(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function qB(t){const e=de(t);return e.setMinutes(59,59,999),e}function QB(t,e){var o,c;const n=Wa(),s=n.weekStartsOn??((c=(o=n.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??0,r=de(t),i=r.getDay(),a=(i<s?-7:0)+6-(i-s);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function KB(t){const e=de(t);return e.setSeconds(59,999),e}function GB(t){const e=de(t),n=e.getMonth(),s=n-n%3+3;return e.setMonth(s,0),e.setHours(23,59,59,999),e}function XB(t){const e=de(t);return e.setMilliseconds(999),e}const ZB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JB=(t,e,n)=>{let s;const r=ZB[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ep(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const e6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s6={date:ep({formats:e6,defaultWidth:"full"}),time:ep({formats:t6,defaultWidth:"full"}),dateTime:ep({formats:n6,defaultWidth:"full"})},r6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i6=(t,e,n,s)=>r6[t];function $l(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;r=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const a6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f6=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},h6={ordinalNumber:f6,era:$l({values:a6,defaultWidth:"wide"}),quarter:$l({values:o6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$l({values:l6,defaultWidth:"wide"}),day:$l({values:c6,defaultWidth:"wide"}),dayPeriod:$l({values:u6,defaultWidth:"wide",formattingValues:d6,defaultFormattingWidth:"wide"})};function Vl(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const a=i[0],o=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?p6(o,f=>f.test(a)):m6(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function m6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function p6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function g6(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(r.length);return{value:a,rest:o}}}const y6=/^(\d+)(th|st|nd|rd)?/i,x6=/\d+/i,v6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b6={any:[/^b/i,/^(a|c)/i]},w6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S6={any:[/1/i,/2/i,/3/i,/4/i]},_6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},T6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},P6={ordinalNumber:g6({matchPattern:y6,parsePattern:x6,valueCallback:t=>parseInt(t,10)}),era:Vl({matchPatterns:v6,defaultMatchWidth:"wide",parsePatterns:b6,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:w6,defaultMatchWidth:"wide",parsePatterns:S6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vl({matchPatterns:_6,defaultMatchWidth:"wide",parsePatterns:N6,defaultParseWidth:"any"}),day:Vl({matchPatterns:j6,defaultMatchWidth:"wide",parsePatterns:k6,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:C6,defaultMatchWidth:"any",parsePatterns:T6,defaultParseWidth:"any"})},VD={code:"en-US",formatDistance:JB,formatLong:s6,formatRelative:i6,localize:h6,match:P6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function E6(t){const e=de(t);return AD(e,$D(e))+1}function BD(t){const e=de(t),n=+ol(e)-+kB(e);return Math.round(n/MD)+1}function tv(t,e){var d,f,h,m;const n=de(t),s=n.getFullYear(),r=Wa(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=it(t,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const o=Zs(a,e),c=it(t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=Zs(c,e);return n.getTime()>=o.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function M6(t,e){var o,c,u,d;const n=Wa(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=tv(t,e),i=it(t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),Zs(i,e)}function UD(t,e){const n=de(t),s=+Zs(n,e)-+M6(n,e);return Math.round(s/MD)+1}function Ge(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Vr={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ge(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return Ge(r,e.length)}},Za={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rw={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return Vr.y(t,e)},Y:function(t,e,n,s){const r=tv(t,s),i=r>0?r:1-r;if(e==="YY"){const a=i%100;return Ge(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ge(i,e.length)},R:function(t,e){const n=DD(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ge(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ge(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Vr.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ge(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=UD(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Ge(r,e.length)},I:function(t,e,n){const s=BD(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ge(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vr.d(t,e)},D:function(t,e,n){const s=E6(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ge(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ge(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ge(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return Ge(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Za.noon:s===0?r=Za.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Za.evening:s>=12?r=Za.afternoon:s>=4?r=Za.morning:r=Za.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Vr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vr.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ge(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ge(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vr.s(t,e)},S:function(t,e){return Vr.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return aw(s);case"XXXX":case"XX":return Xi(s);case"XXXXX":case"XXX":default:return Xi(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return aw(s);case"xxxx":case"xx":return Xi(s);case"xxxxx":case"xxx":default:return Xi(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iw(s,":");case"OOOO":default:return"GMT"+Xi(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iw(s,":");case"zzzz":default:return"GMT"+Xi(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return Ge(s,e.length)},T:function(t,e,n){const s=t.getTime();return Ge(s,e.length)}};function iw(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+Ge(i,2)}function aw(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):Xi(t,e)}function Xi(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Ge(Math.trunc(s/60),2),i=Ge(s%60,2);return n+r+e+i}const ow=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},WD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},D6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return ow(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ow(s,e)).replace("{{time}}",WD(r,e))},Qg={p:WD,P:D6},A6=/^D+$/,O6=/^Y+$/,I6=["D","DD","YY","YYYY"];function HD(t){return A6.test(t)}function YD(t){return O6.test(t)}function Kg(t,e,n){const s=R6(t,e,n);if(console.warn(s),I6.includes(t))throw new RangeError(s)}function R6(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const F6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z6=/^'([^]*?)'?$/,$6=/''/g,V6=/[a-zA-Z]/;function je(t,e,n){var d,f,h,m,y,p,v,x;const s=Wa(),r=(n==null?void 0:n.locale)??s.locale??VD,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((p=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((x=(v=s.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,o=de(t);if(!ID(o))throw new RangeError("Invalid time value");let c=e.match(L6).map(g=>{const w=g[0];if(w==="p"||w==="P"){const S=Qg[w];return S(g,r.formatLong)}return g}).join("").match(F6).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:B6(g)};if(rw[w])return{isToken:!0,value:g};if(w.match(V6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(c=r.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return c.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&YD(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&HD(w))&&Kg(w,e,String(t));const S=rw[w[0]];return S(o,w,r.localize,u)}).join("")}function B6(t){const e=t.match(z6);return e?e[1].replace($6,"'"):t}function qD(){return Object.assign({},Wa())}function U6(t){let n=de(t).getDay();return n===0&&(n=7),n}function W6(t,e){const n=e instanceof Date?it(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const H6=10;class QD{constructor(){N(this,"subPriority",0)}validate(e,n){return!0}}class Y6 extends QD{constructor(e,n,s,r,i){super(),this.value=e,this.validateValue=n,this.setValue=s,this.priority=r,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,s){return this.setValue(e,n,this.value,s)}}class q6 extends QD{constructor(){super(...arguments);N(this,"priority",H6);N(this,"subPriority",-1)}set(n,s){return s.timestampIsSet?n:it(n,W6(n,Date))}}class He{run(e,n,s,r){const i=this.parse(e,n,s,r);return i?{setter:new Y6(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,s){return!0}}class Q6 extends He{constructor(){super(...arguments);N(this,"priority",140);N(this,"incompatibleTokens",["R","u","t","T"])}parse(n,s,r){switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,s,r){return s.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const Tt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ls={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Pt(t,e){return t&&{value:e(t.value),rest:t.rest}}function pt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function zs(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const s=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:s*(r*Ou+i*Au+a*_B),rest:e.slice(n[0].length)}}function KD(t){return pt(Tt.anyDigitsSigned,t)}function _t(t,e){switch(t){case 1:return pt(Tt.singleDigit,e);case 2:return pt(Tt.twoDigits,e);case 3:return pt(Tt.threeDigits,e);case 4:return pt(Tt.fourDigits,e);default:return pt(new RegExp("^\\d{1,"+t+"}"),e)}}function Zf(t,e){switch(t){case 1:return pt(Tt.singleDigitSigned,e);case 2:return pt(Tt.twoDigitsSigned,e);case 3:return pt(Tt.threeDigitsSigned,e);case 4:return pt(Tt.fourDigitsSigned,e);default:return pt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function nv(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function GD(t,e){const n=e>0,s=n?e:1-e;let r;if(s<=50)r=t||100;else{const i=s+50,a=Math.trunc(i/100)*100,o=t>=i%100;r=t+a-(o?100:0)}return n?r:1-r}function XD(t){return t%400===0||t%4===0&&t%100!==0}class K6 extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,s,r){const i=a=>({year:a,isTwoDigitYear:s==="yy"});switch(s){case"y":return Pt(_t(4,n),i);case"yo":return Pt(r.ordinalNumber(n,{unit:"year"}),i);default:return Pt(_t(s.length,n),i)}}validate(n,s){return s.isTwoDigitYear||s.year>0}set(n,s,r){const i=n.getFullYear();if(r.isTwoDigitYear){const o=GD(r.year,i);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const a=!("era"in s)||s.era===1?r.year:1-r.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class G6 extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,s,r){const i=a=>({year:a,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Pt(_t(4,n),i);case"Yo":return Pt(r.ordinalNumber(n,{unit:"year"}),i);default:return Pt(_t(s.length,n),i)}}validate(n,s){return s.isTwoDigitYear||s.year>0}set(n,s,r,i){const a=tv(n,i);if(r.isTwoDigitYear){const c=GD(r.year,a);return n.setFullYear(c,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Zs(n,i)}const o=!("era"in s)||s.era===1?r.year:1-r.year;return n.setFullYear(o,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Zs(n,i)}}class X6 extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,s){return Zf(s==="R"?4:s.length,n)}set(n,s,r){const i=it(n,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),ol(i)}}class Z6 extends He{constructor(){super(...arguments);N(this,"priority",130);N(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,s){return Zf(s==="u"?4:s.length,n)}set(n,s,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class J6 extends He{constructor(){super(...arguments);N(this,"priority",120);N(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"Q":case"QQ":return _t(s.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=1&&s<=4}set(n,s,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class eU extends He{constructor(){super(...arguments);N(this,"priority",120);N(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"q":case"qq":return _t(s.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,s){return s>=1&&s<=4}set(n,s,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class tU extends He{constructor(){super(...arguments);N(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);N(this,"priority",110)}parse(n,s,r){const i=a=>a-1;switch(s){case"M":return Pt(pt(Tt.month,n),i);case"MM":return Pt(_t(2,n),i);case"Mo":return Pt(r.ordinalNumber(n,{unit:"month"}),i);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=0&&s<=11}set(n,s,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class nU extends He{constructor(){super(...arguments);N(this,"priority",110);N(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,s,r){const i=a=>a-1;switch(s){case"L":return Pt(pt(Tt.month,n),i);case"LL":return Pt(_t(2,n),i);case"Lo":return Pt(r.ordinalNumber(n,{unit:"month"}),i);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,s){return s>=0&&s<=11}set(n,s,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function sU(t,e,n){const s=de(t),r=UD(s,n)-e;return s.setDate(s.getDate()-r*7),s}class rU extends He{constructor(){super(...arguments);N(this,"priority",100);N(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,s,r){switch(s){case"w":return pt(Tt.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return _t(s.length,n)}}validate(n,s){return s>=1&&s<=53}set(n,s,r,i){return Zs(sU(n,r,i),i)}}function iU(t,e){const n=de(t),s=BD(n)-e;return n.setDate(n.getDate()-s*7),n}class aU extends He{constructor(){super(...arguments);N(this,"priority",100);N(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,s,r){switch(s){case"I":return pt(Tt.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return _t(s.length,n)}}validate(n,s){return s>=1&&s<=53}set(n,s,r){return ol(iU(n,r))}}const oU=[31,28,31,30,31,30,31,31,30,31,30,31],lU=[31,29,31,30,31,30,31,31,30,31,30,31];class cU extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"subPriority",1);N(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"d":return pt(Tt.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return _t(s.length,n)}}validate(n,s){const r=n.getFullYear(),i=XD(r),a=n.getMonth();return i?s>=1&&s<=lU[a]:s>=1&&s<=oU[a]}set(n,s,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class uU extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"subpriority",1);N(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,s,r){switch(s){case"D":case"DD":return pt(Tt.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return _t(s.length,n)}}validate(n,s){const r=n.getFullYear();return XD(r)?s>=1&&s<=366:s>=1&&s<=365}set(n,s,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function sv(t,e,n){var f,h,m,y;const s=Wa(),r=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,i=de(t),a=i.getDay(),c=(e%7+7)%7,u=7-r,d=e<0||e>6?e-(a+u)%7:(c+u)%7-(a+u)%7;return Nl(i,d)}class dU extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=0&&s<=6}set(n,s,r,i){return n=sv(n,r,i),n.setHours(0,0,0,0),n}}class fU extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,s,r,i){const a=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return Pt(_t(s.length,n),a);case"eo":return Pt(r.ordinalNumber(n,{unit:"day"}),a);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=0&&s<=6}set(n,s,r,i){return n=sv(n,r,i),n.setHours(0,0,0,0),n}}class hU extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,s,r,i){const a=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return Pt(_t(s.length,n),a);case"co":return Pt(r.ordinalNumber(n,{unit:"day"}),a);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,s){return s>=0&&s<=6}set(n,s,r,i){return n=sv(n,r,i),n.setHours(0,0,0,0),n}}function mU(t,e){const n=de(t),s=U6(n),r=e-s;return Nl(n,r)}class pU extends He{constructor(){super(...arguments);N(this,"priority",90);N(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,s,r){const i=a=>a===0?7:a;switch(s){case"i":case"ii":return _t(s.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return Pt(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Pt(r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Pt(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Pt(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,s){return s>=1&&s<=7}set(n,s,r){return n=mU(n,r),n.setHours(0,0,0,0),n}}class gU extends He{constructor(){super(...arguments);N(this,"priority",80);N(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,s,r){switch(s){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,s,r){return n.setHours(nv(r),0,0,0),n}}class yU extends He{constructor(){super(...arguments);N(this,"priority",80);N(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,s,r){switch(s){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,s,r){return n.setHours(nv(r),0,0,0),n}}class xU extends He{constructor(){super(...arguments);N(this,"priority",80);N(this,"incompatibleTokens",["a","b","t","T"])}parse(n,s,r){switch(s){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,s,r){return n.setHours(nv(r),0,0,0),n}}class vU extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,s,r){switch(s){case"h":return pt(Tt.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return _t(s.length,n)}}validate(n,s){return s>=1&&s<=12}set(n,s,r){const i=n.getHours()>=12;return i&&r<12?n.setHours(r+12,0,0,0):!i&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class bU extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,s,r){switch(s){case"H":return pt(Tt.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return _t(s.length,n)}}validate(n,s){return s>=0&&s<=23}set(n,s,r){return n.setHours(r,0,0,0),n}}class wU extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,s,r){switch(s){case"K":return pt(Tt.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return _t(s.length,n)}}validate(n,s){return s>=0&&s<=11}set(n,s,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class SU extends He{constructor(){super(...arguments);N(this,"priority",70);N(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,s,r){switch(s){case"k":return pt(Tt.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return _t(s.length,n)}}validate(n,s){return s>=1&&s<=24}set(n,s,r){const i=r<=24?r%24:r;return n.setHours(i,0,0,0),n}}class _U extends He{constructor(){super(...arguments);N(this,"priority",60);N(this,"incompatibleTokens",["t","T"])}parse(n,s,r){switch(s){case"m":return pt(Tt.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return _t(s.length,n)}}validate(n,s){return s>=0&&s<=59}set(n,s,r){return n.setMinutes(r,0,0),n}}class NU extends He{constructor(){super(...arguments);N(this,"priority",50);N(this,"incompatibleTokens",["t","T"])}parse(n,s,r){switch(s){case"s":return pt(Tt.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return _t(s.length,n)}}validate(n,s){return s>=0&&s<=59}set(n,s,r){return n.setSeconds(r,0),n}}class jU extends He{constructor(){super(...arguments);N(this,"priority",30);N(this,"incompatibleTokens",["t","T"])}parse(n,s){const r=i=>Math.trunc(i*Math.pow(10,-s.length+3));return Pt(_t(s.length,n),r)}set(n,s,r){return n.setMilliseconds(r),n}}class kU extends He{constructor(){super(...arguments);N(this,"priority",10);N(this,"incompatibleTokens",["t","T","x"])}parse(n,s){switch(s){case"X":return zs(Ls.basicOptionalMinutes,n);case"XX":return zs(Ls.basic,n);case"XXXX":return zs(Ls.basicOptionalSeconds,n);case"XXXXX":return zs(Ls.extendedOptionalSeconds,n);case"XXX":default:return zs(Ls.extended,n)}}set(n,s,r){return s.timestampIsSet?n:it(n,n.getTime()-Xf(n)-r)}}class CU extends He{constructor(){super(...arguments);N(this,"priority",10);N(this,"incompatibleTokens",["t","T","X"])}parse(n,s){switch(s){case"x":return zs(Ls.basicOptionalMinutes,n);case"xx":return zs(Ls.basic,n);case"xxxx":return zs(Ls.basicOptionalSeconds,n);case"xxxxx":return zs(Ls.extendedOptionalSeconds,n);case"xxx":default:return zs(Ls.extended,n)}}set(n,s,r){return s.timestampIsSet?n:it(n,n.getTime()-Xf(n)-r)}}class TU extends He{constructor(){super(...arguments);N(this,"priority",40);N(this,"incompatibleTokens","*")}parse(n){return KD(n)}set(n,s,r){return[it(n,r*1e3),{timestampIsSet:!0}]}}class PU extends He{constructor(){super(...arguments);N(this,"priority",20);N(this,"incompatibleTokens","*")}parse(n){return KD(n)}set(n,s,r){return[it(n,r),{timestampIsSet:!0}]}}const EU={G:new Q6,y:new K6,Y:new G6,R:new X6,u:new Z6,Q:new J6,q:new eU,M:new tU,L:new nU,w:new rU,I:new aU,d:new cU,D:new uU,E:new dU,e:new fU,c:new hU,i:new pU,a:new gU,b:new yU,B:new xU,h:new vU,H:new bU,K:new wU,k:new SU,m:new _U,s:new NU,S:new jU,X:new kU,x:new CU,t:new TU,T:new PU},MU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AU=/^'([^]*?)'?$/,OU=/''/g,IU=/\S/,RU=/[a-zA-Z]/;function FU(t,e,n,s){var p,v,x,g,w,S,_,j;const r=qD(),i=(s==null?void 0:s.locale)??r.locale??VD,a=(s==null?void 0:s.firstWeekContainsDate)??((v=(p=s==null?void 0:s.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(x=r.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,o=(s==null?void 0:s.weekStartsOn)??((S=(w=s==null?void 0:s.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((j=(_=r.locale)==null?void 0:_.options)==null?void 0:j.weekStartsOn)??0;if(e==="")return t===""?de(n):it(n,NaN);const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i},u=[new q6],d=e.match(DU).map(k=>{const T=k[0];if(T in Qg){const E=Qg[T];return E(k,i.formatLong)}return k}).join("").match(MU),f=[];for(let k of d){!(s!=null&&s.useAdditionalWeekYearTokens)&&YD(k)&&Kg(k,e,t),!(s!=null&&s.useAdditionalDayOfYearTokens)&&HD(k)&&Kg(k,e,t);const T=k[0],E=EU[T];if(E){const{incompatibleTokens:A}=E;if(Array.isArray(A)){const R=f.find(L=>A.includes(L.token)||L.token===T);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${k}\` at the same time`)}else if(E.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);f.push({token:T,fullToken:k});const z=E.run(t,k,i.match,c);if(!z)return it(n,NaN);u.push(z.setter),t=z.rest}else{if(T.match(RU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(k==="''"?k="'":T==="'"&&(k=LU(k)),t.indexOf(k)===0)t=t.slice(k.length);else return it(n,NaN)}}if(t.length>0&&IU.test(t))return it(n,NaN);const h=u.map(k=>k.priority).sort((k,T)=>T-k).filter((k,T,E)=>E.indexOf(k)===T).map(k=>u.filter(T=>T.priority===k).sort((T,E)=>E.subPriority-T.subPriority)).map(k=>k[0]);let m=de(n);if(isNaN(m.getTime()))return it(n,NaN);const y={};for(const k of h){if(!k.validate(m,c))return it(n,NaN);const T=k.set(m,y,c);Array.isArray(T)?(m=T[0],Object.assign(y,T[1])):m=T}return it(n,m)}function LU(t){return t.match(AU)[1].replace(OU,"'")}function zU(t){const e=de(t);return e.setMinutes(0,0,0),e}function $U(t,e){const n=de(t),s=de(e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function VU(t){const e=de(t);return e.setMilliseconds(0),e}function Di(t){return OD(t,DB(t))}function cl(t,e){return Nl(t,-e)}function Kh(t,e){const n=(e==null?void 0:e.additionalDigits)??2,s=HU(t);let r;if(s.date){const c=YU(s.date,n);r=qU(c.restDateString,c.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const i=r.getTime();let a=0,o;if(s.time&&(a=QU(s.time),isNaN(a)))return new Date(NaN);if(s.timezone){if(o=KU(s.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(i+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+a+o)}const dd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,WU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function HU(t){const e={},n=t.split(dd.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],dd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(dd.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const r=dd.timezone.exec(s);r?(e.time=s.replace(r[1],""),e.timezone=r[1]):e.time=s}return e}function YU(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?r:i*100,restDateString:t.slice((s[1]||s[2]).length)}}function qU(t,e){if(e===null)return new Date(NaN);const n=t.match(BU);if(!n)return new Date(NaN);const s=!!n[4],r=Bl(n[1]),i=Bl(n[2])-1,a=Bl(n[3]),o=Bl(n[4]),c=Bl(n[5])-1;if(s)return e8(e,o,c)?GU(e,o,c):new Date(NaN);{const u=new Date(0);return!ZU(e,i,a)||!JU(e,r)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(r,a)),u)}}function Bl(t){return t?parseInt(t):1}function QU(t){const e=t.match(UU);if(!e)return NaN;const n=tp(e[1]),s=tp(e[2]),r=tp(e[3]);return t8(n,s,r)?n*Ou+s*Au+r*1e3:NaN}function tp(t){return t&&parseFloat(t.replace(",","."))||0}function KU(t){if(t==="Z")return 0;const e=t.match(WU);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return n8(s,r)?n*(s*Ou+r*Au):NaN}function GU(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const r=s.getUTCDay()||7,i=(e-1)*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}const XU=[31,null,31,30,31,30,31,31,30,31,30,31];function ZD(t){return t%400===0||t%4===0&&t%100!==0}function ZU(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(XU[e]||(ZD(t)?29:28))}function JU(t,e){return e>=1&&e<=(ZD(t)?366:365)}function e8(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function t8(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function n8(t,e){return e>=0&&e<=59}function s8(t,e){return Du(t,-1)}function r8({selectedDate:t,onDateSelect:e,onClose:n}){const[s,r]=b.useState(t),i=zD(s),a=ev(s),o=UB({start:i,end:a}),c=()=>{r(s8(s))},u=()=>{r(Du(s,1))},d=f=>{e(f),n==null||n()};return l.jsx(oe,{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-white/95 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:l.jsxs(le,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Y,{variant:"ghost",size:"sm",onClick:c,className:"p-2 h-8 w-8 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-chevron-left text-sm"})}),l.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:je(s,"MMMM yyyy").toUpperCase()}),l.jsx(Y,{variant:"ghost",size:"sm",onClick:u,className:"p-2 h-8 w-8 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-chevron-right text-sm"})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(f=>l.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:f},f))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:o.map(f=>l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>d(f),className:`
                h-8 w-8 p-0 text-sm font-normal
                ${OD(f,t)?"bg-gray-800 text-white hover:bg-gray-700":Di(f)?"text-yellow-600 font-semibold hover:bg-yellow-50":$U(f,s)?"text-gray-700 hover:bg-gray-100":"text-gray-400 hover:bg-gray-50"}
              `,children:je(f,"d")},f.toISOString()))})]})})}function i8({selectedDate:t,onDateChange:e}){const[n,s]=b.useState(!1),r=()=>{e(cl(t,1))},i=()=>{e(Nl(t,1))},a=()=>{s(!n)},o=c=>{e(c),s(!1)};return l.jsxs("div",{className:"relative mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsx(Y,{variant:"outline",size:"sm",onClick:r,className:`bg-gray-800 text-white border-gray-800 
      hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center`,children:" prev "}),l.jsx(Y,{variant:"outline",onClick:a,className:`
            px-6 py-2 font-semibold transition-all duration-200 min-w-[140px] h-10
            ${Di(t),"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg"}
          `,children:Di(t)?"TODAY":je(t,"EEE, MMM d").toUpperCase()}),l.jsx(Y,{variant:"outline",size:"sm",onClick:i,className:"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center",children:"next"})]}),n&&l.jsx(r8,{selectedDate:t,onDateSelect:o,onClose:()=>s(!1)})]})}function a8({selectedDate:t}){const[,e]=nt(),{data:n=[]}=Rt({queryKey:[`/api/activities/date/${je(t,"yyyy-MM-dd")}`]}),s=[...n].sort((c,u)=>!c.startTime||!u.startTime?0:new Date(c.startTime).getTime()-new Date(u.startTime).getTime()),r=c=>{e(`/add-activity?edit=${c.id}&activityType=${encodeURIComponent(c.activityType||"")}&startTime=${encodeURIComponent(c.startTime||"")}&endTime=${encodeURIComponent(c.endTime||"")}&date=${encodeURIComponent(c.date||"")}`)},i=c=>{switch(c){case"walking":return"fa-walking";case"running":return"fa-running";case"cycling":return"fa-biking";case"sleep":return"fa-bed";default:return"fa-dumbbell"}},a=c=>{switch(c){case"walking":return"bg-blue-500";case"running":return"bg-green-500";case"cycling":return"bg-yellow-500";case"sleep":return"bg-purple-500";default:return"bg-gray-500"}},o=c=>{const u=typeof c=="string"?new Date(c):c;return je(u,"h:mm a")};return l.jsxs(oe,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[l.jsx(wt,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(St,{className:"text-xl font-bold text-gray-800",children:"My Day"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Tap activity to edit"})]})}),l.jsxs(le,{className:"pt-0",children:[l.jsx("div",{className:"space-y-3 mb-4",children:s.length>0?s.map(c=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3 cursor-pointer hover:bg-gray-700 transition-colors duration-200",onClick:()=>r(c),children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`${a(c.activityType||"")} rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12`,children:l.jsx("i",{className:`fas ${i(c.activityType||"")} text-white text-sm`})}),l.jsx("div",{children:l.jsx("div",{className:"text-white font-medium",children:E4(c.activityType||"")})})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-gray-300 text-sm font-medium",children:c.startTime&&c.endTime&&M4(nP(je(new Date(c.startTime),"HH:mm"),je(new Date(c.endTime),"HH:mm"),c.activityType))}),l.jsxs("div",{className:"text-right text-gray-300 text-sm",children:[l.jsx("div",{children:c.startTime&&o(c.startTime)}),l.jsx("div",{children:c.endTime&&o(c.endTime)})]})]})]},c.id)):l.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No activities logged ",Di(t)?"today":"for this date"]})}),l.jsx($s,{href:`/add-activity?date=${je(t,"yyyy-MM-dd")}`,onClick:()=>{const c=je(t,"yyyy-MM-dd");console.log("🔗 MyDayBlock Link Debug - selectedDate:",t),console.log("🔗 MyDayBlock Link Debug - formatted date param:",c),console.log("🔗 MyDayBlock Link Debug - full URL:",`/add-activity?date=${c}`)},children:l.jsxs(Y,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"ADD ACTIVITY"]})}),l.jsx($s,{href:`/journal-entry?date=${je(t,"yyyy-MM-dd")}`,onClick:()=>{je(t,"yyyy-MM-dd")},children:l.jsxs(Y,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 mt-2 rounded-lg transition-all duration-200",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"JOURNAL"]})})]})]})}const JD=Mz,e2=b.createContext({}),ia=({...t})=>l.jsx(e2.Provider,{value:{name:t.name},children:l.jsx(Iz,{...t})}),Gh=()=>{const t=b.useContext(e2),e=b.useContext(t2),{getFieldState:n,formState:s}=Bh(),r=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},t2=b.createContext({}),oi=b.forwardRef(({className:t,...e},n)=>{const s=b.useId();return l.jsx(t2.Provider,{value:{id:s},children:l.jsx("div",{ref:n,className:Ie("space-y-2",t),...e})})});oi.displayName="FormItem";const li=b.forwardRef(({className:t,...e},n)=>{const{error:s,formItemId:r}=Gh();return l.jsx($e,{ref:n,className:Ie(s&&"text-destructive",t),htmlFor:r,...e})});li.displayName="FormLabel";const ci=b.forwardRef(({...t},e)=>{const{error:n,formItemId:s,formDescriptionId:r,formMessageId:i}=Gh();return l.jsx(bT,{ref:e,id:s,"aria-describedby":n?`${r} ${i}`:`${r}`,"aria-invalid":!!n,...t})});ci.displayName="FormControl";const o8=b.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:s}=Gh();return l.jsx("p",{ref:n,id:s,className:Ie("text-sm text-muted-foreground",t),...e})});o8.displayName="FormDescription";const ui=b.forwardRef(({className:t,children:e,...n},s)=>{const{error:r,formMessageId:i}=Gh(),a=r?String((r==null?void 0:r.message)??""):e;return a?l.jsx("p",{ref:s,id:i,className:Ie("text-sm font-medium text-destructive",t),...n,children:a}):null});ui.displayName="FormMessage";const np={fat:9,protein:4,carbs:4};function n2(t,e,n){return t*np.protein+e*np.fat+n*np.carbs}function s2(t){const e=t.reduce((n,s)=>({protein:n.protein+(Number(s.protein)||0),fats:n.fats+(Number(s.fats)||0),carbs:n.carbs+(Number(s.carbs)||0)}),{protein:0,fats:0,carbs:0});return{...e,totalCalories:n2(e.protein,e.fats,e.carbs)}}function l8(t,e=7){const n=new Date,s=[];for(let r=e-1;r>=0;r--){const i=cl(n,r),a=je(i,"yyyy-MM-dd"),o=t[a]||[];if(o.length>0){const c=s2(o);s.push({date:a,value:c.totalCalories})}}return s}function c8(t,e){return{protein:e.proteinTarget>0?t.protein/e.proteinTarget*100:0,fats:e.fatsTarget>0?t.fats/e.fatsTarget*100:0,carbs:e.carbsTarget>0?t.carbs/e.carbsTarget*100:0}}const u8=Er({proteinTarget:Kd.number().min(0),fatsTarget:Kd.number().min(0),carbsTarget:Kd.number().min(0)});function d8({selectedDate:t}){const e=wn(),{toast:n}=Nt(),[s,r]=b.useState(!1),{data:i=[]}=Rt({queryKey:[`/api/macros/date/${je(t,"yyyy-MM-dd")}`]}),{data:a}=Rt({queryKey:["/api/macro-targets"]}),o=wl({resolver:Sl(u8),defaultValues:{proteinTarget:a!=null&&a.proteinTarget?parseFloat(a.proteinTarget.toString()):0,fatsTarget:a!=null&&a.fatsTarget?parseFloat(a.fatsTarget.toString()):0,carbsTarget:a!=null&&a.carbsTarget?parseFloat(a.carbsTarget.toString()):0}});b.useEffect(()=>{a&&o.reset({proteinTarget:parseFloat(a.proteinTarget.toString()),fatsTarget:parseFloat(a.fatsTarget.toString()),carbsTarget:parseFloat(a.carbsTarget.toString())})},[a,o]);const c=It({mutationFn:async h=>await Ee("POST","/api/macro-targets",h),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/macro-targets"]}),r(!1),n({title:"Success",description:"Macro targets updated successfully"})},onError:()=>{n({title:"Error",description:"Failed to update macro targets",variant:"destructive"})}}),d=i.reduce((h,m)=>({protein:h.protein+parseFloat(m.protein.toString()),fats:h.fats+parseFloat(m.fats.toString()),carbs:h.carbs+parseFloat(m.carbs.toString())}),{protein:0,fats:0,carbs:0}),f=h=>{c.mutate(h)};return l.jsxs(oe,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[l.jsx(wt,{className:"pb-0",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(St,{className:"text-xl font-bold text-gray-800",children:"Nutrition"}),l.jsx("div",{className:"flex items-center justify-end",children:l.jsxs(Mr,{open:s,onOpenChange:r,children:[l.jsx(fB,{asChild:!0,children:l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsxs("button",{className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:["Target: P:",a?parseFloat(a.proteinTarget.toString()):0,"g | F:",a?parseFloat(a.fatsTarget.toString()):0,"g | C:",a?parseFloat(a.carbsTarget.toString()):0,"g"]}),l.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Click to edit targets"})]})}),l.jsxs(er,{className:"sm:max-w-[425px] bg-white border-0 shadow-2xl",children:[l.jsx(Dr,{className:"pb-4",children:l.jsx(Ar,{className:"text-xl font-bold text-gray-800 text-center",children:"Edit Macro Targets"})}),l.jsx(JD,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-6 px-1",children:[l.jsx(ia,{control:o.control,name:"proteinTarget",render:({field:h})=>l.jsxs(oi,{children:[l.jsx(li,{className:"text-gray-700 font-medium",children:"Protein Target (grams)"}),l.jsx(ci,{children:l.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),l.jsx(ui,{})]})}),l.jsx(ia,{control:o.control,name:"fatsTarget",render:({field:h})=>l.jsxs(oi,{children:[l.jsx(li,{className:"text-gray-700 font-medium",children:"Fats Target (grams)"}),l.jsx(ci,{children:l.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),l.jsx(ui,{})]})}),l.jsx(ia,{control:o.control,name:"carbsTarget",render:({field:h})=>l.jsxs(oi,{children:[l.jsx(li,{className:"text-gray-700 font-medium",children:"Carbs Target (grams)"}),l.jsx(ci,{children:l.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),l.jsx(ui,{})]})}),l.jsx("div",{className:"pt-6 border-t border-gray-200 bg-gray-50 -mx-1 px-4 py-4 rounded-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Total Calories"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Math.round(n2(parseFloat(o.watch("proteinTarget"))||0,parseFloat(o.watch("fatsTarget"))||0,parseFloat(o.watch("carbsTarget"))||0))}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["P: ",parseFloat(o.watch("proteinTarget"))||0,"g × 4 + F: ",parseFloat(o.watch("fatsTarget"))||0,"g × 9 + C: ",parseFloat(o.watch("carbsTarget"))||0,"g × 4"]})]})}),l.jsx(Y,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:c.isPending,children:c.isPending?"Updating...":"Update Targets"})]})})]})]})})]})}),l.jsxs(le,{className:"pt-0",children:[l.jsxs("div",{className:"space-y-4 mb-2",children:[l.jsx("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 mb-3",children:i.length>0&&l.jsxs("span",{className:"text-xs text-right",children:["P: ",d.protein,"g | F: ",d.fats,"g | C: ",d.carbs,"g"]})}),i.length>0?i.map(h=>l.jsx("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-green-500 rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12",children:l.jsx("i",{className:"fas fa-utensils text-white text-sm"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:h.description}),l.jsxs("div",{className:"text-gray-300 text-xs",children:["P: ",h.protein,"g • F: ",h.fats,"g • C: ",h.carbs,"g"]})]})]})},h.id)):l.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No macros logged ",Di(t)?"today":"for this date"]})]}),l.jsx($s,{href:`/add-macros?date=${je(t,"yyyy-MM-dd")}`,children:l.jsxs(Y,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"ADD MACROS"]})})]})]})}function f8({selectedDate:t}){var y;const[e,n]=b.useState(!1),[,s]=nt(),[r,i]=b.useState({}),a=wn(),o=je(t,"yyyy-MM-dd"),{data:c=[]}=Rt({queryKey:[`/api/metrics/date/${o}`]}),{data:u=[]}=Rt({queryKey:["/api/custom-metric-fields"]}),d=c.find(p=>je(new Date(p.date),"yyyy-MM-dd")===o);b.useEffect(()=>{i({})},[o]),console.log("Metrics Debug:",{tempValues:r,dateStr:o,currentMetric:d});const f=It({mutationFn:async p=>Ee("DELETE",`/api/custom-metric-fields/${p}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),u.length<=1&&n(!1)}}),h=It({mutationFn:async p=>Ee("POST","/api/metrics",{date:o,weight:p.weight,customFields:p.customFields}),onSuccess:p=>{console.log("Metric saved successfully:",p),a.invalidateQueries({queryKey:[`/api/metrics/date/${o}`]}),i({})},onError:p=>{console.error("Error saving metric:",p)}}),m=p=>{const v=r[p]||"";if(console.log("Saving field:",p,"input value:",v),!v.trim()){console.log("No value to save");return}if(p==="weight"){const x=parseFloat(v),g=(d==null?void 0:d.customFields)||{};console.log("Saving weight:",x),h.mutate({weight:x,customFields:g})}else{const x=d==null?void 0:d.weight,g={...(d==null?void 0:d.customFields)||{},[p]:parseFloat(v)};console.log("Saving custom field:",p,"value:",parseFloat(v)),h.mutate({weight:x,customFields:g})}};return l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsx(wt,{children:l.jsxs(St,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[l.jsx("i",{className:"fas fa-weight text-purple-500 mr-2"}),"Metrics"]})}),l.jsxs(le,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[e&&l.jsx("div",{className:"w-6 h-6 flex items-center justify-center opacity-30",children:l.jsx("i",{className:"fas fa-ban text-gray-400 text-xs"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weight"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ce,{type:"number",inputMode:"decimal",value:r.weight??((y=d==null?void 0:d.weight)==null?void 0:y.toString())??"",onChange:p=>i(v=>({...v,weight:p.target.value})),placeholder:"Enter weight",className:"w-20 h-8"}),l.jsx("span",{className:"text-xs text-gray-500",children:"lbs"}),l.jsx("button",{onClick:()=>{console.log("Save weight clicked!"),m("weight")},disabled:h.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:h.isPending?"Saving...":"Save"})]})]}),u.map(p=>{var v,x;return l.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[e&&l.jsx("button",{onClick:()=>f.mutate(p.id),className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:l.jsx("i",{className:"fas fa-times text-white text-xs"})}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:p.fieldName})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ce,{type:"number",inputMode:"decimal",value:r[p.fieldName]??((x=(v=d==null?void 0:d.customFields)==null?void 0:v[p.fieldName])==null?void 0:x.toString())??"",onChange:g=>i(w=>({...w,[p.fieldName]:g.target.value})),placeholder:`Enter ${p.fieldName.toLowerCase()}`,className:"w-20 h-8"}),l.jsx("span",{className:"text-xs text-gray-500",children:p.unit}),l.jsx("button",{onClick:()=>{console.log("Save",p.fieldName,"clicked!"),m(p.fieldName)},disabled:h.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:h.isPending?"Saving...":"Save"})]})]},p.id)})]}),l.jsxs("div",{className:"space-y-3 mt-4",children:[l.jsxs(Y,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",onClick:()=>{n(!1);const p=je(t,"yyyy-MM-dd");s(`/add-metric?date=${p}`)},children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"ADD CUSTOM METRIC"]}),u.length>0&&l.jsxs(Y,{onClick:()=>n(!e),className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg transition-all duration-200",children:[l.jsx("i",{className:"fas fa-edit mr-2"}),e?"DONE EDITING":"EDIT METRICS"]})]})]})]})}function h8({selectedDate:t}){var S;const[e,n]=b.useState(!1),[s,r]=b.useState(0),[i,a]=b.useState(!1),o=b.useRef(null),{toast:c}=Nt(),u=je(t,"yyyy-MM-dd"),{data:d=[]}=Rt({queryKey:[`/api/photos/date/${u}`]}),f=It({mutationFn:async _=>{const j=new FormData;return Array.from(_).forEach(k=>{j.append("photos",k)}),j.append("date",u),Ee("POST","/api/photos",j)},onSuccess:()=>{Gi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Gi.invalidateQueries({queryKey:["/api/photos"]}),Gi.invalidateQueries({predicate:_=>{var j;return(j=_.queryKey[0])==null?void 0:j.toString().includes("/api/photos")}}),c({title:"Success",description:"Photos uploaded successfully!"})},onError:_=>{c({title:"Error",description:`Failed to upload photos: ${_.message}`,variant:"destructive"})}}),h=It({mutationFn:async _=>Ee("DELETE",`/api/photos/${_}`),onSuccess:()=>{Gi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Gi.invalidateQueries({queryKey:["/api/photos"]}),Gi.invalidateQueries({predicate:_=>{var j;return(j=_.queryKey[0])==null?void 0:j.toString().includes("/api/photos")}}),c({title:"Success",description:"Photo deleted successfully!"})},onError:_=>{c({title:"Error",description:`Failed to delete photo: ${_.message}`,variant:"destructive"})}}),m=_=>{const j=_.target.files;j&&j.length>0&&f.mutate(j)},y=()=>{var _;(_=o.current)==null||_.click()},p=()=>{if(d.length>0&&s<d.length){const _=d[s];h.mutate(_.id),n(!1)}},v=_=>{r(_),a(!1),n(!0)},x=_=>{a(!1),r(_==="prev"?j=>j>0?j-1:d.length-1:j=>j<d.length-1?j+1:0)};b.useEffect(()=>{const _=j=>{e&&(j.key==="Escape"?n(!1):j.key==="ArrowLeft"&&d.length>1?x("prev"):j.key==="ArrowRight"&&d.length>1&&x("next"))};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[e,d.length]);const g=_=>{if(_.thumbnailUrl)return _.thumbnailUrl;const j=localStorage.getItem("authToken");return j?`/api/photos/${_.filename}?thumbnail=true&token=${j}`:"/placeholder-image.jpg"},w=_=>{if(_.imageUrl)return _.imageUrl;const j=localStorage.getItem("authToken");return j?`/api/photos/${_.filename}?token=${j}`:"/placeholder-image.jpg"};return l.jsxs(l.Fragment,{children:[l.jsxs(oe,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxHeight:"70vh"},children:[l.jsx(wt,{children:l.jsxs(St,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[l.jsx("i",{className:"fas fa-camera text-blue-500 mr-2"}),"Progress Photos",l.jsx("span",{className:"text-sm text-gray-500 ml-2",children:Di(t)?"Today":je(t,"MMM d, yyyy")})]})}),l.jsxs(le,{className:"pt-0",children:[d.length>0?l.jsx("div",{className:"grid gap-2 overflow-y-auto",style:{gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",maxHeight:"calc(70vh - 200px)"},children:d.map((_,j)=>l.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>v(j),children:l.jsx("img",{src:g(_),alt:`Progress photo ${j+1}`,className:"w-full h-full object-cover",style:{filter:"blur(6px)"}})},_.id))}):l.jsxs("div",{className:"text-gray-500 text-center pt-0 py-2",children:["No photos uploaded ",Di(t)?"today":"for this date"]}),l.jsxs("div",{className:"flex space-x-2 mt-2",children:[l.jsxs(Y,{onClick:y,disabled:f.isPending,className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[l.jsx("i",{className:"fas fa-plus mr-2 text-xs"}),f.isPending?"Uploading...":"ADD PHOTOS"]}),d.length>0&&l.jsx(Y,{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 text-sm",children:l.jsx("i",{className:"fas fa-trash text-xs"})})]}),l.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:m,className:"hidden"})]})]}),l.jsx(Mr,{open:e,onOpenChange:n,children:l.jsxs(er,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[l.jsx(Dr,{className:"p-4 pb-2 flex-shrink-0 border-b",children:l.jsxs(Ar,{className:"text-center text-lg font-semibold",children:["Progress Photo ",s+1," of ",d.length]})}),d.length>0&&l.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[d.length>1&&l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>x("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:l.jsx("i",{className:"fas fa-chevron-left"})}),l.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!i&&l.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),l.jsx("img",{src:w(d[s]),alt:`Progress photo ${s+1}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${i?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>a(!0),onError:()=>a(!0)})]}),d.length>1&&l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>x("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:l.jsx("i",{className:"fas fa-chevron-right"})})]}),l.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[l.jsx("div",{className:"text-sm text-gray-500",children:(S=d[s])==null?void 0:S.originalName}),l.jsxs(Y,{onClick:p,variant:"destructive",size:"sm",children:[l.jsx("i",{className:"fas fa-trash mr-2"}),"Delete Photo"]})]})]})})]})}function lw(t,e){const[n,s,r]=t.split("-").map(Number),[i,a]=e.split(":").map(Number);return new Date(n,s-1,r,i,a,0,0)}function r2(t){const[e,n,s]=t.split("-").map(Number);return new Date(e,n-1,s,0,0,0,0)}function sp(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`}function m8(t,e,n){if(n==="sleep"&&e<=t){const s=new Date(e);return s.setDate(s.getDate()+1),s}return e}function cw(){const{user:t}=Sn(),[e,n]=b.useState(new Date);b.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("date");if(console.log("🏠🏠🏠 DETAILED Home Page URL Debug:"),console.log("1. Current URL:",window.location.href),console.log("2. URL Search Params:",window.location.search),console.log("3. dateParam from URL:",o),console.log("4. Current selectedDate before update:",e),console.log("5. Current selectedDate toString():",e.toString()),o){const c=r2(o);console.log("6. Creating new Date from dateParam using createDateFromString:",o),console.log("7. New Date Object:",c),console.log("8. New Date toString():",c.toString()),console.log("9. New Date toDateString():",c.toDateString()),console.log("10. New Date getDate():",c.getDate()),console.log("11. New Date getMonth():",c.getMonth()),console.log("12. New Date getFullYear():",c.getFullYear()),n(c),console.log("13. Set selectedDate to new date"),window.history.replaceState({},"","/"),console.log("14. Cleaned URL")}else console.log("6. NO dateParam found, keeping selectedDate as:",e.toString())},[]);const{data:s=[]}=Rt({queryKey:Di(e)?["/api/progress"]:[`/api/progress/date/${je(e,"yyyy-MM-dd")}`],enabled:!!t}),{data:r=[]}=Rt({queryKey:["/api/photos"],enabled:!!t});console.log("Home page - photos:",r),console.log("Home page - photos length:",r.length);const i=()=>{const a=["Every step counts! Keep pushing forward.","You're stronger than yesterday.","Progress, not perfection.","Your only competition is who you were yesterday.","Believe in yourself and keep going!"];return a[Math.floor(Math.random()*a.length)]};return l.jsxs(l.Fragment,{children:[l.jsx(Dt,{}),l.jsx("div",{className:"app-gradient-bg",children:l.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome back, ",(t==null?void 0:t.firstName)||(t==null?void 0:t.username),"!"]}),l.jsx("h2",{className:"text-gray-800 text-lg flex mb-6 items-center",children:i()}),l.jsx(i8,{selectedDate:e,onDateChange:n})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mb-4 gap-x-4",children:[l.jsx(a8,{selectedDate:e}),l.jsx(f8,{selectedDate:e}),l.jsx(h8,{selectedDate:e}),l.jsx(d8,{selectedDate:e})]}),Array.isArray(s)&&s.length>0&&l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl mt-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsx(wt,{children:l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"Recent Progress"})}),l.jsx(le,{children:l.jsx("div",{className:"space-y-4",children:s.slice(0,3).map((a,o)=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ec4899"}}),l.jsx("span",{className:"font-medium text-gray-700 capitalize",children:a.goalType.replace("-"," ")})]}),l.jsx("div",{className:"text-right",children:l.jsxs("span",{className:"text-lg font-bold",style:{color:"#be185d"},children:[a.progressValue,"%"]})})]},o))})})]})]})})]})}function Jf(t,[e,n]){return Math.min(n,Math.max(e,t))}var p8=b.createContext(void 0);function i2(t){const e=b.useContext(p8);return t||e||"ltr"}function a2(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var g8=[" ","Enter","ArrowUp","ArrowDown"],y8=[" ","Enter"],Oa="Select",[Xh,Zh,x8]=px(Oa),[jl,kQ]=Ua(Oa,[x8,Lh]),Jh=Lh(),[v8,$i]=jl(Oa),[b8,w8]=jl(Oa),o2=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,p=Jh(e),[v,x]=b.useState(null),[g,w]=b.useState(null),[S,_]=b.useState(!1),j=i2(u),[k,T]=Yc({prop:s,defaultProp:r??!1,onChange:i,caller:Oa}),[E,A]=Yc({prop:a,defaultProp:o,onChange:c,caller:Oa}),z=b.useRef(null),R=v?y||!!v.closest("form"):!0,[L,I]=b.useState(new Set),O=Array.from(L).map(V=>V.props.value).join(";");return l.jsx(nz,{...p,children:l.jsxs(v8,{required:m,scope:e,trigger:v,onTriggerChange:x,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:jo(),value:E,onValueChange:A,open:k,onOpenChange:T,dir:j,triggerPointerDownPosRef:z,disabled:h,children:[l.jsx(Xh.Provider,{scope:e,children:l.jsx(b8,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(V=>{I(B=>new Set(B).add(V))},[]),onNativeOptionRemove:b.useCallback(V=>{I(B=>{const C=new Set(B);return C.delete(V),C})},[]),children:n})}),R?l.jsxs(M2,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:V=>A(V.target.value),disabled:h,form:y,children:[E===void 0?l.jsx("option",{value:""}):null,Array.from(L)]},O):null]})})};o2.displayName=Oa;var l2="SelectTrigger",c2=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=Jh(n),a=$i(l2,n),o=a.disabled||s,c=We(e,a.onTriggerChange),u=Zh(n),d=b.useRef("touch"),[f,h,m]=A2(p=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===a.value),g=O2(v,p,x);g!==void 0&&a.onValueChange(g.value)}),y=p=>{o||(a.onOpenChange(!0),m()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(EP,{asChild:!0,...i,children:l.jsx(Me.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":D2(a.value)?"":void 0,...r,ref:c,onClick:xe(r.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:xe(r.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:xe(r.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&g8.includes(p.key)&&(y(),p.preventDefault())})})})});c2.displayName=l2;var u2="SelectValue",d2=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:a="",...o}=t,c=$i(u2,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=We(e,c.onValueNodeChange);return Jt(()=>{u(d)},[u,d]),l.jsx(Me.span,{...o,ref:f,style:{pointerEvents:"none"},children:D2(c.value)?l.jsx(l.Fragment,{children:a}):i})});d2.displayName=u2;var S8="SelectIcon",f2=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return l.jsx(Me.span,{"aria-hidden":!0,...r,ref:e,children:s||"▼"})});f2.displayName=S8;var _8="SelectPortal",h2=t=>l.jsx(Mh,{asChild:!0,...t});h2.displayName=_8;var Ia="SelectContent",m2=b.forwardRef((t,e)=>{const n=$i(Ia,t.__scopeSelect),[s,r]=b.useState();if(Jt(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?Ba.createPortal(l.jsx(p2,{scope:t.__scopeSelect,children:l.jsx(Xh.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(g2,{...t,ref:e})});m2.displayName=Ia;var cs=10,[p2,Vi]=jl(Ia),N8="SelectContentImpl",j8=Jo("SelectContent.RemoveScroll"),g2=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:v,...x}=t,g=$i(Ia,n),[w,S]=b.useState(null),[_,j]=b.useState(null),k=We(e,H=>S(H)),[T,E]=b.useState(null),[A,z]=b.useState(null),R=Zh(n),[L,I]=b.useState(!1),O=b.useRef(!1);b.useEffect(()=>{if(w)return oD(w)},[w]),ZM();const V=b.useCallback(H=>{const[Z,...ze]=R().map(Oe=>Oe.ref.current),[De]=ze.slice(-1),be=document.activeElement;for(const Oe of H)if(Oe===be||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Z&&_&&(_.scrollTop=0),Oe===De&&_&&(_.scrollTop=_.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==be))return},[R,_]),B=b.useCallback(()=>V([T,w]),[V,T,w]);b.useEffect(()=>{L&&B()},[L,B]);const{onOpenChange:C,triggerPointerDownPosRef:F}=g;b.useEffect(()=>{if(w){let H={x:0,y:0};const Z=De=>{var be,Oe;H={x:Math.abs(Math.round(De.pageX)-(((be=F.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(De.pageY)-(((Oe=F.current)==null?void 0:Oe.y)??0))}},ze=De=>{H.x<=10&&H.y<=10?De.preventDefault():w.contains(De.target)||C(!1),document.removeEventListener("pointermove",Z),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ze,{capture:!0})}}},[w,C,F]),b.useEffect(()=>{const H=()=>C(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[C]);const[D,W]=A2(H=>{const Z=R().filter(be=>!be.disabled),ze=Z.find(be=>be.ref.current===document.activeElement),De=O2(Z,H,ze);De&&setTimeout(()=>De.ref.current.focus())}),G=b.useCallback((H,Z,ze)=>{const De=!O.current&&!ze;(g.value!==void 0&&g.value===Z||De)&&(E(H),De&&(O.current=!0))},[g.value]),ne=b.useCallback(()=>w==null?void 0:w.focus(),[w]),re=b.useCallback((H,Z,ze)=>{const De=!O.current&&!ze;(g.value!==void 0&&g.value===Z||De)&&z(H)},[g.value]),ge=s==="popper"?Gg:y2,ve=ge===Gg?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:v}:{};return l.jsx(p2,{scope:n,content:w,viewport:_,onViewportChange:j,itemRefCallback:G,selectedItem:T,onItemLeave:ne,itemTextRefCallback:re,focusSelectedItem:B,selectedItemText:A,position:s,isPositioned:L,searchRef:D,children:l.jsx(Kx,{as:j8,allowPinchZoom:!0,children:l.jsx(Qx,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:xe(r,H=>{var Z;(Z=g.trigger)==null||Z.focus({preventScroll:!0}),H.preventDefault()}),children:l.jsx(ku,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:l.jsx(ge,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...x,...ve,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,H=>{const Z=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Z&&H.key.length===1&&W(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let De=R().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(H.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const be=H.target,Oe=De.indexOf(be);De=De.slice(Oe+1)}setTimeout(()=>V(De)),H.preventDefault()}})})})})})})});g2.displayName=N8;var k8="SelectItemAlignedPosition",y2=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=$i(Ia,n),a=Vi(Ia,n),[o,c]=b.useState(null),[u,d]=b.useState(null),f=We(e,k=>d(k)),h=Zh(n),m=b.useRef(!1),y=b.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:g}=a,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&p&&v&&x){const k=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(i.dir!=="rtl"){const be=A.left-T.left,Oe=E.left-be,Qt=k.left-Oe,In=k.width+Qt,Rr=Math.max(In,T.width),Bi=window.innerWidth-cs,Ui=Jf(Oe,[cs,Math.max(cs,Bi-Rr)]);o.style.minWidth=In+"px",o.style.left=Ui+"px"}else{const be=T.right-A.right,Oe=window.innerWidth-E.right-be,Qt=window.innerWidth-k.right-Oe,In=k.width+Qt,Rr=Math.max(In,T.width),Bi=window.innerWidth-cs,Ui=Jf(Oe,[cs,Math.max(cs,Bi-Rr)]);o.style.minWidth=In+"px",o.style.right=Ui+"px"}const z=h(),R=window.innerHeight-cs*2,L=p.scrollHeight,I=window.getComputedStyle(u),O=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),B=parseInt(I.borderBottomWidth,10),C=parseInt(I.paddingBottom,10),F=O+V+L+C+B,D=Math.min(v.offsetHeight*5,F),W=window.getComputedStyle(p),G=parseInt(W.paddingTop,10),ne=parseInt(W.paddingBottom,10),re=k.top+k.height/2-cs,ge=R-re,ve=v.offsetHeight/2,H=v.offsetTop+ve,Z=O+V+H,ze=F-Z;if(Z<=re){const be=z.length>0&&v===z[z.length-1].ref.current;o.style.bottom="0px";const Oe=u.clientHeight-p.offsetTop-p.offsetHeight,Qt=Math.max(ge,ve+(be?ne:0)+Oe+B),In=Z+Qt;o.style.height=In+"px"}else{const be=z.length>0&&v===z[0].ref.current;o.style.top="0px";const Qt=Math.max(re,O+p.offsetTop+(be?G:0)+ve)+ze;o.style.height=Qt+"px",p.scrollTop=Z-re+p.offsetTop}o.style.margin=`${cs}px 0`,o.style.minHeight=D+"px",o.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,o,u,p,v,x,i.dir,s]);Jt(()=>w(),[w]);const[S,_]=b.useState();Jt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=b.useCallback(k=>{k&&y.current===!0&&(w(),g==null||g(),y.current=!1)},[w,g]);return l.jsx(T8,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(Me.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});y2.displayName=k8;var C8="SelectPopperPosition",Gg=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=cs,...i}=t,a=Jh(n);return l.jsx(MP,{...a,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gg.displayName=C8;var[T8,rv]=jl(Ia,{}),Xg="SelectViewport",x2=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=Vi(Xg,n),a=rv(Xg,n),o=We(e,i.onViewportChange),c=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(Xh.Slot,{scope:n,children:l.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:xe(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-cs*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(p,v);if(x<y){const g=x+m,w=Math.min(y,g),S=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});x2.displayName=Xg;var v2="SelectGroup",[P8,E8]=jl(v2),M8=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=jo();return l.jsx(P8,{scope:n,id:r,children:l.jsx(Me.div,{role:"group","aria-labelledby":r,...s,ref:e})})});M8.displayName=v2;var b2="SelectLabel",w2=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=E8(b2,n);return l.jsx(Me.div,{id:r.id,...s,ref:e})});w2.displayName=b2;var eh="SelectItem",[D8,S2]=jl(eh),_2=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...a}=t,o=$i(eh,n),c=Vi(eh,n),u=o.value===s,[d,f]=b.useState(i??""),[h,m]=b.useState(!1),y=We(e,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,s,r)}),p=jo(),v=b.useRef("touch"),x=()=>{r||(o.onValueChange(s),o.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(D8,{scope:n,value:s,disabled:r,textId:p,isSelected:u,onItemTextChange:b.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:l.jsx(Xh.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:l.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:y,onFocus:xe(a.onFocus,()=>m(!0)),onBlur:xe(a.onBlur,()=>m(!1)),onClick:xe(a.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:xe(a.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:xe(a.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:xe(a.onPointerMove,g=>{var w;v.current=g.pointerType,r?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:xe(a.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(y8.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});_2.displayName=eh;var sc="SelectItemText",N2=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,a=$i(sc,n),o=Vi(sc,n),c=S2(sc,n),u=w8(sc,n),[d,f]=b.useState(null),h=We(e,x=>f(x),c.onItemTextChange,x=>{var g;return(g=o.itemTextRefCallback)==null?void 0:g.call(o,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=b.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Jt(()=>(p(y),()=>v(y)),[p,v,y]),l.jsxs(l.Fragment,{children:[l.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ba.createPortal(i.children,a.valueNode):null]})});N2.displayName=sc;var j2="SelectItemIndicator",k2=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return S2(j2,n).isSelected?l.jsx(Me.span,{"aria-hidden":!0,...s,ref:e}):null});k2.displayName=j2;var Zg="SelectScrollUpButton",C2=b.forwardRef((t,e)=>{const n=Vi(Zg,t.__scopeSelect),s=rv(Zg,t.__scopeSelect),[r,i]=b.useState(!1),a=We(e,s.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?l.jsx(P2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});C2.displayName=Zg;var Jg="SelectScrollDownButton",T2=b.forwardRef((t,e)=>{const n=Vi(Jg,t.__scopeSelect),s=rv(Jg,t.__scopeSelect),[r,i]=b.useState(!1),a=We(e,s.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?l.jsx(P2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});T2.displayName=Jg;var P2=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=Vi("SelectScrollButton",n),a=b.useRef(null),o=Zh(n),c=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Jt(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Me.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:xe(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:xe(r.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:xe(r.onPointerLeave,()=>{c()})})}),A8="SelectSeparator",E2=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return l.jsx(Me.div,{"aria-hidden":!0,...s,ref:e})});E2.displayName=A8;var ey="SelectArrow",O8=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Jh(n),i=$i(ey,n),a=Vi(ey,n);return i.open&&a.position==="popper"?l.jsx(DP,{...r,...s,ref:e}):null});O8.displayName=ey;var I8="SelectBubbleInput",M2=b.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=b.useRef(null),i=We(s,r),a=a2(e);return b.useEffect(()=>{const o=r.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(Me.select,{...n,style:{...kT,...n.style},ref:i,defaultValue:e})});M2.displayName=I8;function D2(t){return t===""||t===void 0}function A2(t){const e=_s(t),n=b.useRef(""),s=b.useRef(0),r=b.useCallback(a=>{const o=n.current+a;e(o),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function O2(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=R8(t,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function R8(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var F8=o2,I2=c2,L8=d2,z8=f2,$8=h2,R2=m2,V8=x2,F2=w2,L2=_2,B8=N2,U8=k2,z2=C2,$2=T2,V2=E2;const Ra=F8,Fa=L8,Ai=b.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(I2,{ref:s,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(z8,{asChild:!0,children:l.jsx(GT,{className:"h-4 w-4 opacity-50"})})]}));Ai.displayName=I2.displayName;const B2=b.forwardRef(({className:t,...e},n)=>l.jsx(z2,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(QL,{className:"h-4 w-4"})}));B2.displayName=z2.displayName;const U2=b.forwardRef(({className:t,...e},n)=>l.jsx($2,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(GT,{className:"h-4 w-4"})}));U2.displayName=$2.displayName;const Oi=b.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>l.jsx($8,{children:l.jsxs(R2,{ref:r,className:Ie("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[l.jsx(B2,{}),l.jsx(V8,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(U2,{})]})}));Oi.displayName=R2.displayName;const W8=b.forwardRef(({className:t,...e},n)=>l.jsx(F2,{ref:n,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));W8.displayName=F2.displayName;const rt=b.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(L2,{ref:s,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(U8,{children:l.jsx(KT,{className:"h-4 w-4"})})}),l.jsx(B8,{children:e})]}));rt.displayName=L2.displayName;const H8=b.forwardRef(({className:t,...e},n)=>l.jsx(V2,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",t),...e}));H8.displayName=V2.displayName;const Y8=Er({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function q8({data:t,updateData:e,onNext:n}){const{user:s}=Sn(),{register:r,handleSubmit:i,setValue:a,watch:o,formState:{errors:c}}=wl({resolver:Sl(Y8),defaultValues:{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType}}),u=f=>{console.log("Image uploaded:",f)},d=f=>{e(f),n()};return l.jsx(oe,{className:"card-shadow slide-in",children:l.jsxs(le,{className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Create Your Profile"}),l.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Tell us about yourself to personalize your journey"}),l.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx(Yh,{firstName:s==null?void 0:s.firstName,lastName:s==null?void 0:s.lastName,profileImageUrl:s==null?void 0:s.profileImageUrl,size:"xl",onImageUpload:u,editable:!0}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a photo or use your initials"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"gender",children:"Gender"}),l.jsxs(Ra,{onValueChange:f=>a("gender",f),defaultValue:t.gender,children:[l.jsx(Ai,{className:"mt-2",children:l.jsx(Fa,{placeholder:"Select"})}),l.jsxs(Oi,{children:[l.jsx(rt,{value:"female",children:"Female"}),l.jsx(rt,{value:"male",children:"Male"}),l.jsx(rt,{value:"non-binary",children:"Non-binary"}),l.jsx(rt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"birthday",children:"Birthday"}),l.jsx(Ce,{id:"birthday",type:"date",...r("birthday"),className:"mt-2"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"height",children:"Height"}),l.jsx(Ce,{id:"height",...r("height"),placeholder:`5'6"`,className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"weight",children:"Weight"}),l.jsx(Ce,{id:"weight",...r("weight"),placeholder:"150 lbs",className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"bodyType",children:"Body Type"}),l.jsxs(Ra,{onValueChange:f=>a("bodyType",f),defaultValue:t.bodyType,children:[l.jsx(Ai,{className:"mt-2",children:l.jsx(Fa,{placeholder:"Select"})}),l.jsxs(Oi,{children:[l.jsx(rt,{value:"petite",children:"Petite"}),l.jsx(rt,{value:"lean",children:"Lean"}),l.jsx(rt,{value:"average",children:"Average"}),l.jsx(rt,{value:"athletic",children:"Athletic"}),l.jsx(rt,{value:"muscular",children:"Muscular"}),l.jsx(rt,{value:"pear",children:"Pear"})]})]})]})]})]}),l.jsx(Y,{type:"submit",className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl text-center",children:"Continue"})]})]})})}const Q8=[{id:"general-fitness",label:"General Fitness",icon:"fas fa-running"},{id:"cardio",label:"Cardio",icon:"fas fa-heartbeat"},{id:"strength",label:"Strength",icon:"fas fa-dumbbell"},{id:"muscle-mass",label:"Muscle Mass",icon:"fas fa-fist-raised"},{id:"weight-loss",label:"Weight Loss",icon:"fas fa-weight"},{id:"improve-diet",label:"Improve Diet",icon:"fas fa-apple-alt"}];function K8({data:t,updateData:e,onNext:n}){const[s,r]=b.useState(t.goals);b.useEffect(()=>{e({goals:s})},[s,e]);const i=o=>{r(c=>c.includes(o)?c.filter(u=>u!==o):[...c,o])},a=()=>{s.length!==0&&n()};return l.jsx(oe,{className:"card-shadow slide-in",children:l.jsxs(le,{className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"What Are Your Goals?"}),l.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Select all that apply to personalize your experience"}),l.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:Q8.map(o=>l.jsxs("button",{onClick:()=>i(o.id),className:`p-4 border-2 rounded-xl text-center transition-all duration-300 ${s.includes(o.id)?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-primary-50"}`,children:[l.jsx("i",{className:`${o.icon} text-2xl text-primary-300 mb-2`}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:o.label})]},o.id))}),l.jsx(Y,{onClick:a,disabled:s.length===0,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed text-center",children:"Continue"}),s.length===0&&l.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Please select at least one goal to continue"})]})})}var W2=["PageUp","PageDown"],H2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Y2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},kl="Slider",[ty,G8,X8]=px(kl),[q2,CQ]=Ua(kl,[X8]),[Z8,em]=q2(kl),Q2=b.forwardRef((t,e)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[s],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...p}=t,v=b.useRef(new Set),x=b.useRef(0),w=a==="horizontal"?J8:eW,[S=[],_]=Yc({prop:d,defaultProp:u,onChange:z=>{var L;(L=[...v.current][x.current])==null||L.focus(),f(z)}}),j=b.useRef(S);function k(z){const R=iW(S,z);A(z,R)}function T(z){A(z,x.current)}function E(){const z=j.current[x.current];S[x.current]!==z&&h(S)}function A(z,R,{commit:L}={commit:!1}){const I=cW(i),O=uW(Math.round((z-s)/i)*i+s,I),V=Jf(O,[s,r]);_((B=[])=>{const C=sW(B,V,R);if(lW(C,c*i)){x.current=C.indexOf(V);const F=String(C)!==String(B);return F&&L&&h(C),F?C:B}else return B})}return l.jsx(Z8,{scope:t.__scopeSlider,name:n,disabled:o,min:s,max:r,valueIndexToChangeRef:x,thumbs:v.current,values:S,orientation:a,form:y,children:l.jsx(ty.Provider,{scope:t.__scopeSlider,children:l.jsx(ty.Slot,{scope:t.__scopeSlider,children:l.jsx(w,{"aria-disabled":o,"data-disabled":o?"":void 0,...p,ref:e,onPointerDown:xe(p.onPointerDown,()=>{o||(j.current=S)}),min:s,max:r,inverted:m,onSlideStart:o?void 0:k,onSlideMove:o?void 0:T,onSlideEnd:o?void 0:E,onHomeKeyDown:()=>!o&&A(s,0,{commit:!0}),onEndKeyDown:()=>!o&&A(r,S.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:R})=>{if(!o){const O=W2.includes(z.key)||z.shiftKey&&H2.includes(z.key)?10:1,V=x.current,B=S[V],C=i*O*R;A(B+C,V,{commit:!0})}}})})})})});Q2.displayName=kl;var[K2,G2]=q2(kl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),J8=b.forwardRef((t,e)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,h]=b.useState(null),m=We(e,w=>h(w)),y=b.useRef(void 0),p=i2(r),v=p==="ltr",x=v&&!i||!v&&i;function g(w){const S=y.current||f.getBoundingClientRect(),_=[0,S.width],k=iv(_,x?[n,s]:[s,n]);return y.current=S,k(w-S.left)}return l.jsx(K2,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:l.jsx(X2,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=g(w.clientX);a==null||a(S)},onSlideMove:w=>{const S=g(w.clientX);o==null||o(S)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:w=>{const _=Y2[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:_?-1:1})}})})}),eW=b.forwardRef((t,e)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:a,onSlideEnd:o,onStepKeyDown:c,...u}=t,d=b.useRef(null),f=We(e,d),h=b.useRef(void 0),m=!r;function y(p){const v=h.current||d.current.getBoundingClientRect(),x=[0,v.height],w=iv(x,m?[s,n]:[n,s]);return h.current=v,w(p-v.top)}return l.jsx(K2,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(X2,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const v=y(p.clientY);i==null||i(v)},onSlideMove:p=>{const v=y(p.clientY);a==null||a(v)},onSlideEnd:()=>{h.current=void 0,o==null||o()},onStepKeyDown:p=>{const x=Y2[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:x?-1:1})}})})}),X2=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:c,...u}=t,d=em(kl,n);return l.jsx(Me.span,{...u,ref:e,onKeyDown:xe(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):W2.concat(H2).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:xe(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():s(f)}),onPointerMove:xe(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&r(f)}),onPointerUp:xe(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),Z2="SliderTrack",J2=b.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=em(Z2,n);return l.jsx(Me.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});J2.displayName=Z2;var ny="SliderRange",eA=b.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=em(ny,n),i=G2(ny,n),a=b.useRef(null),o=We(e,a),c=r.values.length,u=r.values.map(h=>sA(h,r.min,r.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return l.jsx(Me.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:o,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});eA.displayName=ny;var sy="SliderThumb",tA=b.forwardRef((t,e)=>{const n=G8(t.__scopeSlider),[s,r]=b.useState(null),i=We(e,o=>r(o)),a=b.useMemo(()=>s?n().findIndex(o=>o.ref.current===s):-1,[n,s]);return l.jsx(tW,{...t,ref:i,index:a})}),tW=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:r,...i}=t,a=em(sy,n),o=G2(sy,n),[c,u]=b.useState(null),d=We(e,g=>u(g)),f=c?a.form||!!c.closest("form"):!0,h=bP(c),m=a.values[s],y=m===void 0?0:sA(m,a.min,a.max),p=rW(s,a.values.length),v=h==null?void 0:h[o.size],x=v?aW(v,y,o.direction):0;return b.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${y}% + ${x}px)`},children:[l.jsx(ty.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(Me.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),f&&l.jsx(nA,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},s)]})});tA.displayName=sy;var nW="RadioBubbleInput",nA=b.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const r=b.useRef(null),i=We(r,s),a=a2(e);return b.useEffect(()=>{const o=r.current;if(!o)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),l.jsx(Me.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});nA.displayName=nW;function sW(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function sA(t,e,n){const i=100/(n-e)*(t-e);return Jf(i,[0,100])}function rW(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function iW(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function aW(t,e,n){const s=t/2,i=iv([0,50],[0,s]);return(s-i(e)*n)*n}function oW(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function lW(t,e){if(e>0){const n=oW(t);return Math.min(...n)>=e}return!0}function iv(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function cW(t){return(String(t).split(".")[1]||"").length}function uW(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var rA=Q2,dW=J2,fW=eA,hW=tA;const iA=b.forwardRef(({className:t,...e},n)=>l.jsxs(rA,{ref:n,className:Ie("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(dW,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(fW,{className:"absolute h-full bg-primary"})}),l.jsx(hW,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));iA.displayName=rA.displayName;function mW({isOpen:t,onClose:e,onFileSelect:n}){const s=b.useRef(null),r=b.useRef(null),i=u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];d&&d.type.startsWith("image/")&&(n(d),e())},a=()=>{var u;(u=s.current)==null||u.click()},o=()=>{var u;(u=r.current)==null||u.click()},c=()=>{var u;(u=s.current)==null||u.click()};return l.jsxs(l.Fragment,{children:[l.jsx(Mr,{open:t,onOpenChange:e,children:l.jsxs(er,{className:"max-w-sm",children:[l.jsxs(Dr,{children:[l.jsx(Ar,{className:"text-center",children:"Select Photo"}),l.jsx(Jx,{className:"text-center",children:"Choose how you'd like to add your profile photo"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Y,{onClick:a,variant:"outline",className:"w-full text-center justify-center",children:[l.jsx("i",{className:"fas fa-images mr-2"}),"Photo Library"]}),l.jsxs(Y,{onClick:o,variant:"outline",className:"w-full text-center justify-center",children:[l.jsx("i",{className:"fas fa-camera mr-2"}),"Take Photo"]}),l.jsxs(Y,{onClick:c,variant:"outline",className:"w-full text-center justify-center",children:[l.jsx("i",{className:"fas fa-folder mr-2"}),"Choose Files"]}),l.jsx(Y,{onClick:e,variant:"ghost",className:"w-full text-center justify-center",children:"Cancel"})]})]})}),l.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:i,className:"hidden"}),l.jsx("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:i,className:"hidden"})]})}function pW({photos:t,onPhotosChange:e,maxPhotos:n=5}){b.useRef(null);const[s,r]=b.useState(!1),[i,a]=b.useState(!1),o=y=>{if(!y)return;const p=Array.from(y).filter(x=>x.type.startsWith("image/"));if(t.length+p.length>n){alert(`Maximum ${n} photos allowed`);return}e([...t,...p])},c=()=>{a(!0)},u=y=>{e([...t,y]),a(!1)},d=y=>{y.preventDefault(),r(!1),o(y.dataTransfer.files)},f=y=>{y.preventDefault(),r(!0)},h=y=>{y.preventDefault(),r(!1)},m=y=>{e(t.filter((p,v)=>v!==y))};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{onClick:c,onDrop:d,onDragOver:f,onDragLeave:h,className:`
          photo-upload-area rounded-xl p-8 text-center cursor-pointer transition-all duration-300
          ${s?"border-primary-300 bg-primary-50":"border-secondary-300"}
          ${t.length>=n?"opacity-50 cursor-not-allowed":""}
        `,children:[l.jsx("i",{className:"fas fa-camera text-3xl text-secondary-300 mb-4"}),l.jsx("p",{className:"text-gray-600 font-medium",children:t.length>=n?"Maximum photos reached":"Tap to add photos"}),l.jsxs("p",{className:"text-sm text-gray-500",children:[t.length,"/",n," photos"]})]}),l.jsx(mW,{isOpen:i,onClose:()=>a(!1),onFileSelect:u}),t.length>0&&l.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.map((y,p)=>l.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[l.jsx("img",{src:URL.createObjectURL(y),alt:`Preview ${p+1}`,className:"w-full h-full object-cover"}),l.jsx("button",{onClick:v=>{v.stopPropagation(),m(p)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:l.jsx("i",{className:"fas fa-times"})})]},p))})]})}function gW(t){return/^401: .*Unauthorized/.test(t.message)}const yW={"general-fitness":"General Fitness",cardio:"Cardio",strength:"Strength","muscle-mass":"Muscle Mass","weight-loss":"Weight Loss","improve-diet":"Improve Diet"};function xW({data:t,updateData:e}){const[n,s]=b.useState(t.progress),[r,i]=b.useState(t.photos),{toast:a}=Nt();b.useEffect(()=>{const f={};t.goals.forEach(h=>{f[h]=n[h]||50}),s(f),e({progress:f})},[t.goals]);const o=It({mutationFn:async()=>{if(await Ee("POST","/api/onboarding/complete",{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType,goals:t.goals,progress:n}),r.length>0){const f=new FormData;r.forEach(h=>{f.append("photos",h)}),await fetch("/api/photos",{method:"POST",body:f,credentials:"include"})}},onSuccess:()=>{a({title:"Welcome to Journey!",description:"Your account has been created successfully."}),window.location.reload()},onError:f=>{if(gW(f)){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}a({title:"Error",description:"Failed to complete onboarding. Please try again.",variant:"destructive"})}}),c=(f,h)=>{const m={...n,[f]:h[0]};s(m),e({progress:m})},u=f=>{i(f),e({photos:f})},d=()=>{o.mutate()};return l.jsx(oe,{className:"card-shadow slide-in",children:l.jsxs(le,{className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Current Progress"}),l.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Rate your current level in each selected area"}),l.jsx("div",{className:"space-y-6 mb-8",children:t.goals.map(f=>l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx($e,{className:"text-sm font-medium text-gray-700",children:yW[f]}),l.jsxs("span",{className:"text-sm font-semibold text-primary-300",children:[n[f]||50,"%"]})]}),l.jsx(iA,{value:[n[f]||50],onValueChange:h=>c(f,h),max:100,step:5,className:"w-full"})]},f))}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Progress Photos (Optional)"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload up to 5 photos to track your progress (optional) "}),l.jsx(pW,{photos:r,onPhotosChange:u,maxPhotos:5})]}),l.jsx(Y,{onClick:d,disabled:o.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 text-center",children:o.isPending?"Creating Account...":"Create My Account"})]})})}function vW(){const[t,e]=b.useState(1),[n,s]=b.useState({gender:"",birthday:"",height:"",weight:"",bodyType:"",goals:[],progress:{},photos:[]}),r=b.useCallback(c=>{s(u=>({...u,...c}))},[]),i=()=>{t<3&&e(c=>c+1)},a=()=>{t>1&&e(c=>c-1)},o=()=>{localStorage.removeItem("authToken"),window.location.reload()};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm p-4",children:l.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[l.jsx("button",{onClick:t>1?a:o,className:"text-gray-600 hover:text-gray-800 transition-colors",children:l.jsx("i",{className:"fas fa-arrow-left text-xl"})}),l.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(c=>l.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${c<=t?"bg-primary-300":"bg-gray-300"}`},c))}),l.jsx("div",{className:"w-6"})]})}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[t===1&&l.jsx(q8,{data:n,updateData:r,onNext:i}),t===2&&l.jsx(K8,{data:n,updateData:r,onNext:i}),t===3&&l.jsx(xW,{data:n,updateData:r})]})})]})}function aA({isOpen:t,onClose:e,mode:n,onSuccess:s}){const[r,i]=b.useState(""),[a,o]=b.useState(""),[c,u]=b.useState("ask"),{toast:d}=Nt(),f=wn(),h=It({mutationFn:async g=>await Ee("PUT","/api/user/photos-pin",g),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/user"]}),s&&s(),y()},onError:()=>{d({title:"Error",description:"Failed to update PIN settings",variant:"destructive"})}}),m=It({mutationFn:async g=>await Ee("POST","/api/user/verify-photos-pin",{pin:g}),onSuccess:()=>{s&&s(),y()},onError:()=>{d({title:"Incorrect PIN",description:"Please try again",variant:"destructive"}),i("")}}),y=()=>{i(""),o(""),u("ask"),e()},p=g=>{g?u("enter"):h.mutate({enabled:!1})},v=()=>{if(n==="verify"){m.mutate(r);return}if(c==="enter"){if(r.length!==4){d({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}u("confirm");return}if(c==="confirm"){if(r!==a){d({title:"PINs don't match",description:"Please try again",variant:"destructive"}),i(""),o(""),u("enter");return}h.mutate({pin:r,enabled:!0})}},x=()=>{if(n==="verify")return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Enter PIN"}),l.jsx("p",{className:"text-gray-600",children:"Please enter your 4-digit PIN to access photos"}),l.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:r,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),l.jsx(Y,{onClick:v,disabled:r.length!==4||m.isPending,className:"w-full",children:m.isPending?"Verifying...":"Unlock"})]});if(c==="ask")return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Protect Your Photos"}),l.jsx("p",{className:"text-gray-600",children:"We know your progress can be personal, so we securely store your photos here in the app instead of your camera roll.  Would you like to set up a 4 digit PIN to access the photos page? If you opt out now and change your mind, you can always create one in the settings."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Y,{onClick:()=>p(!0),className:"w-full",children:"Yes, Set PIN"}),l.jsx(Y,{onClick:()=>p(!1),variant:"outline",className:"w-full",children:"No Thanks"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"You can always enable PIN protection later in Settings"})]});if(c==="enter")return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Set Your PIN"}),l.jsx("p",{className:"text-gray-600",children:"Choose a 4-digit PIN"}),l.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:r,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),l.jsx(Y,{onClick:v,disabled:r.length!==4,className:"w-full",children:"Continue"})]});if(c==="confirm")return l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Your PIN"}),l.jsx("p",{className:"text-gray-600",children:"Enter your PIN again to confirm"}),l.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:a,onChange:g=>o(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),l.jsx(Y,{onClick:v,disabled:a.length!==4||h.isPending,className:"w-full",children:h.isPending?"Setting up...":"Set PIN"})]})};return l.jsx(Mr,{open:t,onOpenChange:y,children:l.jsxs(er,{className:"max-w-sm",children:[l.jsx(Dr,{children:l.jsx(Ar,{className:"text-center",children:n==="setup"?"Photo Protection":n==="update"?"Update PIN":"Photos Protected"})}),x()]})})}function bW({variant:t="default",size:e="md",className:n=""}){const[s,r]=b.useState(null),[i,a]=b.useState(!1),{canInstall:o,isInstalled:c}=Cz();b.useEffect(()=>{const d=h=>{const m=h;h.preventDefault(),r(m)},f=()=>{r(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const u=async()=>{if(s){a(!0);try{await s.prompt();const{outcome:d}=await s.userChoice;console.log(d==="accepted"?"✅ PWA install accepted":"❌ PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{a(!1),r(null)}}};return c?l.jsxs(Y,{variant:t,size:e,disabled:!0,className:n,children:[l.jsx(KT,{className:"w-4 h-4 mr-2"}),"App Installed"]}):!o||!s?null:l.jsx(Y,{onClick:u,disabled:i,variant:t,size:e,className:n,children:i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Installing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Og,{className:"w-4 h-4 mr-2"}),"Install App"]})})}function uw(t,e,n){const s=qD(),r=_W(t,n.timeZone,n.locale??s.locale);return"formatToParts"in r?wW(r,e):SW(r,e)}function wW(t,e){const n=t.formatToParts(e);for(let s=n.length-1;s>=0;--s)if(n[s].type==="timeZoneName")return n[s].value}function SW(t,e){const n=t.format(e).replace(/\u200E/g,""),s=/ [\w-+ ]+$/.exec(n);return s?s[0].substr(1):""}function _W(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function NW(t,e){const n=PW(e);return"formatToParts"in n?kW(n,t):CW(n,t)}const jW={year:0,month:1,day:2,hour:3,minute:4,second:5};function kW(t,e){try{const n=t.formatToParts(e),s=[];for(let r=0;r<n.length;r++){const i=jW[n[r].type];i!==void 0&&(s[i]=parseInt(n[r].value,10))}return s}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function CW(t,e){const n=t.format(e),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(s[3],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[4],10),parseInt(s[5],10),parseInt(s[6],10)]}const rp={},dw=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),TW=dw==="06/25/2014, 00:00:00"||dw==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function PW(t){return rp[t]||(rp[t]=TW?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),rp[t]}function av(t,e,n,s,r,i,a){const o=new Date(0);return o.setUTCFullYear(t,e,n),o.setUTCHours(s,r,i,a),o}const fw=36e5,EW=6e4,ip={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function tm(t,e,n){if(!t)return 0;let s=ip.timezoneZ.exec(t);if(s)return 0;let r,i;if(s=ip.timezoneHH.exec(t),s)return r=parseInt(s[1],10),hw(r)?-(r*fw):NaN;if(s=ip.timezoneHHMM.exec(t),s){r=parseInt(s[2],10);const a=parseInt(s[3],10);return hw(r,a)?(i=Math.abs(r)*fw+a*EW,s[1]==="+"?-i:i):NaN}if(AW(t)){e=new Date(e||Date.now());const a=n?e:MW(e),o=ry(a,t);return-(n?o:DW(e,o,t))}return NaN}function MW(t){return av(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function ry(t,e){const n=NW(t,e),s=av(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let r=t.getTime();const i=r%1e3;return r-=i>=0?i:1e3+i,s-r}function DW(t,e,n){let r=t.getTime()-e;const i=ry(new Date(r),n);if(e===i)return e;r-=i-e;const a=ry(new Date(r),n);return i===a?i:Math.max(i,a)}function hw(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const mw={};function AW(t){if(mw[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),mw[t]=!0,!0}catch{return!1}}const OW=60*1e3,IW={X:function(t,e,n){const s=ap(n.timeZone,t);if(s===0)return"Z";switch(e){case"X":return pw(s);case"XXXX":case"XX":return no(s);case"XXXXX":case"XXX":default:return no(s,":")}},x:function(t,e,n){const s=ap(n.timeZone,t);switch(e){case"x":return pw(s);case"xxxx":case"xx":return no(s);case"xxxxx":case"xxx":default:return no(s,":")}},O:function(t,e,n){const s=ap(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+RW(s,":");case"OOOO":default:return"GMT"+no(s,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return uw("short",t,n);case"zzzz":default:return uw("long",t,n)}}};function ap(t,e){const n=t?tm(t,e,!0)/OW:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function th(t,e){const n=t<0?"-":"";let s=Math.abs(t).toString();for(;s.length<e;)s="0"+s;return n+s}function no(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=th(Math.floor(s/60),2),i=th(Math.floor(s%60),2);return n+r+e+i}function pw(t,e){return t%60===0?(t>0?"-":"+")+th(Math.abs(t)/60,2):no(t,e)}function RW(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.floor(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+th(i,2)}function gw(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const oA=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,op=36e5,yw=6e4,FW=2,gn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:oA};function nh(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?FW:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const s=LW(t),{year:r,restDateString:i}=zW(s.date,n),a=$W(i,r);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const o=a.getTime();let c=0,u;if(s.time&&(c=VW(s.time),c===null||isNaN(c)))return new Date(NaN);if(s.timeZone||e.timeZone){if(u=tm(s.timeZone||e.timeZone,new Date(o+c)),isNaN(u))return new Date(NaN)}else u=gw(new Date(o+c)),u=gw(new Date(o+c+u));return new Date(o+c+u)}else return new Date(NaN)}function LW(t){const e={};let n=gn.dateTimePattern.exec(t),s;if(n?(e.date=n[1],s=n[3]):(n=gn.datePattern.exec(t),n?(e.date=n[1],s=n[2]):(e.date=null,s=t)),s){const r=gn.timeZone.exec(s);r?(e.time=s.replace(r[1],""),e.timeZone=r[1].trim()):e.time=s}return e}function zW(t,e){if(t){const n=gn.YYY[e],s=gn.YYYYY[e];let r=gn.YYYY.exec(t)||s.exec(t);if(r){const i=r[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(r=gn.YY.exec(t)||n.exec(t),r){const i=r[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function $W(t,e){if(e===null)return null;let n,s,r;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=gn.MM.exec(t);if(i)return n=new Date(0),s=parseInt(i[1],10)-1,vw(e,s)?(n.setUTCFullYear(e,s),n):new Date(NaN);if(i=gn.DDD.exec(t),i){n=new Date(0);const a=parseInt(i[1],10);return WW(e,a)?(n.setUTCFullYear(e,0,a),n):new Date(NaN)}if(i=gn.MMDD.exec(t),i){n=new Date(0),s=parseInt(i[1],10)-1;const a=parseInt(i[2],10);return vw(e,s,a)?(n.setUTCFullYear(e,s,a),n):new Date(NaN)}if(i=gn.Www.exec(t),i)return r=parseInt(i[1],10)-1,bw(r)?xw(e,r):new Date(NaN);if(i=gn.WwwD.exec(t),i){r=parseInt(i[1],10)-1;const a=parseInt(i[2],10)-1;return bw(r,a)?xw(e,r,a):new Date(NaN)}return null}function VW(t){let e,n,s=gn.HH.exec(t);if(s)return e=parseFloat(s[1].replace(",",".")),lp(e)?e%24*op:NaN;if(s=gn.HHMM.exec(t),s)return e=parseInt(s[1],10),n=parseFloat(s[2].replace(",",".")),lp(e,n)?e%24*op+n*yw:NaN;if(s=gn.HHMMSS.exec(t),s){e=parseInt(s[1],10),n=parseInt(s[2],10);const r=parseFloat(s[3].replace(",","."));return lp(e,n,r)?e%24*op+n*yw+r*1e3:NaN}return null}function xw(t,e,n){e=e||0,n=n||0;const s=new Date(0);s.setUTCFullYear(t,0,4);const r=s.getUTCDay()||7,i=e*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}const BW=[31,28,31,30,31,30,31,31,30,31,30,31],UW=[31,29,31,30,31,30,31,31,30,31,30,31];function lA(t){return t%400===0||t%4===0&&t%100!==0}function vw(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const s=lA(t);if(s&&n>UW[e]||!s&&n>BW[e])return!1}return!0}function WW(t,e){if(e<1)return!1;const n=lA(t);return!(n&&e>366||!n&&e>365)}function bw(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function lp(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const HW=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function YW(t,e,n={}){e=String(e);const s=e.match(HW);if(s){const r=nh(n.originalDate||t,n);e=s.reduce(function(i,a){if(a[0]==="'")return i;const o=i.indexOf(a),c=i[o-1]==="'",u=i.replace(a,"'"+IW[a[0]](r,a,n)+"'");return c?u.substring(0,o-1)+u.substring(o+1):u},e)}return je(t,e,n)}function cA(t,e,n){t=nh(t,n);const s=tm(e,t,!0),r=new Date(t.getTime()-s),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}function ov(t,e,n,s){return s={...s,timeZone:e,originalDate:t},YW(cA(t,e,{timeZone:s.timeZone}),n,s)}function qW(t,e,n){if(typeof t=="string"&&!t.match(oA))return nh(t,{...n,timeZone:e});t=nh(t,n);const s=av(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).getTime(),r=tm(e,new Date(s));return new Date(s+r)}function sh(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return console.warn("Failed to detect timezone, falling back to UTC:",t),"UTC"}}function Ha(){const t=localStorage.getItem("user_timezone");if(t)return t;const e=sh();return localStorage.setItem("user_timezone",e),e}function iy(t){localStorage.setItem("user_timezone",t)}function QW(){const t=Ha();return ov(new Date,t,"yyyy-MM-dd")}function KW(){const t=Ha();return cA(new Date,t)}function ww(t){const e=Ha(),n=new Date(t+"T00:00:00");return qW(n,e)}function aa(t,e){const n=Ha(),s=typeof t=="string"?Kh(t):t;return ov(s,n,e)}function GW(){const t=new Date;return["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Anchorage","Pacific/Honolulu","Europe/London","Europe/Paris","Europe/Berlin","Europe/Rome","Europe/Moscow","Asia/Tokyo","Asia/Shanghai","Asia/Kolkata","Asia/Dubai","Australia/Sydney","Australia/Melbourne","Pacific/Auckland","UTC"].map(n=>{try{const s=ov(t,n,"XXX"),r=n.replace("_"," ").replace("/"," - ");return{value:n,label:`${r} (${s})`,offset:s}}catch{return{value:n,label:n,offset:"+00:00"}}}).sort((n,s)=>n.label.localeCompare(s.label))}function uA(){if(!localStorage.getItem("user_timezone")){const e=sh();iy(e),console.log("🌍 Auto-detected timezone:",e)}}function XW({className:t}){const[e,n]=b.useState(""),[s,r]=b.useState(""),{toast:i}=Nt();b.useEffect(()=>{n(Ha()),r(sh())},[]);const a=d=>{n(d),iy(d),i({title:"Timezone Updated",description:`Timezone changed to ${d}`})},o=()=>{const d=sh();n(d),iy(d),i({title:"Timezone Auto-detected",description:`Set to ${d}`})},c=GW(),u=aa(new Date,"PPP p");return l.jsxs(oe,{className:t,children:[l.jsx(wt,{children:l.jsxs(St,{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-globe mr-2"}),"Timezone Settings"]})}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Current Timezone"}),l.jsxs(Ra,{value:e,onValueChange:a,children:[l.jsx(Ai,{children:l.jsx(Fa,{placeholder:"Select timezone"})}),l.jsx(Oi,{children:c.map(d=>l.jsx(rt,{value:d.value,children:d.label},d.value))})]})]}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Current time:"})," ",u]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Detected timezone:"})," ",s]})]}),e!==s&&l.jsxs(Y,{variant:"outline",onClick:o,className:"w-full",children:[l.jsx("i",{className:"fas fa-location-arrow mr-2"}),"Use Auto-detected Timezone"]}),l.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[l.jsx("strong",{children:"Note:"})," Changing your timezone affects how dates are displayed and when journal entries are created. All existing entries will be shown according to your new timezone setting."]})]})]})}const ZW=Oh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lv({className:t,variant:e,...n}){return l.jsx("div",{className:Ie(ZW({variant:e}),t),...n})}var dA="basil",JW=function(e){return e===3?"v3":e},fA="https://js.stripe.com",eH="".concat(fA,"/").concat(dA,"/stripe.js"),tH=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,nH=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var sH=function(e){return tH.test(e)||nH.test(e)},rH=function(){for(var e=document.querySelectorAll('script[src^="'.concat(fA,'"]')),n=0;n<e.length;n++){var s=e[n];if(sH(s.src))return s}return null},Sw=function(e){var n="",s=document.createElement("script");s.src="".concat(eH).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(s),s},iH=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},Ul=null,fd=null,hd=null,aH=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},oH=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},lH=function(e){return Ul!==null?Ul:(Ul=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var r=rH();if(!(r&&e)){if(!r)r=Sw(e);else if(r&&hd!==null&&fd!==null){var i;r.removeEventListener("load",hd),r.removeEventListener("error",fd),(i=r.parentNode)===null||i===void 0||i.removeChild(r),r=Sw(e)}}hd=oH(n,s),fd=aH(s),r.addEventListener("load",hd),r.addEventListener("error",fd)}catch(a){s(a);return}}),Ul.catch(function(n){return Ul=null,Promise.reject(n)}))},cH=function(e,n,s){if(e===null)return null;var r=n[0],i=r.match(/^pk_test/),a=JW(e.version),o=dA;i&&a!==o&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return iH(c,s),c},Wl,hA=!1,mA=function(){return Wl||(Wl=lH(null).catch(function(e){return Wl=null,Promise.reject(e)}),Wl)};Promise.resolve().then(function(){return mA()}).catch(function(t){hA||console.warn(t)});var uH=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];hA=!0;var r=Date.now();return mA().then(function(i){return cH(i,n,r)})},dH={};const fH=uH(dH.VITE_STRIPE_PUBLISHABLE_KEY||"pk_test_...");async function hH(t){const e=await fH;if(!e)throw new Error("Stripe failed to load");const{error:n}=await e.redirectToCheckout({sessionId:t});if(n)throw console.error("Stripe checkout error:",n),n}const mH={"Ad-free":{monthly:{price:"$4.99",interval:"month"},yearly:{price:"$49.99",interval:"year",savings:"$10"}},Premium:{monthly:{price:"$9.99",interval:"month"},yearly:{price:"$99.99",interval:"year",savings:"$20"}}};function pH({isOpen:t,onClose:e,targetTier:n}){const{user:s}=Sn(),{toast:r}=Nt(),[i,a]=b.useState(!1),[o,c]=b.useState(n||"Premium"),[u,d]=b.useState("monthly"),[f,h]=b.useState(!1);b.useEffect(()=>{const v=()=>{const g=window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://");h(g)};v();const x=window.matchMedia("(display-mode: standalone)");return x.addEventListener("change",v),()=>x.removeEventListener("change",v)},[]);const m=async()=>{if(!s){r({title:"Error",description:"Please log in to upgrade your membership.",variant:"destructive"});return}a(!0);try{const v=await Ee("POST","/api/stripe/create-checkout-session",{tier:o,interval:u});if(v.sessionId)await hH(v.sessionId);else throw new Error("Failed to create checkout session")}catch(v){console.error("Upgrade error:",v),r({title:"Error",description:"Failed to start checkout process. Please try again.",variant:"destructive"})}finally{a(!1)}},y=qx[o],p=mH[o];return l.jsx(Mr,{open:t,onOpenChange:e,children:l.jsxs(er,{className:`max-w-md max-h-[85vh] overflow-y-auto ${f?"fixed top-[5vh] left-[5vw] right-[5vw] bottom-auto w-[90vw] max-w-md mx-auto translate-x-0 translate-y-0":"m-4 w-[calc(100vw-2rem)] sm:w-full"}`,children:[l.jsx(Dr,{children:l.jsxs(Ar,{className:"text-center",children:["Upgrade to ",y.displayName]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Choose Plan"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>c("Ad-free"),className:`p-3 rounded-lg border-2 transition-all ${o==="Ad-free"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:"text-sm font-medium",children:"🚫 Ad-free"}),l.jsx("div",{className:"text-xs text-gray-500",children:"No advertisements"})]}),l.jsxs("button",{onClick:()=>c("Premium"),className:`p-3 rounded-lg border-2 transition-all ${o==="Premium"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:"text-sm font-medium",children:"⭐ Premium"}),l.jsx("div",{className:"text-xs text-gray-500",children:"All features"})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Billing"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>d("monthly"),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${u==="monthly"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"Monthly"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Billed monthly"})]}),l.jsx("div",{className:"text-lg font-bold",children:p.monthly.price})]})}),l.jsx("button",{onClick:()=>d("yearly"),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${u==="yearly"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:["Yearly",l.jsxs(lv,{variant:"secondary",className:"text-xs",children:["Save ",p.yearly.savings]})]}),l.jsx("div",{className:"text-xs text-gray-500",children:"Billed annually"})]}),l.jsx("div",{className:"text-lg font-bold",children:p.yearly.price})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"What you get:"}),l.jsx("ul",{className:"space-y-2",children:y.features.map((v,x)=>l.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[l.jsx("i",{className:"fas fa-check text-green-500 mr-2 text-xs"}),v]},x))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Y,{onClick:m,disabled:i,className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white py-3 text-lg font-medium",children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-spinner fa-spin"}),"Processing..."]}):`Upgrade to ${y.name}`}),l.jsx(Y,{onClick:e,variant:"outline",className:"w-full",disabled:i,children:"Cancel"})]}),l.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[l.jsx("i",{className:"fas fa-lock mr-1"}),"Secure payment processing by Stripe"]})]})]})})}function gH({showUpgradeOptions:t=!1,className:e=""}){const{user:n}=Sn(),{toast:s}=Nt(),[r,i]=b.useState(!1),[a,o]=b.useState(!1);if(!(n!=null&&n.membership))return null;const c=qx[n.membership],u=async()=>{if(n){o(!0);try{const d=await Ee("POST","/api/stripe/create-portal-session");d.url&&(window.location.href=d.url)}catch(d){console.error("Error opening customer portal:",d),d.message&&d.message.includes("Beta users don't have active subscriptions")?s({title:"Beta User",description:"You are on a beta tier. To manage subscriptions, you would need to upgrade to a paid plan first.",variant:"default"}):s({title:"Error",description:d.message||"Failed to open subscription management. Please try again.",variant:"destructive"})}finally{o(!1)}}};return l.jsxs(oe,{className:`bg-white/75 backdrop-blur-sm border-0 shadow-lg ${e}`,children:[l.jsx(wt,{children:l.jsxs(St,{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Membership"}),l.jsx(lv,{variant:"secondary",className:"text-lg px-3 py-1",children:c.displayName})]})}),l.jsxs(le,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm mb-3",children:c.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Your Benefits:"}),l.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:c.features.map((d,f)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check text-green-500 mr-2 text-xs"}),d]},f))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-3 border-t border-gray-200",children:[l.jsx("div",{className:"text-center",children:l.jsx("div",{className:`text-xs font-medium ${nc(n.membership,"ads-free")?"text-green-600":"text-gray-500"}`,children:nc(n.membership,"ads-free")?"🚫 Ad-Free":"📢 Ads Enabled"})}),l.jsx("div",{className:"text-center",children:l.jsx("div",{className:`text-xs font-medium ${nc(n.membership,"premium-analytics")?"text-blue-600":"text-gray-500"}`,children:nc(n.membership,"premium-analytics")?"📊 Analytics":"📈 Basic Stats"})})]}),t&&n.membership==="Free"&&l.jsx("div",{className:"pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Y,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>i(!0),children:"🚫 Upgrade to Ad-Free"}),l.jsx(Y,{size:"sm",className:"w-full text-xs bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",onClick:()=>i(!0),children:"⭐ Upgrade to Premium"})]})}),(n.membership==="Ad-free"||n.membership==="Premium"||n.membership==="Premium (beta)")&&l.jsx("div",{className:"pt-4 border-t border-gray-200",children:l.jsx(Y,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:u,disabled:a,children:a?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-spinner fa-spin"}),"Loading..."]}):l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"fas fa-cog mr-2"}),"Manage Subscription"]})})}),n.membership==="Premium (beta)"&&l.jsx("div",{className:"pt-3 border-t border-gray-200",children:l.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[l.jsxs("div",{className:"text-xs text-blue-800",children:[l.jsx("i",{className:"fas fa-flask mr-1"}),l.jsx("strong",{children:"Beta Tester"})]}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Thanks for helping us test new features! Your feedback shapes the future of Journey."})]})})]}),l.jsx(pH,{isOpen:r,onClose:()=>i(!1)})]})}function yH({className:t=""}){const{user:e}=Sn();if(!(e!=null&&e.membership))return null;const n=qx[e.membership];return l.jsxs(lv,{variant:"secondary",className:`text-xs ${t}`,children:[n.emoji," ",n.name]})}function xH(){const{user:t}=Sn(),[,e]=nt(),n=wn(),{toast:s}=Nt(),[r,i]=b.useState(!1),a=async()=>{try{await Ee("POST","/api/logout"),localStorage.removeItem("authToken"),n.clear(),s({title:"Logged out successfully",description:"You have been logged out. See you next time!"}),setTimeout(()=>{window.location.href="/"},1e3)}catch(c){console.error("Logout error:",c),localStorage.removeItem("authToken"),n.clear(),window.location.href="/"}},o=()=>{e("/")};return l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Profile & Settings",showBackButton:!0,onBack:o,showHomeButton:!0}),l.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-4xl mx-auto",children:[l.jsx("div",{className:"mb-6",children:l.jsx("div",{children:l.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})})}),l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsx(wt,{children:l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"Profile Information"})}),l.jsxs(le,{children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx(Yh,{firstName:(t==null?void 0:t.firstName)||void 0,lastName:(t==null?void 0:t.lastName)||void 0,profileImageUrl:(t==null?void 0:t.profileImageUrl)||void 0,size:"lg",editable:!1}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),l.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Username: ",t==null?void 0:t.username]}),(t==null?void 0:t.membership)&&l.jsx("div",{className:"mt-2",children:l.jsx(yH,{className:"text-xs"})})]})]}),l.jsx("div",{className:"space-y-4",children:l.jsx(Y,{variant:"outline",className:"w-full shadow-md",onClick:()=>e("/edit-profile"),children:"Edit Profile"})})]})]}),l.jsx(gH,{showUpgradeOptions:!0,className:"mb-8"}),l.jsx("div",{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:l.jsx(XW,{})}),l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsx(wt,{children:l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"Settings"})}),l.jsx(le,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Y,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("i",{className:"fas fa-bell mr-3"}),"Notifications"]}),l.jsxs(Y,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("i",{className:"fas fa-lock mr-3"}),"Privacy"]}),l.jsxs(Y,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("i",{className:"fas fa-chart-bar mr-3"}),"Data Export"]}),l.jsxs(Y,{onClick:()=>e("/change-password"),variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[l.jsx("i",{className:"fas fa-key mr-3"}),"Change Password"]}),l.jsx("hr",{className:"my-6"}),l.jsxs(Y,{onClick:()=>i(!0),variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4",children:[l.jsx("i",{className:"fas fa-lock mr-3"}),t!=null&&t.photosPinEnabled?"Update":"Set"," Photos PIN"]}),l.jsx(bW,{variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4"}),l.jsxs(Y,{onClick:a,variant:"destructive",className:"w-full shadow-md hover:shadow-lg transition-shadow",children:[l.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Logout"]})]})})]})]}),l.jsx(aA,{isOpen:r,onClose:()=>i(!1),mode:"update"})]})}const vH=Er({firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required"),username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function bH(){const{user:t}=Sn(),[,e]=nt(),{toast:n}=Nt(),s=wn(),[r,i]=b.useState(!1),{data:a,isLoading:o}=Rt({queryKey:["/api/profile"],queryFn:async()=>await Ee("GET","/api/profile")}),{register:c,handleSubmit:u,setValue:d,watch:f,formState:{errors:h,isDirty:m},reset:y}=wl({resolver:Sl(vH),defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",gender:"",birthday:"",height:"",weight:"",bodyType:""}});b.useEffect(()=>{t&&a&&y({firstName:t.firstName||"",lastName:t.lastName||"",username:t.username||"",email:t.email||"",gender:a.gender||"",birthday:a.birthday||"",height:a.height||"",weight:a.weight||"",bodyType:a.bodyType||""})},[t,a,y]);const p=It({mutationFn:async S=>{const _=await Ee("PUT","/api/profile/user",S.user),j=await Ee("PUT","/api/profile/profile",S.profile);return{user:_,profile:j}},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/profile"]}),s.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile updated successfully!"}),e("/profile")},onError:S=>{n({title:"Error",description:S.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),v=It({mutationFn:async S=>{const _=new FormData;return _.append("profileImage",S),await Ee("POST","/api/profile/avatar",_)},onSuccess:S=>{s.invalidateQueries({queryKey:["/api/profile"]}),s.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile picture updated successfully!"})},onError:S=>{n({title:"Error",description:S.message||"Failed to update profile picture. Please try again.",variant:"destructive"})}}),x=async S=>{i(!0);try{await v.mutateAsync(S)}finally{i(!1)}},g=S=>{const _={firstName:S.firstName,lastName:S.lastName,username:S.username,email:S.email},j={gender:S.gender,birthday:S.birthday,height:S.height,weight:S.weight,bodyType:S.bodyType};p.mutate({user:_,profile:j})},w=()=>{e("/profile")};return o?l.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[l.jsx(Dt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-white",children:"Loading profile..."})})})]}):l.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[l.jsx(Dt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0 mb-8",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsx(wt,{children:l.jsx(St,{className:"text-lg font-semibold text-gray-800 text-center",children:"Update Your Profile"})}),l.jsx(le,{className:"p-8",children:l.jsxs("form",{onSubmit:u(g),className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx(Yh,{firstName:t==null?void 0:t.firstName,lastName:t==null?void 0:t.lastName,profileImageUrl:t==null?void 0:t.profileImageUrl,size:"xl",onImageUpload:x,editable:!0}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r?"Uploading...":"Click to change your profile picture"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"firstName",children:"First Name *"}),l.jsx(Ce,{id:"firstName",...c("firstName"),className:"mt-2",placeholder:"First name"}),h.firstName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.firstName.message})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"lastName",children:"Last Name *"}),l.jsx(Ce,{id:"lastName",...c("lastName"),className:"mt-2",placeholder:"Last name"}),h.lastName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.lastName.message})]})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"username",children:"Username *"}),l.jsx(Ce,{id:"username",...c("username"),className:"mt-2",placeholder:"Username"}),h.username&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"email",children:"Email *"}),l.jsx(Ce,{id:"email",type:"email",...c("email"),className:"mt-2",placeholder:"Email address"}),h.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"gender",children:"Gender"}),l.jsxs(Ra,{onValueChange:S=>d("gender",S),value:f("gender"),children:[l.jsx(Ai,{className:"mt-2",children:l.jsx(Fa,{placeholder:"Select gender"})}),l.jsxs(Oi,{children:[l.jsx(rt,{value:"female",children:"Female"}),l.jsx(rt,{value:"male",children:"Male"}),l.jsx(rt,{value:"non-binary",children:"Non-binary"}),l.jsx(rt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"birthday",children:"Birthday"}),l.jsx(Ce,{id:"birthday",type:"date",...c("birthday"),className:"mt-2"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"height",children:"Height"}),l.jsx(Ce,{id:"height",...c("height"),placeholder:`5'6"`,className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"weight",children:"Weight"}),l.jsx(Ce,{id:"weight",...c("weight"),placeholder:"150 lbs",className:"mt-2"})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"bodyType",children:"Body Type"}),l.jsxs(Ra,{onValueChange:S=>d("bodyType",S),value:f("bodyType"),children:[l.jsx(Ai,{className:"mt-2",children:l.jsx(Fa,{placeholder:"Select type"})}),l.jsxs(Oi,{children:[l.jsx(rt,{value:"petite",children:"Petite"}),l.jsx(rt,{value:"lean",children:"Lean"}),l.jsx(rt,{value:"average",children:"Average"}),l.jsx(rt,{value:"athletic",children:"Athletic"}),l.jsx(rt,{value:"muscular",children:"Muscular"}),l.jsx(rt,{value:"pear",children:"Pear"})]})]})]})]})]}),l.jsxs("div",{className:"flex space-x-4 pt-6",children:[l.jsx(Y,{type:"button",variant:"outline",onClick:w,className:"flex-1",children:"Cancel"}),l.jsx(Y,{type:"submit",disabled:p.isPending||r||!m,className:"flex-1 bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500 text-white font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50",children:p.isPending?"Updating...":m?"Save Changes":"No Changes"})]})]})})]})})]})}const cv=b.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));cv.displayName="Textarea";function wH(){const[t,e]=b.useState(""),[n,s]=b.useState(!1),{toast:r}=Nt(),[,i]=nt(),a=async()=>{if(!t.trim()){r({title:"No Feedback",description:"Please enter your feedback before submitting.",variant:"destructive"});return}if(t.trim().length<10){r({title:"Too Short",description:"Please provide more detailed feedback (at least 10 characters).",variant:"destructive"});return}s(!0);try{await Ee("POST","/api/feedback",{feedback:t.trim()}),r({title:"Feedback Sent",description:"Thank you for your feedback! We'll review it and get back to you if needed."}),e(""),setTimeout(()=>i("/"),2e3)}catch(c){r({title:"Failed to Send",description:(c==null?void 0:c.message)||"Something went wrong. Please try again later.",variant:"destructive"})}finally{s(!1)}},o=()=>{i("/")};return l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Feedback",showBackButton:!0,showHomeButton:!0,onBack:o}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[l.jsxs(wt,{children:[l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"We'd Love Your Feedback"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Help us improve Journey by sharing your thoughts, suggestions, or reporting issues."})]}),l.jsxs(le,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Feedback"}),l.jsx(cv,{value:t,onChange:c=>e(c.target.value),placeholder:"Tell us what you think about Journey, suggest improvements, or report any issues you've encountered...",className:"min-h-[240px] resize-none",maxLength:2e3}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Share anything that would help us make Journey better for you"}),l.jsxs("p",{className:"text-xs text-gray-400",children:[t.length,"/2000"]})]})]}),l.jsx(Y,{onClick:a,disabled:n||!t.trim(),className:"w-full shadow-md hover:shadow-lg transition-shadow",children:n?l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Sending Feedback..."]}):l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Send Feedback"]})}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback helps us improve Journey for everyone"})})]})]})})]})}function Hl({options:t,value:e,onChange:n,className:s=""}){const[r,i]=b.useState(!1),a=b.useRef(null),o=40,[c,u]=b.useState(!1),d=t.findIndex(m=>m===e),f=m=>{const y=m.currentTarget.scrollTop,p=Math.round(y/o),v=Math.max(0,Math.min(p,t.length-1));t[v]!==e&&n(t[v])},h=()=>{if(!a.current)return;const m=a.current.scrollTop,y=Math.round(m/o),p=Math.max(0,Math.min(y,t.length-1));a.current.scrollTo({top:p*o,behavior:"smooth"}),t[p]!==e&&n(t[p])};return b.useEffect(()=>{a.current&&!c&&d>=0&&(a.current.scrollTop=d*o,u(!0))},[d,o,c]),l.jsxs("div",{className:`relative ${s}`,children:[l.jsx("div",{className:"absolute left-0 right-0 bg-blue-500/20 border-y-2 border-blue-500 pointer-events-none z-10",style:{top:"50%",transform:"translateY(-50%)",height:`${o}px`}}),l.jsx("div",{ref:a,className:"h-32 overflow-y-scroll scrollbar-hide",style:{scrollSnapType:"y mandatory",paddingTop:`${o}px`,paddingBottom:`${o}px`},onScroll:f,onTouchStart:()=>i(!0),onTouchEnd:()=>{i(!1),h()},onMouseDown:()=>i(!0),onMouseUp:()=>{i(!1),h()},children:t.map((m,y)=>l.jsx("div",{className:`flex items-center justify-center text-center select-none transition-all duration-200 cursor-pointer ${m===e?"text-blue-600 font-semibold text-lg":"text-gray-600 text-base"}`,style:{height:`${o}px`,scrollSnapAlign:"center"},onClick:()=>{n(m),a.current&&a.current.scrollTo({top:y*o,behavior:"smooth"})},children:m},m))})]})}function _w({label:t,value:e,onChange:n,className:s=""}){const[r,i]=b.useState(!1),[a,o]=b.useState(e.date),[c,u]=b.useState(e.time),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=new Date().getFullYear(),h=new Date().getMonth(),m=ne=>h===11&&ne===0?f+1:h!==11&&ne===11?f-1:f,y=Array.from({length:12},(ne,re)=>String(re===0?12:re).padStart(2,"0")),p=Array.from({length:60},(ne,re)=>String(re).padStart(2,"0")),v=["AM","PM"],[x,g,w]=a.split("-"),S=parseInt(x),_=parseInt(g)-1,j=w,k=d[_],T=c.split(":"),E=parseInt(T[0]),A=T[1],z=E===0?"12":E>12?String(E-12).padStart(2,"0"):String(E).padStart(2,"0"),R=E>=12?"PM":"AM",L=new Date(S,_+1,0).getDate(),I=Array.from({length:L},(ne,re)=>String(re+1).padStart(2,"0")),O=()=>{const[ne,re,ge]=e.date.split("-"),ve=parseInt(re)-1,H=parseInt(ge),Z=e.time,[ze,De]=Z.split(":"),be=parseInt(ze),Oe=be>=12?"PM":"AM",Qt=be===0?12:be>12?be-12:be;return`${d[ve]} ${H} at ${Qt}:${De} ${Oe}`},V=ne=>{const re=d.indexOf(ne),ge=m(re),ve=Math.min(parseInt(j),new Date(ge,re+1,0).getDate()),H=`${ge}-${String(re+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`;o(H)},B=ne=>{const re=m(_),ge=`${re}-${String(_+1).padStart(2,"0")}-${String(parseInt(ne)).padStart(2,"0")}`;console.log("🗓️ Day Change Debug:",{selectedDay:ne,selectedMonthIndex:_,yearForMonth:re,newDate:ge,tempDate:a}),o(ge)},C=ne=>{const re=R==="AM"?ne==="12"?0:parseInt(ne):ne==="12"?12:parseInt(ne)+12;u(`${String(re).padStart(2,"0")}:${A}`)},F=ne=>{const re=R==="AM"?z==="12"?0:parseInt(z):z==="12"?12:parseInt(z)+12;u(`${String(re).padStart(2,"0")}:${ne}`)},D=ne=>{const re=parseInt(z),ge=ne==="AM"?re===12?0:re:re===12?12:re+12;u(`${String(ge).padStart(2,"0")}:${A}`)},W=()=>{console.log("💾 DateTime Save Debug:",{tempDate:a,tempTime:c,formatDisplayValue:O()}),n({date:a,time:c}),i(!1)},G=()=>{o(e.date),u(e.time),i(!1)};return r?l.jsx("div",{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 ${s}`,children:l.jsx(oe,{className:"bg-white max-w-md w-full max-h-[90vh] overflow-hidden",children:l.jsxs(le,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:t}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Month"}),l.jsx(Hl,{options:d,value:k,onChange:V})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Day"}),l.jsx(Hl,{options:I,value:j,onChange:B})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Hour"}),l.jsx(Hl,{options:y,value:z,onChange:C})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Min"}),l.jsx(Hl,{options:p,value:A,onChange:F})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"AM/PM"}),l.jsx(Hl,{options:v,value:R,onChange:D})]})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(Y,{variant:"outline",onClick:G,className:"flex-1",children:"Cancel"}),l.jsx(Y,{onClick:W,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})}):l.jsxs("div",{className:s,children:[l.jsx("label",{className:"text-white mb-2 block text-sm font-medium",children:t}),l.jsx(oe,{className:"bg-gray-800 border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>i(!0),children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-white",children:O()}),l.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})})]})}const SH=[{value:"walking",label:"Walking",icon:"fa-walking"},{value:"running",label:"Running",icon:"fa-running"},{value:"cycling",label:"Cycling",icon:"fa-biking"},{value:"sleep",label:"Sleep",icon:"fa-bed"}],md="journey_custom_activities";function _H(){const[t,e]=nt(),{toast:n}=Nt(),s=wn(),[r,i]=b.useState(""),[a,o]=b.useState({date:sp(new Date),time:"09:00"}),[c,u]=b.useState({date:sp(new Date),time:"10:00"}),[d,f]=b.useState(new Date),[h,m]=b.useState(!1),[y,p]=b.useState(!1),[v,x]=b.useState(null),[g,w]=b.useState({activityType:"",startDateTime:{date:"",time:""},endDateTime:{date:"",time:""}}),[S,_]=b.useState(!1),{data:j=[]}=Rt({queryKey:["/api/custom-activities"],queryFn:async()=>{const C=k();if(C)return C;const F=await Ee("GET","/api/custom-activities");return T(F),F}}),k=()=>{try{const C=localStorage.getItem(md);if(!C)return null;const F=JSON.parse(C),W=Date.now()-F.timestamp,G=24*60*60*1e3;return W>G?(localStorage.removeItem(md),null):F.data}catch{return localStorage.removeItem(md),null}},T=C=>{try{const F={data:C,timestamp:Date.now()};localStorage.setItem(md,JSON.stringify(F))}catch(F){console.error("Error caching custom activities:",F)}},E=j.map(C=>({value:`custom-${C.id}`,label:C.name.toUpperCase(),icon:C.icon})),A=[...SH,...E];b.useEffect(()=>{if(h)return;const C=new URLSearchParams(window.location.search),F=C.get("activity"),D=C.get("edit"),W=C.get("activityType"),G=C.get("startTime"),ne=C.get("endTime"),re=C.get("date");if(console.log("🔍 Add-Activity URL Debug - dateParam from URL:",re),console.log("🔍 Add-Activity URL Debug - current selectedDate before update:",d),re){const ge=new Date(re),ve=sp(ge);console.log("🔍 Add-Activity URL Debug - creating new Date from dateParam:",ge),f(ge),D||(o(H=>({...H,date:ve})),u(H=>({...H,date:ve}))),console.log("🔍 Add-Activity URL Debug - set selectedDate to:",ge)}else console.log("🔍 Add-Activity URL Debug - NO dateParam found, keeping default selectedDate:",d);if(D&&W&&G&&ne){p(!0),x(parseInt(D));let ge=W.toLowerCase();const ve=j.find(be=>be.name.toLowerCase()===W.toLowerCase());ve&&(ge=`custom-${ve.id}`),i(ge);const H=new Date(G),Z=new Date(ne),ze={date:je(H,"yyyy-MM-dd"),time:je(H,"HH:mm")},De={date:je(Z,"yyyy-MM-dd"),time:je(Z,"HH:mm")};o(ze),u(De),w({activityType:ge,startDateTime:ze,endDateTime:De}),window.history.replaceState({},"","/add-activity")}else F&&(i(F),window.history.replaceState({},"","/add-activity"));m(!0)},[j,h]),b.useEffect(()=>{if(y){const C=r!==g.activityType||a.date!==g.startDateTime.date||a.time!==g.startDateTime.time||c.date!==g.endDateTime.date||c.time!==g.endDateTime.time;_(C)}},[r,a,c,g,y]);const z=It({mutationFn:async C=>{console.log("Frontend sending activity data:",C);try{const F=await Ee("POST","/api/activities",C);return console.log("Frontend received result:",F),F}catch(F){throw console.error("Frontend API request error:",F),F}},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/activities"]}),s.invalidateQueries({predicate:F=>F.queryKey[0]&&typeof F.queryKey[0]=="string"&&F.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity added successfully!"});const C=c.date;console.log("🏠 Navigation Debug - Returning to home with date:",C,"endDateTime.date:",c.date),e(`/?date=${C}`)},onError:C=>{console.error("Frontend mutation error:",C),n({title:"Error",description:"Failed to add activity. Please try again.",variant:"destructive"})}}),R=It({mutationFn:async C=>await Ee("PUT",`/api/activities/${v}`,C),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/activities"]}),s.invalidateQueries({predicate:F=>F.queryKey[0]&&typeof F.queryKey[0]=="string"&&F.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity updated successfully!"});const C=c.date;e(`/?date=${C}`)},onError:C=>{n({title:"Error",description:"Failed to update activity. Please try again.",variant:"destructive"})}}),L=It({mutationFn:async()=>await Ee("DELETE",`/api/activities/${v}`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/activities"]}),s.invalidateQueries({predicate:F=>F.queryKey[0]&&typeof F.queryKey[0]=="string"&&F.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity deleted successfully!"});const C=c.date;e(`/?date=${C}`)},onError:C=>{n({title:"Error",description:"Failed to delete activity. Please try again.",variant:"destructive"})}}),I=()=>{if(!r||!a.time||!c.time){n({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}let C=r;if(r.startsWith("custom-")){const re=parseInt(r.replace("custom-","")),ge=j.find(ve=>ve.id===re);C=ge?ge.name:r}const F=nP(a.time,c.time,C);if(!F){n({title:"Invalid Time",description:C==="sleep"?"Please check your sleep times.":"End time must be after start time.",variant:"destructive"});return}let D=lw(a.date,a.time),W=lw(c.date,c.time);W=m8(D,W,C);let G;C==="sleep"?(G=new Date(W),G.setHours(0,0,0,0)):G=r2(a.date);const ne={activityType:C,startTime:D.toISOString(),endTime:W.toISOString(),durationMinutes:F.hours*60+F.minutes,date:G.toISOString()};console.log("🚀🚀🚀 DETAILED Activity Creation Debug:"),console.log("1. Start DateTime Input:",a),console.log("2. End DateTime Input:",c),console.log("3. Activity Type:",C),console.log("4. Created startDateTimeObj:",D),console.log("5. Created startDateTimeObj toString():",D.toString()),console.log("6. Created startDateTimeObj toISOString():",D.toISOString()),console.log("7. Created endDateTimeObj:",W),console.log("8. Created endDateTimeObj toString():",W.toString()),console.log("9. Created endDateTimeObj toISOString():",W.toISOString()),console.log("10. Activity Date Object:",G),console.log("11. Activity Date toString():",G.toString()),console.log("12. Activity Date toISOString():",G.toISOString()),console.log("13. Duration:",F),console.log("14. Final Activity Data:",ne),y?R.mutate(ne):z.mutate(ne)},O=()=>{window.confirm("Are you sure you want to delete this activity?")&&L.mutate()},V=()=>{const C=A.find(F=>F.value===r);return C?C.icon:"fa-dumbbell"},B=()=>{const C=A.find(F=>F.value===r);return C?C.label:"SELECT ACTIVITY"};return l.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 mt-12 mb-6",children:[l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>{const C=c.date;e(`/?date=${C}`)},className:"p-2 text-white hover:bg-white/20",children:l.jsx("i",{className:"fas fa-chevron-left text-xl"})}),l.jsx("h1",{className:"text-xl font-bold text-white",children:y?"EDIT ACTIVITY":"ADD ACTIVITY"}),l.jsx("div",{onClick:()=>{const C=c.date;e(`/?date=${C}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:l.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),l.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[l.jsx(oe,{className:"mb-6 bg-gray-800 border-0 cursor-pointer hover:bg-gray-700 transition-all duration-200",onClick:()=>e("/select-activity"),children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:l.jsx("i",{className:`fas ${V()} text-gray-400 text-lg`})}),l.jsx("span",{className:"text-white font-medium",children:B()})]}),l.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DATE & TIME"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(_w,{label:"Start Date & Time",value:a,onChange:o}),l.jsx(_w,{label:"End Date & Time",value:c,onChange:u})]})]}),l.jsx(Y,{onClick:I,disabled:y?!S||R.isPending:z.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:y?R.isPending?"UPDATING...":"UPDATE":z.isPending?"SAVING...":"SAVE"}),y&&l.jsx(Y,{onClick:O,disabled:L.isPending,variant:"destructive",className:"w-full py-3 rounded-lg transition-all duration-200 mb-8",children:L.isPending?"DELETING...":"DELETE ACTIVITY"})]})]})}const NH=[{id:"ALL",label:"ALL",active:!0},{id:"STRAIN",label:"STRAIN",active:!1},{id:"RECOVERY",label:"RECOVERY",active:!1},{id:"SLEEP",label:"SLEEP",active:!1}],cp=[{id:"walking",label:"WALKING",icon:"fa-walking",category:"STRAIN"},{id:"running",label:"RUNNING",icon:"fa-running",category:"STRAIN"},{id:"cycling",label:"CYCLING",icon:"fa-biking",category:"STRAIN"},{id:"sleep",label:"SLEEP",icon:"fa-bed",category:"RECOVERY"}],jH=["sleep"],up="journey_custom_activities",pd="journey_recent_activities",dp="journey_pinned_activities",kH=24,CH=5;function TH(){const[,t]=nt(),{toast:e}=Nt(),n=wn(),[s,r]=b.useState(""),[i,a]=b.useState("ALL"),[o,c]=b.useState([]),[u,d]=b.useState("");b.useEffect(()=>{const O=x();c(O)},[]);const{data:f=[],isLoading:h}=Rt({queryKey:["/api/custom-activities"],queryFn:async()=>{const O=y(up);if(O)return O;const V=await Ee("GET","/api/custom-activities");return p(up,V),V}}),m=It({mutationFn:async O=>await Ee("POST","/api/custom-activities",O),onSuccess:O=>{const V=[...f,O];p(up,V);const B=y(pd)||cp,C={id:`custom-${O.id}`,label:O.name.toUpperCase(),icon:O.icon,category:O.category,isCustom:!0},F=B.filter(W=>W.id!==C.id),D=[C,...F].slice(0,3);p(pd,D),n.invalidateQueries({queryKey:["/api/custom-activities"]}),e({title:"Success",description:`"${O.name.toUpperCase()}" added to your activities!`}),L(C.id)},onError:O=>{O.status===409?e({title:"Activity exists",description:"This activity is already in your list.",variant:"destructive"}):e({title:"Error",description:"Failed to add custom activity. Please try again.",variant:"destructive"})}}),y=O=>{try{const V=localStorage.getItem(O);if(!V)return null;const B=JSON.parse(V),F=Date.now()-B.timestamp,D=kH*60*60*1e3;return F>D?(localStorage.removeItem(O),null):B.data}catch(V){return console.error(`Error reading cached data for ${O}:`,V),localStorage.removeItem(O),null}},p=(O,V)=>{try{const B={data:V,timestamp:Date.now()};localStorage.setItem(O,JSON.stringify(B))}catch(B){console.error(`Error caching data for ${O}:`,B)}},v=()=>y(pd)||cp,x=()=>y(dp)||jH,g=O=>{const V=x();if(V.includes(O)){const C=V.filter(F=>F!==O);c(C),p(dp,C)}else{if(V.length>=CH){d("Pin limit reached! Unpin an activity to add another."),setTimeout(()=>d(""),3e3);return}const C=[...V,O];c(C),p(dp,C)}},w=O=>{const B=v().filter(F=>F.id!==O.id),C=[O,...B].slice(0,3);p(pd,C)},S=()=>{const O=f.map(V=>({id:`custom-${V.id}`,label:V.name.toUpperCase(),icon:V.icon,category:V.category,isCustom:!0}));return[...cp,...O]},j=(()=>{if(!s.trim()){const B=v();return i==="ALL"?B:B.filter(C=>C.category===i)}return S().filter(B=>{const C=B.label.toLowerCase().includes(s.toLowerCase()),F=i==="ALL"||B.category===i;return C&&F})})(),k=()=>s.trim()?[]:S().filter(V=>o.includes(V.id)),T=()=>s.trim()?j:j.filter(O=>!o.includes(O.id)),E=k(),A=T(),z=s.trim()&&j.length===0,R=({activity:O,showPinButton:V=!0})=>{const B=o.includes(O.id);return l.jsx(oe,{className:"mb-3 bg-gray-800 border-0",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1 cursor-pointer",onClick:()=>L(O.id),children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:l.jsx("i",{className:`fas ${O.icon} text-blue-400 text-lg`})}),l.jsx("span",{className:"text-white font-medium",children:O.label})]}),V&&l.jsx(Y,{onClick:C=>{C.stopPropagation(),g(O.id)},variant:"ghost",size:"sm",className:"p-2 hover:bg-gray-700",children:l.jsx("i",{className:`fas fa-thumbtack ${B?"text-yellow-400":"text-gray-400"} transform ${B?"rotate-45":""} transition-all duration-200`})})]})})},O.id)},L=O=>{const B=S().find(C=>C.id===O);B&&w(B),t(`/add-activity?activity=${O}`)},I=()=>{if(!s.trim()){e({title:"Error",description:"Please enter an activity name.",variant:"destructive"});return}const O=i==="ALL"?"STRAIN":i,V=s.trim().toLowerCase();m.mutate({name:V,category:O,icon:"fa-dumbbell"})};return l.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-center p-4 mb-6 relative",children:[l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>t("/add-activity"),className:"absolute left-4 p-2 text-white hover:bg-white/20",children:l.jsx("i",{className:"fas fa-chevron-left text-xl"})}),l.jsx("h1",{className:"text-xl font-bold text-white",children:"SELECT ACTIVITY"})]}),l.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx(Ce,{type:"text",placeholder:"Search activities",value:s,onChange:O=>r(O.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-400"})]})}),l.jsx("div",{className:"flex space-x-4 mb-6 overflow-x-auto",children:NH.map(O=>l.jsx(Y,{variant:"ghost",onClick:()=>a(O.id),className:`whitespace-nowrap px-4 py-2 text-sm font-medium transition-all duration-200 ${i===O.id?"text-white border-b-2 border-white bg-transparent hover:bg-white/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:O.label},O.id))}),u&&l.jsx("div",{className:"mb-4 p-3 bg-purple-600/90 text-white rounded-lg animate-in slide-in-from-top duration-300",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-300"}),l.jsx("span",{className:"text-sm font-medium",children:u})]})}),z&&l.jsx(oe,{className:"mb-6 bg-gray-800 border-0",children:l.jsx(le,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-plus text-blue-400 text-lg"})}),l.jsxs("span",{className:"text-white font-medium",children:['Add "',s.toUpperCase(),'" to activities']})]}),l.jsx(Y,{onClick:I,disabled:m.isPending,className:"bg-blue-600 hover:bg-blue-500 text-white px-6",children:m.isPending?"ADDING...":"ADD"})]})})}),s.trim()&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4",children:l.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"SEARCH RESULTS"})}),l.jsx("div",{className:"space-y-3 mb-8",children:j.map(O=>l.jsx(R,{activity:O,showPinButton:!0},O.id))})]}),!s.trim()&&E.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4",children:l.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"PINNED"})}),l.jsx("div",{className:"space-y-3 mb-6",children:E.map(O=>l.jsx(R,{activity:O,showPinButton:!0},O.id))})]}),!s.trim()&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4",children:l.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"RECENT ACTIVITIES"})}),l.jsx("div",{className:"space-y-3 mb-8",children:A.map(O=>l.jsx(R,{activity:O,showPinButton:!0},O.id))})]}),j.length===0&&!z&&s.trim()&&l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-400",children:"No activities found matching your search"})}),h&&!s.trim()&&l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-400",children:"Loading recent activities..."})})]})]})}function PH(){const[,t]=nt(),{toast:e}=Nt(),n=wn(),[s,r]=b.useState(""),[i,a]=b.useState(""),[o,c]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(new Date);b.useEffect(()=>{const v=new URLSearchParams(window.location.search).get("date");if(v){const[x,g,w]=v.split("-").map(Number);h(new Date(x,g-1,w))}},[]);const m=It({mutationFn:async p=>{console.log("Frontend sending macro data:",p);try{const v=await Ee("POST","/api/macros",p);return console.log("Frontend received result:",v),v}catch(v){throw console.error("Frontend API request error:",v),v}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/macros"]});const p=f.toISOString().split("T")[0];n.invalidateQueries({queryKey:[`/api/macros/date/${p}`]}),e({title:"Success",description:"Macros added successfully!"});const v=je(f,"yyyy-MM-dd");t(`/?date=${v}`)},onError:p=>{console.error("Frontend mutation error:",p),e({title:"Error",description:"Failed to add macros. Please try again.",variant:"destructive"})}}),y=()=>{if(!s.trim()||!i||!o||!u){e({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const p={description:s.trim(),protein:parseFloat(i),fats:parseFloat(o),carbs:parseFloat(u),date:je(f,"yyyy-MM-dd")};m.mutate(p)};return l.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 mt-12 mb-6",children:[l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>{const p=je(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"p-2 text-white hover:bg-white/20",children:l.jsx("i",{className:"fas fa-chevron-left text-xl"})}),l.jsx("h1",{className:"text-xl font-bold text-white",children:"ADD MACROS"}),l.jsx("div",{onClick:()=>{const p=je(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:l.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),l.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DESCRIPTION"}),l.jsx(oe,{className:"bg-gray-800 border-0",children:l.jsx(le,{className:"p-4",children:l.jsx(cv,{placeholder:"e.g., Breakfast, Lunch, Snack...",value:s,onChange:p=>r(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 resize-none focus:ring-0 focus:outline-none",rows:3})})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"MACRONUTRIENTS (GRAMS)"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx($e,{className:"text-white mb-2 block",children:"Protein"}),l.jsx(oe,{className:"bg-gray-800 border-0",children:l.jsx(le,{className:"p-4",children:l.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:i,onChange:p=>a(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),l.jsxs("div",{children:[l.jsx($e,{className:"text-white mb-2 block",children:"Fats"}),l.jsx(oe,{className:"bg-gray-800 border-0",children:l.jsx(le,{className:"p-4",children:l.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:o,onChange:p=>c(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),l.jsxs("div",{children:[l.jsx($e,{className:"text-white mb-2 block",children:"Carbs"}),l.jsx(oe,{className:"bg-gray-800 border-0",children:l.jsx(le,{className:"p-4",children:l.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:u,onChange:p=>d(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]})]})]}),l.jsx(Y,{onClick:y,disabled:m.isPending,className:"w-full bg-white/20 hover:bg-white/30 text-white py-4 rounded-lg text-lg font-medium transition-all duration-200 disabled:opacity-50",children:m.isPending?"SAVING...":"SAVE"})]})]})}const EH={weight:["lbs","kg"],length:["in","cm"],percentage:["%"],count:["reps","count"]},MH=[{name:"Waist",unit:"length"},{name:"Chest",unit:"length"},{name:"Arms",unit:"length"},{name:"Thighs",unit:"length"},{name:"Hips",unit:"length"},{name:"Body Fat %",unit:"percentage"},{name:"Muscle Mass",unit:"percentage"}];function DH(){const[,t]=nt(),{toast:e}=Nt(),n=wn(),[s,r]=b.useState(""),[i,a]=b.useState("length"),[o,c]=b.useState(new Date);b.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("date");if(h){const[m,y,p]=h.split("-").map(Number);c(new Date(m,y-1,p))}},[]);const u=It({mutationFn:async f=>{console.log("Creating custom metric field:",f);const h=await Ee("POST","/api/custom-metric-fields",f);return console.log("Custom metric field created:",h),h},onSuccess:f=>{console.log("Custom field creation successful:",f),n.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),e({title:"Success",description:"Custom metric added successfully!"});const h=je(o,"yyyy-MM-dd");t(`/?date=${h}`)},onError:f=>{console.error("Error creating custom metric field:",f),e({title:"Error",description:"Failed to add custom metric. Please try again.",variant:"destructive"})}}),d=()=>{if(console.log("handleSubmit called",{newFieldName:s,newFieldUnit:i}),!s.trim()){e({title:"Error",description:"Please enter a metric name.",variant:"destructive"});return}const h=EH[i][0];console.log("Creating field with:",{fieldName:s.trim(),unit:h}),u.mutate({fieldName:s.trim(),unit:h})};return l.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 mt-12 mb-6",children:[l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>{const f=je(o,"yyyy-MM-dd");t(`/?date=${f}`)},className:"p-2 text-white hover:bg-white/20",children:l.jsx("i",{className:"fas fa-chevron-left text-xl"})}),l.jsx("h1",{className:"text-xl font-bold text-white",children:"ADD CUSTOM METRIC"}),l.jsx("div",{onClick:()=>{const f=je(o,"yyyy-MM-dd");t(`/?date=${f}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:l.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),l.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"METRIC NAME"}),l.jsx(oe,{className:"bg-gray-800 border-0 mb-4",children:l.jsxs(le,{className:"p-4",children:[l.jsx($e,{className:"text-white mb-2 block",children:"Select Common Metric"}),l.jsxs(Ra,{value:s,onValueChange:r,children:[l.jsx(Ai,{className:"bg-transparent border-gray-600 text-white",children:l.jsx(Fa,{placeholder:"Select a common metric"})}),l.jsx(Oi,{children:MH.map(f=>l.jsx(rt,{value:f.name,children:f.name},f.name))})]})]})}),l.jsx(oe,{className:"bg-gray-800 border-0",children:l.jsxs(le,{className:"p-4",children:[l.jsx($e,{className:"text-white mb-2 block",children:"Or Enter Custom Name"}),l.jsx(Ce,{placeholder:"e.g., Bicep, Neck, Body Water %...",value:s,onChange:f=>r(f.target.value),className:"bg-transparent border-gray-600 text-white placeholder-gray-400 focus:ring-0 focus:outline-none"})]})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"UNIT TYPE"}),l.jsx(oe,{className:"bg-gray-800 border-0",children:l.jsxs(le,{className:"p-4",children:[l.jsx($e,{className:"text-white mb-2 block",children:"Measurement Unit"}),l.jsxs(Ra,{value:i,onValueChange:a,children:[l.jsx(Ai,{className:"bg-transparent border-gray-600 text-white",children:l.jsx(Fa,{})}),l.jsxs(Oi,{children:[l.jsx(rt,{value:"length",children:"Length (in/cm)"}),l.jsx(rt,{value:"percentage",children:"Percentage (%)"}),l.jsx(rt,{value:"count",children:"Count/Reps"})]})]})]})})]}),l.jsx(Y,{onClick:d,disabled:!s.trim()||u.isPending,className:"w-full bg-white/20 hover:bg-white/30 text-white py-4 rounded-lg text-lg font-medium transition-all duration-200 disabled:opacity-50",children:u.isPending?"ADDING...":"ADD METRIC"})]})]})}function AH({isOpen:t,onClose:e,date1:n,date2:s,date1Photos:r,date2Photos:i,selectedPhotos:a,onPhotoSelect:o}){const[c,u]=b.useState({scale:1,x:0,y:0}),[d,f]=b.useState({scale:1,x:0,y:0}),[h,m]=b.useState(!1),[y,p]=b.useState(!1),[v,x]=b.useState({x:0,y:0}),[g,w]=b.useState({x:0,y:0}),[S,_]=b.useState(null),[j,k]=b.useState(null),T=b.useRef(null),E=b.useRef(null),A=D=>{try{const W=Kh(D);return je(W,"MMM d, yyyy")}catch{return D}},z=D=>{D===1?u({scale:1,x:0,y:0}):f({scale:1,x:0,y:0})},R=(D,W)=>{D.preventDefault();const G=D.deltaY*-.01,ne=Math.min(Math.max(.5,(W===1?c.scale:d.scale)+G),3);W===1?u(re=>({...re,scale:ne})):f(re=>({...re,scale:ne}))},L=(D,W)=>{D.preventDefault(),W===1?(m(!0),x({x:D.clientX-c.x,y:D.clientY-c.y})):(p(!0),w({x:D.clientX-d.x,y:D.clientY-d.y}))},I=D=>{h&&u(W=>({...W,x:D.clientX-v.x,y:D.clientY-v.y})),y&&f(W=>({...W,x:D.clientX-g.x,y:D.clientY-g.y}))},O=()=>{m(!1),p(!1)},V=D=>{if(D.length<2)return 0;const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},B=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1?(m(!0),x({x:G.clientX-c.x,y:G.clientY-c.y})):(p(!0),w({x:G.clientX-d.x,y:G.clientY-d.y}))}else if(D.touches.length===2){const G=V(D.touches);W===1?(_(G),m(!1)):(k(G),p(!1))}},C=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1&&h?u(ne=>({...ne,x:G.clientX-v.x,y:G.clientY-v.y})):W===2&&y&&f(ne=>({...ne,x:G.clientX-g.x,y:G.clientY-g.y}))}else if(D.touches.length===2){const G=V(D.touches),ne=W===1?S:j;if(ne){const re=G/ne,ve=Math.min(Math.max(.5,(W===1?c:d).scale*re),3);W===1?(u(H=>({...H,scale:ve})),_(G)):(f(H=>({...H,scale:ve})),k(G))}}},F=(D,W)=>{D.touches.length===0?(m(!1),p(!1),_(null),k(null)):D.touches.length===1&&(W===1?_(null):k(null))};return b.useEffect(()=>{if(h||y)return document.addEventListener("mousemove",I),document.addEventListener("mouseup",O),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",O)}},[h,y,v,g]),l.jsx(Mr,{open:t,onOpenChange:e,children:l.jsx(er,{className:"max-w-[95vw] max-h-[76vh] w-full h-full p-4",children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Photo Comparison"}),l.jsx(Y,{onClick:e,variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-800",children:l.jsx("i",{className:"fas fa-times"})})]}),(a.date1Photo||a.date2Photo)&&l.jsxs("div",{className:"flex-1 flex gap-4 mb-4 min-h-0",children:[l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"text-center mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:A(n)}),a.date1Photo&&l.jsx(Y,{onClick:()=>z(1),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),l.jsx("div",{ref:T,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>R(D,1),onMouseDown:D=>L(D,1),onTouchStart:D=>B(D,1),onTouchMove:D=>C(D,1),onTouchEnd:D=>F(D,1),style:{userSelect:"none",touchAction:"none"},children:a.date1Photo?l.jsx("img",{src:a.date1Photo.imageUrl,alt:`Photo from ${A(n)}`,className:"w-full h-full object-contain",style:{transform:`scale(${c.scale}) translate(${c.x/c.scale}px, ${c.y/c.scale}px)`,transformOrigin:"0 0"},draggable:!1}):l.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",A(n)]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"text-center mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:A(s)}),a.date2Photo&&l.jsx(Y,{onClick:()=>z(2),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),l.jsx("div",{ref:E,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>R(D,2),onMouseDown:D=>L(D,2),onTouchStart:D=>B(D,2),onTouchMove:D=>C(D,2),onTouchEnd:D=>F(D,2),style:{userSelect:"none",touchAction:"none"},children:a.date2Photo?l.jsx("img",{src:a.date2Photo.imageUrl,alt:`Photo from ${A(s)}`,className:"w-full h-full object-contain",style:{transform:`scale(${d.scale}) translate(${d.x/d.scale}px, ${d.y/d.scale}px)`,transformOrigin:"0 0"},draggable:!1}):l.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",A(s)]})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:A(n)}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map(D=>{var W;return l.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=a.date1Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>o(D,0),children:l.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:A(s)}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(D=>{var W;return l.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=a.date2Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>o(D,1),children:l.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]})]})]})})})}function OH(){const[,t]=nt(),[e,n]=b.useState("newest"),[s,r]=b.useState(!1),[i,a]=b.useState(null),[o,c]=b.useState(0),[u,d]=b.useState([]),[f,h]=b.useState(!1),[m,y]=b.useState("setup"),[p,v]=b.useState(!1),{user:x}=Sn(),[g,w]=b.useState(!1),[S,_]=b.useState(!1),[j,k]=b.useState([]),[T,E]=b.useState(!1),[A,z]=b.useState({}),{data:R=[],isLoading:L}=Rt({queryKey:["/api/photos"]});b.useEffect(()=>{x&&(x.photosPinEnabled===null?(y("setup"),h(!0)):x.photosPinEnabled===!0?(y("verify"),h(!0)):v(!0))},[x]);const I=()=>{v(!0)},O=()=>{_(!0),k([])},V=H=>{if(j.includes(H))k(j.filter(Z=>Z!==H));else if(j.length<2){const Z=[...j,H];k(Z),Z.length===2&&E(!0)}},B=()=>{_(!1),k([]),E(!1),z({})},C=(H,Z)=>{z(Z===0?ze=>({...ze,date1Photo:H}):ze=>({...ze,date2Photo:H}))},F={};R.forEach(H=>{const Z=H.date;F[Z]||(F[Z]=[]),F[Z].push(H)});const D=Object.keys(F).sort((H,Z)=>e==="newest"?new Date(Z).getTime()-new Date(H).getTime():new Date(H).getTime()-new Date(Z).getTime()),W=()=>{window.history.length>1?window.history.back():t("/")},G=H=>{if(H.thumbnailUrl)return H.thumbnailUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?thumbnail=true&token=${Z}`:"/placeholder-image.jpg"},ne=H=>{if(H.imageUrl)return H.imageUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?token=${Z}`:"/placeholder-image.jpg"},re=(H,Z)=>{a(H),d(Z),c(Z.findIndex(ze=>ze.id===H.id)),w(!1),r(!0)},ge=H=>{if(u.length===0)return;let Z;H==="prev"?Z=o>0?o-1:u.length-1:Z=o<u.length-1?o+1:0,c(Z),a(u[Z]),w(!1)};b.useEffect(()=>{const H=Z=>{s&&(Z.key==="ArrowLeft"?ge("prev"):Z.key==="ArrowRight"?ge("next"):Z.key==="Escape"&&r(!1))};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[s,o,u]);const ve=H=>{try{const Z=Kh(H);return je(Z,"EEEE, MMMM d, yyyy")}catch{return H}};return L||!p?l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:l.jsx("div",{className:"flex items-center justify-center pt-[calc(env(safe-area-inset-top)+6rem)]",children:L&&l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})}),l.jsx(aA,{isOpen:f,onClose:()=>h(!1),mode:m,onSuccess:I})]}):l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),l.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:l.jsx(Y,{onClick:S?B:O,variant:S?"destructive":"default",size:"sm",className:`${S?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:S?"EXIT":"COMPARE"})}),l.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:l.jsxs(Y,{variant:"default",size:"sm",onClick:()=>n(e==="newest"?"oldest":"newest"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[l.jsx("i",{className:`fas ${e==="newest"?"fa-arrow-up":"fa-arrow-down"} mr-2`}),"Sort"]})})]}),D.length>0?l.jsx("div",{className:"space-y-8",children:D.map(H=>{const Z=F[H],ze=Z.slice(0,5),De=Z.length>5;return l.jsxs("div",{className:`space-y-3 relative ${S?"cursor-pointer":""}`,onClick:S?()=>V(H):void 0,children:[l.jsxs("div",{className:"flex justify-end items-center",children:[S&&l.jsx("div",{className:"mr-4",children:l.jsx("input",{type:"checkbox",checked:j.includes(H),onChange:()=>V(H),className:"w-5 h-5 text-blue-600 rounded",disabled:!j.includes(H)&&j.length>=2})}),l.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:ve(H)}),l.jsxs("p",{className:"text-sm text-gray-600",children:[Z.length," photo",Z.length!==1?"s":""]})]})]}),l.jsxs("div",{className:`bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl relative ${S&&!j.includes(H)?"opacity-50":""}`,children:[S&&!j.includes(H)&&l.jsx("div",{className:"absolute inset-0 bg-gray-600/50 rounded-xl z-10 pointer-events-none"}),l.jsxs("div",{className:"grid gap-3",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",maxWidth:"100%"},children:[ze.map((be,Oe)=>l.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>re(be,Z),children:[l.jsx("img",{src:G(be),alt:`Photo ${Oe+1} from ${ve(H)}`,className:"w-full h-full object-cover",loading:"lazy"}),l.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:Oe+1})]},be.id)),De&&l.jsx("div",{className:"relative aspect-square bg-gray-200 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-300 transition-colors duration-200 flex items-center justify-center",onClick:()=>re(Z[5],Z),children:l.jsxs("div",{className:"text-center text-gray-600",children:[l.jsx("i",{className:"fas fa-plus text-2xl mb-2"}),l.jsxs("p",{className:"text-sm font-medium",children:["+",Z.length-5," more"]})]})})]})]})]},H)})}):l.jsx("div",{className:"text-center py-16",children:l.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[l.jsx("i",{className:"fas fa-camera text-4xl text-gray-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Photos Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start your fitness journey by adding progress photos from the dashboard."}),l.jsxs(Y,{onClick:()=>t("/home"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[l.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),l.jsx(Or,{})]}),l.jsx(Mr,{open:s,onOpenChange:r,children:l.jsxs(er,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[l.jsx(Dr,{className:"p-4 pb-2 flex-shrink-0 border-b",children:l.jsx(Ar,{className:"text-center text-lg font-semibold",children:i&&l.jsxs(l.Fragment,{children:["Photo ",o+1," of ",u.length,l.jsx("span",{className:"block text-sm text-gray-600 font-normal",children:ve(i.date)})]})})}),i&&l.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[u.length>1&&l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>ge("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:l.jsx("i",{className:"fas fa-chevron-left"})}),l.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!g&&l.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),l.jsx("img",{src:ne(i),alt:`Photo from ${ve(i.date)}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${g?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>w(!0),onError:()=>w(!0)})]}),u.length>1&&l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>ge("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:l.jsx("i",{className:"fas fa-chevron-right"})})]}),l.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[l.jsx("div",{className:"text-sm text-gray-500",children:i==null?void 0:i.originalName}),l.jsx("div",{className:"text-xs text-gray-400",children:"Press ← → to navigate • ESC to close"})]})]})}),T&&j.length===2&&l.jsx(AH,{isOpen:T,onClose:B,date1:j[0],date2:j[1],date1Photos:F[j[0]]||[],date2Photos:F[j[1]]||[],selectedPhotos:A,onPhotoSelect:C})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ru(t){return t+.5|0}const di=(t,e,n)=>Math.max(Math.min(t,n),e);function rc(t){return di(Ru(t*2.55),0,255)}function _i(t){return di(Ru(t*255),0,255)}function dr(t){return di(Ru(t/2.55)/100,0,1)}function Nw(t){return di(Ru(t*100),0,100)}const Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ay=[..."0123456789ABCDEF"],IH=t=>ay[t&15],RH=t=>ay[(t&240)>>4]+ay[t&15],gd=t=>(t&240)>>4===(t&15),FH=t=>gd(t.r)&&gd(t.g)&&gd(t.b)&&gd(t.a);function LH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Qn[t[1]]*17,g:255&Qn[t[2]]*17,b:255&Qn[t[3]]*17,a:e===5?Qn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Qn[t[1]]<<4|Qn[t[2]],g:Qn[t[3]]<<4|Qn[t[4]],b:Qn[t[5]]<<4|Qn[t[6]],a:e===9?Qn[t[7]]<<4|Qn[t[8]]:255})),n}const zH=(t,e)=>t<255?e(t):"";function $H(t){var e=FH(t)?IH:RH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+zH(t.a,e):void 0}const VH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pA(t,e,n){const s=e*Math.min(n,1-n),r=(i,a=(i+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function BH(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function UH(t,e,n){const s=pA(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function WH(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function uv(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),o=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),c=WH(n,s,r,d,i),c=c*60+.5),[c|0,u||0,o]}function dv(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(_i)}function fv(t,e,n){return dv(pA,t,e,n)}function HH(t,e,n){return dv(UH,t,e,n)}function YH(t,e,n){return dv(BH,t,e,n)}function gA(t){return(t%360+360)%360}function qH(t){const e=VH.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?rc(+e[5]):_i(+e[5]));const r=gA(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=HH(r,i,a):e[1]==="hsv"?s=YH(r,i,a):s=fv(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function QH(t,e){var n=uv(t);n[0]=gA(n[0]+e),n=fv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function KH(t){if(!t)return;const e=uv(t),n=e[0],s=Nw(e[1]),r=Nw(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${dr(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const jw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function GH(){const t={},e=Object.keys(kw),n=Object.keys(jw);let s,r,i,a,o;for(s=0;s<e.length;s++){for(a=o=e[s],r=0;r<n.length;r++)i=n[r],o=o.replace(i,jw[i]);i=parseInt(kw[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let yd;function XH(t){yd||(yd=GH(),yd.transparent=[0,0,0,0]);const e=yd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ZH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JH(t){const e=ZH.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?rc(a):di(a*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?rc(s):di(s,0,255)),r=255&(e[4]?rc(r):di(r,0,255)),i=255&(e[6]?rc(i):di(i,0,255)),{r:s,g:r,b:i,a:n}}}function eY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${dr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ja=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function tY(t,e,n){const s=Ja(dr(t.r)),r=Ja(dr(t.g)),i=Ja(dr(t.b));return{r:_i(fp(s+n*(Ja(dr(e.r))-s))),g:_i(fp(r+n*(Ja(dr(e.g))-r))),b:_i(fp(i+n*(Ja(dr(e.b))-i))),a:t.a+n*(e.a-t.a)}}function xd(t,e,n){if(t){let s=uv(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=fv(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function yA(t,e){return t&&Object.assign(e||{},t)}function Cw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_i(t[3]))):(e=yA(t,{r:0,g:0,b:0,a:1}),e.a=_i(e.a)),e}function nY(t){return t.charAt(0)==="r"?JH(t):qH(t)}class lu{constructor(e){if(e instanceof lu)return e;const n=typeof e;let s;n==="object"?s=Cw(e):n==="string"&&(s=LH(e)||XH(e)||nY(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=yA(this._rgb);return e&&(e.a=dr(e.a)),e}set rgb(e){this._rgb=Cw(e)}rgbString(){return this._valid?eY(this._rgb):void 0}hexString(){return this._valid?$H(this._rgb):void 0}hslString(){return this._valid?KH(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,c=s.a-r.a,u=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=tY(this._rgb,e._rgb,n)),this}clone(){return new lu(this.rgb)}alpha(e){return this._rgb.a=_i(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ru(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return xd(this._rgb,2,e),this}darken(e){return xd(this._rgb,2,-e),this}saturate(e){return xd(this._rgb,1,e),this}desaturate(e){return xd(this._rgb,1,-e),this}rotate(e){return QH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function sr(){}const sY=(()=>{let t=0;return()=>t++})();function Ye(t){return t==null}function $t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function is(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ps(t,e){return is(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const rY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,xA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ct(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Xe(t,e,n,s){let r,i,a;if($t(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(Ue(t))for(a=Object.keys(t),i=a.length,r=0;r<i;r++)e.call(n,t[a[r]],a[r])}function rh(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function ih(t){if($t(t))return t.map(ih);if(Ue(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=ih(t[n[r]]);return e}return t}function vA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function iY(t,e,n,s){if(!vA(t))return;const r=e[t],i=n[t];Ue(r)&&Ue(i)?cu(r,i,s):e[t]=ih(i)}function cu(t,e,n){const s=$t(e)?e:[e],r=s.length;if(!Ue(t))return t;n=n||{};const i=n.merger||iY;let a;for(let o=0;o<r;++o){if(a=s[o],!Ue(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],t,a,n)}return t}function _c(t,e){return cu(t,e,{merger:aY})}function aY(t,e,n){if(!vA(t))return;const s=e[t],r=n[t];Ue(s)&&Ue(r)?_c(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ih(r))}const Tw={"":t=>t,x:t=>t.x,y:t=>t.y};function oY(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function lY(t){const e=oY(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function La(t,e){return(Tw[e]||(Tw[e]=lY(e)))(t)}function hv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const uu=t=>typeof t<"u",Ii=t=>typeof t=="function",Pw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function cY(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,bt=2*Ze,uY=bt+Ze,ah=Number.POSITIVE_INFINITY,dY=Ze/180,Ut=Ze/2,Hi=Ze/4,Ew=Ze*2/3,bA=Math.log10,Qs=Math.sign;function Nc(t,e,n){return Math.abs(t-e)<n}function Mw(t){const e=Math.round(t);t=Nc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(bA(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function fY(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function hY(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function du(t){return!hY(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function mY(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function pY(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function yr(t){return t*(Ze/180)}function gY(t){return t*(180/Ze)}function Dw(t){if(!is(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function wA(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Ze&&(i+=bt),{angle:i,distance:r}}function oy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yY(t,e){return(t-e+uY)%bt-Ze}function ms(t){return(t%bt+bt)%bt}function fu(t,e,n,s){const r=ms(t),i=ms(e),a=ms(n),o=ms(i-r),c=ms(a-r),u=ms(r-i),d=ms(r-a);return r===i||r===a||s&&i===a||o>c&&u<d}function an(t,e,n){return Math.max(e,Math.min(n,t))}function xY(t){return an(t,-32768,32767)}function fi(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function mv(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const oa=(t,e,n,s)=>mv(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),vY=(t,e,n)=>mv(t,n,s=>t[s][e]>=n);function bY(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const SA=["push","pop","shift","splice","unshift"];function wY(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),SA.forEach(n=>{const s="_onData"+hv(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[s]=="function"&&o[s](...i)}),a}})})}function Aw(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(SA.forEach(i=>{delete t[i]}),delete t._chartjs)}function _A(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const NA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function jA(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,NA.call(window,()=>{s=!1,t.apply(e,n)}))}}function SY(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const pv=t=>t==="start"?"left":t==="end"?"right":"center",sn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_Y=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function NY(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:a,vScale:o,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:h,minDefined:m,maxDefined:y}=a.getUserBounds();if(m){if(r=Math.min(oa(c,d,f).lo,n?s:oa(e,d,a.getPixelForValue(f)).lo),u){const p=c.slice(0,r+1).reverse().findIndex(v=>!Ye(v[o.axis]));r-=Math.max(0,p)}r=an(r,0,s-1)}if(y){let p=Math.max(oa(c,a.axis,h,!0).hi+1,n?0:oa(e,d,a.getPixelForValue(h),!0).hi+1);if(u){const v=c.slice(p-1).findIndex(x=>!Ye(x[o.axis]));p+=Math.max(0,v)}i=an(p,r,s)-r}else i=s-r}return{start:r,count:i}}function jY(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const vd=t=>t===0||t===1,Ow=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*bt/n)),Iw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*bt/n)+1,jc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ut)+1,easeOutSine:t=>Math.sin(t*Ut),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vd(t)?t:Ow(t,.075,.3),easeOutElastic:t=>vd(t)?t:Iw(t,.075,.3),easeInOutElastic(t){return vd(t)?t:t<.5?.5*Ow(t*2,.1125,.45):.5+.5*Iw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-jc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?jc.easeInBounce(t*2)*.5:jc.easeOutBounce(t*2-1)*.5+.5};function gv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Rw(t){return gv(t)?t:new lu(t)}function hp(t){return gv(t)?t:new lu(t).saturate(.5).darken(.1).hexString()}const kY=["x","y","borderWidth","radius","tension"],CY=["color","borderColor","backgroundColor"];function TY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:CY},numbers:{type:"number",properties:kY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function PY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Fw=new Map;function EY(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Fw.get(n);return s||(s=new Intl.NumberFormat(t,e),Fw.set(n,s)),s}function yv(t,e,n){return EY(e,n).format(t)}const MY={values(t){return $t(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=DY(t,n)}const a=bA(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),yv(t,s,c)}};function DY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var kA={formatters:MY};function AY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const za=Object.create(null),ly=Object.create(null);function kc(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function mp(t,e,n){return typeof e=="string"?cu(kc(t,e),n):cu(kc(t,""),e)}class OY{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>hp(r.backgroundColor),this.hoverBorderColor=(s,r)=>hp(r.borderColor),this.hoverColor=(s,r)=>hp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return mp(this,e,n)}get(e){return kc(this,e)}describe(e,n){return mp(ly,e,n)}override(e,n){return mp(za,e,n)}route(e,n,s,r){const i=kc(this,e),a=kc(this,s),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[o],u=a[r];return Ue(c)?Object.assign({},u,c):Pe(c,u)},set(c){this[o]=c}}})}apply(e){e.forEach(n=>n(this))}}var Et=new OY({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TY,PY,AY]);function IY(t){return!t||Ye(t.size)||Ye(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Lw(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Yi(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function zw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function cy(t,e,n,s){CA(t,e,n,s,null)}function CA(t,e,n,s,r){let i,a,o,c,u,d,f,h;const m=e.pointStyle,y=e.rotation,p=e.radius;let v=(y||0)*dY;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(v),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,s,r/2,p,0,0,bt):t.arc(n,s,p,0,bt),t.closePath();break;case"triangle":d=r?r/2:p,t.moveTo(n+Math.sin(v)*d,s-Math.cos(v)*p),v+=Ew,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*p),v+=Ew,t.lineTo(n+Math.sin(v)*d,s-Math.cos(v)*p),t.closePath();break;case"rectRounded":u=p*.516,c=p-u,a=Math.cos(v+Hi)*c,f=Math.cos(v+Hi)*(r?r/2-u:c),o=Math.sin(v+Hi)*c,h=Math.sin(v+Hi)*(r?r/2-u:c),t.arc(n-f,s-o,u,v-Ze,v-Ut),t.arc(n+h,s-a,u,v-Ut,v),t.arc(n+f,s+o,u,v,v+Ut),t.arc(n-h,s+a,u,v+Ut,v+Ze),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*p,d=r?r/2:c,t.rect(n-d,s-c,2*d,2*c);break}v+=Hi;case"rectRot":f=Math.cos(v)*(r?r/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+h,s-a),t.lineTo(n+f,s+o),t.lineTo(n-h,s+a),t.closePath();break;case"crossRot":v+=Hi;case"cross":f=Math.cos(v)*(r?r/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+f,s+o),t.moveTo(n+h,s-a),t.lineTo(n-h,s+a);break;case"star":f=Math.cos(v)*(r?r/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+f,s+o),t.moveTo(n+h,s-a),t.lineTo(n-h,s+a),v+=Hi,f=Math.cos(v)*(r?r/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+f,s+o),t.moveTo(n+h,s-a),t.lineTo(n-h,s+a);break;case"line":a=r?r/2:Math.cos(v)*p,o=Math.sin(v)*p,t.moveTo(n-a,s-o),t.lineTo(n+a,s+o);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(v)*(r?r/2:p),s+Math.sin(v)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function hu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function xv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function vv(t){t.restore()}function RY(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function FY(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function LY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ye(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function zY(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=r.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function $Y(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function mu(t,e,n,s,r,i={}){const a=$t(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=r.string,LY(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&$Y(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ye(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),zY(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function oh(t,e){const{x:n,y:s,w:r,h:i,radius:a}=e;t.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,s+i-a.bottomLeft),t.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,Ze,Ut,!0),t.lineTo(n+r-a.bottomRight,s+i),t.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,Ut,0,!0),t.lineTo(n+r,s+a.topRight),t.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-Ut,!0),t.lineTo(n+a.topLeft,s)}const VY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function UY(t,e){const n=(""+t).match(VY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const WY=t=>+t||0;function bv(t,e){const n={},s=Ue(e),r=s?Object.keys(e):e,i=Ue(t)?s?a=>Pe(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=WY(i(a));return n}function TA(t){return bv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Mo(t){return bv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function as(t){const e=TA(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function on(t,e){t=t||{},e=e||Et.font;let n=Pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Pe(t.style,e.style);s&&!(""+s).match(BY)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Pe(t.family,e.family),lineHeight:UY(Pe(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Pe(t.weight,e.weight),string:""};return r.string=IY(r),r}function bd(t,e,n,s){let r,i,a;for(r=0,i=t.length;r<i;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function HY(t,e,n){const{min:s,max:r}=t,i=xA(e,(r-s)/2),a=(o,c)=>n&&o===0?0:o+c;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function Ya(t,e){return Object.assign(Object.create(t),e)}function wv(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=DA("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:o=>wv([o,...t],e,i,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete t[0][c],!0},get(o,c){return EA(o,c,()=>JY(c,e,t,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,c){return Vw(o).includes(c)},ownKeys(o){return Vw(o)},set(o,c,u){const d=o._storage||(o._storage=r());return o[c]=d[c]=u,delete o._keys,!0}})}function ul(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:PA(t,s),setContext:i=>ul(t,i,n,s),override:i=>ul(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return EA(i,a,()=>qY(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function PA(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Ii(n)?n:()=>n,isIndexable:Ii(s)?s:()=>s}}const YY=(t,e)=>t?t+hv(e):e,Sv=(t,e)=>Ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function EA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function qY(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=t;let o=s[e];return Ii(o)&&a.isScriptable(e)&&(o=QY(e,o,t,n)),$t(o)&&o.length&&(o=KY(e,o,t,a.isIndexable)),Sv(e,o)&&(o=ul(o,r,i&&i[e],a)),o}function QY(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let c=e(i,a||s);return o.delete(t),Sv(t,c)&&(c=_v(r._scopes,r,t,c)),c}function KY(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(Ue(e[0])){const c=e,u=r._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=_v(u,r,t,d);e.push(ul(f,i,a&&a[t],o))}}return e}function MA(t,e,n){return Ii(t)?t(e,n):t}const GY=(t,e)=>t===!0?e:typeof t=="string"?La(e,t):void 0;function XY(t,e,n,s,r){for(const i of e){const a=GY(n,i);if(a){t.add(a);const o=MA(a._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==s)return o}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function _v(t,e,n,s){const r=e._rootScopes,i=MA(e._fallback,n,s),a=[...t,...r],o=new Set;o.add(s);let c=$w(o,a,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=$w(o,a,i,c,s),c===null)?!1:wv(Array.from(o),[""],r,i,()=>ZY(e,n,s))}function $w(t,e,n,s,r){for(;n;)n=XY(t,e,n,s,r);return n}function ZY(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return $t(r)&&Ue(n)?n:r||{}}function JY(t,e,n,s){let r;for(const i of e)if(r=DA(YY(i,t),n),typeof r<"u")return Sv(t,r)?_v(n,s,t,r):r}function DA(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Vw(t){let e=t._keys;return e||(e=t._keys=e9(t._scopes)),e}function e9(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const t9=Number.EPSILON||1e-14,dl=(t,e)=>e<t.length&&!t[e].skip&&t[e],AA=t=>t==="x"?"y":"x";function n9(t,e,n,s){const r=t.skip?e:t,i=e,a=n.skip?e:n,o=oy(i,r),c=oy(a,i);let u=o/(o+c),d=c/(o+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=s*u,h=s*d;return{previous:{x:i.x-f*(a.x-r.x),y:i.y-f*(a.y-r.y)},next:{x:i.x+h*(a.x-r.x),y:i.y+h*(a.y-r.y)}}}function s9(t,e,n){const s=t.length;let r,i,a,o,c,u=dl(t,0);for(let d=0;d<s-1;++d)if(c=u,u=dl(t,d+1),!(!c||!u)){if(Nc(e[d],0,t9)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],i=n[d+1]/e[d],o=Math.pow(r,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=r*a*e[d],n[d+1]=i*a*e[d])}}function r9(t,e,n="x"){const s=AA(n),r=t.length;let i,a,o,c=dl(t,0);for(let u=0;u<r;++u){if(a=o,o=c,c=dl(t,u+1),!o)continue;const d=o[n],f=o[s];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${s}`]=f-i*e[u]),c&&(i=(c[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${s}`]=f+i*e[u])}}function i9(t,e="x"){const n=AA(e),s=t.length,r=Array(s).fill(0),i=Array(s);let a,o,c,u=dl(t,0);for(a=0;a<s;++a)if(o=c,c=u,u=dl(t,a+1),!!c){if(u){const d=u[e]-c[e];r[a]=d!==0?(u[n]-c[n])/d:0}i[a]=o?u?Qs(r[a-1])!==Qs(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}s9(t,r,i),r9(t,i,e)}function wd(t,e,n){return Math.max(Math.min(t,n),e)}function a9(t,e){let n,s,r,i,a,o=hu(t[0],e);for(n=0,s=t.length;n<s;++n)a=i,i=o,o=n<s-1&&hu(t[n+1],e),i&&(r=t[n],a&&(r.cp1x=wd(r.cp1x,e.left,e.right),r.cp1y=wd(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=wd(r.cp2x,e.left,e.right),r.cp2y=wd(r.cp2y,e.top,e.bottom)))}function o9(t,e,n,s,r){let i,a,o,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")i9(t,r);else{let u=s?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],c=n9(u,o,t[Math.min(i+1,a-(s?0:1))%a],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,u=o}e.capBezierPoints&&a9(t,n)}function Nv(){return typeof window<"u"&&typeof document<"u"}function jv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function lh(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const nm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function l9(t,e){return nm(t).getPropertyValue(e)}const c9=["top","right","bottom","left"];function ba(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=c9[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const u9=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function d9(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let a=!1,o,c;if(u9(r,i,t.target))o=r,c=i;else{const u=e.getBoundingClientRect();o=s.clientX-u.left,c=s.clientY-u.top,a=!0}return{x:o,y:c,box:a}}function Zi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=nm(n),i=r.boxSizing==="border-box",a=ba(r,"padding"),o=ba(r,"border","width"),{x:c,y:u,box:d}=d9(t,n),f=a.left+(d&&o.left),h=a.top+(d&&o.top);let{width:m,height:y}=e;return i&&(m-=a.width+o.width,y-=a.height+o.height),{x:Math.round((c-f)/m*n.width/s),y:Math.round((u-h)/y*n.height/s)}}function f9(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&jv(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=nm(i),c=ba(o,"border","width"),u=ba(o,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,s=lh(o.maxWidth,i,"clientWidth"),r=lh(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||ah,maxHeight:r||ah}}const Sd=t=>Math.round(t*10)/10;function h9(t,e,n,s){const r=nm(t),i=ba(r,"margin"),a=lh(r.maxWidth,t,"clientWidth")||ah,o=lh(r.maxHeight,t,"clientHeight")||ah,c=f9(t,e,n);let{width:u,height:d}=c;if(r.boxSizing==="content-box"){const h=ba(r,"border","width"),m=ba(r,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,s?u/s:d-i.height),u=Sd(Math.min(u,a,c.maxWidth)),d=Sd(Math.min(d,o,c.maxHeight)),u&&!d&&(d=Sd(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=Sd(Math.floor(d*s))),{width:u,height:d}}function Bw(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(t.currentDevicePixelRatio=s,a.height=r,a.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const m9=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Nv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Uw(t,e){const n=l9(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ji(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function p9(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function g9(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Ji(t,r,n),o=Ji(r,i,n),c=Ji(i,e,n),u=Ji(a,o,n),d=Ji(o,c,n);return Ji(u,d,n)}const y9=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},x9=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Do(t,e,n){return t?y9(e,n):x9()}function OA(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function IA(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function RA(t){return t==="angle"?{between:fu,compare:yY,normalize:ms}:{between:fi,compare:(e,n)=>e-n,normalize:e=>e}}function Ww({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function v9(t,e,n){const{property:s,start:r,end:i}=n,{between:a,normalize:o}=RA(s),c=e.length;let{start:u,end:d,loop:f}=t,h,m;if(f){for(u+=c,d+=c,h=0,m=c;h<m&&a(o(e[u%c][s]),r,i);++h)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function b9(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,a=e.length,{compare:o,between:c,normalize:u}=RA(s),{start:d,end:f,loop:h,style:m}=v9(t,e,n),y=[];let p=!1,v=null,x,g,w;const S=()=>c(r,w,x)&&o(r,w)!==0,_=()=>o(i,x)===0||c(i,w,x),j=()=>p||S(),k=()=>!p||_();for(let T=d,E=d;T<=f;++T)g=e[T%a],!g.skip&&(x=u(g[s]),x!==w&&(p=c(x,r,i),v===null&&j()&&(v=o(x,r)===0?T:E),v!==null&&k()&&(y.push(Ww({start:v,end:T,loop:h,count:a,style:m})),v=null),E=T,w=x));return v!==null&&y.push(Ww({start:v,end:f,loop:h,count:a,style:m})),y}function w9(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=b9(s[r],t.points,e);i.length&&n.push(...i)}return n}function S9(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function _9(t,e,n,s){const r=t.length,i=[];let a=e,o=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%r];u.skip||u.stop?o.skip||(s=!1,i.push({start:e%r,end:(c-1)%r,loop:s}),e=a=u.stop?c:null):(a=c,o.skip&&(e=c)),o=u}return a!==null&&i.push({start:e%r,end:a%r,loop:s}),i}function N9(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:a,end:o}=S9(n,r,i,s);if(s===!0)return Hw(t,[{start:a,end:o,loop:i}],n,e);const c=o<a?o+r:o,u=!!t._fullLoop&&a===0&&o===r-1;return Hw(t,_9(n,a,c,u),n,e)}function Hw(t,e,n,s){return!s||!s.setContext||!n?e:j9(t,e,n,s)}function j9(t,e,n,s){const r=t._chart.getContext(),i=Yw(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,c=n.length,u=[];let d=i,f=e[0].start,h=f;function m(y,p,v,x){const g=o?-1:1;if(y!==p){for(y+=c;n[y%c].skip;)y-=g;for(;n[p%c].skip;)p+=g;y%c!==p%c&&(u.push({start:y%c,end:p%c,loop:v,style:x}),d=x,f=p%c)}}for(const y of e){f=o?f:y.start;let p=n[f%c],v;for(h=f+1;h<=y.end;h++){const x=n[h%c];v=Yw(s.setContext(Ya(r,{type:"segment",p0:p,p1:x,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:a}))),k9(v,d)&&m(f,h-1,y.loop,d),p=x,d=v}f<h-1&&m(f,h-1,y.loop,d)}return u}function Yw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function k9(t,e){if(!e)return!1;const n=[],s=function(r,i){return gv(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function _d(t,e,n){return t.options.clip?t[n]:e[n]}function C9(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:_d(n,e,"left"),right:_d(n,e,"right"),top:_d(s,e,"top"),bottom:_d(s,e,"bottom")}:e}function T9(t,e){const n=e._clip;if(n.disabled)return!1;const s=C9(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class P9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=NA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,o=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ar=new P9;const qw="transparent",E9={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Rw(t||qw),r=s.valid&&Rw(e||qw);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class M9{constructor(e,n,s,r){const i=n[s];r=bd([e.to,r,i,e.from]);const a=bd([e.from,i,r]);this._active=!0,this._fn=e.fn||E9[e.type||typeof a],this._easing=jc[e.easing]||jc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=bd([e.to,n,r,e.from]),this._from=bd([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,o=this._to;let c;if(this._active=i!==o&&(a||n<s),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class FA{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ue(e))return;const n=Object.keys(Et.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Ue(i))return;const a={};for(const o of n)a[o]=i[o];($t(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!s.has(o))&&s.set(o,a)})})}_animateOptions(e,n){const s=n.options,r=A9(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&D9(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const h=s.get(u);if(f)if(h&&f.active()){f.update(h,d,o);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}i[u]=f=new M9(h,e,u,d),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return ar.add(this._chart,s),!0}}function D9(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function A9(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Qw(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function O9(t,e,n){if(n===!1)return!1;const s=Qw(t,n),r=Qw(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function I9(t){let e,n,s,r;return Ue(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function LA(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Kw(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let a,o,c,u;if(e===null)return;let d=!1;for(a=0,o=r.length;a<o;++a){if(c=+r[a],c===n){if(d=!0,s.all)continue;break}u=t.values[c],is(u)&&(i||e===0||Qs(e)===Qs(u))&&(e+=u)}return!d&&!s.all?0:e}function R9(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],o[c]={[r]:d,[i]:t[d]};return o}function pp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function F9(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function L9(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function z9(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Gw(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Xw(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=s,c=i.axis,u=a.axis,d=F9(i,a,s),f=e.length;let h;for(let m=0;m<f;++m){const y=e[m],{[c]:p,[u]:v}=y,x=y._stacks||(y._stacks={});h=x[u]=z9(r,d,p),h[o]=v,h._top=Gw(h,a,!0,s.type),h._bottom=Gw(h,a,!1,s.type);const g=h._visualValues||(h._visualValues={});g[o]=v}}function gp(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function $9(t,e){return Ya(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function V9(t,e,n){return Ya(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yl(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const yp=t=>t==="reset"||t==="none",Zw=(t,e)=>e?t:Object.assign({},t),B9=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:LA(n,!0),values:null};class wa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(f,h,m,y)=>f==="x"?h:f==="r"?y:m,i=n.xAxisID=Pe(s.xAxisID,gp(e,"x")),a=n.yAxisID=Pe(s.yAxisID,gp(e,"y")),o=n.rAxisID=Pe(s.rAxisID,gp(e,"r")),c=n.indexAxis,u=n.iAxisID=r(c,i,a,o),d=n.vAxisID=r(c,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Aw(this._data,this),e._stacked&&Yl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Ue(n)){const r=this._cachedMeta;this._data=R9(n,r)}else if(s!==n){if(s){Aw(s,this);const r=this._cachedMeta;Yl(r),r._parsed=[]}n&&Object.isExtensible(n)&&wY(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=pp(n.vScale,n),n.stack!==s.stack&&(r=!0,Yl(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(Xw(this,n._parsed),n._stacked=pp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,o=i.axis;let c=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,f,h;if(this._parsing===!1)s._parsed=r,s._sorted=!0,h=r;else{$t(r[e])?h=this.parseArrayData(s,r,e,n):Ue(r[e])?h=this.parseObjectData(s,r,e,n):h=this.parsePrimitiveData(s,r,e,n);const m=()=>f[o]===null||u&&f[o]<u[o];for(d=0;d<n;++d)s._parsed[d+e]=f=h[d],c&&(m()&&(c=!1),u=f);s._sorted=c}a&&Xw(this,h)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:a}=e,o=i.axis,c=a.axis,u=i.getLabels(),d=i===a,f=new Array(r);let h,m,y;for(h=0,m=r;h<m;++h)y=h+s,f[h]={[o]:d||i.parse(u[y],y),[c]:a.parse(n[y],y)};return f}parseArrayData(e,n,s,r){const{xScale:i,yScale:a}=e,o=new Array(r);let c,u,d,f;for(c=0,u=r;c<u;++c)d=c+s,f=n[d],o[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return o}parseObjectData(e,n,s,r){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,u=new Array(r);let d,f,h,m;for(d=0,f=r;d<f;++d)h=d+s,m=n[h],u[d]={x:i.parse(La(m,o),h),y:a.parse(La(m,c),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:LA(r,!0),values:n._stacks[e.axis]._visualValues};return Kw(o,a,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const o=r&&s._stacks[n.axis];r&&o&&(r.values=o,a=Kw(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,a=r.length,o=this._getOtherScale(e),c=B9(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=L9(o);let h,m;function y(){m=r[h];const p=m[o.axis];return!is(m[e.axis])||d>p||f<p}for(h=0;h<a&&!(!y()&&(this.updateRangeFromParsed(u,e,m,c),i));++h);if(i){for(h=a-1;h>=0;--h)if(!y()){this.updateRangeFromParsed(u,e,m,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][e.axis],is(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=I9(Pe(this.options.clip,O9(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||r.length-o,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,i,o,c),d=o;d<o+c;++d){const f=r[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=V9(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=$9(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],c=this.enableOptionSharing&&uu(s);if(o)return Zw(o,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(Et.elements[e]),y=()=>this.getContext(s,r,n),p=u.resolveNamedOptions(h,m,y,f);return p.$shared&&(p.$shared=c,i[a]=Object.freeze(Zw(p,c))),p}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let c;if(r.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(e,s,n))}const u=new FA(r,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||yp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(e,n,s,r){yp(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!yp(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[o,c,u]of this._syncList)this[o](c,u);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,a=e+n;let o;const c=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(c(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&Yl(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}N(wa,"defaults",{}),N(wa,"datasetElementType",null),N(wa,"dataElementType",null);function U9(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=_A(s.sort((r,i)=>r-i))}return t._cache.$bar}function W9(t){const e=t.iScale,n=U9(e,t.type);let s=e._length,r,i,a,o;const c=()=>{a===32767||a===-32768||(uu(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(r=0,i=n.length;r<i;++r)a=e.getPixelForValue(n[r]),c();for(o=void 0,r=0,i=e.ticks.length;r<i;++r)a=e.getPixelForTick(r),c();return s}function H9(t,e,n,s){const r=n.barThickness;let i,a;return Ye(r)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:e.pixels[t]-i/2}}function Y9(t,e,n,s){const r=e.pixels,i=r[t];let a=t>0?r[t-1]:null,o=t<r.length-1?r[t+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/s,ratio:n.barPercentage,start:u}}function q9(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),a=Math.min(r,i),o=Math.max(r,i);let c=a,u=o;Math.abs(a)>Math.abs(o)&&(c=o,u=a),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:r,end:i,min:a,max:o}}function zA(t,e,n,s){return $t(t)?q9(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Jw(t,e,n,s){const r=t.iScale,i=t.vScale,a=r.getLabels(),o=r===i,c=[];let u,d,f,h;for(u=n,d=n+s;u<d;++u)h=e[u],f={},f[r.axis]=o||r.parse(a[u],u),c.push(zA(h,f,i,u));return c}function xp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Q9(t,e,n){return t!==0?Qs(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function K9(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function G9(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:u,bottom:d}=K9(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=d:(i[eS(d,a,o,c)]=!0,r=u)),i[eS(r,a,o,c)]=!0,t.borderSkipped=i}function eS(t,e,n,s){return s?(t=X9(t,e,n),t=tS(t,n,e)):t=tS(t,e,n),t}function X9(t,e,n){return t===e?n:t===n?e:t}function tS(t,e,n){return t==="start"?e:t==="end"?n:t}function Z9(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Zd extends wa{parsePrimitiveData(e,n,s,r){return Jw(e,n,s,r)}parseArrayData(e,n,s,r){return Jw(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?o:c,d=a.axis==="x"?o:c,f=[];let h,m,y,p;for(h=s,m=s+r;h<m;++h)p=n[h],y={},y[i.axis]=i.parse(La(p,u),h),f.push(zA(La(p,d),y,a,h));return f}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),a=i._custom,o=xp(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,r);for(let m=n;m<n+s;m++){const y=this.getParsed(m),p=i||Ye(y[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),v=this._calculateBarIndexPixels(m,d),x=(y._stacks||{})[o.axis],g={horizontal:u,base:p.base,enableBorderRadius:!x||xp(y._custom)||a===x._top||a===x._bottom,x:u?p.head:v.center,y:u?v.center:p.head,height:u?v.size:Math.abs(p.size),width:u?Math.abs(p.size):v.size};h&&(g.options=f||this.resolveDataElementOptions(m,e[m].active?"active":r));const w=g.options||e[m].options;G9(g,w,x,a),Z9(g,w,d.ratio),this.updateElement(e[m],m,g,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),c=o&&o[s.axis],u=d=>{const f=d._parsed.find(m=>m[s.axis]===c),h=f&&f[d.vScale.axis];if(Ye(h)||isNaN(h))return!0};for(const d of r)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Pe(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const o=e.barThickness;return{min:o||W9(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,o=i||0,c=this.getParsed(e),u=c._custom,d=xp(u);let f=c[n.axis],h=0,m=s?this.applyStack(n,c,s):f,y,p;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&Qs(f)!==Qs(u.barEnd)&&(h=0),h+=f);const v=!Ye(i)&&!d?i:h;let x=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(h+m):y=x,p=y-x,Math.abs(p)<a){p=Q9(p,n,o)*a,f===o&&(x-=p/2);const g=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),S=Math.min(g,w),_=Math.max(g,w);x=Math.max(Math.min(x,_),S),y=x+p,s&&!d&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(x))}if(x===n.getPixelForValue(o)){const g=Qs(p)*n.getLineWidthForValue(o)/2;x+=g,p-=g}return{size:p,base:x,head:y,center:y+p/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,a=Pe(r.maxBarThickness,1/0);let o,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=r.barThickness==="flex"?Y9(e,n,r,d*u):H9(e,n,r,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Pe(h,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;o=f.start+f.chunk*y+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else o=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(a,n.min*n.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}N(Zd,"id","bar"),N(Zd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),N(Zd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function J9(t,e,n){let s=1,r=1,i=0,a=0;if(e<bt){const o=t,c=o+e,u=Math.cos(o),d=Math.sin(o),f=Math.cos(c),h=Math.sin(c),m=(w,S,_)=>fu(w,o,c,!0)?1:Math.max(S,S*n,_,_*n),y=(w,S,_)=>fu(w,o,c,!0)?-1:Math.min(S,S*n,_,_*n),p=m(0,u,f),v=m(Ut,d,h),x=y(Ze,u,f),g=y(Ze+Ut,d,h);s=(p-x)/2,r=(v-g)/2,i=-(p+x)/2,a=-(v+g)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class ic extends wa{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=c=>+s[c];if(Ue(s[e])){const{key:c="value"}=this._parsing;i=u=>+La(s[u],c)}let a,o;for(a=e,o=e+n;a<o;++a)r._parsed[a]=i(a)}}_getRotation(){return yr(this.options.rotation-90)}_getCircumference(){return yr(this.options.circumference)}_getRotationExtents(){let e=bt,n=-bt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(s.width,s.height)-a)/2,0),c=Math.min(rY(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:y,offsetY:p}=J9(f,d,c),v=(s.width-a)/h,x=(s.height-a)/m,g=Math.max(Math.min(v,x)/2,0),w=xA(this.options.radius,g),S=Math.max(w*c,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=y*w,this.offsetY=p*w,r.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/bt)}updateElements(e,n,s,r){const i=r==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,d=(o.left+o.right)/2,f=(o.top+o.bottom)/2,h=i&&u.animateScale,m=h?0:this.innerRadius,y=h?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(n,r);let x=this._getRotation(),g;for(g=0;g<n;++g)x+=this._circumference(g,i);for(g=n;g<n+s;++g){const w=this._circumference(g,i),S=e[g],_={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:y,innerRadius:m};v&&(_.options=p||this.resolveDataElementOptions(g,S.active?"active":r)),x+=w,this.updateElement(S,g,_,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?bt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=yv(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,a,o,c;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,o=a.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)c=o.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}N(ic,"id","doughnut"),N(ic,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),N(ic,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),N(ic,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Jd extends wa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:c}=NY(n,r,a);this._drawStart=o,this._drawCount=c,jY(n)&&(o=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:u},e),this.updateElements(r,o,c,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,r),h=a.axis,m=o.axis,{spanGaps:y,segment:p}=this.options,v=du(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||r==="none",g=n+s,w=e.length;let S=n>0&&this.getParsed(n-1);for(let _=0;_<w;++_){const j=e[_],k=x?j:{};if(_<n||_>=g){k.skip=!0;continue}const T=this.getParsed(_),E=Ye(T[m]),A=k[h]=a.getPixelForValue(T[h],_),z=k[m]=i||E?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,T,c):T[m],_);k.skip=isNaN(A)||isNaN(z)||E,k.stop=_>0&&Math.abs(T[h]-S[h])>v,p&&(k.parsed=T,k.raw=u.data[_]),f&&(k.options=d||this.resolveDataElementOptions(_,j.active?"active":r)),x||this.updateElement(j,_,k,r),S=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}N(Jd,"id","line"),N(Jd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),N(Jd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function qi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kv{constructor(e){N(this,"options");this.options=e||{}}static override(e){Object.assign(kv.prototype,e)}init(){}formats(){return qi()}parse(){return qi()}format(){return qi()}add(){return qi()}diff(){return qi()}startOf(){return qi()}endOf(){return qi()}}var $A={_date:kv};function e7(t,e,n,s){const{controller:r,data:i,_sorted:a}=t,o=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?vY:oa;if(s){if(r._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=u(i,e,n-f),m=u(i,e,n+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:f}=r._cachedMeta,{_parsed:h}=t,m=h.slice(0,d.lo+1).reverse().findIndex(p=>!Ye(p[f.axis]));d.lo-=Math.max(0,m);const y=h.slice(d.hi).findIndex(p=>!Ye(p[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function sm(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,c=i.length;o<c;++o){const{index:u,data:d}=i[o],{lo:f,hi:h}=e7(i[o],e,a,r);for(let m=f;m<=h;++m){const y=d[m];y.skip||s(y,u,m)}}}function t7(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function vp(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||sm(t,n,e,function(o,c,u){!r&&!hu(o,t.chartArea,0)||o.inRange(e.x,e.y,s)&&i.push({element:o,datasetIndex:c,index:u})},!0),i}function n7(t,e,n,s){let r=[];function i(a,o,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],s),{angle:f}=wA(a,{x:e.x,y:e.y});fu(f,u,d)&&r.push({element:a,datasetIndex:o,index:c})}return sm(t,n,e,i),r}function s7(t,e,n,s,r,i){let a=[];const o=t7(n);let c=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(e.x,e.y,r);if(s&&!m)return;const y=d.getCenterPoint(r);if(!(!!i||t.isPointInArea(y))&&!m)return;const v=o(e,y);v<c?(a=[{element:d,datasetIndex:f,index:h}],c=v):v===c&&a.push({element:d,datasetIndex:f,index:h})}return sm(t,n,e,u),a}function bp(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?n7(t,e,n,r):s7(t,e,n,s,r,i)}function nS(t,e,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return sm(t,n,e,(c,u,d)=>{c[a]&&c[a](e[n],r)&&(i.push({element:c,datasetIndex:u,index:d}),o=o||c.inRange(e.x,e.y,r))}),s&&!o?[]:i}var r7={modes:{index(t,e,n,s){const r=Zi(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?vp(t,r,i,s,a):bp(t,r,i,!1,s,a),c=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const r=Zi(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?vp(t,r,i,s,a):bp(t,r,i,!1,s,a);if(o.length>0){const c=o[0].datasetIndex,u=t.getDatasetMeta(c).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:c,index:d})}return o},point(t,e,n,s){const r=Zi(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return vp(t,r,i,s,a)},nearest(t,e,n,s){const r=Zi(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return bp(t,r,i,n.intersect,s,a)},x(t,e,n,s){const r=Zi(e,t);return nS(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Zi(e,t);return nS(t,r,"y",n.intersect,s)}}};const VA=["left","top","right","bottom"];function ql(t,e){return t.filter(n=>n.pos===e)}function sS(t,e){return t.filter(n=>VA.indexOf(n.pos)===-1&&n.box.axis===e)}function Ql(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function i7(t){const e=[];let n,s,r,i,a,o;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:o});return e}function a7(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!VA.includes(r))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function o7(t,e){const n=a7(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:c}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*s:c&&e.availableWidth,o.height=r):(o.width=s,o.height=d?d*r:c&&e.availableHeight)}return n}function l7(t){const e=i7(t),n=Ql(e.filter(u=>u.box.fullSize),!0),s=Ql(ql(e,"left"),!0),r=Ql(ql(e,"right")),i=Ql(ql(e,"top"),!0),a=Ql(ql(e,"bottom")),o=sS(e,"x"),c=sS(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(a).concat(o),chartArea:ql(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(a).concat(o)}}function rS(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function BA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function c7(t,e,n,s){const{pos:r,box:i}=n,a=t.maxPadding;if(!Ue(r)){n.size&&(t[r]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[r]+=n.size}i.getPadding&&BA(a,i.getPadding());const o=Math.max(0,e.outerWidth-rS(a,t,"left","right")),c=Math.max(0,e.outerHeight-rS(a,t,"top","bottom")),u=o!==t.w,d=c!==t.h;return t.w=o,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function u7(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function d7(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return s(t?["left","right"]:["top","bottom"])}function ac(t,e,n,s){const r=[];let i,a,o,c,u,d;for(i=0,a=t.length,u=0;i<a;++i){o=t[i],c=o.box,c.update(o.width||e.w,o.height||e.h,d7(o.horizontal,e));const{same:f,other:h}=c7(e,n,o,s);u|=f&&r.length,d=d||h,c.fullSize||r.push(o)}return u&&ac(r,e,n,s)||d}function Nd(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function iS(t,e,n,s){const r=n.padding;let{x:i,y:a}=e;for(const o of t){const c=o.box,u=s[o.stack]||{placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*d,h=u.size||c.height;uu(u.start)&&(a=u.start),c.fullSize?Nd(c,r.left,a,n.outerWidth-r.right-r.left,h):Nd(c,e.left+u.placed,a,f,h),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*d,h=u.size||c.width;uu(u.start)&&(i=u.start),c.fullSize?Nd(c,i,r.top,h,n.outerHeight-r.bottom-r.top):Nd(c,i,e.top+u.placed,h,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var ts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=as(t.options.layout.padding),i=Math.max(e-r.width,0),a=Math.max(n-r.height,0),o=l7(t.boxes),c=o.vertical,u=o.horizontal;Xe(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=c.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),h=Object.assign({},r);BA(h,as(s));const m=Object.assign({maxPadding:h,w:i,h:a,x:r.left,y:r.top},r),y=o7(c.concat(u),f);ac(o.fullSize,m,f,y),ac(c,m,f,y),ac(u,m,f,y)&&ac(c,m,f,y),u7(m),iS(o.leftAndTop,m,f,y),m.x+=m.w,m.y+=m.h,iS(o.rightAndBottom,m,f,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Xe(o.chartArea,p=>{const v=p.box;Object.assign(v,t.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class UA{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class f7 extends UA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ef="$chartjs",h7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aS=t=>t===null||t==="";function m7(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[ef]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",aS(r)){const i=Uw(t,"width");i!==void 0&&(t.width=i)}if(aS(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Uw(t,"height");i!==void 0&&(t.height=i)}return t}const WA=m9?{passive:!0}:!1;function p7(t,e,n){t&&t.addEventListener(e,n,WA)}function g7(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,WA)}function y7(t,e){const n=h7[t.type]||t.type,{x:s,y:r}=Zi(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function ch(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function x7(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||ch(o.addedNodes,s),a=a&&!ch(o.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function v7(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||ch(o.removedNodes,s),a=a&&!ch(o.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const pu=new Map;let oS=0;function HA(){const t=window.devicePixelRatio;t!==oS&&(oS=t,pu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function b7(t,e){pu.size||window.addEventListener("resize",HA),pu.set(t,e)}function w7(t){pu.delete(t),pu.size||window.removeEventListener("resize",HA)}function S7(t,e,n){const s=t.canvas,r=s&&jv(s);if(!r)return;const i=jA((o,c)=>{const u=r.clientWidth;n(o,c),u<r.clientWidth&&n()},window),a=new ResizeObserver(o=>{const c=o[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(r),b7(t,i),a}function wp(t,e,n){n&&n.disconnect(),e==="resize"&&w7(t)}function _7(t,e,n){const s=t.canvas,r=jA(i=>{t.ctx!==null&&n(y7(i,t))},t);return p7(s,e,r),r}class N7 extends UA{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(m7(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[ef])return!1;const s=n[ef].initial;["height","width"].forEach(i=>{const a=s[i];Ye(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[ef],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:x7,detach:v7,resize:S7}[n]||_7;r[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:wp,detach:wp,resize:wp}[n]||g7)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return h9(e,n,s,r)}isAttached(e){const n=e&&jv(e);return!!(n&&n.isConnected)}}function j7(t){return!Nv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?f7:N7}var Md;let Ir=(Md=class{constructor(){N(this,"x");N(this,"y");N(this,"active",!1);N(this,"options");N(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return du(this.x)&&du(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},N(Md,"defaults",{}),N(Md,"defaultRoutes"),Md);function k7(t,e){const n=t.options.ticks,s=C7(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?P7(e):[],a=i.length,o=i[0],c=i[a-1],u=[];if(a>r)return E7(e,u,i,a/r),u;const d=T7(i,e,r);if(a>0){let f,h;const m=a>1?Math.round((c-o)/(a-1)):null;for(jd(e,u,d,Ye(m)?0:o-m,o),f=0,h=a-1;f<h;f++)jd(e,u,d,i[f],i[f+1]);return jd(e,u,d,c,Ye(m)?e.length:c+m),u}return jd(e,u,d),u}function C7(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function T7(t,e,n){const s=M7(t),r=e.length/n;if(!s)return Math.max(r,1);const i=fY(s);for(let a=0,o=i.length-1;a<o;a++){const c=i[a];if(c>r)return c}return Math.max(r,1)}function P7(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function E7(t,e,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===i&&(e.push(t[a]),r++,i=n[r*s])}function jd(t,e,n,s,r){const i=Pe(s,0),a=Math.min(Pe(r,t.length),t.length);let o=0,c,u,d;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(i+o*n))}function M7(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const D7=t=>t==="left"?"right":t==="right"?"left":t,lS=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,cS=(t,e)=>Math.min(e||t,t);function uS(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function A7(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,a=t._endPixel,o=1e-6;let c=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(r-1))/2,c+=r<e?u:-u,c<i-o||c>a+o)))return c}function O7(t,e){Xe(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Kl(t){return t.drawTicks?t.tickLength:0}function dS(t,e){if(!t.display)return 0;const n=on(t.font,e),s=as(t.padding);return($t(t.text)?t.text.length:1)*n.lineHeight+s.height}function I7(t,e){return Ya(t,{scale:e,type:"scale"})}function R7(t,e,n){return Ya(t,{tick:n,index:e,type:"tick"})}function F7(t,e,n){let s=pv(t);return(n&&e!=="right"||!n&&e==="right")&&(s=D7(s)),s}function L7(t,e,n,s){const{top:r,left:i,bottom:a,right:o,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,h,m,y;const p=a-r,v=o-i;if(t.isHorizontal()){if(m=sn(s,i,o),Ue(n)){const x=Object.keys(n)[0],g=n[x];y=d[x].getPixelForValue(g)+p-e}else n==="center"?y=(u.bottom+u.top)/2+p-e:y=lS(t,n,e);h=o-i}else{if(Ue(n)){const x=Object.keys(n)[0],g=n[x];m=d[x].getPixelForValue(g)-v+e}else n==="center"?m=(u.left+u.right)/2-v+e:m=lS(t,n,e);y=sn(s,a,r),f=n==="left"?-Ut:Ut}return{titleX:m,titleY:y,maxWidth:h,rotation:f}}class Cl extends Ir{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Ps(e,Number.POSITIVE_INFINITY),n=Ps(n,Number.NEGATIVE_INFINITY),s=Ps(s,Number.POSITIVE_INFINITY),r=Ps(r,Number.NEGATIVE_INFINITY),{min:Ps(e,s),max:Ps(n,r),minDefined:is(e),maxDefined:is(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const o=this.getMatchingVisibleMetas();for(let c=0,u=o.length;c<u;++c)a=o[c].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Ps(n,Ps(s,n)),max:Ps(s,Ps(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=HY(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?uS(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=k7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=ct(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=cS(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,o,c,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=an(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/s:m/(s-1),f+6>o&&(o=m/(s-(e.offset?.5:1)),c=this.maxHeight-Kl(e.grid)-n.padding-dS(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),a=gY(Math.min(Math.asin(an((d.highest.height+6)/o,-1,1)),Math.asin(an(c/u,-1,1))-Math.asin(an(h/u,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=dS(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=Kl(i)+c):(e.height=this.maxHeight,e.width=Kl(i)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=s.padding*2,y=yr(this.labelRotation),p=Math.cos(y),v=Math.sin(y);if(o){const x=s.mirror?0:v*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+x+m)}else{const x=s.mirror?0:p*f.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+x+m)}this._calculatePadding(u,d,v,p)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:a},position:o}=this.options,c=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;c?u?(h=r*e.width,m=s*n.height):(h=s*e.height,m=r*n.width):i==="start"?m=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,m=n.width/2),this.paddingLeft=Math.max((h-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Ye(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=uS(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],o=[],c=Math.floor(n/cS(n,s));let u=0,d=0,f,h,m,y,p,v,x,g,w,S,_;for(f=0;f<n;f+=c){if(y=e[f].label,p=this._resolveTickFontOptions(f),r.font=v=p.string,x=i[v]=i[v]||{data:{},gc:[]},g=p.lineHeight,w=S=0,!Ye(y)&&!$t(y))w=Lw(r,x.data,x.gc,w,y),S=g;else if($t(y))for(h=0,m=y.length;h<m;++h)_=y[h],!Ye(_)&&!$t(_)&&(w=Lw(r,x.data,x.gc,w,_),S+=g);a.push(w),o.push(S),u=Math.max(w,u),d=Math.max(S,d)}O7(i,n);const j=a.indexOf(u),k=o.indexOf(d),T=E=>({width:a[E]||0,height:o[E]||0});return{first:T(0),last:T(n-1),widest:T(j),highest:T(k),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xY(this._alignToPixels?Yi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=R7(this.getContext(),e,s))}return this.$context||(this.$context=I7(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=yr(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*s>o*r?o/s:c/r:c*r<o*s?c/s:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:o}=r,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=Kl(i),m=[],y=o.setContext(this.getContext()),p=y.display?y.width:0,v=p/2,x=function(V){return Yi(s,V,p)};let g,w,S,_,j,k,T,E,A,z,R,L;if(a==="top")g=x(this.bottom),k=this.bottom-h,E=g-v,z=x(e.top)+v,L=e.bottom;else if(a==="bottom")g=x(this.top),z=e.top,L=x(e.bottom)-v,k=g+v,E=this.top+h;else if(a==="left")g=x(this.right),j=this.right-h,T=g-v,A=x(e.left)+v,R=e.right;else if(a==="right")g=x(this.left),A=e.left,R=x(e.right)-v,j=g+v,T=this.left+h;else if(n==="x"){if(a==="center")g=x((e.top+e.bottom)/2+.5);else if(Ue(a)){const V=Object.keys(a)[0],B=a[V];g=x(this.chart.scales[V].getPixelForValue(B))}z=e.top,L=e.bottom,k=g+v,E=k+h}else if(n==="y"){if(a==="center")g=x((e.left+e.right)/2);else if(Ue(a)){const V=Object.keys(a)[0],B=a[V];g=x(this.chart.scales[V].getPixelForValue(B))}j=g-v,T=j-h,A=e.left,R=e.right}const I=Pe(r.ticks.maxTicksLimit,f),O=Math.max(1,Math.ceil(f/I));for(w=0;w<f;w+=O){const V=this.getContext(w),B=i.setContext(V),C=o.setContext(V),F=B.lineWidth,D=B.color,W=C.dash||[],G=C.dashOffset,ne=B.tickWidth,re=B.tickColor,ge=B.tickBorderDash||[],ve=B.tickBorderDashOffset;S=A7(this,w,c),S!==void 0&&(_=Yi(s,S,F),u?j=T=A=R=_:k=E=z=L=_,m.push({tx1:j,ty1:k,tx2:T,ty2:E,x1:A,y1:z,x2:R,y2:L,width:F,color:D,borderDash:W,borderDashOffset:G,tickWidth:ne,tickColor:re,tickBorderDash:ge,tickBorderDashOffset:ve}))}return this._ticksLength=f,this._borderValue=g,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,h=Kl(s.grid),m=h+d,y=f?-d:m,p=-yr(this.labelRotation),v=[];let x,g,w,S,_,j,k,T,E,A,z,R,L="middle";if(r==="top")j=this.bottom-y,k=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+y,k=this._getXAxisLabelAlignment();else if(r==="left"){const O=this._getYAxisLabelAlignment(h);k=O.textAlign,_=O.x}else if(r==="right"){const O=this._getYAxisLabelAlignment(h);k=O.textAlign,_=O.x}else if(n==="x"){if(r==="center")j=(e.top+e.bottom)/2+m;else if(Ue(r)){const O=Object.keys(r)[0],V=r[O];j=this.chart.scales[O].getPixelForValue(V)+m}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")_=(e.left+e.right)/2-m;else if(Ue(r)){const O=Object.keys(r)[0],V=r[O];_=this.chart.scales[O].getPixelForValue(V)}k=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const I=this._getLabelSizes();for(x=0,g=o.length;x<g;++x){w=o[x],S=w.label;const O=i.setContext(this.getContext(x));T=this.getPixelForTick(x)+i.labelOffset,E=this._resolveTickFontOptions(x),A=E.lineHeight,z=$t(S)?S.length:1;const V=z/2,B=O.color,C=O.textStrokeColor,F=O.textStrokeWidth;let D=k;a?(_=T,k==="inner"&&(x===g-1?D=this.options.reverse?"left":"right":x===0?D=this.options.reverse?"right":"left":D="center"),r==="top"?u==="near"||p!==0?R=-z*A+A/2:u==="center"?R=-I.highest.height/2-V*A+A:R=-I.highest.height+A/2:u==="near"||p!==0?R=A/2:u==="center"?R=I.highest.height/2-V*A:R=I.highest.height-z*A,f&&(R*=-1),p!==0&&!O.showLabelBackdrop&&(_+=A/2*Math.sin(p))):(j=T,R=(1-z)*A/2);let W;if(O.showLabelBackdrop){const G=as(O.backdropPadding),ne=I.heights[x],re=I.widths[x];let ge=R-G.top,ve=0-G.left;switch(L){case"middle":ge-=ne/2;break;case"bottom":ge-=ne;break}switch(k){case"center":ve-=re/2;break;case"right":ve-=re;break;case"inner":x===g-1?ve-=re:x>0&&(ve-=re/2);break}W={left:ve,top:ge,width:re+G.width,height:ne+G.height,color:O.backdropColor}}v.push({label:S,font:E,textOffset:R,options:{rotation:p,color:B,strokeColor:C,strokeWidth:F,textAlign:D,textBaseline:L,translation:[_,j],backdrop:W}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-yr(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,c=a.widest.width;let u,d;return n==="left"?r?(d=this.right+i,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-o,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+o,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const c=r[i];n.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Yi(e,this.left,a)-a/2,d=Yi(e,this.right,o)+o/2,f=h=c):(f=Yi(e,this.top,a)-a/2,h=Yi(e,this.bottom,o)+o/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&xv(s,r);const i=this.getLabelItems(e);for(const a of i){const o=a.options,c=a.font,u=a.label,d=a.textOffset;mu(s,u,0,d,c,o)}r&&vv(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=on(s.font),a=as(s.padding),o=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||Ue(n)?(c+=a.bottom,$t(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=L7(this,c,n,o);mu(e,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:h,textAlign:F7(o,n,r),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Pe(e.grid&&e.grid.z,-1),r=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Cl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[s]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return on(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;V7(n)&&(s=this.register(n));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,z7(e,a,s),this.override&&Et.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Et[r]&&(delete Et[r][s],this.override&&delete za[s])}}function z7(t,e,n){const s=cu(Object.create(null),[n?Et.get(n):{},Et.get(e),t.defaults]);Et.set(e,s),t.defaultRoutes&&$7(e,t.defaultRoutes),t.descriptors&&Et.describe(e,t.descriptors)}function $7(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),a=e[n].split("."),o=a.pop(),c=a.join(".");Et.route(i,r,c,o)})}function V7(t){return"id"in t&&"defaults"in t}class B7{constructor(){this.controllers=new kd(wa,"datasets",!0),this.elements=new kd(Ir,"elements"),this.plugins=new kd(Object,"plugins"),this.scales=new kd(Cl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):Xe(r,a=>{const o=s||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,s){const r=hv(e);ct(s["before"+r],[],s),n[e](s),ct(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Ds=new B7;class U7{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,r){r=r||{};for(const i of e){const a=i.plugin,o=a[s],c=[n,r,i.options];if(ct(o,c,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=Pe(s.options&&s.options.plugins,{}),i=W7(s);return r===!1&&!n?[]:Y7(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function W7(t){const e={},n=[],s=Object.keys(Ds.plugins.items);for(let i=0;i<s.length;i++)n.push(Ds.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function H7(t,e){return!e&&t===!1?null:t===!0?{}:t}function Y7(t,{plugins:e,localIds:n},s,r){const i=[],a=t.getContext();for(const o of e){const c=o.id,u=H7(s[c],r);u!==null&&i.push({plugin:o,options:q7(t.config,{plugin:o,local:n[c]},u,a)})}return i}function q7(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(s,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uy(t,e){const n=Et.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Q7(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function K7(t,e){return t===e?"_index_":"_value_"}function fS(t){if(t==="x"||t==="y"||t==="r")return t}function G7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function dy(t,...e){if(fS(t))return t;for(const n of e){const s=n.axis||G7(n.position)||t.length>1&&fS(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hS(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function X7(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return hS(t,"x",n[0])||hS(t,"y",n[0])}return{}}function Z7(t,e){const n=za[t.type]||{scales:{}},s=e.scales||{},r=uy(t.type,e),i=Object.create(null);return Object.keys(s).forEach(a=>{const o=s[a];if(!Ue(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=dy(a,o,X7(a,t),Et.scales[o.type]),u=K7(c,r),d=n.scales||{};i[a]=_c(Object.create(null),[{axis:c},o,d[c],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,c=a.indexAxis||uy(o,e),d=(za[o]||{}).scales||{};Object.keys(d).forEach(f=>{const h=Q7(f,c),m=a[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),_c(i[m],[{axis:h},s[m],d[f]])})}),Object.keys(i).forEach(a=>{const o=i[a];_c(o,[Et.scales[o.type],Et.scale])}),i}function YA(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=Z7(t,e)}function qA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function J7(t){return t=t||{},t.data=qA(t.data),YA(t),t}const mS=new Map,QA=new Set;function Cd(t,e){let n=mS.get(t);return n||(n=e(),mS.set(t,n),QA.add(n)),n}const Gl=(t,e,n)=>{const s=La(e,n);s!==void 0&&t.add(s)};class eq{constructor(e){this._config=J7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),YA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Cd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Cd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Cd(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,a=this._cachedScopes(e,s),o=a.get(n);if(o)return o;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(f=>Gl(c,e,f))),d.forEach(f=>Gl(c,r,f)),d.forEach(f=>Gl(c,za[i]||{},f)),d.forEach(f=>Gl(c,Et,f)),d.forEach(f=>Gl(c,ly,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),QA.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,za[n]||{},Et.datasets[n]||{},{type:n},Et,ly]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=pS(this._resolverCache,e,r);let c=a;if(nq(a,n)){i.$shared=!1,s=Ii(s)?s():s;const u=this.createResolver(e,s,o);c=ul(a,s,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=pS(this._resolverCache,e,s);return Ue(n)?ul(i,n,void 0,r):i}}function pS(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:wv(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},s.set(r,i)),i}const tq=t=>Ue(t)&&Object.getOwnPropertyNames(t).some(e=>Ii(t[e]));function nq(t,e){const{isScriptable:n,isIndexable:s}=PA(t);for(const r of e){const i=n(r),a=s(r),o=(a||i)&&t[r];if(i&&(Ii(o)||tq(o))||a&&$t(o))return!0}return!1}var sq="4.5.0";const rq=["top","bottom","left","right","chartArea"];function gS(t,e){return t==="top"||t==="bottom"||rq.indexOf(t)===-1&&e==="x"}function yS(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function xS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ct(n&&n.onComplete,[t],e)}function iq(t){const e=t.chart,n=e.options.animation;ct(n&&n.onProgress,[t],e)}function KA(t){return Nv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const tf={},vS=t=>{const e=KA(t);return Object.values(tf).filter(n=>n.canvas===e).pop()};function aq(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const a=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=a)}}}function oq(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Br;let Fu=(Br=class{static register(...e){Ds.add(...e),bS()}static unregister(...e){Ds.remove(...e),bS()}constructor(e,n){const s=this.config=new eq(n),r=KA(e),i=vS(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||j7(r)),this.platform.updateConfig(s);const o=this.platform.acquireContext(r,a.aspectRatio),c=o&&o.canvas,u=c&&c.height,d=c&&c.width;if(this.id=sY(),this.ctx=o,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new U7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SY(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],tf[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ar.listen(this,"complete",xS),ar.listen(this,"progress",iq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return Ye(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ds}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zw(this.canvas,this.ctx),this}stop(){return ar.stop(this),this}resize(e,n){ar.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,i),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Bw(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ct(s.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Xe(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],c=dy(a,o),u=c==="r",d=c==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Xe(i,a=>{const o=a.options,c=o.id,u=dy(c,o),d=Pe(o.type,a.dtype);(o.position===void 0||gS(o.position,u)!==gS(a.dposition))&&(o.position=a.dposition),r[c]=!0;let f=null;if(c in s&&s[c].type===d)f=s[c];else{const h=Ds.getScale(d);f=new h({id:c,type:d,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(o,e)}),Xe(r,(a,o)=>{a||delete s[o]}),Xe(s,a=>{ts.configure(this,a,a.options),ts.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(yS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=o,a.indexAxis=i.indexAxis||uy(o,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const c=Ds.getController(o),{datasetElementType:u,dataElementType:d}=Et.datasets[o];Object.assign(c,{dataElementType:Ds.getElement(d),datasetElementType:u&&Ds.getElement(u)}),a.controller=new c(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!r&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||Xe(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yS("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Xe(this.scales,e=>{ts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Pw(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;aq(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!Pw(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ts.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Xe(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ii(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ar.has(this)?this.attached&&!ar.running(this)&&ar.start(this):(this.draw(),xS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=T9(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&xv(n,r),e.controller.draw(),r&&vv(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return hu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=r7.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);uu(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(i,{visible:s}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ar.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),zw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete tf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},r=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Xe(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},r=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,a,o,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!rh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(n,e),o=s?e:i(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,a=n,o=this._getActiveElements(e,r,s,a),c=cY(e),u=oq(e,this._lastEvent,s,c);s&&(this._lastEvent=null,ct(i.onHover,[e,o,this],this),c&&ct(i.onClick,[e,o,this],this));const d=!rh(o,r);return(d||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},N(Br,"defaults",Et),N(Br,"instances",tf),N(Br,"overrides",za),N(Br,"registry",Ds),N(Br,"version",sq),N(Br,"getChart",vS),Br);function bS(){return Xe(Fu.instances,t=>t._plugins.invalidate())}function lq(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:o,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/a,ms(s-n));if(t.beginPath(),t.arc(r,i,a-u/2,s+f/2,n-f/2),o>0){const h=Math.min(u/o,ms(s-n));t.arc(r,i,o+u/2,n-h/2,s+h/2,!0)}else{const h=Math.min(u/2,a*ms(s-n));if(d==="round")t.arc(r,i,h,n-Ze/2,s+Ze/2,!0);else if(d==="bevel"){const m=2*h*h,y=-m*Math.cos(n+Ze/2)+r,p=-m*Math.sin(n+Ze/2)+i,v=m*Math.cos(s+Ze/2)+r,x=m*Math.sin(s+Ze/2)+i;t.lineTo(y,p),t.lineTo(v,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function cq(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:o,innerRadius:c}=e;let u=r/o;t.beginPath(),t.arc(i,a,o,s-u,n+u),c>r?(u=r/c,t.arc(i,a,c,n+u,s-u,!0)):t.arc(i,a,r,n+Ut,s-Ut),t.closePath(),t.clip()}function uq(t){return bv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function dq(t,e,n,s){const r=uq(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,s*e/2),o=c=>{const u=(n-Math.min(i,c))*s/2;return an(c,0,Math.min(i,u))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:an(r.innerStart,0,a),innerEnd:an(r.innerEnd,0,a)}}function eo(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function uh(t,e,n,s,r,i){const{x:a,y:o,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+s+n-u,0),h=d>0?d+s+n+u:0;let m=0;const y=r-c;if(s){const O=d>0?d-s:0,V=f>0?f-s:0,B=(O+V)/2,C=B!==0?y*B/(B+s):y;m=(y-C)/2}const p=Math.max(.001,y*f-n/Ze)/f,v=(y-p)/2,x=c+v+m,g=r-v-m,{outerStart:w,outerEnd:S,innerStart:_,innerEnd:j}=dq(e,h,f,g-x),k=f-w,T=f-S,E=x+w/k,A=g-S/T,z=h+_,R=h+j,L=x+_/z,I=g-j/R;if(t.beginPath(),i){const O=(E+A)/2;if(t.arc(a,o,f,E,O),t.arc(a,o,f,O,A),S>0){const F=eo(T,A,a,o);t.arc(F.x,F.y,S,A,g+Ut)}const V=eo(R,g,a,o);if(t.lineTo(V.x,V.y),j>0){const F=eo(R,I,a,o);t.arc(F.x,F.y,j,g+Ut,I+Math.PI)}const B=(g-j/h+(x+_/h))/2;if(t.arc(a,o,h,g-j/h,B,!0),t.arc(a,o,h,B,x+_/h,!0),_>0){const F=eo(z,L,a,o);t.arc(F.x,F.y,_,L+Math.PI,x-Ut)}const C=eo(k,x,a,o);if(t.lineTo(C.x,C.y),w>0){const F=eo(k,E,a,o);t.arc(F.x,F.y,w,x-Ut,E)}}else{t.moveTo(a,o);const O=Math.cos(E)*f+a,V=Math.sin(E)*f+o;t.lineTo(O,V);const B=Math.cos(A)*f+a,C=Math.sin(A)*f+o;t.lineTo(B,C)}t.closePath()}function fq(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:o}=e;let c=e.endAngle;if(i){uh(t,e,n,s,c,r);for(let u=0;u<i;++u)t.fill();isNaN(o)||(c=a+(o%bt||bt))}return uh(t,e,n,s,c,r),t.fill(),c}function hq(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:o,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=c,y=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=h,y?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(i){uh(t,e,n,s,p,r);for(let v=0;v<i;++v)t.stroke();isNaN(o)||(p=a+(o%bt||bt))}y&&cq(t,e,p),c.selfJoin&&p-a>=Ze&&m===0&&d!=="miter"&&lq(t,e,p),i||(uh(t,e,n,s,p,r),t.stroke())}class oc extends Ir{constructor(n){super();N(this,"circumference");N(this,"endAngle");N(this,"fullCircles");N(this,"innerRadius");N(this,"outerRadius");N(this,"pixelMargin");N(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:o}=wA(i,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),m=(this.options.spacing+this.options.borderWidth)/2,y=Pe(h,u-c),p=fu(a,c,u)&&c!==u,v=y>=bt||p,x=fi(o,d+m,f+m);return v&&x}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+a)/2,h=(o+c+d+u)/2;return{x:s+Math.cos(f)*h,y:r+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>bt?Math.floor(r/bt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Ze,r||0)),d=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,fq(n,this,d,a,o),hq(n,this,d,a,o),n.restore()}}N(oc,"id","arc"),N(oc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),N(oc,"defaultRoutes",{backgroundColor:"backgroundColor"}),N(oc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function GA(t,e,n=e){t.lineCap=Pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Pe(n.borderDash,e.borderDash)),t.lineDashOffset=Pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pe(n.borderWidth,e.borderWidth),t.strokeStyle=Pe(n.borderColor,e.borderColor)}function mq(t,e,n){t.lineTo(n.x,n.y)}function pq(t){return t.stepped?RY:t.tension||t.cubicInterpolationMode==="monotone"?FY:mq}function XA(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:a,end:o}=e,c=Math.max(r,a),u=Math.min(i,o),d=r<a&&i<a||r>o&&i>o;return{count:s,start:c,loop:e.loop,ilen:u<c&&!d?s+u-c:u-c}}function gq(t,e,n,s){const{points:r,options:i}=e,{count:a,start:o,loop:c,ilen:u}=XA(r,n,s),d=pq(i);let{move:f=!0,reverse:h}=s||{},m,y,p;for(m=0;m<=u;++m)y=r[(o+(h?u-m:m))%a],!y.skip&&(f?(t.moveTo(y.x,y.y),f=!1):d(t,p,y,h,i.stepped),p=y);return c&&(y=r[(o+(h?u:0))%a],d(t,p,y,h,i.stepped)),!!c}function yq(t,e,n,s){const r=e.points,{count:i,start:a,ilen:o}=XA(r,n,s),{move:c=!0,reverse:u}=s||{};let d=0,f=0,h,m,y,p,v,x;const g=S=>(a+(u?o-S:S))%i,w=()=>{p!==v&&(t.lineTo(d,v),t.lineTo(d,p),t.lineTo(d,x))};for(c&&(m=r[g(0)],t.moveTo(m.x,m.y)),h=0;h<=o;++h){if(m=r[g(h)],m.skip)continue;const S=m.x,_=m.y,j=S|0;j===y?(_<p?p=_:_>v&&(v=_),d=(f*d+S)/++f):(w(),t.lineTo(S,_),y=j,f=0,p=v=_),x=_}w()}function fy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?yq:gq}function xq(t){return t.stepped?p9:t.tension||t.cubicInterpolationMode==="monotone"?g9:Ji}function vq(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),GA(t,e.options),t.stroke(r)}function bq(t,e,n,s){const{segments:r,options:i}=e,a=fy(e);for(const o of r)GA(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const wq=typeof Path2D=="function";function Sq(t,e,n,s){wq&&!e.options.segment?vq(t,e,n,s):bq(t,e,n,s)}class yo extends Ir{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;o9(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=N9(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,a=w9(this,{property:n,start:r,end:r});if(!a.length)return;const o=[],c=xq(s);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:h}=a[u],m=i[f],y=i[h];if(m===y){o.push(m);continue}const p=Math.abs((r-m[n])/(y[n]-m[n])),v=c(m,y,p,s.stepped);v[n]=e[n],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,n,s){return fy(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=fy(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const o of r)a&=i(e,this,o,{start:n,end:n+s-1});return!!a}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Sq(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}N(yo,"id","line"),N(yo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),N(yo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),N(yo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function wS(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Cc extends Ir{constructor(n){super();N(this,"parsed");N(this,"skip");N(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return wS(this,n,"x",s)}inYRange(n,s){return wS(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!hu(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,cy(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}N(Cc,"id","point"),N(Cc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),N(Cc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ZA(t,e){const{x:n,y:s,base:r,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,c,u,d,f;return t.horizontal?(f=a/2,o=Math.min(n,r),c=Math.max(n,r),u=s-f,d=s+f):(f=i/2,o=n-f,c=n+f,u=Math.min(s,r),d=Math.max(s,r)),{left:o,top:u,right:c,bottom:d}}function hi(t,e,n,s){return t?0:an(e,n,s)}function _q(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=TA(s);return{t:hi(r.top,i.top,0,n),r:hi(r.right,i.right,0,e),b:hi(r.bottom,i.bottom,0,n),l:hi(r.left,i.left,0,e)}}function Nq(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Mo(r),a=Math.min(e,n),o=t.borderSkipped,c=s||Ue(r);return{topLeft:hi(!c||o.top||o.left,i.topLeft,0,a),topRight:hi(!c||o.top||o.right,i.topRight,0,a),bottomLeft:hi(!c||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:hi(!c||o.bottom||o.right,i.bottomRight,0,a)}}function jq(t){const e=ZA(t),n=e.right-e.left,s=e.bottom-e.top,r=_q(t,n/2,s/2),i=Nq(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Sp(t,e,n,s){const r=e===null,i=n===null,o=t&&!(r&&i)&&ZA(t,s);return o&&(r||fi(e,o.left,o.right))&&(i||fi(n,o.top,o.bottom))}function kq(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Cq(t,e){t.rect(e.x,e.y,e.w,e.h)}function _p(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+a,radius:t.radius}}class nf extends Ir{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=jq(this),o=kq(a.radius)?oh:Cq;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,_p(a,n,i)),e.clip(),o(e,_p(i,-n,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),o(e,_p(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return Sp(this,e,n,s)}inXRange(e,n){return Sp(this,e,null,n)}inYRange(e,n){return Sp(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}N(nf,"id","bar"),N(nf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),N(nf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const SS=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},Tq=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class _S extends Ir{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ct(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=on(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=SS(s,i);let u,d;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,c)+10):(d=this.maxHeight,u=this._fitCols(a,r,o,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+o;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((y,p)=>{const v=s+n/2+i.measureText(y.text).width;(p===0||u[u.length-1]+v+2*o>a)&&(f+=d,u[u.length-(p>0?0:1)]=0,m+=d,h++),c[p]={left:0,top:m,row:h,width:v,height:r},u[u.length-1]+=v+o}),f}_fitCols(e,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=o,h=0,m=0,y=0,p=0;return this.legendItems.forEach((v,x)=>{const{itemWidth:g,itemHeight:w}=Pq(s,n,i,v,r);x>0&&m+w+2*o>d&&(f+=h+o,u.push({width:h,height:m}),y+=h+o,p++,h=m=0),c[x]={left:y,top:m,col:p,width:g,height:w},h=Math.max(h,g),m+=w+o}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=Do(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=sn(s,this.left+r,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,c=sn(s,this.left+r,this.right-this.lineWidths[o])),u.top+=this.top+e+r,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+r}else{let o=0,c=sn(s,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,c=sn(s,this.top+e+r,this.bottom-this.columnSizes[o].height)),u.top=c,u.left+=this.left+r,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;xv(e,this),this._draw(),vv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=e,o=Et.color,c=Do(e.rtl,this.left,this.width),u=on(a.font),{padding:d}=a,f=u.size,h=f/2;let m;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:y,boxHeight:p,itemHeight:v}=SS(a,f),x=function(j,k,T){if(isNaN(y)||y<=0||isNaN(p)||p<0)return;r.save();const E=Pe(T.lineWidth,1);if(r.fillStyle=Pe(T.fillStyle,o),r.lineCap=Pe(T.lineCap,"butt"),r.lineDashOffset=Pe(T.lineDashOffset,0),r.lineJoin=Pe(T.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=Pe(T.strokeStyle,o),r.setLineDash(Pe(T.lineDash,[])),a.usePointStyle){const A={radius:p*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:E},z=c.xPlus(j,y/2),R=k+h;CA(r,A,z,R,a.pointStyleWidth&&y)}else{const A=k+Math.max((f-p)/2,0),z=c.leftForLtr(j,y),R=Mo(T.borderRadius);r.beginPath(),Object.values(R).some(L=>L!==0)?oh(r,{x:z,y:A,w:y,h:p,radius:R}):r.rect(z,A,y,p),r.fill(),E!==0&&r.stroke()}r.restore()},g=function(j,k,T){mu(r,T.text,j,k+v/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?m={x:sn(i,this.left+d,this.right-s[0]),y:this.top+d+S,line:0}:m={x:this.left+d,y:sn(i,this.top+S+d,this.bottom-n[0].height),line:0},OA(this.ctx,e.textDirection);const _=v+d;this.legendItems.forEach((j,k)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const T=r.measureText(j.text).width,E=c.textAlign(j.textAlign||(j.textAlign=a.textAlign)),A=y+h+T;let z=m.x,R=m.y;c.setWidth(this.width),w?k>0&&z+A+d>this.right&&(R=m.y+=_,m.line++,z=m.x=sn(i,this.left+d,this.right-s[m.line])):k>0&&R+_>this.bottom&&(z=m.x=z+n[m.line].width+d,m.line++,R=m.y=sn(i,this.top+S+d,this.bottom-n[m.line].height));const L=c.x(z);if(x(L,R,j),z=_Y(E,z+y+h,w?z+A:this.right,e.rtl),g(c.x(z),R,j),w)m.x+=A+d;else if(typeof j.text!="string"){const I=u.lineHeight;m.y+=JA(j,I)+d}else m.y+=_}),IA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=on(n.font),r=as(n.padding);if(!n.display)return;const i=Do(e.rtl,this.left,this.width),a=this.ctx,o=n.position,c=s.size/2,u=r.top+c;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=sn(e.align,f,this.right-h);else{const y=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);d=u+sn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=sn(o,f,f+h);a.textAlign=i.textAlign(pv(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,mu(a,n.text,m,d,s)}_computeTitleHeight(){const e=this.options.title,n=on(e.font),s=as(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(fi(e,this.left,this.right)&&fi(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],fi(e,r.left,r.left+r.width)&&fi(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!Dq(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=Tq(r,s);r&&!i&&ct(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&ct(n.onHover,[e,s,this],this)}else s&&ct(n.onClick,[e,s,this],this)}}function Pq(t,e,n,s,r){const i=Eq(s,t,e,n),a=Mq(r,s,e.lineHeight);return{itemWidth:i,itemHeight:a}}function Eq(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+s.measureText(r).width}function Mq(t,e,n){let s=t;return typeof e.text!="string"&&(s=JA(e,n)),s}function JA(t,e){const n=t.text?t.text.length:0;return e*n}function Dq(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var eO={id:"legend",_element:_S,start(t,e,n){const s=t.legend=new _S({ctx:t.ctx,options:n,chart:t});ts.configure(t,s,n),ts.addBox(t,s)},stop(t){ts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;ts.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=as(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class tO extends Ir{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=$t(s.text)?s.text.length:1;this._padding=as(s.padding);const i=r*on(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:a}=this,o=a.align;let c=0,u,d,f;return this.isHorizontal()?(d=sn(o,s,i),f=n+e,u=i-s):(a.position==="left"?(d=s+e,f=sn(o,r,n),c=Ze*-.5):(d=i-e,f=sn(o,n,r),c=Ze*.5),u=r-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=on(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:u}=this._drawArgs(i);mu(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:pv(n.align),textBaseline:"middle",translation:[a,o]})}}function Aq(t,e){const n=new tO({ctx:t.ctx,options:e,chart:t});ts.configure(t,n,e),ts.addBox(t,n),t.titleBlock=n}var nO={id:"title",_element:tO,start(t,e,n){Aq(t,n)},stop(t){const e=t.titleBlock;ts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;ts.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lc={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((o,c)=>o+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=oy(e,u);d<r&&(r=d,o=c)}}if(o){const c=o.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Es(t,e){return e&&($t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function or(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Oq(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:a,value:o}=i.getLabelAndValue(r);return{chart:t,label:a,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:o,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function NS(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:a,boxHeight:o}=e,c=on(e.bodyFont),u=on(e.titleFont),d=on(e.footerFont),f=i.length,h=r.length,m=s.length,y=as(e.padding);let p=y.height,v=0,x=s.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;p+=m*S+(x-m)*c.lineHeight+(x-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let g=0;const w=function(S){v=Math.max(v,n.measureText(S).width+g)};return n.save(),n.font=u.string,Xe(t.title,w),n.font=c.string,Xe(t.beforeBody.concat(t.afterBody),w),g=e.displayColors?a+2+e.boxPadding:0,Xe(s,S=>{Xe(S.before,w),Xe(S.lines,w),Xe(S.after,w)}),g=0,n.font=d.string,Xe(t.footer,w),n.restore(),v+=y.width,{width:v,height:p}}function Iq(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function Rq(t,e,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(t==="left"&&r+i+a>e.width||t==="right"&&r-i-a<0)return!0}function Fq(t,e,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:o,right:c}}=t;let u="center";return s==="center"?u=r<=(o+c)/2?"left":"right":r<=i/2?u="left":r>=a-i/2&&(u="right"),Rq(u,t,e,n)&&(u="center"),u}function jS(t,e,n){const s=n.yAlign||e.yAlign||Iq(t,n);return{xAlign:n.xAlign||e.xAlign||Fq(t,e,n,s),yAlign:s}}function Lq(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function zq(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function kS(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:c}=n,u=r+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Mo(a);let y=Lq(e,o);const p=zq(e,c,u);return c==="center"?o==="left"?y+=u:o==="right"&&(y-=u):o==="left"?y-=Math.max(d,h)+r:o==="right"&&(y+=Math.max(f,m)+r),{x:an(y,0,s.width-e.width),y:an(p,0,s.height-e.height)}}function Td(t,e,n){const s=as(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function CS(t){return Es([],or(t))}function $q(t,e,n){return Ya(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function TS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const sO={beforeTitle:sr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:sr,beforeBody:sr,beforeLabel:sr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ye(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:sr,afterBody:sr,beforeFooter:sr,footer:sr,afterFooter:sr};function Nn(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?sO[e].call(n,s):r}class hy extends Ir{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new FA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=$q(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Nn(s,"beforeTitle",this,e),i=Nn(s,"title",this,e),a=Nn(s,"afterTitle",this,e);let o=[];return o=Es(o,or(r)),o=Es(o,or(i)),o=Es(o,or(a)),o}getBeforeBody(e,n){return CS(Nn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return Xe(e,i=>{const a={before:[],lines:[],after:[]},o=TS(s,i);Es(a.before,or(Nn(o,"beforeLabel",this,i))),Es(a.lines,Nn(o,"label",this,i)),Es(a.after,or(Nn(o,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(e,n){return CS(Nn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Nn(s,"beforeFooter",this,e),i=Nn(s,"footer",this,e),a=Nn(s,"afterFooter",this,e);let o=[];return o=Es(o,or(r)),o=Es(o,or(i)),o=Es(o,or(a)),o}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let o=[],c,u;for(c=0,u=n.length;c<u;++c)o.push(Oq(this.chart,n[c]));return e.filter&&(o=o.filter((d,f,h)=>e.filter(d,f,h,s))),e.itemSort&&(o=o.sort((d,f)=>e.itemSort(d,f,s))),Xe(o,d=>{const f=TS(e.callbacks,d);r.push(Nn(f,"labelColor",this,d)),i.push(Nn(f,"labelPointStyle",this,d)),a.push(Nn(f,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const o=lc[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const c=this._size=NS(this,s),u=Object.assign({},o,c),d=jS(this.chart,s,u),f=kS(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:o}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Mo(o),{x:h,y:m}=e,{width:y,height:p}=n;let v,x,g,w,S,_;return i==="center"?(S=m+p/2,r==="left"?(v=h,x=v-a,w=S+a,_=S-a):(v=h+y,x=v+a,w=S-a,_=S+a),g=v):(r==="left"?x=h+Math.max(c,d)+a:r==="right"?x=h+y-Math.max(u,f)-a:x=this.caretX,i==="top"?(w=m,S=w-a,v=x-a,g=x+a):(w=m+p,S=w+a,v=x+a,g=x-a),_=w),{x1:v,x2:x,x3:g,y1:w,y2:S,y3:_}}drawTitle(e,n,s){const r=this.title,i=r.length;let a,o,c;if(i){const u=Do(s.rtl,this.x,this.width);for(e.x=Td(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",a=on(s.titleFont),o=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,c+1===i&&(e.y+=s.titleMarginBottom-o)}}_drawColorBox(e,n,s,r,i){const a=this.labelColors[s],o=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=i,d=on(i.bodyFont),f=Td(this,"left",i),h=r.x(f),m=c<d.lineHeight?(d.lineHeight-c)/2:0,y=n.y+m;if(i.usePointStyle){const p={radius:Math.min(u,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=r.leftForLtr(h,u)+u/2,x=y+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,cy(e,p,v,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,cy(e,p,v,x)}else{e.lineWidth=Ue(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=r.leftForLtr(h,u),v=r.leftForLtr(r.xPlus(h,1),u-2),x=Mo(a.borderRadius);Object.values(x).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,oh(e,{x:p,y,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),oh(e,{x:v,y:y+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,y,u,c),e.strokeRect(p,y,u,c),e.fillStyle=a.backgroundColor,e.fillRect(v,y+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:u,boxPadding:d}=s,f=on(s.bodyFont);let h=f.lineHeight,m=0;const y=Do(s.rtl,this.x,this.width),p=function(T){n.fillText(T,y.x(e.x+m),e.y+h/2),e.y+=h+i},v=y.textAlign(a);let x,g,w,S,_,j,k;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=Td(this,v,s),n.fillStyle=s.bodyColor,Xe(this.beforeBody,p),m=o&&v!=="right"?a==="center"?u/2+d:u+2+d:0,S=0,j=r.length;S<j;++S){for(x=r[S],g=this.labelTextColors[S],n.fillStyle=g,Xe(x.before,p),w=x.lines,o&&w.length&&(this._drawColorBox(n,e,S,y,s),h=Math.max(f.lineHeight,c)),_=0,k=w.length;_<k;++_)p(w[_]),h=f.lineHeight;Xe(x.after,p)}m=0,h=f.lineHeight,Xe(this.afterBody,p),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let a,o;if(i){const c=Do(s.rtl,this.x,this.width);for(e.x=Td(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",a=on(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(r[o],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:a}=this,{x:o,y:c}=e,{width:u,height:d}=s,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:y}=Mo(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+f,c),a==="top"&&this.drawCaret(e,n,s,r),n.lineTo(o+u-h,c),n.quadraticCurveTo(o+u,c,o+u,c+h),a==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(o+u,c+d-y),n.quadraticCurveTo(o+u,c+d,o+u-y,c+d),a==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(o+m,c+d),n.quadraticCurveTo(o,c+d,o,c+d-m),a==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(o,c+f),n.quadraticCurveTo(o,c,o+f,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=lc[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=NS(this,e),c=Object.assign({},a,this._size),u=jS(n,e,c),d=kS(e,c,u,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=as(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),OA(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),IA(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:o,index:c})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[c],index:c}}),i=!rh(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,s),o=this._positionChanged(a,e),c=n||!rh(a,i)||o;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,a=lc[i.position].call(this,e,n);return a!==!1&&(s!==a.x||r!==a.y)}}N(hy,"positioners",lc);var rO={id:"tooltip",_element:hy,positioners:lc,afterInit(t,e,n){n&&(t.tooltip=new hy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Vq=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Bq(t,e,n,s){const r=t.indexOf(e);if(r===-1)return Vq(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const Uq=(t,e)=>t===null?null:an(Math.round(t),0,e);function PS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class dh extends Cl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ye(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Bq(s,e,Pe(n,e),this._addedLabels),Uq(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return PS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}N(dh,"id","category"),N(dh,"defaults",{ticks:{callback:PS}});function Wq(t,e){const n=[],{bounds:r,step:i,min:a,max:o,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,m=i||1,y=d-1,{min:p,max:v}=e,x=!Ye(a),g=!Ye(o),w=!Ye(u),S=(v-p)/(f+1);let _=Mw((v-p)/y/m)*m,j,k,T,E;if(_<1e-14&&!x&&!g)return[{value:p},{value:v}];E=Math.ceil(v/_)-Math.floor(p/_),E>y&&(_=Mw(E*_/y/m)*m),Ye(c)||(j=Math.pow(10,c),_=Math.ceil(_*j)/j),r==="ticks"?(k=Math.floor(p/_)*_,T=Math.ceil(v/_)*_):(k=p,T=v),x&&g&&i&&mY((o-a)/i,_/1e3)?(E=Math.round(Math.min((o-a)/_,d)),_=(o-a)/E,k=a,T=o):w?(k=x?a:k,T=g?o:T,E=u-1,_=(T-k)/E):(E=(T-k)/_,Nc(E,Math.round(E),_/1e3)?E=Math.round(E):E=Math.ceil(E));const A=Math.max(Dw(_),Dw(k));j=Math.pow(10,Ye(c)?A:c),k=Math.round(k*j)/j,T=Math.round(T*j)/j;let z=0;for(x&&(h&&k!==a?(n.push({value:a}),k<a&&z++,Nc(Math.round((k+z*_)*j)/j,a,ES(a,S,t))&&z++):k<a&&z++);z<E;++z){const R=Math.round((k+z*_)*j)/j;if(g&&R>o)break;n.push({value:R})}return g&&h&&T!==o?n.length&&Nc(n[n.length-1].value,o,ES(o,S,t))?n[n.length-1].value=o:n.push({value:o}):(!g||T===o)&&n.push({value:T}),n}function ES(t,e,{horizontal:n,minRotation:s}){const r=yr(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class Hq extends Cl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=c=>r=n?r:c,o=c=>i=s?i:c;if(e){const c=Qs(r),u=Qs(i);c<0&&u<0?o(0):c>0&&u>0&&a(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);o(i+c),e||a(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=Wq(r,i);return e.bounds==="ticks"&&pY(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return yv(e,this.chart.options.locale,this.options.ticks.format)}}class fh extends Hq{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=is(e)?e:0,this.max=is(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=yr(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}N(fh,"id","linear"),N(fh,"defaults",{ticks:{callback:kA.formatters.numeric}});const rm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pn=Object.keys(rm);function MS(t,e){return t-e}function DS(t,e){if(Ye(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),is(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(du(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function AS(t,e,n,s){const r=Pn.length;for(let i=Pn.indexOf(t);i<r-1;++i){const a=rm[Pn[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=s)return Pn[i]}return Pn[r-1]}function Yq(t,e,n,s,r){for(let i=Pn.length-1;i>=Pn.indexOf(n);i--){const a=Pn[i];if(rm[a].common&&t._adapter.diff(r,s,a)>=e-1)return a}return Pn[n?Pn.indexOf(n):0]}function qq(t){for(let e=Pn.indexOf(t)+1,n=Pn.length;e<n;++e)if(rm[Pn[e]].common)return Pn[e]}function OS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=mv(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function Qq(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),a=e[e.length-1].value;let o,c;for(o=i;o<=a;o=+r.add(o,1,s))c=n[o],c>=0&&(e[c].major=!0);return e}function IS(t,e,n){const s=[],r={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],r[o]=a,s.push({value:o,major:!1});return i===0||!n?s:Qq(t,s,r,n)}class fl extends Cl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new $A._date(e.adapters.date);r.init(n),_c(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:DS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=is(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=is(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,o=bY(r,i,a);return this._unit=n.unit||(s.autoSkip?AS(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Yq(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:qq(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),IS(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=an(n,0,a),s=an(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||AS(i.minUnit,n,s,this._getLabelCapacity(n)),o=Pe(r.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=du(c)||c===!0,d={};let f=n,h,m;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(s,n,a)>1e5*o)throw new Error(n+" and "+s+" are too far apart with stepSize of "+o+" "+a);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<s;h=+e.add(h,o,a),m++)OS(d,h,y);return(h===s||r.bounds==="ticks"||m===1)&&OS(d,h,y),Object.keys(d).sort(MS).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return ct(a,[e,n,s],this);const o=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&o[c],f=u&&o[u],h=s[n],m=u&&f&&h&&h.major;return this._adapter.format(e,r||(m?f:d))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=yr(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:s*i+o*a,h:s*a+o*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,IS(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(DS(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _A(e.sort(MS))}}N(fl,"id","time"),N(fl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Pd(t,e,n){let s=0,r=t.length-1,i,a,o,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=oa(t,"pos",e)),{pos:i,time:o}=t[s],{pos:a,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=oa(t,"time",e)),{time:i,pos:o}=t[s],{time:a,pos:c}=t[r]);const u=a-i;return u?o+(c-o)*(e-i)/u:o}class RS extends fl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Pd(n,this.min),this._tableRange=Pd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let a,o,c,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,o=r.length;a<o;++a)d=r[a+1],c=r[a-1],u=r[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Pd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Pd(this._table,s*this._tableRange+this._minPos,!0)}}N(RS,"id","timeseries"),N(RS,"defaults",fl.defaults);const iO="label";function FS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Kq(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function aO(t,e){t.labels=e}function oO(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iO;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function Gq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iO;const n={labels:[],datasets:[]};return aO(n,t.labels),oO(n,t.datasets,e),n}function Xq(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:o,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...h}=t,m=b.useRef(null),y=b.useRef(null),p=()=>{m.current&&(y.current=new Fu(m.current,{type:a,data:Gq(o,i),options:c&&{...c},plugins:u}),FS(e,y.current))},v=()=>{FS(e,null),y.current&&(y.current.destroy(),y.current=null)};return b.useEffect(()=>{!r&&y.current&&c&&Kq(y.current,c)},[r,c]),b.useEffect(()=>{!r&&y.current&&aO(y.current.config.data,o.labels)},[r,o.labels]),b.useEffect(()=>{!r&&y.current&&o.datasets&&oO(y.current.config.data,o.datasets,i)},[r,o.datasets]),b.useEffect(()=>{y.current&&(r?(v(),setTimeout(p)):y.current.update(f))},[r,c,o.labels,o.datasets,f]),b.useEffect(()=>{y.current&&(v(),setTimeout(p))},[a]),b.useEffect(()=>(p(),()=>v()),[]),ye.createElement("canvas",{ref:m,role:"img",height:n,width:s,...h},d)}const Zq=b.forwardRef(Xq);function Cv(t,e){return Fu.register(e),b.forwardRef((n,s)=>ye.createElement(Zq,{...n,ref:s,type:t}))}const lO=Cv("line",Jd),Jq=Cv("bar",Zd),Np=Cv("doughnut",ic);/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const eQ={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};$A._date.override({_id:"date-fns",formats:function(){return eQ},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=de(t):n==="string"&&(typeof e=="string"?t=FU(t,e,new Date,this.options):t=Kh(t,this.options)),ID(t)?t.getTime():null},format:function(t,e){return je(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return qh(t,e);case"second":return PB(t,e);case"minute":return CB(t,e);case"hour":return NB(t,e);case"day":return Nl(t,e);case"week":return EB(t,e);case"month":return Du(t,e);case"quarter":return TB(t,e);case"year":return MB(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return Qh(t,e);case"second":return $B(t,e);case"minute":return FB(t,e);case"hour":return RB(t,e);case"day":return RD(t,e);case"week":return VB(t,e);case"month":return LD(t,e);case"quarter":return zB(t,e);case"year":return BB(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return VU(t);case"minute":return WB(t);case"hour":return zU(t);case"day":return ll(t);case"week":return Zs(t);case"isoWeek":return Zs(t,{weekStartsOn:+n});case"month":return zD(t);case"quarter":return HB(t);case"year":return $D(t);default:return t}},endOf:function(t,e){switch(e){case"second":return XB(t);case"minute":return KB(t);case"hour":return qB(t);case"day":return FD(t);case"week":return QB(t);case"month":return ev(t);case"quarter":return GB(t);case"year":return YB(t);default:return t}}});Fu.register(dh,fh,Cc,yo,nf,nO,rO,eO,fl);const LS=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}],zS=(t,e)=>{const n=t/e*100;if(n<=0)return"#ef4444";if(n>=100)return"#22c55e";if(n<=50){const s=n/50,r=239,i=Math.round(68+166*s);return`rgb(${r}, ${i}, 68)`}else{const s=(n-50)/50,r=Math.round(234-200*s),i=Math.round(234-37*s),a=Math.round(68+26*s);return`rgb(${r}, ${i}, ${a})`}};function Tv({title:t,data:e,lineColor:n="#3b82f6",backgroundColor:s="rgba(59, 130, 246, 0.1)",yAxisLabel:r="Y Axis",chartType:i="line",goalValue:a=8}){const[o,c]=b.useState("7d"),u=x=>{var g;return((g=LS.find(w=>w.value===x))==null?void 0:g.days)||7},f=(()=>{const x=u(o),g=new Date,w=cl(g,x-1);return e.filter(S=>{const _=new Date(S.date);return _>=ll(w)&&_<=g})})(),m=(()=>{const x=u(o),g=[],w=new Date;for(let S=x-1;S>=0;S--)g.push(je(cl(w,S),"yyyy-MM-dd"));return g})(),y=m.map(x=>{const g=f.find(w=>je(new Date(w.date),"yyyy-MM-dd")===x);return g?g.value:null}),p={labels:m,datasets:[{label:t,data:y,...i==="bar"?{backgroundColor:y.map(x=>x!==null?zS(x,a):"transparent"),borderColor:y.map(x=>x!==null?zS(x,a):"transparent"),borderWidth:1,barThickness:20,maxBarThickness:30}:{borderColor:n,backgroundColor:s,borderWidth:2,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,spanGaps:!1}}]},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:n,borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:r,color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[l.jsx(wt,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:t}),l.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:LS.map(x=>l.jsx(Y,{variant:o===x.value?"default":"ghost",size:"sm",onClick:()=>c(x.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${o===x.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:x.label},x.value))})]})}),l.jsx(le,{className:"pt-0",children:l.jsx("div",{className:"h-64 w-full",children:i==="bar"?l.jsx(Jq,{data:p,options:v}):l.jsx(lO,{data:p,options:v})})})]})}function tQ(){const[,t]=nt(),e=()=>{window.history.length>1?window.history.back():t("/")};return l.jsxs(l.Fragment,{children:[l.jsx(Dt,{title:"Progress",showBackButton:!1,onBack:e,showHomeButton:!0}),l.jsx("div",{className:"app-gradient-bg",children:l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(Tv,{title:"Progress Tracking",data:[{date:"2024-01-01",value:75},{date:"2024-01-02",value:78},{date:"2024-01-03",value:82},{date:"2024-01-04",value:80},{date:"2024-01-05",value:85},{date:"2024-01-06",value:88},{date:"2024-01-07",value:90}],lineColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",yAxisLabel:"Progress Score"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-trophy text-yellow-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Achievements"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-fire text-red-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Streak"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),l.jsx(Or,{})]})})})]})}function nQ(){const[,t]=nt(),{data:e=[],isLoading:n}=Rt({queryKey:["/api/goals"],queryFn:()=>Ee("GET","/api/goals")}),s=()=>{window.history.length>1?window.history.back():t("/")},r=o=>o.targetValueSecondary&&o.targetUnitSecondary?`${o.targetValuePrimary} ${o.targetUnitPrimary} ${o.targetValueSecondary} ${o.targetUnitSecondary}`:`${o.targetValuePrimary} ${o.targetUnitPrimary}`,i=o=>{switch(o){case"sleep":return"fa-bed";case"nutrition":return"fa-utensils";case"daily_move":return"fa-running";default:return"fa-bullseye"}},a=o=>{switch(o){case"sleep":return"text-purple-500";case"nutrition":return"text-green-500";case"daily_move":return"text-blue-500";default:return"text-gray-500"}};return l.jsxs(l.Fragment,{children:[l.jsx(Dt,{title:"Goals",showBackButton:!1,onBack:s,showHomeButton:!0}),l.jsx("div",{className:"app-gradient-bg",children:l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:l.jsx(le,{className:"p-4",children:l.jsxs(Y,{onClick:()=>t("/add-goal"),className:"w-full bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg h-14",children:[l.jsx("i",{className:"fas fa-plus mr-3 text-lg"}),l.jsx("span",{className:"text-lg font-medium",children:"Add New Goal"})]})})}),n?l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:l.jsxs(le,{className:"p-8 text-center",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading goals..."})]})}):e.length>0?l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[l.jsx(wt,{children:l.jsxs(St,{className:"text-xl font-semibold text-gray-800 flex items-center",children:[l.jsx("i",{className:"fas fa-bullseye text-green-500 mr-3"}),"Your Goals (",e.length,")"]})}),l.jsx(le,{className:"space-y-4",children:e.map(o=>l.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center",children:l.jsx("i",{className:`fas ${i(o.goalType)} ${a(o.goalType)} text-xl`})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:o.goalName}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:o.goalType.replace("_"," ")})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-semibold text-gray-900",children:r(o)}),l.jsx("p",{className:"text-sm text-gray-500",children:"Target"})]})]},o.id))})]}):l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:l.jsx(le,{children:l.jsx("div",{className:"text-center py-16",children:l.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 max-w-md mx-auto",children:[l.jsx("i",{className:"fas fa-bullseye text-4xl text-gray-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Goals Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first goal to start tracking your progress and staying motivated."}),l.jsxs(Y,{onClick:()=>t("/add-goal"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Your First Goal"]})]})})})}),l.jsx(Or,{})]})})})]})}const Ed=[{id:"sleep",label:"Sleep",icon:"fa-bed",color:"text-purple-500",description:"Track your daily sleep duration",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"8",secondary:"30"}},{id:"nutrition",label:"Nutrition",icon:"fa-utensils",color:"text-green-500",description:"Track your daily calorie intake",primaryUnit:"calories",secondaryUnit:null,placeholder:{primary:"2000",secondary:null}},{id:"daily_move",label:"Daily Move",icon:"fa-running",color:"text-blue-500",description:"Track your daily movement/exercise time",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"1",secondary:"30"}}],sQ=Er({goalType:we().min(1,"Please select a goal type"),goalName:we().min(1,"Goal name is required"),targetValuePrimary:we().min(1,"Target value is required"),targetValueSecondary:we().optional(),customGoalType:we().optional()});function rQ(){const[,t]=nt(),[e,n]=b.useState(""),[s,r]=b.useState(!1),i=wn(),{toast:a}=Nt(),o=wl({resolver:Sl(sQ),defaultValues:{goalType:"",goalName:"",targetValuePrimary:"",targetValueSecondary:"",customGoalType:""}}),c=It({mutationFn:async m=>Ee("POST","/api/goals",m),onSuccess:()=>{a({title:"Success",description:"Goal created successfully!"}),i.invalidateQueries({queryKey:["/api/goals"]}),t("/goals")},onError:()=>{a({title:"Error",description:"Failed to create goal. Please try again.",variant:"destructive"})}}),u=()=>{window.history.length>1?window.history.back():t("/goals")},d=m=>{if(m==="custom")r(!0),n("custom"),o.setValue("goalType","custom"),o.setValue("goalName","");else{r(!1),n(m),o.setValue("goalType",m);const y=Ed.find(p=>p.id===m);y&&(o.setValue("goalName",y.label+" Goal"),o.setValue("targetValuePrimary",y.placeholder.primary),o.setValue("targetValueSecondary",y.placeholder.secondary||""))}},f=m=>{const y=Ed.find(x=>x.id===m.goalType),v={goalType:s?m.customGoalType||"custom":m.goalType,goalName:m.goalName,targetValuePrimary:parseFloat(m.targetValuePrimary),targetUnitPrimary:(y==null?void 0:y.primaryUnit)||"units",targetValueSecondary:m.targetValueSecondary?parseFloat(m.targetValueSecondary):null,targetUnitSecondary:(y==null?void 0:y.secondaryUnit)||null};c.mutate(v)},h=Ed.find(m=>m.id===e);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[l.jsx(Dt,{title:"Add Goal",showBackButton:!0,onBack:u}),l.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:l.jsxs("div",{className:"space-y-6",children:[!e&&l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[l.jsx(wt,{children:l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"Choose Goal Type"})}),l.jsxs(le,{className:"space-y-4",children:[l.jsx("div",{className:"space-y-3",children:Ed.map(m=>l.jsx("div",{children:l.jsx(Y,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d(m.id),children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("i",{className:`fas ${m.icon} ${m.color} text-xl`}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:m.label}),l.jsx("div",{className:"text-sm text-gray-500",children:m.description})]})]})})},m.id))}),l.jsx("div",{className:"border-t pt-4 mt-4",children:l.jsx(Y,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d("custom"),children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("i",{className:"fas fa-plus text-gray-500 text-xl"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Custom Goal"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Create your own goal type"})]})]})})})]})]}),e&&l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[l.jsx(wt,{children:l.jsxs(St,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[h&&l.jsx("i",{className:`fas ${h.icon} ${h.color} mr-3`}),s?"Custom Goal":h==null?void 0:h.label,l.jsx(Y,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>{n(""),r(!1),o.reset()},children:l.jsx("i",{className:"fas fa-arrow-left"})})]})}),l.jsx(le,{children:l.jsx(JD,{...o,children:l.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-6",children:[s&&l.jsx(ia,{control:o.control,name:"customGoalType",render:({field:m})=>l.jsxs(oi,{children:[l.jsx(li,{children:"Goal Category"}),l.jsx(ci,{children:l.jsx(Ce,{placeholder:"e.g., water_intake, steps, meditation",...m})}),l.jsx(ui,{})]})}),l.jsx(ia,{control:o.control,name:"goalName",render:({field:m})=>l.jsxs(oi,{children:[l.jsx(li,{children:"Goal Name"}),l.jsx(ci,{children:l.jsx(Ce,{placeholder:"Enter a name for this goal",...m})}),l.jsx(ui,{})]})}),l.jsx(ia,{control:o.control,name:"targetValuePrimary",render:({field:m})=>l.jsxs(oi,{children:[l.jsxs(li,{children:["Target ",(h==null?void 0:h.primaryUnit)||"Value",(h==null?void 0:h.primaryUnit)&&l.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.primaryUnit,")"]})]}),l.jsx(ci,{children:l.jsx(Ce,{type:"number",step:"0.1",placeholder:(h==null?void 0:h.placeholder.primary)||"0",...m})}),l.jsx(ui,{})]})}),(h==null?void 0:h.secondaryUnit)&&l.jsx(ia,{control:o.control,name:"targetValueSecondary",render:({field:m})=>l.jsxs(oi,{children:[l.jsxs(li,{children:["Additional ",h.secondaryUnit,l.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.secondaryUnit,") - optional"]})]}),l.jsx(ci,{children:l.jsx(Ce,{type:"number",step:"1",min:"0",max:"59",placeholder:(h==null?void 0:h.placeholder.secondary)||"0",...m})}),l.jsx(ui,{})]})}),l.jsx(Y,{type:"submit",className:"w-full",disabled:c.isPending,children:c.isPending?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating Goal..."]}):l.jsxs(l.Fragment,{children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Create Goal"]})})]})})})]})]})})]})}function iQ(){const[,t]=nt(),e=()=>{window.history.length>1?window.history.back():t("/")};return l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Workouts",showBackButton:!1,showHomeButton:!0,onBack:e}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(Tv,{title:"Workout Intensity",data:[{date:"2024-01-01",value:6},{date:"2024-01-02",value:8},{date:"2024-01-03",value:7},{date:"2024-01-04",value:9},{date:"2024-01-05",value:6},{date:"2024-01-06",value:8},{date:"2024-01-07",value:7}],lineColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",yAxisLabel:"Intensity (1-10)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-fist-raised text-red-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Strength"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-heartbeat text-red-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Cardio"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-leaf text-green-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Flexibility"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-stopwatch text-blue-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"HIIT"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),l.jsx(Or,{})]})})]})}Fu.register(dh,fh,Cc,yo,nO,rO,eO,fl,oc);const $S=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}];function aQ(){const[t,e]=b.useState("7d"),{data:n=[],error:s,isLoading:r}=Rt({queryKey:["/api/macros"]}),{data:i,error:a,isLoading:o}=Rt({queryKey:["/api/macro-targets"]});console.log("NutritionChart Debug:",{allMacros:n,macroTargets:i,macrosError:s,targetsError:a,macrosLoading:r,targetsLoading:o}),n.length>0&&console.log("Sample macro dates:",n.slice(0,3).map(E=>({id:E.id,date:E.date,dateType:typeof E.date})));const c=E=>{var A;return((A=$S.find(z=>z.value===E))==null?void 0:A.days)||7},d=(()=>{const E=c(t),A=new Date,z=cl(A,E-1),R={};return n.filter(L=>{try{if(!L.date)return console.warn("Macro entry missing date:",L),!1;const I=new Date(L.date);return isNaN(I.getTime())?(console.warn("Invalid date in macro entry:",L.date,L),!1):I>=z&&I<=A}catch(I){return console.error("Error processing macro date:",L.date,I),!1}}).forEach(L=>{try{const I=new Date(L.date),O=je(I,"yyyy-MM-dd");R[O]||(R[O]=[]),R[O].push(L)}catch(I){console.error("Error formatting macro date:",L.date,I)}}),R})();let f=[];try{f=l8(d,c(t))}catch(E){console.error("Error generating calorie data:",E),f=[]}const h=je(new Date,"yyyy-MM-dd"),m=d[h]||[],y=s2(m),p={proteinTarget:150,fatsTarget:80,carbsTarget:200},v=i&&typeof i.proteinTarget=="number"&&typeof i.fatsTarget=="number"&&typeof i.carbsTarget=="number"&&i.proteinTarget>0&&i.fatsTarget>0&&i.carbsTarget>0,x=v?i:p;console.log("Macro targets debug:",{macroTargets:i,hasValidTargets:v,effectiveTargets:x});let g={protein:0,fats:0,carbs:0};try{const E=c8(y,x);g={protein:isFinite(E.protein)?Math.max(0,E.protein):0,fats:isFinite(E.fats)?Math.max(0,E.fats):0,carbs:isFinite(E.carbs)?Math.max(0,E.carbs):0},console.log("Macro percentages debug:",{todaySummary:y,effectiveTargets:x,rawPercentages:E,macroPercentages:g})}catch(E){console.error("Error calculating macro percentages:",E)}const w={datasets:[{label:"Daily Calories",data:f.map(E=>({x:E.date,y:isFinite(E.value)?E.value:null})),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:1,fill:!1,tension:.4,pointRadius:3,pointHoverRadius:5,spanGaps:!1}]},S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"#10b981",borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},min:je(cl(new Date,c(t)-1),"yyyy-MM-dd"),max:je(new Date,"yyyy-MM-dd"),grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280",display:!0,font:{size:11}},border:{display:!0,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:"Calories",color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},_=(E,A,z)=>({data:{datasets:[{data:[E,Math.max(0,100-E)],backgroundColor:[A,"#f3f4f6"],borderWidth:0,cutout:"70%"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}),j=_(g.protein,"#ef4444"),k=_(g.fats,"#eab308"),T=_(g.carbs,"#22c55e");return r||o?l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:l.jsx(le,{className:"pt-6",children:l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-600",children:"Loading nutrition data..."})})})}):s||a?l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:l.jsx(le,{className:"pt-6",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-red-600",children:"Error loading nutrition data"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(s==null?void 0:s.message)||(a==null?void 0:a.message)}),l.jsxs("details",{className:"mt-4 text-left",children:[l.jsx("summary",{className:"text-xs text-gray-400 cursor-pointer",children:"Debug Info"}),l.jsx("pre",{className:"text-xs text-gray-400 mt-2 overflow-auto max-h-32",children:JSON.stringify({macrosError:s==null?void 0:s.message,targetsError:a==null?void 0:a.message,macrosCount:(n==null?void 0:n.length)||0,sampleMacro:(n==null?void 0:n[0])||null},null,2)})]})]})})}):l.jsxs(l.Fragment,{children:[l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[l.jsx(wt,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"Daily Calories"}),l.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:$S.map(E=>l.jsx(Y,{variant:t===E.value?"default":"ghost",size:"sm",onClick:()=>e(E.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${t===E.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:E.label},E.value))})]})}),l.jsxs(le,{className:"pt-0 space-y-6",children:[l.jsx("div",{className:"h-64 w-full",children:l.jsx(lO,{data:w,options:S})}),l.jsxs("div",{className:"text-center pt-4 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Today's Total"}),l.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[Math.round(y.totalCalories)||0," calories"]}),!v&&l.jsx("p",{className:"text-xs text-amber-600 mt-2",children:"Using default macro targets. Set your personal targets in settings for better tracking."})]})]})]}),l.jsxs("div",{className:"flex justify-center gap-8 px-4 mt-6",children:[l.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[l.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[l.jsx(Np,{data:j.data,options:j.options}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.protein)||0,"%"]})})]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Protein"}),l.jsxs("p",{className:"text-xs text-red-500 font-medium",children:[Math.round(y.protein)||0,"g / ",x.proteinTarget,"g"]})]}),l.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[l.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[l.jsx(Np,{data:k.data,options:k.options}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.fats)||0,"%"]})})]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Fats"}),l.jsxs("p",{className:"text-xs text-yellow-500 font-medium",children:[Math.round(y.fats)||0,"g / ",x.fatsTarget,"g"]})]}),l.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[l.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[l.jsx(Np,{data:T.data,options:T.options}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.carbs)||0,"%"]})})]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Carbs"}),l.jsxs("p",{className:"text-xs text-green-500 font-medium",children:[Math.round(y.carbs)||0,"g / ",x.carbsTarget,"g"]})]})]})]})}function oQ(){const[,t]=nt(),e=()=>{window.history.length>1?window.history.back():t("/")};return l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Nutrition",showBackButton:!1,showHomeButton:!0,onBack:e}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(aQ,{}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-fire text-orange-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Calories"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-drumstick-bite text-red-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Protein"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-bread-slice text-yellow-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Carbs"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-tint text-blue-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Hydration"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),l.jsx(Or,{})]})})]})}function lQ(){const[,t]=nt(),{data:e=[],isLoading:n,error:s}=Rt({queryKey:["/api/activities/sleep/chart"],queryFn:()=>Ee("GET","/api/activities/sleep/chart")}),r=ye.useMemo(()=>{var f;if(!e.length)return{avgSleep:0,lastNight:0,weekTotal:0,daysWithData:0};const a=e.map(h=>h.value),o=a.length>0?a.reduce((h,m)=>h+m,0)/a.length:0,c=((f=e[e.length-1])==null?void 0:f.value)||0,u=a.reduce((h,m)=>h+m,0),d=a.length;return{avgSleep:o,lastNight:c,weekTotal:u,daysWithData:d}},[e]),i=()=>{window.history.length>1?window.history.back():t("/")};return l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Sleep",showBackButton:!1,showHomeButton:!0,onBack:i}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(Tv,{title:"Sleep Hours",data:n?[]:e,chartType:"bar",goalValue:8,yAxisLabel:"Hours"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-clock text-blue-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Last Night"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":r.lastNight>0?`${r.lastNight.toFixed(1)}h`:"--"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-chart-line text-green-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Weekly Avg"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":r.avgSleep>0?`${r.avgSleep.toFixed(1)}h`:"--"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-calendar-week text-purple-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Week Total"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":r.weekTotal>0?`${r.weekTotal.toFixed(1)}h`:"--"})]})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:l.jsxs(le,{className:"p-4 text-center",children:[l.jsx("i",{className:"fas fa-target text-orange-500 text-2xl mb-2"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Sleep Goal"}),l.jsx("p",{className:"text-xl font-bold text-gray-800",children:"8.0h"})]})})]}),l.jsx(Or,{})]})})]})}function cQ(){const[t,e]=b.useState(""),[n,s]=b.useState(!1),{toast:r}=Nt(),[,i]=nt(),a=async()=>{if(!t){r({title:"Missing Email",description:"Please enter your email address.",variant:"destructive"});return}s(!0);try{await Ee("POST","/api/auth/request-password-reset",{email:t}),r({title:"Reset Link Sent",description:"If your email is registered, a reset link was sent."}),setTimeout(()=>i("/"),2e3)}catch(o){r({title:"Reset Failed",description:(o==null?void 0:o.message)||"Something went wrong.",variant:"destructive"})}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:l.jsx(oe,{className:"w-full max-w-md card-shadow",children:l.jsxs(le,{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"fas fa-envelope-open-text text-2xl text-white"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Forgot Password?"}),l.jsx("p",{className:"text-gray-600",children:"We’ll email you a link to reset it."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"forgot-email",children:"Email Address"}),l.jsx(Ce,{id:"forgot-email",type:"email",value:t,onChange:o=>e(o.target.value),placeholder:"your@email.com",autoComplete:"email",className:"mt-2"})]}),l.jsx(Y,{onClick:a,disabled:n,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:n?"Sending...":"Send Reset Link"}),l.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remembered your password?"," ",l.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go back to login"})]})]})]})})})}function uQ(){const{toast:t}=Nt(),[,e]=nt(),[n,s]=b.useState(""),[r,i]=b.useState(""),[a,o]=b.useState(!1),c=async()=>{if(!n||!r){t({title:"Missing Fields",description:"Please fill in both fields.",variant:"destructive"});return}o(!0);try{await Ee("POST","/api/auth/change-password",{currentPassword:n,newPassword:r}),t({title:"Password Updated",description:"Your password was successfully changed."}),e("/profile")}catch{t({title:"Update Failed",description:"Current password may be incorrect.",variant:"destructive"})}finally{o(!1)}};return l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Change Password",showBackButton:!0,onBack:()=>e("/profile")}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[l.jsx(wt,{children:l.jsx(St,{className:"text-lg font-semibold text-gray-800",children:"Update Your Password"})}),l.jsxs(le,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),l.jsx(Ce,{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"Enter your current password"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),l.jsx(Ce,{type:"password",value:r,onChange:u=>i(u.target.value),placeholder:"Enter your new password"})]}),l.jsx(Y,{onClick:c,disabled:a,className:"w-full shadow-md hover:shadow-lg transition-shadow",children:a?"Updating...":"Change Password"})]})]})})]})}function dQ(){const[t,e]=b.useState(""),[n,s]=b.useState(""),[r,i]=b.useState(!1),[a,o]=b.useState(""),{toast:c}=Nt(),[,u]=nt();b.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("token");if(!h){c({title:"Invalid Link",description:"This password reset link is invalid or missing the token.",variant:"destructive"}),setTimeout(()=>u("/forgot-password"),3e3);return}o(h)},[c,u]);const d=async()=>{if(!t||!n){c({title:"Missing Fields",description:"Please fill in both password fields.",variant:"destructive"});return}if(t!==n){c({title:"Passwords Don't Match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<6){c({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i(!0);try{await Ee("POST","/api/auth/reset-password",{token:a,newPassword:t}),c({title:"Password Reset Successful",description:"Your password has been updated. You can now log in with your new password."}),setTimeout(()=>u("/"),2e3)}catch(f){c({title:"Reset Failed",description:(f==null?void 0:f.message)||"Failed to reset password. The link may have expired.",variant:"destructive"})}finally{i(!1)}};return a?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:l.jsx(oe,{className:"w-full max-w-md card-shadow",children:l.jsxs(le,{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"fas fa-key text-2xl text-white"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Reset Your Password"}),l.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx($e,{htmlFor:"new-password",children:"New Password"}),l.jsx(Ce,{id:"new-password",type:"password",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your new password",className:"mt-2",minLength:6})]}),l.jsxs("div",{children:[l.jsx($e,{htmlFor:"confirm-password",children:"Confirm Password"}),l.jsx(Ce,{id:"confirm-password",type:"password",value:n,onChange:f=>s(f.target.value),placeholder:"Confirm your new password",className:"mt-2",minLength:6})]}),l.jsx(Y,{onClick:d,disabled:r,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:r?"Resetting...":"Reset Password"}),l.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remember your password?"," ",l.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go to login"})]})]})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:l.jsx(oe,{className:"w-full max-w-md card-shadow",children:l.jsx(le,{className:"p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-red-500 rounded-full flex items-center justify-center",children:l.jsx("i",{className:"fas fa-exclamation-triangle text-2xl text-white"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Invalid Link"}),l.jsx("p",{className:"text-gray-600",children:"This password reset link is invalid or has expired."})]})})})})}function fQ(){const[,t]=nt(),[e,n]=b.useState(""),[s,r]=b.useState(!1),[i,a]=b.useState(""),{toast:o}=Nt(),c=wn();b.useEffect(()=>{uA()},[]);const f=new URLSearchParams(window.location.search).get("date")||QW();KW();const h=`journal_entry_${f}`,{data:m,isLoading:y,error:p}=Rt({queryKey:["/api/journal-entries/date",f],queryFn:async()=>{try{const S=ww(f);return await Ee("GET",`/api/journal-entries/date/${S.toISOString()}`)}catch(S){if(S.status===404||S.status===500)return null;throw S}},staleTime:5*60*1e3,cacheTime:30*60*1e3,retry:(S,_)=>(_==null?void 0:_.status)===404?!1:S<2});b.useEffect(()=>{const S=localStorage.getItem(h);if(S&&!m&&!y)try{const _=JSON.parse(S);n(_.content||""),a(_.content||""),console.log("📱 Loaded journal entry from cache")}catch(_){console.error("Error parsing cached journal entry:",_),localStorage.removeItem(h)}},[h,m,y]),b.useEffect(()=>{m&&(n(m.content||""),a(m.content||""),localStorage.setItem(h,JSON.stringify(m)),console.log("📱 Updated cache with server data"))},[m,h]),b.useEffect(()=>{if(r(e.trim()!==i.trim()),e!==i){const S={content:e,date:f,lastModified:new Date().toISOString(),isDraft:!0};localStorage.setItem(h,JSON.stringify(S)),console.log("📱 Updated cache with draft content")}},[e,i,h,f]);const v=It({mutationFn:async S=>{const _=ww(f);return await Ee("POST","/api/journal-entries",{content:S,date:_.toISOString(),timezone:Ha()})},onSuccess:S=>{a(e),r(!1),localStorage.setItem(h,JSON.stringify(S));const _=localStorage.getItem("journal_previews_cache");if(_)try{const j=JSON.parse(_),k=e.split(" ").slice(0,20).join(" ")+(e.split(" ").length>20?"...":"");j[f]={preview:k,updated_at:S.updated_at},localStorage.setItem("journal_previews_cache",JSON.stringify(j)),console.log("📱 Updated journal history cache")}catch(j){console.error("Error updating journal history cache:",j)}c.invalidateQueries({queryKey:["/api/journal-entries/date",f]}),c.invalidateQueries({queryKey:["/api/journal-entries"]}),o({title:"Success",description:"Journal entry saved successfully!"}),console.log("✅ Journal entry saved to database")},onError:S=>{console.error("❌ Error saving journal entry:",S),o({title:"Error",description:(S==null?void 0:S.message)||"Failed to save journal entry. Please try again.",variant:"destructive"})}}),x=()=>{window.history.length>1?window.history.back():t("/")},g=()=>{if(!e.trim()){o({title:"Error",description:"Please enter some content before saving.",variant:"destructive"});return}v.mutate(e)},w=S=>{n(S.target.value)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[l.jsx(Dt,{title:"Journal",showBackButton:!1,showHomeButton:!0,onBack:x}),l.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[l.jsx(wt,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(St,{className:"text-lg font-semibold text-gray-800",children:["Entry - ",aa(f+"T00:00:00","EEEE, MMMM d, yyyy")]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[s&&l.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Unsaved changes"}),y&&l.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Loading..."})]})]})}),l.jsx(le,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:e,onChange:w,disabled:y||v.isPending,style:{border:"2px solid black",width:"100%",height:"50vh",resize:"vertical",backgroundColor:"transparent",padding:"12px",borderRadius:"8px"},placeholder:y?"Loading your journal entry...":"What's on your mind today?",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 font-normal text-gray-800"}),l.jsx(Y,{onClick:g,disabled:!e.trim()||!s||v.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:v.isPending?"SAVING...":"SAVE"}),l.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[m&&l.jsxs("div",{children:["Last updated: ",aa(m.updated_at,"PPP p")]}),p&&l.jsx("div",{className:"text-red-500",children:"Error loading entry (using cached version)"}),l.jsx("div",{className:"text-gray-400",children:"Changes are automatically saved locally as you type"})]}),!1]})})]}),l.jsx(Or,{})]})})]})}function hQ(){const[,t]=nt(),[e,n]=b.useState("newest"),{user:s}=Sn(),[r,i]=b.useState(!1),[a,o]=b.useState(null),[c,u]=b.useState(0),[d,f]=b.useState([]),[h,m]=b.useState(!1);b.useEffect(()=>{uA()},[]);const y="journal_previews_cache",{data:p=[],isLoading:v}=Rt({queryKey:["/api/journal-entries"],queryFn:async()=>await Ee("GET","/api/journal-entries"),staleTime:1*60*1e3,cacheTime:30*60*1e3,refetchOnWindowFocus:!0}),{data:x=[]}=Rt({queryKey:["/api/photos/dates"],queryFn:async()=>await Ee("GET","/api/photos/dates"),enabled:!!s,staleTime:5*60*1e3,cacheTime:30*60*1e3});b.useEffect(()=>{if(p.length>0){const L=p.reduce((I,O)=>{const V=O.date.split("T")[0];return I[V]={preview:O.preview,updated_at:O.updated_at},I},{});localStorage.setItem(y,JSON.stringify(L)),console.log("📱 Cached journal previews for",Object.keys(L).length,"entries")}},[p,y]),b.useEffect(()=>{const L=localStorage.getItem(y);if(L&&p.length===0)try{const I=JSON.parse(L);console.log("📱 Loaded cached previews for",Object.keys(I).length,"entries")}catch(I){console.error("Error loading cached previews:",I),localStorage.removeItem(y)}},[y,p.length]);const g=()=>{window.history.length>1?window.history.back():t("/")},w=L=>{const I=L.split("T")[0];t(`/journal-entry?date=${I}`)},S=p.reduce((L,I)=>{const O=I.date.split("T")[0];return L[O]=I,L},{}),_=Object.keys(S).sort((L,I)=>e==="newest"?new Date(I).getTime()-new Date(L).getTime():new Date(L).getTime()-new Date(I).getTime()),j=L=>{try{return aa(L+"T00:00:00","EEEE, MMMM d, yyyy")}catch{return L}},k=L=>L.trim().split(/\s+/).filter(I=>I.length>0).length,T=L=>L.length,E=async L=>{try{return await Ee("GET",`/api/photos/date/${L}`)}catch(I){return console.error("Error fetching photos for date:",I),[]}},A=async L=>{const I=await E(L);I.length>0&&(f(I),o(I[0]),u(0),m(!1),i(!0))},z=L=>{if(d.length===0)return;let I;L==="prev"?I=c>0?c-1:d.length-1:I=c<d.length-1?c+1:0,u(I),o(d[I]),m(!1)},R=L=>{if(L.imageUrl)return L.imageUrl;const I=localStorage.getItem("authToken");return I?`/api/photos/${L.filename}?token=${I}`:"/placeholder-image.jpg"};return v?l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:g}),l.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}):l.jsxs("div",{className:"app-gradient-bg",children:[l.jsx(Dt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:g}),l.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[l.jsx("div",{className:"flex justify-end items-center mb-6",children:l.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:[l.jsxs(Y,{variant:e==="newest"?"default":"ghost",size:"sm",onClick:()=>n("newest"),className:"rounded-r-none",children:[l.jsx("i",{className:"fas fa-arrow-down mr-2"}),"Newest"]}),l.jsxs(Y,{variant:e==="oldest"?"default":"ghost",size:"sm",onClick:()=>n("oldest"),className:"rounded-l-none border-l",children:[l.jsx("i",{className:"fas fa-arrow-up mr-2"}),"Oldest"]})]})}),_.length>0?l.jsx("div",{className:"space-y-6",children:_.map(L=>{const I=S[L],O=k(I.content),V=T(I.content);let B=!1;for(const C of x){const F=C.date.split("T")[0];if(console.log("📅 Date comparison:",{journalDateStr:L,photoDateRaw:C.date,photoDateFormatted:F,match:L===F}),L===F){B=!0;break}}return console.log("🕐 Debug timezone for entry:",{dateStr:L,updated_at:I.updated_at,formatted_time:aa(I.updated_at,"h:mm a"),user_timezone:Ha(),raw_date:new Date(I.updated_at).toString()}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex justify-end items-center",children:l.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:j(L)}),l.jsxs("p",{className:"text-sm text-gray-600",children:[O," words • ",V," characters"]})]})}),l.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-6 shadow-xl cursor-pointer hover:bg-white/85 transition-all duration-200 hover:scale-[1.02] hover:shadow-2xl relative",onClick:()=>w(I.date),children:[B&&l.jsx("button",{className:"absolute top-4 right-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg transition-colors duration-200",onClick:C=>{C.stopPropagation(),A(L)},children:l.jsx("i",{className:"fas fa-images text-xs"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-gray-800 leading-relaxed",children:l.jsx("p",{className:"text-base",children:I.preview})}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-clock mr-1"}),aa(I.updated_at,"h:mm a")]}),l.jsxs("span",{children:[l.jsx("i",{className:"fas fa-edit mr-1"}),"Last edited ",aa(I.updated_at,"MMM d")]})]}),l.jsxs("div",{className:"flex items-center text-blue-600",children:[l.jsx("span",{className:"mr-2",children:"Read more"}),l.jsx("i",{className:"fas fa-chevron-right"})]})]})]})]})]},L)})}):l.jsx("div",{className:"text-center py-16",children:l.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[l.jsx("i",{className:"fas fa-book-open text-4xl text-gray-400 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Journal Entries Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Start documenting your thoughts and experiences. Your first journal entry is just a click away."}),l.jsxs(Y,{onClick:()=>t("/journal-entry"),className:"bg-blue-600 hover:bg-blue-700 text-white mr-3",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Start Writing"]}),l.jsxs(Y,{onClick:()=>t("/home"),variant:"outline",className:"bg-white/50 hover:bg-white/75",children:[l.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),l.jsx(Or,{})]}),l.jsx(Mr,{open:r,onOpenChange:i,children:l.jsxs(er,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[l.jsx(Dr,{className:"p-4 pb-2 flex-shrink-0 border-b",children:l.jsx(Ar,{className:"text-center text-lg font-semibold",children:a&&l.jsxs(l.Fragment,{children:["Photo ",c+1," of ",d.length,l.jsx("span",{className:"block text-sm text-gray-600 font-normal",children:j(a.date.split("T")[0])})]})})}),a&&l.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[d.length>1&&l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>z("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:l.jsx("i",{className:"fas fa-chevron-left"})}),l.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!h&&l.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),l.jsx("img",{src:R(a),alt:a.originalName,className:`max-w-full max-h-full object-contain ${h?"":"hidden"}`,onLoad:()=>m(!0),onError:()=>m(!0)})]}),d.length>1&&l.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>z("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:l.jsx("i",{className:"fas fa-chevron-right"})})]})]})})]})}function mQ(){const[,t]=nt(),{user:e}=Sn(),[n,s]=b.useState(null);return b.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("session_id");s(i),i&&console.log("Checkout session completed:",i)},[]),l.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 mt-12 mb-6",children:[l.jsx("div",{className:"w-10"})," ",l.jsx("h1",{className:"text-xl font-bold text-white",children:"Success!"}),l.jsx("div",{onClick:()=>t("/profile"),className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:l.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),l.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[l.jsx(oe,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-xl mb-6",children:l.jsx(le,{className:"p-8 text-center",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:l.jsx("i",{className:"fas fa-check text-green-600 text-3xl"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome to Premium!"}),l.jsx("p",{className:"text-gray-600",children:"Your subscription has been activated successfully. You now have access to all premium features."})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"✨ Features Now Available:"}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check text-green-500 mr-2 text-xs"}),"Ad-free experience"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check text-green-500 mr-2 text-xs"}),"Advanced analytics"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check text-green-500 mr-2 text-xs"}),"Custom goals"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check text-green-500 mr-2 text-xs"}),"Data export"]}),l.jsxs("li",{className:"flex items-center",children:[l.jsx("i",{className:"fas fa-check text-green-500 mr-2 text-xs"}),"Priority support"]})]})]}),(e==null?void 0:e.membership)&&l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Your current plan:"}),l.jsx("div",{className:"text-lg font-bold text-purple-600",children:e.membership==="Ad-free"?"🚫 Ad-free":"⭐ Premium"})]}),l.jsxs("div",{className:"space-y-3 pt-4",children:[l.jsxs(Y,{onClick:()=>t("/home"),className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white py-3",children:[l.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]}),l.jsxs(Y,{onClick:()=>t("/profile"),variant:"outline",className:"w-full",children:[l.jsx("i",{className:"fas fa-user mr-2"}),"View Profile"]})]}),n&&l.jsxs("div",{className:"text-xs text-gray-500 pt-4 border-t border-gray-200",children:[l.jsxs("p",{children:[l.jsx("i",{className:"fas fa-receipt mr-1"}),"A receipt has been sent to your email address."]}),l.jsxs("p",{className:"mt-1",children:["Session ID: ",n.slice(0,20),"..."]})]})]})})}),l.jsx(oe,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:l.jsx(le,{className:"p-4 text-center",children:l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("i",{className:"fas fa-question-circle mr-2 text-blue-500"}),"Need help? Contact our support team for priority assistance."]})})})]})]})}function pQ(){return window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: window-controls-overlay)").matches||window.navigator.standalone===!0}function gQ(){const{user:t,isAuthenticated:e,isLoading:n}=Sn();return n?l.jsx("div",{className:"app-gradient-bg flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):l.jsxs(l.Fragment,{children:[l.jsx(Sz,{}),l.jsxs(gF,{children:[l.jsx(et,{path:"/forgot-password",component:cQ}),l.jsx(et,{path:"/reset-password",component:dQ}),l.jsx(et,{path:"/blog-post",component:wB}),e?l.jsx(l.Fragment,{children:t!=null&&t.onboardingCompleted?l.jsxs(l.Fragment,{children:[l.jsx(et,{path:"/",component:cw}),l.jsx(et,{path:"/home",component:cw}),l.jsx(et,{path:"/landing",component:nw}),l.jsx(et,{path:"/profile",component:xH}),l.jsx(et,{path:"/edit-profile",component:bH}),l.jsx(et,{path:"/feedback",component:wH}),l.jsx(et,{path:"/photos",component:OH}),l.jsx(et,{path:"/progress",component:tQ}),l.jsx(et,{path:"/goals",component:nQ}),l.jsx(et,{path:"/add-goal",component:rQ}),l.jsx(et,{path:"/workouts",component:iQ}),l.jsx(et,{path:"/nutrition",component:oQ}),l.jsx(et,{path:"/sleep",component:lQ}),l.jsx(et,{path:"/add-activity",component:_H}),l.jsx(et,{path:"/select-activity",component:TH}),l.jsx(et,{path:"/add-macros",component:PH}),l.jsx(et,{path:"/add-metric",component:DH}),l.jsx(et,{path:"/change-password",component:uQ}),l.jsx(et,{path:"/journal-entry",component:fQ}),l.jsx(et,{path:"/journal-history",component:hQ}),l.jsx(et,{path:"/subscription/success",component:mQ})," "," "]}):l.jsx(et,{path:"/",component:vW})}):l.jsxs(l.Fragment,{children:[l.jsx(et,{path:"/",component:pQ()?Wb:nw}),l.jsx(et,{path:"/:path*",component:Wb})]}),l.jsx(et,{component:Tz})]})]})}function yQ(){return l.jsx(FF,{client:Gi,children:l.jsxs(bz,{children:[l.jsx(I4,{}),l.jsx(kz,{}),l.jsx(gQ,{})]})})}YC(document.getElementById("root")).render(l.jsx(yQ,{}));
