var KO=Object.defineProperty;var kv=t=>{throw TypeError(t)};var GO=(t,e,n)=>e in t?KO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>GO(t,typeof e!="symbol"?e+"":e,n),tm=(t,e,n)=>e.has(t)||kv("Cannot "+n);var E=(t,e,n)=>(tm(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?kv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(tm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ke=(t,e,n)=>(tm(t,e,"access private method"),n);var Ru=(t,e,n,r)=>({set _(s){re(t,e,s,n)},get _(){return E(t,e,r)}});function XO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _k={exports:{}},ch={},Sk={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.element"),ZO=Symbol.for("react.portal"),JO=Symbol.for("react.fragment"),eA=Symbol.for("react.strict_mode"),tA=Symbol.for("react.profiler"),nA=Symbol.for("react.provider"),rA=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),oA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),Cv=Symbol.iterator;function lA(t){return t===null||typeof t!="object"?null:(t=Cv&&t[Cv]||t["@@iterator"],typeof t=="function"?t:null)}var Nk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kk=Object.assign,Ck={};function hl(t,e,n){this.props=t,this.context=e,this.refs=Ck,this.updater=n||Nk}hl.prototype.isReactComponent={};hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tk(){}Tk.prototype=hl.prototype;function ly(t,e,n){this.props=t,this.context=e,this.refs=Ck,this.updater=n||Nk}var cy=ly.prototype=new Tk;cy.constructor=ly;kk(cy,hl.prototype);cy.isPureReactComponent=!0;var Tv=Array.isArray,jk=Object.prototype.hasOwnProperty,uy={current:null},Pk={key:!0,ref:!0,__self:!0,__source:!0};function Ek(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)jk.call(e,r)&&!Pk.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:yu,type:t,key:i,ref:o,props:s,_owner:uy.current}}function cA(t,e){return{$$typeof:yu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dy(t){return typeof t=="object"&&t!==null&&t.$$typeof===yu}function uA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jv=/\/+/g;function nm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uA(""+t.key):e.toString(36)}function Td(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yu:case ZO:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+nm(o,0):r,Tv(s)?(n="",t!=null&&(n=t.replace(jv,"$&/")+"/"),Td(s,e,n,"",function(u){return u})):s!=null&&(dy(s)&&(s=cA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Tv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+nm(i,a);o+=Td(i,e,n,l,s)}else if(l=lA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+nm(i,a++),o+=Td(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fu(t,e,n){if(t==null)return t;var r=[],s=0;return Td(t,r,"","",function(i){return e.call(n,i,s++)}),r}function dA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},jd={transition:null},fA={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:jd,ReactCurrentOwner:uy};function Mk(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Fu,forEach:function(t,e,n){Fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fu(t,function(){e++}),e},toArray:function(t){return Fu(t,function(e){return e})||[]},only:function(t){if(!dy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=hl;De.Fragment=JO;De.Profiler=tA;De.PureComponent=ly;De.StrictMode=eA;De.Suspense=iA;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA;De.act=Mk;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kk({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=uy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jk.call(e,l)&&!Pk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yu,type:t.type,key:s,ref:i,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:rA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nA,_context:t},t.Consumer=t};De.createElement=Ek;De.createFactory=function(t){var e=Ek.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:sA,render:t}};De.isValidElement=dy;De.lazy=function(t){return{$$typeof:aA,_payload:{_status:-1,_result:t},_init:dA}};De.memo=function(t,e){return{$$typeof:oA,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=jd.transition;jd.transition={};try{t()}finally{jd.transition=e}};De.unstable_act=Mk;De.useCallback=function(t,e){return vn.current.useCallback(t,e)};De.useContext=function(t){return vn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};De.useEffect=function(t,e){return vn.current.useEffect(t,e)};De.useId=function(){return vn.current.useId()};De.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return vn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};De.useRef=function(t){return vn.current.useRef(t)};De.useState=function(t){return vn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return vn.current.useTransition()};De.version="18.3.1";Sk.exports=De;var b=Sk.exports;const ye=wk(b),fy=XO({__proto__:null,default:ye},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA=b,mA=Symbol.for("react.element"),pA=Symbol.for("react.fragment"),gA=Object.prototype.hasOwnProperty,yA=hA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xA={key:!0,ref:!0,__self:!0,__source:!0};function Dk(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gA.call(e,r)&&!xA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mA,type:t,key:i,ref:o,props:s,_owner:yA.current}}ch.Fragment=pA;ch.jsx=Dk;ch.jsxs=Dk;_k.exports=ch;var c=_k.exports,Ok={exports:{}},Un={},Ak={exports:{}},Ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,R){var D=j.length;j.push(R);e:for(;0<D;){var W=D-1>>>1,G=j[W];if(0<s(G,R))j[W]=R,j[D]=G,D=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var R=j[0],D=j.pop();if(D!==R){j[0]=D;e:for(var W=0,G=j.length,ne=G>>>1;W<ne;){var se=2*(W+1)-1,ge=j[se],ve=se+1,H=j[ve];if(0>s(ge,D))ve<G&&0>s(H,ge)?(j[W]=H,j[ve]=D,W=ve):(j[W]=ge,j[se]=D,W=se);else if(ve<G&&0>s(H,D))j[W]=H,j[ve]=D,W=ve;else break e}}return R}function s(j,R){var D=j.sortIndex-R.sortIndex;return D!==0?D:j.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=j)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function _(j){if(p=!1,w(j),!v)if(n(l)!==null)v=!0,z(S);else{var R=n(u);R!==null&&B(_,R.startTime-j)}}function S(j,R){v=!1,p&&(p=!1,y(T),T=-1),m=!0;var D=h;try{for(w(R),f=n(l);f!==null&&(!(f.expirationTime>R)||j&&!F());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),w(R)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var se=n(u);se!==null&&B(_,se.startTime-R),ne=!1}return ne}finally{f=null,h=D,m=!1}}var N=!1,C=null,T=-1,P=5,O=-1;function F(){return!(t.unstable_now()-O<P)}function A(){if(C!==null){var j=t.unstable_now();O=j;var R=!0;try{R=C(!0,j)}finally{R?$():(N=!1,C=null)}}else N=!1}var $;if(typeof g=="function")$=function(){g(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,I=V.port2;V.port1.onmessage=A,$=function(){I.postMessage(null)}}else $=function(){x(A,0)};function z(j){C=j,N||(N=!0,$())}function B(j,R){T=x(function(){j(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,z(S))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return j()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,R){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var D=h;h=j;try{return R()}finally{h=D}},t.unstable_scheduleCallback=function(j,R,D){var W=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,j={id:d++,callback:R,priorityLevel:j,startTime:D,expirationTime:G,sortIndex:-1},D>W?(j.sortIndex=D,e(u,j),n(l)===null&&j===n(u)&&(p?(y(T),T=-1):p=!0,B(_,D-W))):(j.sortIndex=G,e(l,j),v||m||(v=!0,z(S))),j},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(j){var R=h;return function(){var D=h;h=R;try{return j.apply(this,arguments)}finally{h=D}}}})(Ik);Ak.exports=Ik;var vA=Ak.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA=b,Bn=vA;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rk=new Set,kc={};function $o(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(kc[t]=e,t=0;t<e.length;t++)Rk.add(e[t])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vp=Object.prototype.hasOwnProperty,wA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv={},Ev={};function _A(t){return vp.call(Ev,t)?!0:vp.call(Pv,t)?!1:wA.test(t)?Ev[t]=!0:(Pv[t]=!0,!1)}function SA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NA(t,e,n,r){if(e===null||typeof e>"u"||SA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hy=/[\-:]([a-z])/g;function my(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hy,my);Xt[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hy,my);Xt[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hy,my);Xt[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,n,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NA(e,n,s,r)&&(n=null),r||s===null?_A(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ts=bA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),sa=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),Lk=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),_p=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),Mv=Symbol.iterator;function jl(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,rm;function Kl(t){if(rm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rm=e&&e[1]||""}return`
`+rm+t}var sm=!1;function im(t,e){if(!t||sm)return"";sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function kA(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=im(t.type,!1),t;case 11:return t=im(t.type.render,!1),t;case 1:return t=im(t.type,!0),t;default:return""}}function Sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ia:return"Fragment";case sa:return"Portal";case bp:return"Profiler";case gy:return"StrictMode";case wp:return"Suspense";case _p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lk:return(t.displayName||"Context")+".Consumer";case Fk:return(t._context.displayName||"Context")+".Provider";case yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xy:return e=t.displayName||null,e!==null?e:Sp(t.type)||"Memo";case Vs:e=t._payload,t=t._init;try{return Sp(t(e))}catch{}}return null}function CA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TA(t){var e=Vk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=TA(t))}function $k(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Np(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bk(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function kp(t,e){Bk(t,e);var n=vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cp(t,e.type,vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ov(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cp(t,e,n){(e!=="number"||Zd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Av(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Gl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vi(n)}}function Uk(t,e){var n=vi(e.value),r=vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vu,Hk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vu=Vu||document.createElement("div"),Vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jA=["Webkit","ms","Moz","O"];Object.keys(oc).forEach(function(t){jA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oc[e]=oc[t]})});function Yk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oc.hasOwnProperty(t)&&oc[t]?(""+e).trim():e+"px"}function qk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Yk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var PA=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pp(t,e){if(e){if(PA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=null;function vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dp=null,va=null,ba=null;function Rv(t){if(t=bu(t)){if(typeof Dp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=mh(e),Dp(t.stateNode,t.type,e))}}function Qk(t){va?ba?ba.push(t):ba=[t]:va=t}function Kk(){if(va){var t=va,e=ba;if(ba=va=null,Rv(t),e)for(t=0;t<e.length;t++)Rv(e[t])}}function Gk(t,e){return t(e)}function Xk(){}var om=!1;function Zk(t,e,n){if(om)return t(e,n);om=!0;try{return Gk(t,e,n)}finally{om=!1,(va!==null||ba!==null)&&(Xk(),Kk())}}function Tc(t,e){var n=t.stateNode;if(n===null)return null;var r=mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Op=!1;if(bs)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Op=!1}function EA(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ac=!1,Jd=null,ef=!1,Ap=null,MA={onError:function(t){ac=!0,Jd=t}};function DA(t,e,n,r,s,i,o,a,l){ac=!1,Jd=null,EA.apply(MA,arguments)}function OA(t,e,n,r,s,i,o,a,l){if(DA.apply(this,arguments),ac){if(ac){var u=Jd;ac=!1,Jd=null}else throw Error(K(198));ef||(ef=!0,Ap=u)}}function Bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fv(t){if(Bo(t)!==t)throw Error(K(188))}function AA(t){var e=t.alternate;if(!e){if(e=Bo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Fv(s),t;if(i===r)return Fv(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function eC(t){return t=AA(t),t!==null?tC(t):null}function tC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tC(t);if(e!==null)return e;t=t.sibling}return null}var nC=Bn.unstable_scheduleCallback,Lv=Bn.unstable_cancelCallback,IA=Bn.unstable_shouldYield,RA=Bn.unstable_requestPaint,Nt=Bn.unstable_now,FA=Bn.unstable_getCurrentPriorityLevel,by=Bn.unstable_ImmediatePriority,rC=Bn.unstable_UserBlockingPriority,tf=Bn.unstable_NormalPriority,LA=Bn.unstable_LowPriority,sC=Bn.unstable_IdlePriority,uh=null,Br=null;function zA(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:BA,VA=Math.log,$A=Math.LN2;function BA(t){return t>>>=0,t===0?32:31-(VA(t)/$A|0)|0}var $u=64,Bu=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xl(a):(i&=o,i!==0&&(r=Xl(i)))}else o=n&~s,o!==0?r=Xl(o):i!==0&&(r=Xl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),s=1<<n,r|=t[n],e&=~s;return r}function UA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=UA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iC(){var t=$u;return $u<<=1,!($u&4194240)&&($u=64),t}function am(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function HA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Je=0;function oC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aC,_y,lC,cC,uC,Rp=!1,Uu=[],ci=null,ui=null,di=null,jc=new Map,Pc=new Map,Bs=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zv(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function El(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=bu(e),e!==null&&_y(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qA(t,e,n,r,s){switch(e){case"focusin":return ci=El(ci,t,e,n,r,s),!0;case"dragenter":return ui=El(ui,t,e,n,r,s),!0;case"mouseover":return di=El(di,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jc.set(i,El(jc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pc.set(i,El(Pc.get(i)||null,t,e,n,r,s)),!0}return!1}function dC(t){var e=to(t.target);if(e!==null){var n=Bo(e);if(n!==null){if(e=n.tag,e===13){if(e=Jk(n),e!==null){t.blockedOn=e,uC(t.priority,function(){lC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mp=r,n.target.dispatchEvent(r),Mp=null}else return e=bu(n),e!==null&&_y(e),t.blockedOn=n,!1;e.shift()}return!0}function Vv(t,e,n){Pd(t)&&n.delete(e)}function QA(){Rp=!1,ci!==null&&Pd(ci)&&(ci=null),ui!==null&&Pd(ui)&&(ui=null),di!==null&&Pd(di)&&(di=null),jc.forEach(Vv),Pc.forEach(Vv)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,QA)))}function Ec(t){function e(s){return Ml(s,t)}if(0<Uu.length){Ml(Uu[0],t);for(var n=1;n<Uu.length;n++){var r=Uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&Ml(ci,t),ui!==null&&Ml(ui,t),di!==null&&Ml(di,t),jc.forEach(e),Pc.forEach(e),n=0;n<Bs.length;n++)r=Bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)dC(n),n.blockedOn===null&&Bs.shift()}var wa=Ts.ReactCurrentBatchConfig,rf=!0;function KA(t,e,n,r){var s=Je,i=wa.transition;wa.transition=null;try{Je=1,Sy(t,e,n,r)}finally{Je=s,wa.transition=i}}function GA(t,e,n,r){var s=Je,i=wa.transition;wa.transition=null;try{Je=4,Sy(t,e,n,r)}finally{Je=s,wa.transition=i}}function Sy(t,e,n,r){if(rf){var s=Fp(t,e,n,r);if(s===null)ym(t,e,r,sf,n),zv(t,r);else if(qA(s,t,e,n,r))r.stopPropagation();else if(zv(t,r),e&4&&-1<YA.indexOf(t)){for(;s!==null;){var i=bu(s);if(i!==null&&aC(i),i=Fp(t,e,n,r),i===null&&ym(t,e,r,sf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ym(t,e,r,null,n)}}var sf=null;function Fp(t,e,n,r){if(sf=null,t=vy(r),t=to(t),t!==null)if(e=Bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sf=t,null}function fC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FA()){case by:return 1;case rC:return 4;case tf:case LA:return 16;case sC:return 536870912;default:return 16}default:return 16}}var ei=null,Ny=null,Ed=null;function hC(){if(Ed)return Ed;var t,e=Ny,n=e.length,r,s="value"in ei?ei.value:ei.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ed=s.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wu(){return!0}function $v(){return!1}function Wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wu:$v,this.isPropagationStopped=$v,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=Wn(ml),vu=pt({},ml,{view:0,detail:0}),XA=Wn(vu),lm,cm,Dl,dh=pt({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(lm=t.screenX-Dl.screenX,cm=t.screenY-Dl.screenY):cm=lm=0,Dl=t),lm)},movementY:function(t){return"movementY"in t?t.movementY:cm}}),Bv=Wn(dh),ZA=pt({},dh,{dataTransfer:0}),JA=Wn(ZA),eI=pt({},vu,{relatedTarget:0}),um=Wn(eI),tI=pt({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),nI=Wn(tI),rI=pt({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sI=Wn(rI),iI=pt({},ml,{data:0}),Uv=Wn(iI),oI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lI[t])?!!e[t]:!1}function Cy(){return cI}var uI=pt({},vu,{key:function(t){if(t.key){var e=oI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dI=Wn(uI),fI=pt({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wv=Wn(fI),hI=pt({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),mI=Wn(hI),pI=pt({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),gI=Wn(pI),yI=pt({},dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xI=Wn(yI),vI=[9,13,27,32],Ty=bs&&"CompositionEvent"in window,lc=null;bs&&"documentMode"in document&&(lc=document.documentMode);var bI=bs&&"TextEvent"in window&&!lc,mC=bs&&(!Ty||lc&&8<lc&&11>=lc),Hv=" ",Yv=!1;function pC(t,e){switch(t){case"keyup":return vI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function wI(t,e){switch(t){case"compositionend":return gC(e);case"keypress":return e.which!==32?null:(Yv=!0,Hv);case"textInput":return t=e.data,t===Hv&&Yv?null:t;default:return null}}function _I(t,e){if(oa)return t==="compositionend"||!Ty&&pC(t,e)?(t=hC(),Ed=Ny=ei=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mC&&e.locale!=="ko"?null:e.data;default:return null}}var SI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SI[t.type]:e==="textarea"}function yC(t,e,n,r){Qk(r),e=of(e,"onChange"),0<e.length&&(n=new ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cc=null,Mc=null;function NI(t){jC(t,0)}function fh(t){var e=ca(t);if($k(e))return t}function kI(t,e){if(t==="change")return e}var xC=!1;if(bs){var dm;if(bs){var fm="oninput"in document;if(!fm){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),fm=typeof Qv.oninput=="function"}dm=fm}else dm=!1;xC=dm&&(!document.documentMode||9<document.documentMode)}function Kv(){cc&&(cc.detachEvent("onpropertychange",vC),Mc=cc=null)}function vC(t){if(t.propertyName==="value"&&fh(Mc)){var e=[];yC(e,Mc,t,vy(t)),Zk(NI,e)}}function CI(t,e,n){t==="focusin"?(Kv(),cc=e,Mc=n,cc.attachEvent("onpropertychange",vC)):t==="focusout"&&Kv()}function TI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(Mc)}function jI(t,e){if(t==="click")return fh(e)}function PI(t,e){if(t==="input"||t==="change")return fh(e)}function EI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:EI;function Dc(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vp.call(e,s)||!wr(t[s],e[s]))return!1}return!0}function Gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xv(t,e){var n=Gv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gv(n)}}function bC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wC(){for(var t=window,e=Zd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zd(t.document)}return e}function jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MI(t){var e=wC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bC(n.ownerDocument.documentElement,n)){if(r!==null&&jy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Xv(n,i);var o=Xv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DI=bs&&"documentMode"in document&&11>=document.documentMode,aa=null,Lp=null,uc=null,zp=!1;function Zv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zp||aa==null||aa!==Zd(r)||(r=aa,"selectionStart"in r&&jy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uc&&Dc(uc,r)||(uc=r,r=of(Lp,"onSelect"),0<r.length&&(e=new ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function Hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},hm={},_C={};bs&&(_C=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function hh(t){if(hm[t])return hm[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _C)return hm[t]=e[n];return t}var SC=hh("animationend"),NC=hh("animationiteration"),kC=hh("animationstart"),CC=hh("transitionend"),TC=new Map,Jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){TC.set(t,e),$o(e,[t])}for(var mm=0;mm<Jv.length;mm++){var pm=Jv[mm],OI=pm.toLowerCase(),AI=pm[0].toUpperCase()+pm.slice(1);Mi(OI,"on"+AI)}Mi(SC,"onAnimationEnd");Mi(NC,"onAnimationIteration");Mi(kC,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(CC,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),II=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function e0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OA(r,e,void 0,t),t.currentTarget=null}function jC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;e0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;e0(s,a,u),i=l}}}if(ef)throw t=Ap,ef=!1,Ap=null,t}function ot(t,e){var n=e[Wp];n===void 0&&(n=e[Wp]=new Set);var r=t+"__bubble";n.has(r)||(PC(e,t,2,!1),n.add(r))}function gm(t,e,n){var r=0;e&&(r|=4),PC(n,t,r,e)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[Yu]){t[Yu]=!0,Rk.forEach(function(n){n!=="selectionchange"&&(II.has(n)||gm(n,!1,t),gm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yu]||(e[Yu]=!0,gm("selectionchange",!1,e))}}function PC(t,e,n,r){switch(fC(e)){case 1:var s=KA;break;case 4:s=GA;break;default:s=Sy}n=s.bind(null,e,n,t),s=void 0,!Op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ym(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=to(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Zk(function(){var u=i,d=vy(n),f=[];e:{var h=TC.get(t);if(h!==void 0){var m=ky,v=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":m=dI;break;case"focusin":v="focus",m=um;break;case"focusout":v="blur",m=um;break;case"beforeblur":case"afterblur":m=um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mI;break;case SC:case NC:case kC:m=nI;break;case CC:m=gI;break;case"scroll":m=XA;break;case"wheel":m=xI;break;case"copy":case"cut":case"paste":m=sI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wv}var p=(e&4)!==0,x=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=Tc(g,y),_!=null&&p.push(Ac(g,_,w)))),x)break;g=g.return}0<p.length&&(h=new m(h,v,null,n,d),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Mp&&(v=n.relatedTarget||n.fromElement)&&(to(v)||v[ws]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?to(v):null,v!==null&&(x=Bo(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=Bv,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=Wv,_="onPointerLeave",y="onPointerEnter",g="pointer"),x=m==null?h:ca(m),w=v==null?h:ca(v),h=new p(_,g+"leave",m,n,d),h.target=x,h.relatedTarget=w,_=null,to(d)===u&&(p=new p(y,g+"enter",v,n,d),p.target=w,p.relatedTarget=x,_=p),x=_,m&&v)t:{for(p=m,y=v,g=0,w=p;w;w=Qo(w))g++;for(w=0,_=y;_;_=Qo(_))w++;for(;0<g-w;)p=Qo(p),g--;for(;0<w-g;)y=Qo(y),w--;for(;g--;){if(p===y||y!==null&&p===y.alternate)break t;p=Qo(p),y=Qo(y)}p=null}else p=null;m!==null&&t0(f,h,m,p,!1),v!==null&&x!==null&&t0(f,x,v,p,!0)}}e:{if(h=u?ca(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=kI;else if(qv(h))if(xC)S=PI;else{S=TI;var N=CI}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=jI);if(S&&(S=S(t,u))){yC(f,S,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Cp(h,"number",h.value)}switch(N=u?ca(u):window,t){case"focusin":(qv(N)||N.contentEditable==="true")&&(aa=N,Lp=u,uc=null);break;case"focusout":uc=Lp=aa=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,Zv(f,n,d);break;case"selectionchange":if(DI)break;case"keydown":case"keyup":Zv(f,n,d)}var C;if(Ty)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else oa?pC(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(mC&&n.locale!=="ko"&&(oa||T!=="onCompositionStart"?T==="onCompositionEnd"&&oa&&(C=hC()):(ei=d,Ny="value"in ei?ei.value:ei.textContent,oa=!0)),N=of(u,T),0<N.length&&(T=new Uv(T,t,null,n,d),f.push({event:T,listeners:N}),C?T.data=C:(C=gC(n),C!==null&&(T.data=C)))),(C=bI?wI(t,n):_I(t,n))&&(u=of(u,"onBeforeInput"),0<u.length&&(d=new Uv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}jC(f,e)})}function Ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function of(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tc(t,n),i!=null&&r.unshift(Ac(t,i,s)),i=Tc(t,e),i!=null&&r.push(Ac(t,i,s))),t=t.return}return r}function Qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Tc(n,i),l!=null&&o.unshift(Ac(n,l,a))):s||(l=Tc(n,i),l!=null&&o.push(Ac(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var RI=/\r\n?/g,FI=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(RI,`
`).replace(FI,"")}function qu(t,e,n){if(e=n0(e),n0(t)!==e&&n)throw Error(K(425))}function af(){}var Vp=null,$p=null;function Bp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,LI=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,zI=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(t){return r0.resolve(null).then(t).catch(VI)}:Up;function VI(t){setTimeout(function(){throw t})}function xm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ec(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ec(e)}function fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+pl,Ic="__reactProps$"+pl,ws="__reactContainer$"+pl,Wp="__reactEvents$"+pl,$I="__reactListeners$"+pl,BI="__reactHandles$"+pl;function to(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ws]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=s0(t);t!==null;){if(n=t[Ir])return n;t=s0(t)}return e}t=n,n=t.parentNode}return null}function bu(t){return t=t[Ir]||t[ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function mh(t){return t[Ic]||null}var Hp=[],ua=-1;function Di(t){return{current:t}}function lt(t){0>ua||(t.current=Hp[ua],Hp[ua]=null,ua--)}function st(t,e){ua++,Hp[ua]=t.current,t.current=e}var bi={},ln=Di(bi),Pn=Di(!1),So=bi;function Ya(t,e){var n=t.type.contextTypes;if(!n)return bi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function En(t){return t=t.childContextTypes,t!=null}function lf(){lt(Pn),lt(ln)}function i0(t,e,n){if(ln.current!==bi)throw Error(K(168));st(ln,e),st(Pn,n)}function EC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,CA(t)||"Unknown",s));return pt({},n,r)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,So=ln.current,st(ln,t),st(Pn,Pn.current),!0}function o0(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=EC(t,e,So),r.__reactInternalMemoizedMergedChildContext=t,lt(Pn),lt(ln),st(ln,t)):lt(Pn),st(Pn,n)}var as=null,ph=!1,vm=!1;function MC(t){as===null?as=[t]:as.push(t)}function UI(t){ph=!0,MC(t)}function Oi(){if(!vm&&as!==null){vm=!0;var t=0,e=Je;try{var n=as;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}as=null,ph=!1}catch(s){throw as!==null&&(as=as.slice(t+1)),nC(by,Oi),s}finally{Je=e,vm=!1}}return null}var da=[],fa=0,uf=null,df=0,Xn=[],Zn=0,No=null,hs=1,ms="";function Qi(t,e){da[fa++]=df,da[fa++]=uf,uf=t,df=e}function DC(t,e,n){Xn[Zn++]=hs,Xn[Zn++]=ms,Xn[Zn++]=No,No=t;var r=hs;t=ms;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var i=32-xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hs=1<<32-xr(e)+s|n<<s|r,ms=i+t}else hs=1<<i|n<<s|r,ms=t}function Py(t){t.return!==null&&(Qi(t,1),DC(t,1,0))}function Ey(t){for(;t===uf;)uf=da[--fa],da[fa]=null,df=da[--fa],da[fa]=null;for(;t===No;)No=Xn[--Zn],Xn[Zn]=null,ms=Xn[--Zn],Xn[Zn]=null,hs=Xn[--Zn],Xn[Zn]=null}var zn=null,Ln=null,ct=!1,mr=null;function OC(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function a0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Ln=fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=No!==null?{id:hs,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Ln=null,!0):!1;default:return!1}}function Yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qp(t){if(ct){var e=Ln;if(e){var n=e;if(!a0(t,e)){if(Yp(t))throw Error(K(418));e=fi(n.nextSibling);var r=zn;e&&a0(t,e)?OC(r,n):(t.flags=t.flags&-4097|2,ct=!1,zn=t)}}else{if(Yp(t))throw Error(K(418));t.flags=t.flags&-4097|2,ct=!1,zn=t}}}function l0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Qu(t){if(t!==zn)return!1;if(!ct)return l0(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bp(t.type,t.memoizedProps)),e&&(e=Ln)){if(Yp(t))throw AC(),Error(K(418));for(;e;)OC(t,e),e=fi(e.nextSibling)}if(l0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=zn?fi(t.stateNode.nextSibling):null;return!0}function AC(){for(var t=Ln;t;)t=fi(t.nextSibling)}function qa(){Ln=zn=null,ct=!1}function My(t){mr===null?mr=[t]:mr.push(t)}var WI=Ts.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Ku(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c0(t){var e=t._init;return e(t._payload)}function IC(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=gi(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,_){return g===null||g.tag!==6?(g=Cm(w,y.mode,_),g.return=y,g):(g=s(g,w),g.return=y,g)}function l(y,g,w,_){var S=w.type;return S===ia?d(y,g,w.props.children,_,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vs&&c0(S)===g.type)?(_=s(g,w.props),_.ref=Ol(y,g,w),_.return=y,_):(_=Ld(w.type,w.key,w.props,null,y.mode,_),_.ref=Ol(y,g,w),_.return=y,_)}function u(y,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Tm(w,y.mode,_),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function d(y,g,w,_,S){return g===null||g.tag!==7?(g=vo(w,y.mode,_,S),g.return=y,g):(g=s(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cm(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lu:return w=Ld(g.type,g.key,g.props,null,y.mode,w),w.ref=Ol(y,null,g),w.return=y,w;case sa:return g=Tm(g,y.mode,w),g.return=y,g;case Vs:var _=g._init;return f(y,_(g._payload),w)}if(Gl(g)||jl(g))return g=vo(g,y.mode,w,null),g.return=y,g;Ku(y,g)}return null}function h(y,g,w,_){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lu:return w.key===S?l(y,g,w,_):null;case sa:return w.key===S?u(y,g,w,_):null;case Vs:return S=w._init,h(y,g,S(w._payload),_)}if(Gl(w)||jl(w))return S!==null?null:d(y,g,w,_,null);Ku(y,w)}return null}function m(y,g,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(g,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lu:return y=y.get(_.key===null?w:_.key)||null,l(g,y,_,S);case sa:return y=y.get(_.key===null?w:_.key)||null,u(g,y,_,S);case Vs:var N=_._init;return m(y,g,w,N(_._payload),S)}if(Gl(_)||jl(_))return y=y.get(w)||null,d(g,y,_,S,null);Ku(g,_)}return null}function v(y,g,w,_){for(var S=null,N=null,C=g,T=g=0,P=null;C!==null&&T<w.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var O=h(y,C,w[T],_);if(O===null){C===null&&(C=P);break}t&&C&&O.alternate===null&&e(y,C),g=i(O,g,T),N===null?S=O:N.sibling=O,N=O,C=P}if(T===w.length)return n(y,C),ct&&Qi(y,T),S;if(C===null){for(;T<w.length;T++)C=f(y,w[T],_),C!==null&&(g=i(C,g,T),N===null?S=C:N.sibling=C,N=C);return ct&&Qi(y,T),S}for(C=r(y,C);T<w.length;T++)P=m(C,y,T,w[T],_),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),g=i(P,g,T),N===null?S=P:N.sibling=P,N=P);return t&&C.forEach(function(F){return e(y,F)}),ct&&Qi(y,T),S}function p(y,g,w,_){var S=jl(w);if(typeof S!="function")throw Error(K(150));if(w=S.call(w),w==null)throw Error(K(151));for(var N=S=null,C=g,T=g=0,P=null,O=w.next();C!==null&&!O.done;T++,O=w.next()){C.index>T?(P=C,C=null):P=C.sibling;var F=h(y,C,O.value,_);if(F===null){C===null&&(C=P);break}t&&C&&F.alternate===null&&e(y,C),g=i(F,g,T),N===null?S=F:N.sibling=F,N=F,C=P}if(O.done)return n(y,C),ct&&Qi(y,T),S;if(C===null){for(;!O.done;T++,O=w.next())O=f(y,O.value,_),O!==null&&(g=i(O,g,T),N===null?S=O:N.sibling=O,N=O);return ct&&Qi(y,T),S}for(C=r(y,C);!O.done;T++,O=w.next())O=m(C,y,T,O.value,_),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?T:O.key),g=i(O,g,T),N===null?S=O:N.sibling=O,N=O);return t&&C.forEach(function(A){return e(y,A)}),ct&&Qi(y,T),S}function x(y,g,w,_){if(typeof w=="object"&&w!==null&&w.type===ia&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Lu:e:{for(var S=w.key,N=g;N!==null;){if(N.key===S){if(S=w.type,S===ia){if(N.tag===7){n(y,N.sibling),g=s(N,w.props.children),g.return=y,y=g;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vs&&c0(S)===N.type){n(y,N.sibling),g=s(N,w.props),g.ref=Ol(y,N,w),g.return=y,y=g;break e}n(y,N);break}else e(y,N);N=N.sibling}w.type===ia?(g=vo(w.props.children,y.mode,_,w.key),g.return=y,y=g):(_=Ld(w.type,w.key,w.props,null,y.mode,_),_.ref=Ol(y,g,w),_.return=y,y=_)}return o(y);case sa:e:{for(N=w.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Tm(w,y.mode,_),g.return=y,y=g}return o(y);case Vs:return N=w._init,x(y,g,N(w._payload),_)}if(Gl(w))return v(y,g,w,_);if(jl(w))return p(y,g,w,_);Ku(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,w),g.return=y,y=g):(n(y,g),g=Cm(w,y.mode,_),g.return=y,y=g),o(y)):n(y,g)}return x}var Qa=IC(!0),RC=IC(!1),ff=Di(null),hf=null,ha=null,Dy=null;function Oy(){Dy=ha=hf=null}function Ay(t){var e=ff.current;lt(ff),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){hf=t,Dy=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(Dy!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(hf===null)throw Error(K(308));ha=t,hf.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var no=null;function Iy(t){no===null?no=[t]:no.push(t)}function FC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Iy(e)):(n.next=s.next,s.next=n),e.interleaved=n,_s(t,r)}function _s(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $s=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,_s(t,n)}return s=r.interleaved,s===null?(e.next=e,Iy(r)):(e.next=s.next,s.next=e),r.interleaved=e,_s(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}function u0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mf(t,e,n,r){var s=t.updateQueue;$s=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,p=a;switch(h=e,m=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=pt({},f,h);break e;case 2:$s=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Co|=o,t.lanes=o,t.memoizedState=f}}function d0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var wu={},Ur=Di(wu),Rc=Di(wu),Fc=Di(wu);function ro(t){if(t===wu)throw Error(K(174));return t}function Fy(t,e){switch(st(Fc,e),st(Rc,t),st(Ur,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jp(e,t)}lt(Ur),st(Ur,e)}function Ka(){lt(Ur),lt(Rc),lt(Fc)}function zC(t){ro(Fc.current);var e=ro(Ur.current),n=jp(e,t.type);e!==n&&(st(Rc,t),st(Ur,n))}function Ly(t){Rc.current===t&&(lt(Ur),lt(Rc))}var ft=Di(0);function pf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bm=[];function zy(){for(var t=0;t<bm.length;t++)bm[t]._workInProgressVersionPrimary=null;bm.length=0}var Od=Ts.ReactCurrentDispatcher,wm=Ts.ReactCurrentBatchConfig,ko=0,mt=null,At=null,Ut=null,gf=!1,dc=!1,Lc=0,HI=0;function en(){throw Error(K(321))}function Vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function $y(t,e,n,r,s,i){if(ko=i,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Od.current=t===null||t.memoizedState===null?KI:GI,t=n(r,s),dc){i=0;do{if(dc=!1,Lc=0,25<=i)throw Error(K(301));i+=1,Ut=At=null,e.updateQueue=null,Od.current=XI,t=n(r,s)}while(dc)}if(Od.current=yf,e=At!==null&&At.next!==null,ko=0,Ut=At=mt=null,gf=!1,e)throw Error(K(300));return t}function By(){var t=Lc!==0;return Lc=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?mt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function rr(){if(At===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Ut===null?mt.memoizedState:Ut.next;if(e!==null)Ut=e,At=t;else{if(t===null)throw Error(K(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ut===null?mt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function zc(t,e){return typeof e=="function"?e(t):e}function _m(t){var e=rr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=At,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ko&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,mt.lanes|=d,Co|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,wr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,mt.lanes|=i,Co|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sm(t){var e=rr(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wr(i,e.memoizedState)||(jn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function VC(){}function $C(t,e){var n=mt,r=rr(),s=e(),i=!wr(r.memoizedState,s);if(i&&(r.memoizedState=s,jn=!0),r=r.queue,Uy(WC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Vc(9,UC.bind(null,n,r,s,e),void 0,null),Wt===null)throw Error(K(349));ko&30||BC(n,e,s)}return s}function BC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UC(t,e,n,r){e.value=n,e.getSnapshot=r,HC(e)&&YC(t)}function WC(t,e,n){return n(function(){HC(e)&&YC(t)})}function HC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function YC(t){var e=_s(t,1);e!==null&&vr(e,t,1,-1)}function f0(t){var e=Er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=QI.bind(null,mt,t),[e.memoizedState,t]}function Vc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qC(){return rr().memoizedState}function Ad(t,e,n,r){var s=Er();mt.flags|=t,s.memoizedState=Vc(1|e,n,void 0,r===void 0?null:r)}function gh(t,e,n,r){var s=rr();r=r===void 0?null:r;var i=void 0;if(At!==null){var o=At.memoizedState;if(i=o.destroy,r!==null&&Vy(r,o.deps)){s.memoizedState=Vc(e,n,i,r);return}}mt.flags|=t,s.memoizedState=Vc(1|e,n,i,r)}function h0(t,e){return Ad(8390656,8,t,e)}function Uy(t,e){return gh(2048,8,t,e)}function QC(t,e){return gh(4,2,t,e)}function KC(t,e){return gh(4,4,t,e)}function GC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XC(t,e,n){return n=n!=null?n.concat([t]):null,gh(4,4,GC.bind(null,e,t),n)}function Wy(){}function ZC(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JC(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eT(t,e,n){return ko&21?(wr(n,e)||(n=iC(),mt.lanes|=n,Co|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function YI(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=wm.transition;wm.transition={};try{t(!1),e()}finally{Je=n,wm.transition=r}}function tT(){return rr().memoizedState}function qI(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nT(t))rT(e,n);else if(n=FC(t,e,n,r),n!==null){var s=yn();vr(n,t,r,s),sT(n,e,r)}}function QI(t,e,n){var r=pi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nT(t))rT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wr(a,o)){var l=e.interleaved;l===null?(s.next=s,Iy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=FC(t,e,s,r),n!==null&&(s=yn(),vr(n,t,r,s),sT(n,e,r))}}function nT(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function rT(t,e){dc=gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}var yf={readContext:nr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},KI={readContext:nr,useCallback:function(t,e){return Er().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:h0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ad(4194308,4,GC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ad(4,2,t,e)},useMemo:function(t,e){var n=Er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qI.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Er();return t={current:t},e.memoizedState=t},useState:f0,useDebugValue:Wy,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=f0(!1),e=t[0];return t=YI.bind(null,t[1]),Er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,s=Er();if(ct){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Wt===null)throw Error(K(349));ko&30||BC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,h0(WC.bind(null,r,i,t),[t]),r.flags|=2048,Vc(9,UC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Er(),e=Wt.identifierPrefix;if(ct){var n=ms,r=hs;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GI={readContext:nr,useCallback:ZC,useContext:nr,useEffect:Uy,useImperativeHandle:XC,useInsertionEffect:QC,useLayoutEffect:KC,useMemo:JC,useReducer:_m,useRef:qC,useState:function(){return _m(zc)},useDebugValue:Wy,useDeferredValue:function(t){var e=rr();return eT(e,At.memoizedState,t)},useTransition:function(){var t=_m(zc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:VC,useSyncExternalStore:$C,useId:tT,unstable_isNewReconciler:!1},XI={readContext:nr,useCallback:ZC,useContext:nr,useEffect:Uy,useImperativeHandle:XC,useInsertionEffect:QC,useLayoutEffect:KC,useMemo:JC,useReducer:Sm,useRef:qC,useState:function(){return Sm(zc)},useDebugValue:Wy,useDeferredValue:function(t){var e=rr();return At===null?e.memoizedState=t:eT(e,At.memoizedState,t)},useTransition:function(){var t=Sm(zc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:VC,useSyncExternalStore:$C,useId:tT,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yh={isMounted:function(t){return(t=t._reactInternals)?Bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),s=pi(t),i=gs(r,s);i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,s),e!==null&&(vr(e,t,s,r),Dd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),s=pi(t),i=gs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hi(t,i,s),e!==null&&(vr(e,t,s,r),Dd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=pi(t),s=gs(n,r);s.tag=2,e!=null&&(s.callback=e),e=hi(t,s,r),e!==null&&(vr(e,t,r,n),Dd(e,t,r))}};function m0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Dc(n,r)||!Dc(s,i):!0}function iT(t,e,n){var r=!1,s=bi,i=e.contextType;return typeof i=="object"&&i!==null?i=nr(i):(s=En(e)?So:ln.current,r=e.contextTypes,i=(r=r!=null)?Ya(t,s):bi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function p0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function Gp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ry(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nr(i):(i=En(e)?So:ln.current,s.context=Ya(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yh.enqueueReplaceState(s,s.state,null),mf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e){try{var n="",r=e;do n+=kA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Nm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZI=typeof WeakMap=="function"?WeakMap:Map;function oT(t,e,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vf||(vf=!0,ag=r),Xp(t,e)},n}function aT(t,e,n){n=gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xp(t,e),typeof r!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function g0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fR.bind(null,t,e,n),e.then(t,t))}function y0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gs(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var JI=Ts.ReactCurrentOwner,jn=!1;function fn(t,e,n,r){e.child=t===null?RC(e,null,n,r):Qa(e,t.child,n,r)}function v0(t,e,n,r,s){n=n.render;var i=e.ref;return _a(e,s),r=$y(t,e,n,r,i,s),n=By(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ss(t,e,s)):(ct&&n&&Py(e),e.flags|=1,fn(t,e,r,s),e.child)}function b0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lT(t,e,i,r,s)):(t=Ld(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dc,n(o,r)&&t.ref===e.ref)return Ss(t,e,s)}return e.flags|=1,t=gi(i,r),t.ref=e.ref,t.return=e,e.child=t}function lT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Dc(i,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,Ss(t,e,s)}return Zp(t,e,n,r,s)}function cT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(pa,In),In|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(pa,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,st(pa,In),In|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,st(pa,In),In|=r;return fn(t,e,s,n),e.child}function uT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,n,r,s){var i=En(n)?So:ln.current;return i=Ya(e,i),_a(e,s),n=$y(t,e,n,r,i,s),r=By(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ss(t,e,s)):(ct&&r&&Py(e),e.flags|=1,fn(t,e,n,s),e.child)}function w0(t,e,n,r,s){if(En(n)){var i=!0;cf(e)}else i=!1;if(_a(e,s),e.stateNode===null)Id(t,e),iT(e,n,r),Gp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=En(n)?So:ln.current,u=Ya(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&p0(e,o,r,u),$s=!1;var h=e.memoizedState;o.state=h,mf(e,r,o,s),l=e.memoizedState,a!==r||h!==l||Pn.current||$s?(typeof d=="function"&&(Kp(e,n,d,r),l=e.memoizedState),(a=$s||m0(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:cr(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=En(n)?So:ln.current,l=Ya(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&p0(e,o,r,l),$s=!1,h=e.memoizedState,o.state=h,mf(e,r,o,s);var v=e.memoizedState;a!==f||h!==v||Pn.current||$s?(typeof m=="function"&&(Kp(e,n,m,r),v=e.memoizedState),(u=$s||m0(e,n,u,r,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Jp(t,e,n,r,i,s)}function Jp(t,e,n,r,s,i){uT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&o0(e,n,!1),Ss(t,e,i);r=e.stateNode,JI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qa(e,t.child,null,i),e.child=Qa(e,null,a,i)):fn(t,e,a,i),e.memoizedState=r.state,s&&o0(e,n,!0),e.child}function dT(t){var e=t.stateNode;e.pendingContext?i0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i0(t,e.context,!1),Fy(t,e.containerInfo)}function _0(t,e,n,r,s){return qa(),My(s),e.flags|=256,fn(t,e,n,r),e.child}var eg={dehydrated:null,treeContext:null,retryLane:0};function tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function fT(t,e,n){var r=e.pendingProps,s=ft.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),st(ft,s&1),t===null)return qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bh(o,r,0,null),t=vo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tg(n),e.memoizedState=eg,t):Hy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gi(a,i):(i=vo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=eg,r}return i=t.child,t=i.sibling,r=gi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hy(t,e){return e=bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gu(t,e,n,r){return r!==null&&My(r),Qa(e,t.child,null,n),t=Hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Nm(Error(K(422))),Gu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bh({mode:"visible",children:r.children},s,0,null),i=vo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Qa(e,t.child,null,o),e.child.memoizedState=tg(o),e.memoizedState=eg,i);if(!(e.mode&1))return Gu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Nm(i,r,void 0),Gu(t,e,o,r)}if(a=(o&t.childLanes)!==0,jn||a){if(r=Wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_s(t,s),vr(r,t,s,-1))}return Xy(),r=Nm(Error(K(421))),Gu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ln=fi(s.nextSibling),zn=e,ct=!0,mr=null,t!==null&&(Xn[Zn++]=hs,Xn[Zn++]=ms,Xn[Zn++]=No,hs=t.id,ms=t.overflow,No=e),e=Hy(e,r.children),e.flags|=4096,e)}function S0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qp(t.return,e,n)}function km(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(fn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,n,e);else if(t.tag===19)S0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),km(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}km(e,!0,n,null,i);break;case"together":km(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Co|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tR(t,e,n){switch(e.tag){case 3:dT(e),qa();break;case 5:zC(e);break;case 1:En(e.type)&&cf(e);break;case 4:Fy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;st(ff,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?fT(t,e,n):(st(ft,ft.current&1),t=Ss(t,e,n),t!==null?t.sibling:null);st(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),st(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,cT(t,e,n)}return Ss(t,e,n)}var mT,ng,pT,gT;mT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ng=function(){};pT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ro(Ur.current);var i=null;switch(n){case"input":s=Np(t,s),r=Np(t,r),i=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),i=[];break;case"textarea":s=Tp(t,s),r=Tp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=af)}Pp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};gT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Al(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nR(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return En(e.type)&&lf(),tn(e),null;case 3:return r=e.stateNode,Ka(),lt(Pn),lt(ln),zy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(ug(mr),mr=null))),ng(t,e),tn(e),null;case 5:Ly(e);var s=ro(Fc.current);if(n=e.type,t!==null&&e.stateNode!=null)pT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return tn(e),null}if(t=ro(Ur.current),Qu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ir]=e,r[Ic]=i,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(s=0;s<Zl.length;s++)ot(Zl[s],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":Dv(r,i),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ot("invalid",r);break;case"textarea":Av(r,i),ot("invalid",r)}Pp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&qu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qu(r.textContent,a,t),s=["children",""+a]):kc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":zu(r),Ov(r,i,!0);break;case"textarea":zu(r),Iv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=af)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[Ic]=r,mT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ep(n,r),n){case"dialog":ot("cancel",t),ot("close",t),s=r;break;case"iframe":case"object":case"embed":ot("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zl.length;s++)ot(Zl[s],t);s=r;break;case"source":ot("error",t),s=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),s=r;break;case"details":ot("toggle",t),s=r;break;case"input":Dv(t,r),s=Np(t,r),ot("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":Av(t,r),s=Tp(t,r),ot("invalid",t);break;default:s=r}Pp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?qk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cc(t,l):typeof l=="number"&&Cc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ot("scroll",t):l!=null&&py(t,i,l,o))}switch(n){case"input":zu(t),Ov(t,r,!1);break;case"textarea":zu(t),Iv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xa(t,!!r.multiple,i,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)gT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=ro(Fc.current),ro(Ur.current),Qu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(i=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:qu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return tn(e),null;case 13:if(lt(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Ln!==null&&e.mode&1&&!(e.flags&128))AC(),qa(),e.flags|=98560,i=!1;else if(i=Qu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Ir]=e}else qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),i=!1}else mr!==null&&(ug(mr),mr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ft===0&&(Ft=3):Xy())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return Ka(),ng(t,e),t===null&&Oc(e.stateNode.containerInfo),tn(e),null;case 10:return Ay(e.type._context),tn(e),null;case 17:return En(e.type)&&lf(),tn(e),null;case 19:if(lt(ft),i=e.memoizedState,i===null)return tn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Al(i,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pf(t),o!==null){for(e.flags|=128,Al(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(ft,ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&Nt()>Xa&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304)}else{if(!r)if(t=pf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return tn(e),null}else 2*Nt()-i.renderingStartTime>Xa&&n!==1073741824&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Nt(),e.sibling=null,n=ft.current,st(ft,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return Gy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function rR(t,e){switch(Ey(e),e.tag){case 1:return En(e.type)&&lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ka(),lt(Pn),lt(ln),zy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ly(e),null;case 13:if(lt(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ft),null;case 4:return Ka(),null;case 10:return Ay(e.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var Xu=!1,sn=!1,sR=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function rg(t,e,n){try{n()}catch(r){xt(t,e,r)}}var N0=!1;function iR(t,e){if(Vp=rf,t=wC(),jy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($p={focusedElem:t,selectionRange:n},rf=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,x=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:cr(e.type,p),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){xt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return v=N0,N0=!1,v}function fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rg(e,n,i)}s=s.next}while(s!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yT(t){var e=t.alternate;e!==null&&(t.alternate=null,yT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Ic],delete e[Wp],delete e[$I],delete e[BI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xT(t){return t.tag===5||t.tag===3||t.tag===4}function k0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=af));else if(r!==4&&(t=t.child,t!==null))for(ig(t,e,n),t=t.sibling;t!==null;)ig(t,e,n),t=t.sibling}function og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(og(t,e,n),t=t.sibling;t!==null;)og(t,e,n),t=t.sibling}var Qt=null,fr=!1;function Os(t,e,n){for(n=n.child;n!==null;)vT(t,e,n),n=n.sibling}function vT(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:sn||ma(n,e);case 6:var r=Qt,s=fr;Qt=null,Os(t,e,n),Qt=r,fr=s,Qt!==null&&(fr?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(fr?(t=Qt,n=n.stateNode,t.nodeType===8?xm(t.parentNode,n):t.nodeType===1&&xm(t,n),Ec(t)):xm(Qt,n.stateNode));break;case 4:r=Qt,s=fr,Qt=n.stateNode.containerInfo,fr=!0,Os(t,e,n),Qt=r,fr=s;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rg(n,e,o),s=s.next}while(s!==r)}Os(t,e,n);break;case 1:if(!sn&&(ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}Os(t,e,n);break;case 21:Os(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Os(t,e,n),sn=r):Os(t,e,n);break;default:Os(t,e,n)}}function C0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sR),e.forEach(function(r){var s=mR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,fr=!1;break e;case 3:Qt=a.stateNode.containerInfo,fr=!0;break e;case 4:Qt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Qt===null)throw Error(K(160));vT(i,o,s),Qt=null,fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){xt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bT(e,t),e=e.sibling}function bT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Tr(t),r&4){try{fc(3,t,t.return),xh(3,t)}catch(p){xt(t,t.return,p)}try{fc(5,t,t.return)}catch(p){xt(t,t.return,p)}}break;case 1:ar(e,t),Tr(t),r&512&&n!==null&&ma(n,n.return);break;case 5:if(ar(e,t),Tr(t),r&512&&n!==null&&ma(n,n.return),t.flags&32){var s=t.stateNode;try{Cc(s,"")}catch(p){xt(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bk(s,i),Ep(a,o);var u=Ep(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?qk(s,f):d==="dangerouslySetInnerHTML"?Hk(s,f):d==="children"?Cc(s,f):py(s,d,f,u)}switch(a){case"input":kp(s,i);break;case"textarea":Uk(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xa(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?xa(s,!!i.multiple,i.defaultValue,!0):xa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ic]=i}catch(p){xt(t,t.return,p)}}break;case 6:if(ar(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){xt(t,t.return,p)}}break;case 3:if(ar(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ec(e.containerInfo)}catch(p){xt(t,t.return,p)}break;case 4:ar(e,t),Tr(t);break;case 13:ar(e,t),Tr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qy=Nt())),r&4&&C0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(u=sn)||d,ar(e,t),sn=u):ar(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:fc(4,h,h.return);break;case 1:ma(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(p){xt(r,n,p)}}break;case 5:ma(h,h.return);break;case 22:if(h.memoizedState!==null){j0(f);continue}}m!==null?(m.return=h,ae=m):j0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yk("display",o))}catch(p){xt(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){xt(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ar(e,t),Tr(t),r&4&&C0(t);break;case 21:break;default:ar(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cc(s,""),r.flags&=-33);var i=k0(t);og(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=k0(t);ig(t,a,o);break;default:throw Error(K(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oR(t,e,n){ae=t,wT(t)}function wT(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||sn;a=Xu;var u=sn;if(Xu=o,(sn=l)&&!u)for(ae=s;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?P0(s):l!==null?(l.return=o,ae=l):P0(s);for(;i!==null;)ae=i,wT(i),i=i.sibling;ae=s,Xu=a,sn=u}T0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):T0(t)}}function T0(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&d0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}d0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ec(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}sn||e.flags&512&&sg(e)}catch(h){xt(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function j0(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function P0(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){xt(e,s,l)}}var i=e.return;try{sg(e)}catch(l){xt(e,i,l)}break;case 5:var o=e.return;try{sg(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var aR=Math.ceil,xf=Ts.ReactCurrentDispatcher,Yy=Ts.ReactCurrentOwner,tr=Ts.ReactCurrentBatchConfig,Ve=0,Wt=null,Et=null,Gt=0,In=0,pa=Di(0),Ft=0,$c=null,Co=0,vh=0,qy=0,hc=null,Cn=null,Qy=0,Xa=1/0,os=null,vf=!1,ag=null,mi=null,Zu=!1,ti=null,bf=0,mc=0,lg=null,Rd=-1,Fd=0;function yn(){return Ve&6?Nt():Rd!==-1?Rd:Rd=Nt()}function pi(t){return t.mode&1?Ve&2&&Gt!==0?Gt&-Gt:WI.transition!==null?(Fd===0&&(Fd=iC()),Fd):(t=Je,t!==0||(t=window.event,t=t===void 0?16:fC(t.type)),t):1}function vr(t,e,n,r){if(50<mc)throw mc=0,lg=null,Error(K(185));xu(t,n,r),(!(Ve&2)||t!==Wt)&&(t===Wt&&(!(Ve&2)&&(vh|=n),Ft===4&&Us(t,Gt)),Mn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Xa=Nt()+500,ph&&Oi()))}function Mn(t,e){var n=t.callbackNode;WA(t,e);var r=nf(t,t===Wt?Gt:0);if(r===0)n!==null&&Lv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lv(n),e===1)t.tag===0?UI(E0.bind(null,t)):MC(E0.bind(null,t)),zI(function(){!(Ve&6)&&Oi()}),n=null;else{switch(oC(r)){case 1:n=by;break;case 4:n=rC;break;case 16:n=tf;break;case 536870912:n=sC;break;default:n=tf}n=PT(n,_T.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _T(t,e){if(Rd=-1,Fd=0,Ve&6)throw Error(K(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=nf(t,t===Wt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wf(t,r);else{e=r;var s=Ve;Ve|=2;var i=NT();(Wt!==t||Gt!==e)&&(os=null,Xa=Nt()+500,xo(t,e));do try{uR();break}catch(a){ST(t,a)}while(!0);Oy(),xf.current=i,Ve=s,Et!==null?e=0:(Wt=null,Gt=0,e=Ft)}if(e!==0){if(e===2&&(s=Ip(t),s!==0&&(r=s,e=cg(t,s))),e===1)throw n=$c,xo(t,0),Us(t,r),Mn(t,Nt()),n;if(e===6)Us(t,r);else{if(s=t.current.alternate,!(r&30)&&!lR(s)&&(e=wf(t,r),e===2&&(i=Ip(t),i!==0&&(r=i,e=cg(t,i))),e===1))throw n=$c,xo(t,0),Us(t,r),Mn(t,Nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Ki(t,Cn,os);break;case 3:if(Us(t,r),(r&130023424)===r&&(e=Qy+500-Nt(),10<e)){if(nf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Up(Ki.bind(null,t,Cn,os),e);break}Ki(t,Cn,os);break;case 4:if(Us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aR(r/1960))-r,10<r){t.timeoutHandle=Up(Ki.bind(null,t,Cn,os),r);break}Ki(t,Cn,os);break;case 5:Ki(t,Cn,os);break;default:throw Error(K(329))}}}return Mn(t,Nt()),t.callbackNode===n?_T.bind(null,t):null}function cg(t,e){var n=hc;return t.current.memoizedState.isDehydrated&&(xo(t,e).flags|=256),t=wf(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&ug(e)),t}function ug(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function lR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Us(t,e){for(e&=~qy,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function E0(t){if(Ve&6)throw Error(K(327));Sa();var e=nf(t,0);if(!(e&1))return Mn(t,Nt()),null;var n=wf(t,e);if(t.tag!==0&&n===2){var r=Ip(t);r!==0&&(e=r,n=cg(t,r))}if(n===1)throw n=$c,xo(t,0),Us(t,e),Mn(t,Nt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,Cn,os),Mn(t,Nt()),null}function Ky(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Xa=Nt()+500,ph&&Oi())}}function To(t){ti!==null&&ti.tag===0&&!(Ve&6)&&Sa();var e=Ve;Ve|=1;var n=tr.transition,r=Je;try{if(tr.transition=null,Je=1,t)return t()}finally{Je=r,tr.transition=n,Ve=e,!(Ve&6)&&Oi()}}function Gy(){In=pa.current,lt(pa)}function xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LI(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lf();break;case 3:Ka(),lt(Pn),lt(ln),zy();break;case 5:Ly(r);break;case 4:Ka();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:Ay(r.type._context);break;case 22:case 23:Gy()}n=n.return}if(Wt=t,Et=t=gi(t.current,null),Gt=In=e,Ft=0,$c=null,qy=vh=Co=0,Cn=hc=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}no=null}return t}function ST(t,e){do{var n=Et;try{if(Oy(),Od.current=yf,gf){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gf=!1}if(ko=0,Ut=At=mt=null,dc=!1,Lc=0,Yy.current=null,n===null||n.return===null){Ft=1,$c=e,Et=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=y0(o);if(m!==null){m.flags&=-257,x0(m,o,a,i,e),m.mode&1&&g0(i,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var p=new Set;p.add(l),e.updateQueue=p}else v.add(l);break e}else{if(!(e&1)){g0(i,u,e),Xy();break e}l=Error(K(426))}}else if(ct&&a.mode&1){var x=y0(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),x0(x,o,a,i,e),My(Ga(l,a));break e}}i=l=Ga(l,a),Ft!==4&&(Ft=2),hc===null?hc=[i]:hc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=oT(i,l,e);u0(i,y);break e;case 1:a=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(mi===null||!mi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=aT(i,a,e);u0(i,_);break e}}i=i.return}while(i!==null)}CT(n)}catch(S){e=S,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function NT(){var t=xf.current;return xf.current=yf,t===null?yf:t}function Xy(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Wt===null||!(Co&268435455)&&!(vh&268435455)||Us(Wt,Gt)}function wf(t,e){var n=Ve;Ve|=2;var r=NT();(Wt!==t||Gt!==e)&&(os=null,xo(t,e));do try{cR();break}catch(s){ST(t,s)}while(!0);if(Oy(),Ve=n,xf.current=r,Et!==null)throw Error(K(261));return Wt=null,Gt=0,Ft}function cR(){for(;Et!==null;)kT(Et)}function uR(){for(;Et!==null&&!IA();)kT(Et)}function kT(t){var e=jT(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?CT(t):Et=e,Yy.current=null}function CT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rR(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Et=null;return}}else if(n=nR(n,e,In),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Ft===0&&(Ft=5)}function Ki(t,e,n){var r=Je,s=tr.transition;try{tr.transition=null,Je=1,dR(t,e,n,r)}finally{tr.transition=s,Je=r}return null}function dR(t,e,n,r){do Sa();while(ti!==null);if(Ve&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(HA(t,i),t===Wt&&(Et=Wt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zu||(Zu=!0,PT(tf,function(){return Sa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tr.transition,tr.transition=null;var o=Je;Je=1;var a=Ve;Ve|=4,Yy.current=null,iR(t,n),bT(n,t),MI($p),rf=!!Vp,$p=Vp=null,t.current=n,oR(n),RA(),Ve=a,Je=o,tr.transition=i}else t.current=n;if(Zu&&(Zu=!1,ti=t,bf=s),i=t.pendingLanes,i===0&&(mi=null),zA(n.stateNode),Mn(t,Nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vf)throw vf=!1,t=ag,ag=null,t;return bf&1&&t.tag!==0&&Sa(),i=t.pendingLanes,i&1?t===lg?mc++:(mc=0,lg=t):mc=0,Oi(),null}function Sa(){if(ti!==null){var t=oC(bf),e=tr.transition,n=Je;try{if(tr.transition=null,Je=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,bf=0,Ve&6)throw Error(K(331));var s=Ve;for(Ve|=4,ae=t.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:fc(8,d,i)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,m=d.return;if(yT(d),d===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ae=y;break e}ae=i.return}}var g=t.current;for(ae=g;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=g;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xh(9,a)}}catch(S){xt(a,a.return,S)}if(a===o){ae=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ae=_;break e}ae=a.return}}if(Ve=s,Oi(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(uh,t)}catch{}r=!0}return r}finally{Je=n,tr.transition=e}}return!1}function M0(t,e,n){e=Ga(n,e),e=oT(t,e,1),t=hi(t,e,1),e=yn(),t!==null&&(xu(t,1,e),Mn(t,e))}function xt(t,e,n){if(t.tag===3)M0(t,t,n);else for(;e!==null;){if(e.tag===3){M0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mi===null||!mi.has(r))){t=Ga(n,t),t=aT(e,t,1),e=hi(e,t,1),t=yn(),e!==null&&(xu(e,1,t),Mn(e,t));break}}e=e.return}}function fR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Gt&n)===n&&(Ft===4||Ft===3&&(Gt&130023424)===Gt&&500>Nt()-Qy?xo(t,0):qy|=n),Mn(t,e)}function TT(t,e){e===0&&(t.mode&1?(e=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):e=1);var n=yn();t=_s(t,e),t!==null&&(xu(t,e,n),Mn(t,n))}function hR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TT(t,n)}function mR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),TT(t,n)}var jT;jT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,tR(t,e,n);jn=!!(t.flags&131072)}else jn=!1,ct&&e.flags&1048576&&DC(e,df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Id(t,e),t=e.pendingProps;var s=Ya(e,ln.current);_a(e,n),s=$y(null,e,r,t,s,n);var i=By();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(i=!0,cf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ry(e),s.updater=yh,e.stateNode=s,s._reactInternals=e,Gp(e,r,t,n),e=Jp(null,e,r,!0,i,n)):(e.tag=0,ct&&i&&Py(e),fn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gR(r),t=cr(r,t),s){case 0:e=Zp(null,e,r,t,n);break e;case 1:e=w0(null,e,r,t,n);break e;case 11:e=v0(null,e,r,t,n);break e;case 14:e=b0(null,e,r,cr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),Zp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),w0(t,e,r,s,n);case 3:e:{if(dT(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,LC(t,e),mf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ga(Error(K(423)),e),e=_0(t,e,r,n,s);break e}else if(r!==s){s=Ga(Error(K(424)),e),e=_0(t,e,r,n,s);break e}else for(Ln=fi(e.stateNode.containerInfo.firstChild),zn=e,ct=!0,mr=null,n=RC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),r===s){e=Ss(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return zC(e),t===null&&qp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bp(r,s)?o=null:i!==null&&Bp(r,i)&&(e.flags|=32),uT(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&qp(e),null;case 13:return fT(t,e,n);case 4:return Fy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qa(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),v0(t,e,r,s,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,st(ff,r._currentValue),r._currentValue=o,i!==null)if(wr(i.value,o)){if(i.children===s.children&&!Pn.current){e=Ss(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Qp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_a(e,n),s=nr(s),r=r(s),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,s=cr(r,e.pendingProps),s=cr(r.type,s),b0(t,e,r,s,n);case 15:return lT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),Id(t,e),e.tag=1,En(r)?(t=!0,cf(e)):t=!1,_a(e,n),iT(e,r,s),Gp(e,r,s,n),Jp(null,e,r,!0,t,n);case 19:return hT(t,e,n);case 22:return cT(t,e,n)}throw Error(K(156,e.tag))};function PT(t,e){return nC(t,e)}function pR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new pR(t,e,n,r)}function Zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gR(t){if(typeof t=="function")return Zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yy)return 11;if(t===xy)return 14}return 2}function gi(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ld(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ia:return vo(n.children,s,i,e);case gy:o=8,s|=8;break;case bp:return t=Jn(12,n,e,s|2),t.elementType=bp,t.lanes=i,t;case wp:return t=Jn(13,n,e,s),t.elementType=wp,t.lanes=i,t;case _p:return t=Jn(19,n,e,s),t.elementType=_p,t.lanes=i,t;case zk:return bh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fk:o=10;break e;case Lk:o=9;break e;case yy:o=11;break e;case xy:o=14;break e;case Vs:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vo(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function bh(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=zk,t.lanes=n,t.stateNode={isHidden:!1},t}function Cm(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function Tm(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=am(0),this.expirationTimes=am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=am(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jy(t,e,n,r,s,i,o,a,l){return t=new yR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(i),t}function xR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ET(t){if(!t)return bi;t=t._reactInternals;e:{if(Bo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(En(n))return EC(t,n,e)}return e}function MT(t,e,n,r,s,i,o,a,l){return t=Jy(n,r,!0,t,s,i,o,a,l),t.context=ET(null),n=t.current,r=yn(),s=pi(n),i=gs(r,s),i.callback=e??null,hi(n,i,s),t.current.lanes=s,xu(t,s,r),Mn(t,r),t}function wh(t,e,n,r){var s=e.current,i=yn(),o=pi(s);return n=ET(n),e.context===null?e.context=n:e.pendingContext=n,e=gs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(s,e,o),t!==null&&(vr(t,s,o,i),Dd(t,s,o)),o}function _f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ex(t,e){D0(t,e),(t=t.alternate)&&D0(t,e)}function vR(){return null}var DT=typeof reportError=="function"?reportError:function(t){console.error(t)};function tx(t){this._internalRoot=t}_h.prototype.render=tx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));wh(t,e,null,null)};_h.prototype.unmount=tx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;To(function(){wh(null,t,null,null)}),e[ws]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var e=cC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bs.length&&e!==0&&e<Bs[n].priority;n++);Bs.splice(n,0,t),n===0&&dC(t)}};function nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O0(){}function bR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=_f(o);i.call(u)}}var o=MT(e,r,t,0,null,!1,!1,"",O0);return t._reactRootContainer=o,t[ws]=o.current,Oc(t.nodeType===8?t.parentNode:t),To(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=_f(l);a.call(u)}}var l=Jy(t,0,!1,null,null,!1,!1,"",O0);return t._reactRootContainer=l,t[ws]=l.current,Oc(t.nodeType===8?t.parentNode:t),To(function(){wh(e,l,n,r)}),l}function Nh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=_f(o);a.call(l)}}wh(e,o,t,s)}else o=bR(n,e,t,s,r);return _f(o)}aC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(wy(e,n|1),Mn(e,Nt()),!(Ve&6)&&(Xa=Nt()+500,Oi()))}break;case 13:To(function(){var r=_s(t,1);if(r!==null){var s=yn();vr(r,t,1,s)}}),ex(t,1)}};_y=function(t){if(t.tag===13){var e=_s(t,134217728);if(e!==null){var n=yn();vr(e,t,134217728,n)}ex(t,134217728)}};lC=function(t){if(t.tag===13){var e=pi(t),n=_s(t,e);if(n!==null){var r=yn();vr(n,t,e,r)}ex(t,e)}};cC=function(){return Je};uC=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Dp=function(t,e,n){switch(e){case"input":if(kp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=mh(r);if(!s)throw Error(K(90));$k(r),kp(r,s)}}}break;case"textarea":Uk(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};Gk=Ky;Xk=To;var wR={usingClientEntryPoint:!1,Events:[bu,ca,mh,Qk,Kk,Ky]},Il={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_R={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eC(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||vR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{uh=Ju.inject(_R),Br=Ju}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wR;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nx(e))throw Error(K(200));return xR(t,e,null,n)};Un.createRoot=function(t,e){if(!nx(t))throw Error(K(299));var n=!1,r="",s=DT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jy(t,1,!1,null,null,n,!1,r,s),t[ws]=e.current,Oc(t.nodeType===8?t.parentNode:t),new tx(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=eC(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return To(t)};Un.hydrate=function(t,e,n){if(!Sh(e))throw Error(K(200));return Nh(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!nx(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=DT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MT(e,null,t,1,n??null,s,!1,i,o),t[ws]=e.current,Oc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _h(e)};Un.render=function(t,e,n){if(!Sh(e))throw Error(K(200));return Nh(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!Sh(t))throw Error(K(40));return t._reactRootContainer?(To(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[ws]=null})}),!0):!1};Un.unstable_batchedUpdates=Ky;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Nh(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function OT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OT)}catch(t){console.error(t)}}OT(),Ok.exports=Un;var Uo=Ok.exports;const SR=wk(Uo);var AT,A0=Uo;AT=A0.createRoot,A0.hydrateRoot;function NR(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var IT={exports:{}},RT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=b;function kR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CR=typeof Object.is=="function"?Object.is:kR,TR=Za.useState,jR=Za.useEffect,PR=Za.useLayoutEffect,ER=Za.useDebugValue;function MR(t,e){var n=e(),r=TR({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return PR(function(){s.value=n,s.getSnapshot=e,jm(s)&&i({inst:s})},[t,n,e]),jR(function(){return jm(s)&&i({inst:s}),t(function(){jm(s)&&i({inst:s})})},[t]),ER(n),n}function jm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!CR(t,n)}catch{return!0}}function DR(t,e){return e()}var OR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DR:MR;RT.useSyncExternalStore=Za.useSyncExternalStore!==void 0?Za.useSyncExternalStore:OR;IT.exports=RT;var AR=IT.exports;const IR=fy.useInsertionEffect,RR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FR=RR?b.useLayoutEffect:b.useEffect,LR=IR||FR,FT=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return LR(()=>{e[0]=t}),e[1]},zR="popstate",rx="pushState",sx="replaceState",VR="hashchange",I0=[zR,rx,sx,VR],$R=t=>{for(const e of I0)addEventListener(e,t);return()=>{for(const e of I0)removeEventListener(e,t)}},LT=(t,e)=>AR.useSyncExternalStore($R,t,e),BR=()=>location.search,UR=({ssrSearch:t=""}={})=>LT(BR,()=>t),R0=()=>location.pathname,WR=({ssrPath:t}={})=>LT(R0,t?()=>t:R0),HR=(t,{replace:e=!1,state:n=null}={})=>history[e?sx:rx](n,"",t),YR=(t={})=>[WR(t),HR],F0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[F0]>"u"){for(const t of[rx,sx]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,F0,{value:!0})}const qR=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",zT=(t="")=>t==="/"?"":t,QR=(t,e)=>t[0]==="~"?t.slice(1):zT(e)+t,KR=(t="",e)=>qR(L0(zT(t)),L0(e)),L0=t=>{try{return decodeURI(t)}catch{return t}},VT={hook:YR,searchHook:UR,parser:NR,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},$T=b.createContext(VT),_u=()=>b.useContext($T),BT={},UT=b.createContext(BT),GR=()=>b.useContext(UT),kh=t=>{const[e,n]=t.hook(t);return[KR(t.base,e),FT((r,s)=>n(QR(r,t.base),s))]},wt=()=>kh(_u()),WT=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},XR=({children:t,...e})=>{var d,f;const n=_u(),r=e.hook?VT:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,u=l;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===u&&m!==u[h]&&(a.current=u={...u}),u[h]=m,(m!==r[h]||m!==s[h])&&(s=u)}return b.createElement($T.Provider,{value:s,children:t})},z0=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,ZR=t=>{let e=b.useRef(BT);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},gt=({path:t,nest:e,match:n,...r})=>{const s=_u(),[i]=kh(s),[o,a,l]=n??WT(s.parser,t,i,e),u=ZR({...GR(),...a});if(!o)return null;const d=l?b.createElement(XR,{base:l},z0(r,u)):z0(r,u);return b.createElement(UT.Provider,{value:u,children:d})},zr=b.forwardRef((t,e)=>{const n=_u(),[r,s]=kh(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:f,state:h,...m}=t,v=FT(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),s(o,t)))}),p=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&b.isValidElement(u)?b.cloneElement(u,{onClick:v,href:p}):b.createElement("a",{...m,onClick:v,href:p,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),HT=t=>Array.isArray(t)?t.flatMap(e=>HT(e&&e.type===b.Fragment?e.props.children:e)):[t],JR=({children:t,location:e})=>{const n=_u(),[r]=kh(n);for(const s of HT(t)){let i=0;if(b.isValidElement(s)&&(i=WT(n.parser,s.props.path,e||r,s.props.nest))[0])return b.cloneElement(s,{match:i})}return null};var gl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jo=typeof window>"u"||"Deno"in globalThis;function hn(){}function eF(t,e){return typeof t=="function"?t(e):t}function dg(t){return typeof t=="number"&&t>=0&&t!==1/0}function YT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yi(t,e){return typeof t=="function"?t(e):t}function Gn(t,e){return typeof t=="function"?t(e):t}function V0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ix(o,e.options))return!1}else if(!Bc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function $0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Po(e.options.mutationKey)!==Po(i))return!1}else if(!Bc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ix(t,e){return((e==null?void 0:e.queryKeyHashFn)||Po)(t)}function Po(t){return JSON.stringify(t,(e,n)=>fg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bc(t[n],e[n])):!1}function qT(t,e){if(t===e)return t;const n=B0(t)&&B0(e);if(n||fg(t)&&fg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=qT(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function Sf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function B0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fg(t){if(!U0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!U0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function U0(t){return Object.prototype.toString.call(t)==="[object Object]"}function tF(t){return new Promise(e=>{setTimeout(e,t)})}function hg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qT(t,e):e}function nF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function rF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ox=Symbol();function QT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ox?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function KT(t,e){return typeof t=="function"?t(...e):!!t}var lo,Ws,Oa,P_,sF=(P_=class extends gl{constructor(){super();he(this,lo);he(this,Ws);he(this,Oa);re(this,Oa,e=>{if(!jo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,Ws)||this.setEventListener(E(this,Oa))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Ws))==null||e.call(this),re(this,Ws,void 0))}setEventListener(e){var n;re(this,Oa,e),(n=E(this,Ws))==null||n.call(this),re(this,Ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){E(this,lo)!==e&&(re(this,lo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof E(this,lo)=="boolean"?E(this,lo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},lo=new WeakMap,Ws=new WeakMap,Oa=new WeakMap,P_),ax=new sF,Aa,Hs,Ia,E_,iF=(E_=class extends gl{constructor(){super();he(this,Aa,!0);he(this,Hs);he(this,Ia);re(this,Ia,e=>{if(!jo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Hs)||this.setEventListener(E(this,Ia))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Hs))==null||e.call(this),re(this,Hs,void 0))}setEventListener(e){var n;re(this,Ia,e),(n=E(this,Hs))==null||n.call(this),re(this,Hs,e(this.setOnline.bind(this)))}setOnline(e){E(this,Aa)!==e&&(re(this,Aa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return E(this,Aa)}},Aa=new WeakMap,Hs=new WeakMap,Ia=new WeakMap,E_),Nf=new iF;function mg(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function oF(t){return Math.min(1e3*2**t,3e4)}function GT(t){return(t??"online")==="online"?Nf.isOnline():!0}var XT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Pm(t){return t instanceof XT}function ZT(t){let e=!1,n=0,r=!1,s;const i=mg(),o=p=>{var x;r||(h(new XT(p)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>ax.isFocused()&&(t.networkMode==="always"||Nf.isOnline())&&t.canRun(),d=()=>GT(t.networkMode)&&t.canRun(),f=p=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,p),s==null||s(),i.resolve(p))},h=p=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var x;s=y=>{(r||u())&&p(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var p;s=void 0,r||(p=t.onContinue)==null||p.call(t)}),v=()=>{if(r)return;let p;const x=n===0?t.initialPromise:void 0;try{p=x??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var N;if(r)return;const g=t.retry??(jo?0:3),w=t.retryDelay??oF,_=typeof w=="function"?w(n,y):w,S=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,y);if(e||!S){h(y);return}n++,(N=t.onFail)==null||N.call(t,n,y),tF(_).then(()=>u()?void 0:m()).then(()=>{e?h(y):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),i)}}var aF=t=>setTimeout(t,0);function lF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=aF;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var It=lF(),co,M_,JT=(M_=class{constructor(){he(this,co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dg(this.gcTime)&&re(this,co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jo?1/0:5*60*1e3))}clearGcTimeout(){E(this,co)&&(clearTimeout(E(this,co)),re(this,co,void 0))}},co=new WeakMap,M_),Ra,uo,Qn,fo,nn,hu,ho,ur,ns,D_,cF=(D_=class extends JT{constructor(e){super();he(this,ur);he(this,Ra);he(this,uo);he(this,Qn);he(this,fo);he(this,nn);he(this,hu);he(this,ho);re(this,ho,!1),re(this,hu,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,fo,e.client),re(this,Qn,E(this,fo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Ra,uF(this.options)),this.state=e.state??E(this,Ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,nn))==null?void 0:e.promise}setOptions(e){this.options={...E(this,hu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Qn).remove(this)}setData(e,n){const r=hg(this.state.data,e,this.options);return ke(this,ur,ns).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ke(this,ur,ns).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=E(this,nn))==null?void 0:r.promise;return(s=E(this,nn))==null||s.cancel(e),n?n.then(hn).catch(hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Ra))}isActive(){return this.observers.some(e=>Gn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ox||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!YT(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,nn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,nn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,Qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(E(this,nn)&&(E(this,ho)?E(this,nn).cancel({revert:!0}):E(this,nn).cancelRetry()),this.scheduleGc()),E(this,Qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,ur,ns).call(this,{type:"invalidate"})}fetch(e,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,nn))return E(this,nn).continueRetry(),E(this,nn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(re(this,ho,!0),r.signal)})},i=()=>{const h=QT(this.options,n),v=(()=>{const p={client:E(this,fo),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return re(this,ho,!1),this.options.persister?this.options.persister(h,v,this):h(v)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,fo),state:this.state,fetchFn:i};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),re(this,uo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ke(this,ur,ns).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,p,x;Pm(h)&&h.silent||ke(this,ur,ns).call(this,{type:"error",error:h}),Pm(h)||((v=(m=E(this,Qn).config).onError)==null||v.call(m,h,this),(x=(p=E(this,Qn).config).onSettled)==null||x.call(p,this.state.data,h,this)),this.scheduleGc()};return re(this,nn,ZT({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,v,p,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(v=(m=E(this,Qn).config).onSuccess)==null||v.call(m,h,this),(x=(p=E(this,Qn).config).onSettled)==null||x.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{ke(this,ur,ns).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ke(this,ur,ns).call(this,{type:"pause"})},onContinue:()=>{ke(this,ur,ns).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),E(this,nn).start()}},Ra=new WeakMap,uo=new WeakMap,Qn=new WeakMap,fo=new WeakMap,nn=new WeakMap,hu=new WeakMap,ho=new WeakMap,ur=new WeakSet,ns=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ej(r.data,this.options),fetchMeta:e.meta??null};case"success":return re(this,uo,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Pm(s)&&s.revert&&E(this,uo)?{...E(this,uo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),It.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Qn).notify({query:this,type:"updated",action:e})})},D_);function ej(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dr,O_,dF=(O_=class extends gl{constructor(e={}){super();he(this,Dr);this.config=e,re(this,Dr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ix(s,n);let o=this.get(i);return o||(o=new cF({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){E(this,Dr).has(e.queryHash)||(E(this,Dr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=E(this,Dr).get(e.queryHash);n&&(e.destroy(),n===e&&E(this,Dr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,Dr).get(e)}getAll(){return[...E(this,Dr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>V0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>V0(e,r)):n}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dr=new WeakMap,O_),Or,un,mo,Ar,Ls,A_,fF=(A_=class extends JT{constructor(e){super();he(this,Ar);he(this,Or);he(this,un);he(this,mo);this.mutationId=e.mutationId,re(this,un,e.mutationCache),re(this,Or,[]),this.state=e.state||tj(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Or).includes(e)||(E(this,Or).push(e),this.clearGcTimeout(),E(this,un).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,Or,E(this,Or).filter(n=>n!==e)),this.scheduleGc(),E(this,un).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Or).length||(this.state.status==="pending"?this.scheduleGc():E(this,un).remove(this))}continue(){var e;return((e=E(this,mo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,d,f,h,m,v,p,x,y,g,w,_,S,N,C,T;const n=()=>{ke(this,Ar,Ls).call(this,{type:"continue"})};re(this,mo,ZT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{ke(this,Ar,Ls).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{ke(this,Ar,Ls).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,un).canRun(this)}));const r=this.state.status==="pending",s=!E(this,mo).canStart();try{if(r)n();else{ke(this,Ar,Ls).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=E(this,un).config).onMutate)==null?void 0:o.call(i,e,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));O!==this.state.context&&ke(this,Ar,Ls).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const P=await E(this,mo).start();return await((d=(u=E(this,un).config).onSuccess)==null?void 0:d.call(u,P,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,e,this.state.context)),await((v=(m=E(this,un).config).onSettled)==null?void 0:v.call(m,P,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,P,null,e,this.state.context)),ke(this,Ar,Ls).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(y=E(this,un).config).onError)==null?void 0:g.call(y,P,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,P,e,this.state.context)),await((N=(S=E(this,un).config).onSettled)==null?void 0:N.call(S,void 0,P,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,P,e,this.state.context)),P}finally{ke(this,Ar,Ls).call(this,{type:"error",error:P})}}finally{E(this,un).runNext(this)}}},Or=new WeakMap,un=new WeakMap,mo=new WeakMap,Ar=new WeakSet,Ls=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),It.batch(()=>{E(this,Or).forEach(r=>{r.onMutationUpdate(e)}),E(this,un).notify({mutation:this,type:"updated",action:e})})},A_);function tj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var us,dr,mu,I_,hF=(I_=class extends gl{constructor(e={}){super();he(this,us);he(this,dr);he(this,mu);this.config=e,re(this,us,new Set),re(this,dr,new Map),re(this,mu,0)}build(e,n,r){const s=new fF({mutationCache:this,mutationId:++Ru(this,mu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){E(this,us).add(e);const n=ed(e);if(typeof n=="string"){const r=E(this,dr).get(n);r?r.push(e):E(this,dr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(E(this,us).delete(e)){const n=ed(e);if(typeof n=="string"){const r=E(this,dr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&E(this,dr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ed(e);if(typeof n=="string"){const r=E(this,dr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ed(e);if(typeof n=="string"){const s=(r=E(this,dr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{E(this,us).forEach(e=>{this.notify({type:"removed",mutation:e})}),E(this,us).clear(),E(this,dr).clear()})}getAll(){return Array.from(E(this,us))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$0(n,r))}findAll(e={}){return this.getAll().filter(n=>$0(e,n))}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return It.batch(()=>Promise.all(e.map(n=>n.continue().catch(hn))))}},us=new WeakMap,dr=new WeakMap,mu=new WeakMap,I_);function ed(t){var e;return(e=t.options.scope)==null?void 0:e.id}function W0(t){return{onFetch:(e,n)=>{var d,f,h,m,v;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=QT(e.options,e.fetchOptions),g=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return x(F),F})(),T=await y(C),{maxPages:P}=e.options,O=S?rF:nF;return{pages:O(w.pages,T,P),pageParams:O(w.pageParams,_,P)}};if(s&&i.length){const w=s==="backward",_=w?mF:H0,S={pages:i,pageParams:o},N=_(r,S);a=await g(S,N,w)}else{const w=t??i.length;do{const _=l===0?o[0]??r.initialPageParam:H0(r,a);if(l>0&&_==null)break;a=await g(a,_),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var p,x;return(x=(p=e.options).persister)==null?void 0:x.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function H0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function mF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var yt,Ys,qs,Fa,La,Qs,za,Va,R_,pF=(R_=class{constructor(t={}){he(this,yt);he(this,Ys);he(this,qs);he(this,Fa);he(this,La);he(this,Qs);he(this,za);he(this,Va);re(this,yt,t.queryCache||new dF),re(this,Ys,t.mutationCache||new hF),re(this,qs,t.defaultOptions||{}),re(this,Fa,new Map),re(this,La,new Map),re(this,Qs,0)}mount(){Ru(this,Qs)._++,E(this,Qs)===1&&(re(this,za,ax.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,yt).onFocus())})),re(this,Va,Nf.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,yt).onOnline())})))}unmount(){var t,e;Ru(this,Qs)._--,E(this,Qs)===0&&((t=E(this,za))==null||t.call(this),re(this,za,void 0),(e=E(this,Va))==null||e.call(this),re(this,Va,void 0))}isFetching(t){return E(this,yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,Ys).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,yt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=E(this,yt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return E(this,yt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=E(this,yt).get(r.queryHash),i=s==null?void 0:s.state.data,o=eF(e,i);if(o!==void 0)return E(this,yt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return It.batch(()=>E(this,yt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,yt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=E(this,yt);It.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=E(this,yt);return It.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=It.batch(()=>E(this,yt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hn).catch(hn)}invalidateQueries(t,e={}){return It.batch(()=>(E(this,yt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=It.batch(()=>E(this,yt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=E(this,yt).build(this,e);return n.isStaleByTime(yi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hn).catch(hn)}fetchInfiniteQuery(t){return t.behavior=W0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hn).catch(hn)}ensureInfiniteQueryData(t){return t.behavior=W0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nf.isOnline()?E(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,yt)}getMutationCache(){return E(this,Ys)}getDefaultOptions(){return E(this,qs)}setDefaultOptions(t){re(this,qs,t)}setQueryDefaults(t,e){E(this,Fa).set(Po(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,Fa).values()],n={};return e.forEach(r=>{Bc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){E(this,La).set(Po(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,La).values()],n={};return e.forEach(r=>{Bc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ix(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ox&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,yt).clear(),E(this,Ys).clear()}},yt=new WeakMap,Ys=new WeakMap,qs=new WeakMap,Fa=new WeakMap,La=new WeakMap,Qs=new WeakMap,za=new WeakMap,Va=new WeakMap,R_),Sn,Ie,pu,dn,po,$a,Ks,Gs,gu,Ba,Ua,go,yo,Xs,Wa,qe,Jl,pg,gg,yg,xg,vg,bg,wg,nj,F_,gF=(F_=class extends gl{constructor(e,n){super();he(this,qe);he(this,Sn);he(this,Ie);he(this,pu);he(this,dn);he(this,po);he(this,$a);he(this,Ks);he(this,Gs);he(this,gu);he(this,Ba);he(this,Ua);he(this,go);he(this,yo);he(this,Xs);he(this,Wa,new Set);this.options=n,re(this,Sn,e),re(this,Gs,null),re(this,Ks,mg()),this.options.experimental_prefetchInRender||E(this,Ks).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Ie).addObserver(this),Y0(E(this,Ie),this.options)?ke(this,qe,Jl).call(this):this.updateResult(),ke(this,qe,xg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _g(E(this,Ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _g(E(this,Ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,qe,vg).call(this),ke(this,qe,bg).call(this),E(this,Ie).removeObserver(this)}setOptions(e){const n=this.options,r=E(this,Ie);if(this.options=E(this,Sn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gn(this.options.enabled,E(this,Ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,qe,wg).call(this),E(this,Ie).setOptions(this.options),n._defaulted&&!Sf(this.options,n)&&E(this,Sn).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Ie),observer:this});const s=this.hasListeners();s&&q0(E(this,Ie),r,this.options,n)&&ke(this,qe,Jl).call(this),this.updateResult(),s&&(E(this,Ie)!==r||Gn(this.options.enabled,E(this,Ie))!==Gn(n.enabled,E(this,Ie))||yi(this.options.staleTime,E(this,Ie))!==yi(n.staleTime,E(this,Ie)))&&ke(this,qe,pg).call(this);const i=ke(this,qe,gg).call(this);s&&(E(this,Ie)!==r||Gn(this.options.enabled,E(this,Ie))!==Gn(n.enabled,E(this,Ie))||i!==E(this,Xs))&&ke(this,qe,yg).call(this,i)}getOptimisticResult(e){const n=E(this,Sn).getQueryCache().build(E(this,Sn),e),r=this.createResult(n,e);return xF(this,r)&&(re(this,dn,r),re(this,$a,this.options),re(this,po,E(this,Ie).state)),r}getCurrentResult(){return E(this,dn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(e){E(this,Wa).add(e)}getCurrentQuery(){return E(this,Ie)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=E(this,Sn).defaultQueryOptions(e),r=E(this,Sn).getQueryCache().build(E(this,Sn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ke(this,qe,Jl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,dn)))}createResult(e,n){var P;const r=E(this,Ie),s=this.options,i=E(this,dn),o=E(this,po),a=E(this,$a),u=e!==r?e.state:E(this,pu),{state:d}=e;let f={...d},h=!1,m;if(n._optimisticResults){const O=this.hasListeners(),F=!O&&Y0(e,n),A=O&&q0(e,r,n,s);(F||A)&&(f={...f,...ej(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:x}=f;m=f.data;let y=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(O=i.data,y=!0):O=typeof n.placeholderData=="function"?n.placeholderData((P=E(this,Ua))==null?void 0:P.state.data,E(this,Ua)):n.placeholderData,O!==void 0&&(x="success",m=hg(i==null?void 0:i.data,O,n),h=!0)}if(n.select&&m!==void 0&&!y)if(i&&m===(o==null?void 0:o.data)&&n.select===E(this,gu))m=E(this,Ba);else try{re(this,gu,n.select),m=n.select(m),m=hg(i==null?void 0:i.data,m,n),re(this,Ba,m),re(this,Gs,null)}catch(O){re(this,Gs,O)}E(this,Gs)&&(v=E(this,Gs),m=E(this,Ba),p=Date.now(),x="error");const g=f.fetchStatus==="fetching",w=x==="pending",_=x==="error",S=w&&g,N=m!==void 0,T={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:_&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&N,isStale:lx(e,n),refetch:this.refetch,promise:E(this,Ks),isEnabled:Gn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=$=>{T.status==="error"?$.reject(T.error):T.data!==void 0&&$.resolve(T.data)},F=()=>{const $=re(this,Ks,T.promise=mg());O($)},A=E(this,Ks);switch(A.status){case"pending":e.queryHash===r.queryHash&&O(A);break;case"fulfilled":(T.status==="error"||T.data!==A.value)&&F();break;case"rejected":(T.status!=="error"||T.error!==A.reason)&&F();break}}return T}updateResult(){const e=E(this,dn),n=this.createResult(E(this,Ie),this.options);if(re(this,po,E(this,Ie).state),re(this,$a,this.options),E(this,po).data!==void 0&&re(this,Ua,E(this,Ie)),Sf(n,e))return;re(this,dn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!E(this,Wa).size)return!0;const o=new Set(i??E(this,Wa));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,dn)).some(a=>{const l=a;return E(this,dn)[l]!==e[l]&&o.has(l)})};ke(this,qe,nj).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,qe,xg).call(this)}},Sn=new WeakMap,Ie=new WeakMap,pu=new WeakMap,dn=new WeakMap,po=new WeakMap,$a=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,gu=new WeakMap,Ba=new WeakMap,Ua=new WeakMap,go=new WeakMap,yo=new WeakMap,Xs=new WeakMap,Wa=new WeakMap,qe=new WeakSet,Jl=function(e){ke(this,qe,wg).call(this);let n=E(this,Ie).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(hn)),n},pg=function(){ke(this,qe,vg).call(this);const e=yi(this.options.staleTime,E(this,Ie));if(jo||E(this,dn).isStale||!dg(e))return;const r=YT(E(this,dn).dataUpdatedAt,e)+1;re(this,go,setTimeout(()=>{E(this,dn).isStale||this.updateResult()},r))},gg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Ie)):this.options.refetchInterval)??!1},yg=function(e){ke(this,qe,bg).call(this),re(this,Xs,e),!(jo||Gn(this.options.enabled,E(this,Ie))===!1||!dg(E(this,Xs))||E(this,Xs)===0)&&re(this,yo,setInterval(()=>{(this.options.refetchIntervalInBackground||ax.isFocused())&&ke(this,qe,Jl).call(this)},E(this,Xs)))},xg=function(){ke(this,qe,pg).call(this),ke(this,qe,yg).call(this,ke(this,qe,gg).call(this))},vg=function(){E(this,go)&&(clearTimeout(E(this,go)),re(this,go,void 0))},bg=function(){E(this,yo)&&(clearInterval(E(this,yo)),re(this,yo,void 0))},wg=function(){const e=E(this,Sn).getQueryCache().build(E(this,Sn),this.options);if(e===E(this,Ie))return;const n=E(this,Ie);re(this,Ie,e),re(this,pu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},nj=function(e){It.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(E(this,dn))}),E(this,Sn).getQueryCache().notify({query:E(this,Ie),type:"observerResultsUpdated"})})},F_);function yF(t,e){return Gn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Y0(t,e){return yF(t,e)||t.state.data!==void 0&&_g(t,e,e.refetchOnMount)}function _g(t,e,n){if(Gn(e.enabled,t)!==!1&&yi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&lx(t,e)}return!1}function q0(t,e,n,r){return(t!==e||Gn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&lx(t,n)}function lx(t,e){return Gn(e.enabled,t)!==!1&&t.isStaleByTime(yi(e.staleTime,t))}function xF(t,e){return!Sf(t.getCurrentResult(),e)}var Zs,Js,Nn,ds,vs,zd,Sg,L_,vF=(L_=class extends gl{constructor(n,r){super();he(this,vs);he(this,Zs);he(this,Js);he(this,Nn);he(this,ds);re(this,Zs,n),this.setOptions(r),this.bindMethods(),ke(this,vs,zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=E(this,Zs).defaultMutationOptions(n),Sf(this.options,r)||E(this,Zs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Nn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Po(r.mutationKey)!==Po(this.options.mutationKey)?this.reset():((s=E(this,Nn))==null?void 0:s.state.status)==="pending"&&E(this,Nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,Nn))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,vs,zd).call(this),ke(this,vs,Sg).call(this,n)}getCurrentResult(){return E(this,Js)}reset(){var n;(n=E(this,Nn))==null||n.removeObserver(this),re(this,Nn,void 0),ke(this,vs,zd).call(this),ke(this,vs,Sg).call(this)}mutate(n,r){var s;return re(this,ds,r),(s=E(this,Nn))==null||s.removeObserver(this),re(this,Nn,E(this,Zs).getMutationCache().build(E(this,Zs),this.options)),E(this,Nn).addObserver(this),E(this,Nn).execute(n)}},Zs=new WeakMap,Js=new WeakMap,Nn=new WeakMap,ds=new WeakMap,vs=new WeakSet,zd=function(){var r;const n=((r=E(this,Nn))==null?void 0:r.state)??tj();re(this,Js,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Sg=function(n){It.batch(()=>{var r,s,i,o,a,l,u,d;if(E(this,ds)&&this.hasListeners()){const f=E(this,Js).variables,h=E(this,Js).context;(n==null?void 0:n.type)==="success"?((s=(r=E(this,ds)).onSuccess)==null||s.call(r,n.data,f,h),(o=(i=E(this,ds)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((l=(a=E(this,ds)).onError)==null||l.call(a,n.error,f,h),(d=(u=E(this,ds)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(E(this,Js))})})},L_),rj=b.createContext(void 0),Dn=t=>{const e=b.useContext(rj);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bF=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(rj.Provider,{value:t,children:e})),sj=b.createContext(!1),wF=()=>b.useContext(sj);sj.Provider;function _F(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var SF=b.createContext(_F()),NF=()=>b.useContext(SF),kF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},CF=t=>{b.useEffect(()=>{t.clearReset()},[t])},TF=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||KT(n,[t.error,r])),jF=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},PF=(t,e)=>t.isLoading&&t.isFetching&&!e,EF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Q0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function MF(t,e,n){var f,h,m,v,p;const r=wF(),s=NF(),i=Dn(),o=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",jF(o),kF(o,s),CF(s);const a=!i.getQueryCache().get(o.queryHash),[l]=b.useState(()=>new e(i,o)),u=l.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const y=d?l.subscribe(It.batchCalls(x)):hn;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(o)},[o,l]),EF(o,u))throw Q0(o,l,s);if(TF({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,u),o.experimental_prefetchInRender&&!jo&&PF(u,r)){const x=a?Q0(o,l,s):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;x==null||x.catch(hn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Dt(t,e){return MF(t,gF)}function Mt(t,e){const n=Dn(),[r]=b.useState(()=>new vF(n,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const s=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(It.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,a)=>{r.mutate(o,a).catch(hn)},[r]);if(s.error&&KT(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function DF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}function ij(){return window.location.origin}async function Ae(t,e,n){const r=localStorage.getItem("authToken"),s={};let i;n instanceof FormData?i=n:n&&(s["Content-Type"]="application/json",i=JSON.stringify(n)),r&&(s.Authorization=`Bearer ${r}`);const o=ij(),a=e.startsWith("http")?e:`${o}${e}`,l=await fetch(a,{method:t,headers:s,body:i,credentials:"include"});if(!l.ok){const d=await l.text()||l.statusText;throw console.error("API Error:",l.status,d),l.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),new Error(`${l.status}: ${d}`)}if(l.status===204)return null;const u=l.headers.get("Content-Type");return u&&u.includes("application/json")?l.json():l.text()}const oj=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("authToken"),r={};n&&(r.Authorization=`Bearer ${n}`);const s=ij(),i=e.join("/"),o=i.startsWith("http")?i:`${s}${i}`,a=await fetch(o,{headers:r,credentials:"include"});return t==="returnNull"&&a.status===401?(localStorage.removeItem("authToken"),null):(a.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),await DF(a),await a.json())},Gi=new pF({defaultOptions:{queries:{queryFn:oj({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),OF=1,AF=1e6;let Em=0;function IF(){return Em=(Em+1)%Number.MAX_SAFE_INTEGER,Em.toString()}const Mm=new Map,K0=t=>{if(Mm.has(t))return;const e=setTimeout(()=>{Mm.delete(t),pc({type:"REMOVE_TOAST",toastId:t})},AF);Mm.set(t,e)},RF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,OF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?K0(n):t.toasts.forEach(r=>{K0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vd=[];let $d={toasts:[]};function pc(t){$d=RF($d,t),Vd.forEach(e=>{e($d)})}function FF({...t}){const e=IF(),n=s=>pc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>pc({type:"DISMISS_TOAST",toastId:e});return pc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Bt(){const[t,e]=b.useState($d);return b.useEffect(()=>(Vd.push(e),()=>{const n=Vd.indexOf(e);n>-1&&Vd.splice(n,1)}),[t]),{...t,toast:FF,dismiss:n=>pc({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function G0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aj(...t){return e=>{let n=!1;const r=t.map(s=>{const i=G0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():G0(t[s],null)}}}}function We(...t){return b.useCallback(aj(...t),t)}function LF(t,e){const n=b.createContext(e),r=i=>{const{children:o,...a}=i,l=b.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Wo(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const u=f=>{var y;const{scope:h,children:m,...v}=f,p=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,x=b.useMemo(()=>v,Object.values(v));return c.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,v=b.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,zF(s,...e)]}function zF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ja(t){const e=VF(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(BF);if(l){const u=l.props.children,d=a.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var lj=Ja("Slot");function VF(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=WF(s),a=UF(i,s.props);return s.type!==b.Fragment&&(a.ref=r?aj(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cj=Symbol("radix.slottable");function $F(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cj,e}function BF(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cj}function UF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function WF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cx(t){const e=t+"CollectionProvider",[n,r]=Wo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:y}=p,g=ye.useRef(null),w=ye.useRef(new Map).current;return c.jsx(s,{scope:x,itemMap:w,collectionRef:g,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Ja(a),u=ye.forwardRef((p,x)=>{const{scope:y,children:g}=p,w=i(a,y),_=We(x,w.collectionRef);return c.jsx(l,{ref:_,children:g})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ja(d),m=ye.forwardRef((p,x)=>{const{scope:y,children:g,...w}=p,_=ye.useRef(null),S=We(x,_),N=i(d,y);return ye.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),c.jsx(h,{[f]:"",ref:S,children:g})});m.displayName=d;function v(p){const x=i(t+"CollectionConsumer",p);return ye.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((N,C)=>w.indexOf(N.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,r]}var HF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=HF.reduce((t,e)=>{const n=Ja(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function uj(t,e){t&&Uo.flushSync(()=>t.dispatchEvent(e))}function _r(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function YF(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qF="DismissableLayer",Ng="dismissableLayer.update",QF="dismissableLayer.pointerDownOutside",KF="dismissableLayer.focusOutside",X0,dj=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Su=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=b.useContext(dj),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),v=We(e,C=>f(C)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),g=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=y,S=XF(C=>{const T=C.target,P=[...u.branches].some(O=>O.contains(T));!_||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),N=ZF(C=>{const T=C.target;[...u.branches].some(O=>O.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return YF(C=>{g===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(X0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Z0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=X0)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Z0())},[d,u]),b.useEffect(()=>{const C=()=>m({});return document.addEventListener(Ng,C),()=>document.removeEventListener(Ng,C)},[]),c.jsx(Pe.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,N.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,S.onPointerDownCapture)})});Su.displayName=qF;var GF="DismissableLayerBranch",fj=b.forwardRef((t,e)=>{const n=b.useContext(dj),r=b.useRef(null),s=We(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Pe.div,{...t,ref:s})});fj.displayName=GF;function XF(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){hj(QF,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ZF(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&hj(KF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Z0(){const t=new CustomEvent(Ng);document.dispatchEvent(t)}function hj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uj(s,i):s.dispatchEvent(i)}var JF=Su,eL=fj,Zt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},tL="Portal",Ch=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Zt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?SR.createPortal(c.jsx(Pe.div,{...r,ref:e}),o):null});Ch.displayName=tL;function nL(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var yl=t=>{const{present:e,children:n}=t,r=rL(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=We(r.ref,sL(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};yl.displayName="Presence";function rL(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=td(r.current);i.current=a==="mounted"?u:"none"},[a]),Zt(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,m=td(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Zt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const p=td(r.current).includes(m.animationName);if(m.target===e&&p&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=m=>{m.target===e&&(i.current=td(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function td(t){return(t==null?void 0:t.animationName)||"none"}function sL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iL=fy[" useInsertionEffect ".trim().toString()]||Zt;function Uc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=oL({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=b.useCallback(d=>{var f;if(a){const h=aL(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,t,i,o]);return[l,u]}function oL({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return iL(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function aL(t){return typeof t=="function"}var mj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lL="VisuallyHidden",Th=b.forwardRef((t,e)=>c.jsx(Pe.span,{...t,ref:e,style:{...mj,...t.style}}));Th.displayName=lL;var cL=Th,ux="ToastProvider",[dx,uL,dL]=cx("Toast"),[pj,Dq]=Wo("Toast",[dL]),[fL,jh]=pj(ux),gj=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ux}\`. Expected non-empty \`string\`.`),c.jsx(dx.Provider,{scope:e,children:c.jsx(fL,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};gj.displayName=ux;var yj="ToastViewport",hL=["F8"],kg="toast.viewportPause",Cg="toast.viewportResume",xj=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hL,label:s="Notifications ({hotkey})",...i}=t,o=jh(yj,n),a=uL(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=We(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;b.useEffect(()=>{const x=y=>{var w;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),b.useEffect(()=>{const x=l.current,y=f.current;if(v&&x&&y){const g=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(kg);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Cg);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},_=N=>{!x.contains(N.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",g),x.addEventListener("focusout",_),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:x})=>{const g=a().map(w=>{const _=w.ref.current,S=[_,...CL(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?g.reverse():g).flat()},[a]);return b.useEffect(()=>{const x=f.current;if(x){const y=g=>{var S,N,C;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const T=document.activeElement,P=g.shiftKey;if(g.target===x&&P){(S=u.current)==null||S.focus();return}const A=p({tabbingDirection:P?"backwards":"forwards"}),$=A.findIndex(V=>V===T);Dm(A.slice($+1))?g.preventDefault():P?(N=u.current)==null||N.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,p]),c.jsxs(eL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(Tg,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Dm(x)}}),c.jsx(dx.Slot,{scope:n,children:c.jsx(Pe.ol,{tabIndex:-1,...i,ref:h})}),v&&c.jsx(Tg,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Dm(x)}})]})});xj.displayName=yj;var vj="ToastFocusProxy",Tg=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=jh(vj,n);return c.jsx(Th,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Tg.displayName=vj;var Nu="Toast",mL="toast.swipeStart",pL="toast.swipeMove",gL="toast.swipeCancel",yL="toast.swipeEnd",bj=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Uc({prop:r,defaultProp:s??!0,onChange:i,caller:Nu});return c.jsx(yl,{present:n||a,children:c.jsx(bL,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:_r(t.onPause),onResume:_r(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});bj.displayName=Nu;var[xL,vL]=pj(Nu,{onClose(){}}),bL=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=t,p=jh(Nu,n),[x,y]=b.useState(null),g=We(e,V=>y(V)),w=b.useRef(null),_=b.useRef(null),S=s||p.duration,N=b.useRef(0),C=b.useRef(S),T=b.useRef(0),{onToastAdd:P,onToastRemove:O}=p,F=_r(()=>{var I;(x==null?void 0:x.contains(document.activeElement))&&((I=p.viewport)==null||I.focus()),o()}),A=b.useCallback(V=>{!V||V===1/0||(window.clearTimeout(T.current),N.current=new Date().getTime(),T.current=window.setTimeout(F,V))},[F]);b.useEffect(()=>{const V=p.viewport;if(V){const I=()=>{A(C.current),u==null||u()},z=()=>{const B=new Date().getTime()-N.current;C.current=C.current-B,window.clearTimeout(T.current),l==null||l()};return V.addEventListener(kg,z),V.addEventListener(Cg,I),()=>{V.removeEventListener(kg,z),V.removeEventListener(Cg,I)}}},[p.viewport,S,l,u,A]),b.useEffect(()=>{i&&!p.isClosePausedRef.current&&A(S)},[i,S,p.isClosePausedRef,A]),b.useEffect(()=>(P(),()=>O()),[P,O]);const $=b.useMemo(()=>x?Tj(x):null,[x]);return p.viewport?c.jsxs(c.Fragment,{children:[$&&c.jsx(wL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),c.jsx(xL,{scope:n,onClose:F,children:Uo.createPortal(c.jsx(dx.ItemSlot,{scope:n,children:c.jsx(JF,{asChild:!0,onEscapeKeyDown:xe(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||F(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:xe(t.onPointerDown,V=>{V.button===0&&(w.current={x:V.clientX,y:V.clientY})}),onPointerMove:xe(t.onPointerMove,V=>{if(!w.current)return;const I=V.clientX-w.current.x,z=V.clientY-w.current.y,B=!!_.current,j=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=j?R(0,I):0,W=j?0:R(0,z),G=V.pointerType==="touch"?10:2,ne={x:D,y:W},se={originalEvent:V,delta:ne};B?(_.current=ne,nd(pL,f,se,{discrete:!1})):J0(ne,p.swipeDirection,G)?(_.current=ne,nd(mL,d,se,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(I)>G||Math.abs(z)>G)&&(w.current=null)}),onPointerUp:xe(t.onPointerUp,V=>{const I=_.current,z=V.target;if(z.hasPointerCapture(V.pointerId)&&z.releasePointerCapture(V.pointerId),_.current=null,w.current=null,I){const B=V.currentTarget,j={originalEvent:V,delta:I};J0(I,p.swipeDirection,p.swipeThreshold)?nd(yL,m,j,{discrete:!0}):nd(gL,h,j,{discrete:!0}),B.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),wL=t=>{const{__scopeToast:e,children:n,...r}=t,s=jh(Nu,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return NL(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(Ch,{asChild:!0,children:c.jsx(Th,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},_L="ToastTitle",wj=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Pe.div,{...r,ref:e})});wj.displayName=_L;var SL="ToastDescription",_j=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Pe.div,{...r,ref:e})});_j.displayName=SL;var Sj="ToastAction",Nj=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(Cj,{altText:n,asChild:!0,children:c.jsx(fx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Sj}\`. Expected non-empty \`string\`.`),null)});Nj.displayName=Sj;var kj="ToastClose",fx=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vL(kj,n);return c.jsx(Cj,{asChild:!0,children:c.jsx(Pe.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});fx.displayName=kj;var Cj=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Tj(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),kL(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Tj(r))}}),e}function nd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uj(s,i):s.dispatchEvent(i)}var J0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function NL(t=()=>{}){const e=_r(t);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function kL(t){return t.nodeType===t.ELEMENT_NODE}function CL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var TL=gj,jj=xj,Pj=bj,Ej=wj,Mj=_j,Dj=Nj,Oj=fx;function Aj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Aj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ij(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Aj(t))&&(r&&(r+=" "),r+=e);return r}const eb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tb=Ij,hx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=eb(d)||eb(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...i,...a}[p]):{...i,...a}[p]===x})?[...u,f,h]:u},[]);return tb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rj=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...PL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rj("lucide",s),...a},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(EL,{ref:i,iconNode:e,className:Rj(`lucide-${jL(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Ai("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Ai("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=Ai("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=Ai("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Ai("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=Ai("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Ai("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Ai("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),px="-",IL=t=>{const e=FL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(px);return a[0]===""&&a.length!==1&&a.shift(),zj(a,e)||RL(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},zj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?zj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(px);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},nb=/^\[(.+)\]$/,RL=t=>{if(nb.test(t)){const e=nb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return zL(Object.entries(t.classGroups),n).forEach(([i,o])=>{Pg(o,r,i,e)}),r},Pg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:rb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(LL(s)){Pg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Pg(o,rb(e,i),n,r)})})},rb=(t,e)=>{let n=t;return e.split(px).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LL=t=>t.isThemeGetter,zL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,VL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Vj="!",$L=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let x=0;x<a.length;x++){let y=a[x];if(u===0){if(y===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(y==="/"){f=x;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(Vj),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},BL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},UL=t=>({cache:VL(t.cacheSize),parseClassName:$L(t),...IL(t)}),WL=/\s+/,HL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(WL);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let v=!!m,p=r(v?h.substring(0,m):h);if(!p){if(!v){a=u+(a.length>0?" "+a:a);continue}if(p=r(h),!p){a=u+(a.length>0?" "+a:a);continue}v=!1}const x=BL(d).join(":"),y=f?x+Vj:x,g=y+p;if(i.includes(g))continue;i.push(g);const w=s(p,v);for(let _=0;_<w.length;++_){const S=w[_];i.push(y+S)}a=u+(a.length>0?" "+a:a)}return a};function YL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=$j(e))&&(r&&(r+=" "),r+=n);return r}const $j=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=$j(t[r]))&&(n&&(n+=" "),n+=e);return n};function qL(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=UL(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=HL(l,n);return s(l,d),d}return function(){return i(YL.apply(null,arguments))}}const it=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Bj=/^\[(?:([a-z-]+):)?(.+)\]$/i,QL=/^\d+\/\d+$/,KL=new Set(["px","full","screen"]),GL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=t=>Na(t)||KL.has(t)||QL.test(t),As=t=>xl(t,"length",l4),Na=t=>!!t&&!Number.isNaN(Number(t)),Om=t=>xl(t,"number",Na),Rl=t=>!!t&&Number.isInteger(Number(t)),t4=t=>t.endsWith("%")&&Na(t.slice(0,-1)),Ne=t=>Bj.test(t),Is=t=>GL.test(t),n4=new Set(["length","size","percentage"]),r4=t=>xl(t,n4,Uj),s4=t=>xl(t,"position",Uj),i4=new Set(["image","url"]),o4=t=>xl(t,i4,u4),a4=t=>xl(t,"",c4),Fl=()=>!0,xl=(t,e,n)=>{const r=Bj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},l4=t=>XL.test(t)&&!ZL.test(t),Uj=()=>!1,c4=t=>JL.test(t),u4=t=>e4.test(t),d4=()=>{const t=it("colors"),e=it("spacing"),n=it("blur"),r=it("brightness"),s=it("borderColor"),i=it("borderRadius"),o=it("borderSpacing"),a=it("borderWidth"),l=it("contrast"),u=it("grayscale"),d=it("hueRotate"),f=it("invert"),h=it("gap"),m=it("gradientColorStops"),v=it("gradientColorStopPositions"),p=it("inset"),x=it("margin"),y=it("opacity"),g=it("padding"),w=it("saturate"),_=it("scale"),S=it("sepia"),N=it("skew"),C=it("space"),T=it("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ne,e],A=()=>[Ne,e],$=()=>["",Jr,As],V=()=>["auto",Na,Ne],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ne],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Na,Ne];return{cacheSize:500,separator:":",theme:{colors:[Fl],spacing:[Jr,As],blur:["none","",Is,Ne],brightness:W(),borderColor:[t],borderRadius:["none","","full",Is,Ne],borderSpacing:A(),borderWidth:$(),contrast:W(),grayscale:R(),hueRotate:W(),invert:R(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[t4,As],inset:F(),margin:F(),opacity:W(),padding:A(),saturate:W(),scale:W(),sepia:R(),skew:W(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Is]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ne]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,Ne]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Rl,Ne]}],"grid-cols":[{"grid-cols":[Fl]}],"col-start-end":[{col:["auto",{span:["full",Rl,Ne]},Ne]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Fl]}],"row-start-end":[{row:["auto",{span:[Rl,Ne]},Ne]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[Is]},Is]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Is,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Om]}],"font-family":[{font:[Fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",Na,Om]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,As]}],"underline-offset":[{"underline-offset":["auto",Jr,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),s4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},o4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Jr,Ne]}],"outline-w":[{outline:[Jr,As]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Jr,As]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Is,a4]}],"shadow-color":[{shadow:[Fl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Is,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Rl,Ne]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jr,As,Om]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},f4=qL(d4);function Re(...t){return f4(Ij(t))}function h4(t){return t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Activity"}function Wj(t,e,n){if(!t||!e)return null;const[r,s]=t.split(":").map(Number),[i,o]=e.split(":").map(Number);let a=new Date;a.setHours(r,s,0,0);let l=new Date;if(l.setHours(i,o,0,0),n==="sleep"&&l<=a)l.setDate(l.getDate()+1);else if(n!=="sleep"&&l<=a)return null;const u=l.getTime()-a.getTime(),d=Math.floor(u/(1e3*60)),f=Math.floor(d/60),h=d%60;return{hours:f,minutes:h}}function m4(t){if(!t)return"";const e=[];return t.hours>0&&e.push(`${t.hours} hr`),t.minutes>0&&e.push(`${t.minutes} min`),e.join(" ")||"0 min"}const p4=TL,Hj=b.forwardRef(({className:t,...e},n)=>c.jsx(jj,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Hj.displayName=jj.displayName;const g4=hx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Yj=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(Pj,{ref:r,className:Re(g4({variant:e}),t),...n}));Yj.displayName=Pj.displayName;const y4=b.forwardRef(({className:t,...e},n)=>c.jsx(Dj,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));y4.displayName=Dj.displayName;const qj=b.forwardRef(({className:t,...e},n)=>c.jsx(Oj,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(mx,{className:"h-4 w-4"})}));qj.displayName=Oj.displayName;const Qj=b.forwardRef(({className:t,...e},n)=>c.jsx(Ej,{ref:n,className:Re("text-sm font-semibold",t),...e}));Qj.displayName=Ej.displayName;const Kj=b.forwardRef(({className:t,...e},n)=>c.jsx(Mj,{ref:n,className:Re("text-sm opacity-90",t),...e}));Kj.displayName=Mj.displayName;function x4(){const{toasts:t}=Bt();return c.jsxs(p4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(Yj,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(Qj,{children:n}),r&&c.jsx(Kj,{children:r})]}),s,c.jsx(qj,{})]},e)}),c.jsx(Hj,{})]})}var v4=fy[" useId ".trim().toString()]||(()=>{}),b4=0;function ka(t){const[e,n]=b.useState(v4());return Zt(()=>{n(r=>r??String(b4++))},[t]),e?`radix-${e}`:""}const w4=["top","right","bottom","left"],wi=Math.min,Fn=Math.max,kf=Math.round,rd=Math.floor,Wr=t=>({x:t,y:t}),_4={left:"right",right:"left",bottom:"top",top:"bottom"},S4={start:"end",end:"start"};function Eg(t,e,n){return Fn(t,wi(e,n))}function Ns(t,e){return typeof t=="function"?t(e):t}function ks(t){return t.split("-")[0]}function vl(t){return t.split("-")[1]}function gx(t){return t==="x"?"y":"x"}function yx(t){return t==="y"?"height":"width"}const N4=new Set(["top","bottom"]);function Vr(t){return N4.has(ks(t))?"y":"x"}function xx(t){return gx(Vr(t))}function k4(t,e,n){n===void 0&&(n=!1);const r=vl(t),s=xx(t),i=yx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Cf(o)),[o,Cf(o)]}function C4(t){const e=Cf(t);return[Mg(t),e,Mg(e)]}function Mg(t){return t.replace(/start|end/g,e=>S4[e])}const sb=["left","right"],ib=["right","left"],T4=["top","bottom"],j4=["bottom","top"];function P4(t,e,n){switch(t){case"top":case"bottom":return n?e?ib:sb:e?sb:ib;case"left":case"right":return e?T4:j4;default:return[]}}function E4(t,e,n,r){const s=vl(t);let i=P4(ks(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Mg)))),i}function Cf(t){return t.replace(/left|right|bottom|top/g,e=>_4[e])}function M4(t){return{top:0,right:0,bottom:0,left:0,...t}}function Gj(t){return typeof t!="number"?M4(t):{top:t,right:t,bottom:t,left:t}}function Tf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ob(t,e,n){let{reference:r,floating:s}=t;const i=Vr(e),o=xx(e),a=yx(o),l=ks(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(vl(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const D4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=ob(u,r,l),h=r,m={},v=0;for(let p=0;p<a.length;p++){const{name:x,fn:y}=a[p],{x:g,y:w,data:_,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=g??d,f=w??f,m={...m,[x]:{...m[x],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:d,y:f}=ob(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Wc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ns(e,t),v=Gj(m),x=a[h?f==="floating"?"reference":"floating":f],y=Tf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Tf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:w,strategy:l}):g);return{top:(y.top-S.top+v.top)/_.y,bottom:(S.bottom-y.bottom+v.bottom)/_.y,left:(y.left-S.left+v.left)/_.x,right:(S.right-y.right+v.right)/_.x}}const O4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ns(t,e)||{};if(u==null)return{};const f=Gj(d),h={x:n,y:r},m=xx(s),v=yx(m),p=await o.getDimensions(u),x=m==="y",y=x?"top":"left",g=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-h[m]-i.floating[v],S=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=N?N[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(N)))&&(C=a.floating[w]||i.floating[v]);const T=_/2-S/2,P=C/2-p[v]/2-1,O=wi(f[y],P),F=wi(f[g],P),A=O,$=C-p[v]-F,V=C/2-p[v]/2+T,I=Eg(A,V,$),z=!l.arrow&&vl(s)!=null&&V!==I&&i.reference[v]/2-(V<A?O:F)-p[v]/2<0,B=z?V<A?V-A:V-$:0;return{[m]:h[m]+B,data:{[m]:I,centerOffset:V-I-B,...z&&{alignmentOffset:B}},reset:z}}}),A4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=Ns(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ks(s),g=Vr(a),w=ks(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(w||!p?[Cf(a)]:C4(a)),N=v!=="none";!h&&N&&S.push(...E4(a,p,v,_));const C=[a,...S],T=await Wc(e,x),P=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(T[y]),f){const V=k4(s,o,_);P.push(T[V[0]],T[V[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(V=>V<=0)){var F,A;const V=(((F=i.flip)==null?void 0:F.index)||0)+1,I=C[V];if(I&&(!(f==="alignment"?g!==Vr(I):!1)||O.every(j=>j.overflows[0]>0&&Vr(j.placement)===g)))return{data:{index:V,overflows:O},reset:{placement:I}};let z=(A=O.filter(B=>B.overflows[0]<=0).sort((B,j)=>B.overflows[1]-j.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(m){case"bestFit":{var $;const B=($=O.filter(j=>{if(N){const R=Vr(j.placement);return R===g||R==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(R=>R>0).reduce((R,D)=>R+D,0)]).sort((j,R)=>j[1]-R[1])[0])==null?void 0:$[0];B&&(z=B);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function ab(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lb(t){return w4.some(e=>t[e]>=0)}const I4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ns(t,e);switch(r){case"referenceHidden":{const i=await Wc(e,{...s,elementContext:"reference"}),o=ab(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lb(o)}}}case"escaped":{const i=await Wc(e,{...s,altBoundary:!0}),o=ab(i,n.floating);return{data:{escapedOffsets:o,escaped:lb(o)}}}default:return{}}}}},Xj=new Set(["left","top"]);async function R4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ks(n),a=vl(n),l=Vr(n)==="y",u=Xj.has(o)?-1:1,d=i&&l?-1:1,f=Ns(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const F4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await R4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},L4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:g}=x;return{x:y,y:g}}},...l}=Ns(t,e),u={x:n,y:r},d=await Wc(e,l),f=Vr(ks(s)),h=gx(f);let m=u[h],v=u[f];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=m+d[x],w=m-d[y];m=Eg(g,m,w)}if(o){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=v+d[x],w=v-d[y];v=Eg(g,v,w)}const p=a.fn({...e,[h]:m,[f]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[f]:o}}}}}},z4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ns(t,e),d={x:n,y:r},f=Vr(s),h=gx(f);let m=d[h],v=d[f];const p=Ns(a,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+x.mainAxis,S=i.reference[h]+i.reference[w]-x.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var y,g;const w=h==="y"?"width":"height",_=Xj.has(ks(s)),S=i.reference[f]-i.floating[w]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:x.crossAxis),N=i.reference[f]+i.reference[w]+(_?0:((g=o.offset)==null?void 0:g[f])||0)-(_?x.crossAxis:0);v<S?v=S:v>N&&(v=N)}return{[h]:m,[f]:v}}}},V4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ns(t,e),d=await Wc(e,u),f=ks(s),h=vl(s),m=Vr(s)==="y",{width:v,height:p}=i.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const g=p-d.top-d.bottom,w=v-d.left-d.right,_=wi(p-d[x],g),S=wi(v-d[y],w),N=!e.middlewareData.shift;let C=_,T=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=g),N&&!h){const O=Fn(d.left,0),F=Fn(d.right,0),A=Fn(d.top,0),$=Fn(d.bottom,0);m?T=v-2*(O!==0||F!==0?O+F:Fn(d.left,d.right)):C=p-2*(A!==0||$!==0?A+$:Fn(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:C});const P=await o.getDimensions(a.floating);return v!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Ph(){return typeof window<"u"}function bl(t){return Zj(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(t){var e;return(e=(Zj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Zj(t){return Ph()?t instanceof Node||t instanceof Vn(t).Node:!1}function Sr(t){return Ph()?t instanceof Element||t instanceof Vn(t).Element:!1}function Qr(t){return Ph()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function cb(t){return!Ph()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const $4=new Set(["inline","contents"]);function ku(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!$4.has(s)}const B4=new Set(["table","td","th"]);function U4(t){return B4.has(bl(t))}const W4=[":popover-open",":modal"];function Eh(t){return W4.some(e=>{try{return t.matches(e)}catch{return!1}})}const H4=["transform","translate","scale","rotate","perspective"],Y4=["transform","translate","scale","rotate","perspective","filter"],q4=["paint","layout","strict","content"];function vx(t){const e=bx(),n=Sr(t)?Nr(t):t;return H4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Y4.some(r=>(n.willChange||"").includes(r))||q4.some(r=>(n.contain||"").includes(r))}function Q4(t){let e=_i(t);for(;Qr(e)&&!el(e);){if(vx(e))return e;if(Eh(e))return null;e=_i(e)}return null}function bx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const K4=new Set(["html","body","#document"]);function el(t){return K4.has(bl(t))}function Nr(t){return Vn(t).getComputedStyle(t)}function Mh(t){return Sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _i(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cb(t)&&t.host||Zr(t);return cb(e)?e.host:e}function Jj(t){const e=_i(t);return el(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qr(e)&&ku(e)?e:Jj(e)}function Hc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Jj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Vn(s);if(i){const a=Dg(o);return e.concat(o,o.visualViewport||[],ku(s)?s:[],a&&n?Hc(a):[])}return e.concat(s,Hc(s,[],n))}function Dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eP(t){const e=Nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=kf(n)!==i||kf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function wx(t){return Sr(t)?t:t.contextElement}function Ca(t){const e=wx(t);if(!Qr(e))return Wr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=eP(e);let o=(i?kf(n.width):n.width)/r,a=(i?kf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const G4=Wr(0);function tP(t){const e=Vn(t);return!bx()||!e.visualViewport?G4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function X4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function Eo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=wx(t);let o=Wr(1);e&&(r?Sr(r)&&(o=Ca(r)):o=Ca(t));const a=X4(i,n,r)?tP(i):Wr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Vn(i),m=r&&Sr(r)?Vn(r):r;let v=h,p=Dg(v);for(;p&&r&&m!==v;){const x=Ca(p),y=p.getBoundingClientRect(),g=Nr(p),w=y.left+(p.clientLeft+parseFloat(g.paddingLeft))*x.x,_=y.top+(p.clientTop+parseFloat(g.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=w,u+=_,v=Vn(p),p=Dg(v)}}return Tf({width:d,height:f,x:l,y:u})}function _x(t,e){const n=Mh(t).scrollLeft;return e?e.left+n:Eo(Zr(t)).left+n}function nP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:_x(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Z4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Zr(r),a=e?Eh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Wr(1);const d=Wr(0),f=Qr(r);if((f||!f&&!i)&&((bl(r)!=="body"||ku(o))&&(l=Mh(r)),Qr(r))){const m=Eo(r);u=Ca(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?nP(o,l,!0):Wr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function J4(t){return Array.from(t.getClientRects())}function e5(t){const e=Zr(t),n=Mh(t),r=t.ownerDocument.body,s=Fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_x(t);const a=-n.scrollTop;return Nr(r).direction==="rtl"&&(o+=Fn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function t5(t,e){const n=Vn(t),r=Zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=bx();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const n5=new Set(["absolute","fixed"]);function r5(t,e){const n=Eo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qr(t)?Ca(t):Wr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function ub(t,e,n){let r;if(e==="viewport")r=t5(t,n);else if(e==="document")r=e5(Zr(t));else if(Sr(e))r=r5(e,n);else{const s=tP(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Tf(r)}function rP(t,e){const n=_i(t);return n===e||!Sr(n)||el(n)?!1:Nr(n).position==="fixed"||rP(n,e)}function s5(t,e){const n=e.get(t);if(n)return n;let r=Hc(t,[],!1).filter(a=>Sr(a)&&bl(a)!=="body"),s=null;const i=Nr(t).position==="fixed";let o=i?_i(t):t;for(;Sr(o)&&!el(o);){const a=Nr(o),l=vx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&n5.has(s.position)||ku(o)&&!l&&rP(t,o))?r=r.filter(d=>d!==o):s=a,o=_i(o)}return e.set(t,r),r}function i5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Eh(e)?[]:s5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=ub(e,d,s);return u.top=Fn(f.top,u.top),u.right=wi(f.right,u.right),u.bottom=wi(f.bottom,u.bottom),u.left=Fn(f.left,u.left),u},ub(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function o5(t){const{width:e,height:n}=eP(t);return{width:e,height:n}}function a5(t,e,n){const r=Qr(e),s=Zr(e),i=n==="fixed",o=Eo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Wr(0);function u(){l.x=_x(s)}if(r||!r&&!i)if((bl(e)!=="body"||ku(s))&&(a=Mh(e)),r){const m=Eo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?nP(s,a):Wr(0),f=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Am(t){return Nr(t).position==="static"}function db(t,e){if(!Qr(t)||Nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zr(t)===n&&(n=n.ownerDocument.body),n}function sP(t,e){const n=Vn(t);if(Eh(t))return n;if(!Qr(t)){let s=_i(t);for(;s&&!el(s);){if(Sr(s)&&!Am(s))return s;s=_i(s)}return n}let r=db(t,e);for(;r&&U4(r)&&Am(r);)r=db(r,e);return r&&el(r)&&Am(r)&&!vx(r)?n:r||Q4(t)||n}const l5=async function(t){const e=this.getOffsetParent||sP,n=this.getDimensions,r=await n(t.floating);return{reference:a5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function c5(t){return Nr(t).direction==="rtl"}const u5={convertOffsetParentRelativeRectToViewportRelativeRect:Z4,getDocumentElement:Zr,getClippingRect:i5,getOffsetParent:sP,getElementRects:l5,getClientRects:J4,getDimensions:o5,getScale:Ca,isElement:Sr,isRTL:c5};function iP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function d5(t,e){let n=null,r;const s=Zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const v=rd(f),p=rd(s.clientWidth-(d+h)),x=rd(s.clientHeight-(f+m)),y=rd(d),w={rootMargin:-v+"px "+-p+"px "+-x+"px "+-y+"px",threshold:Fn(0,wi(1,l))||1};let _=!0;function S(N){const C=N[0].intersectionRatio;if(C!==l){if(!_)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!iP(u,t.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return o(!0),i}function f5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=wx(t),d=s||i?[...u?Hc(u):[],...Hc(e)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&a?d5(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let v,p=l?Eo(t):null;l&&x();function x(){const y=Eo(t);p&&!iP(p,y)&&n(),p=y,v=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const h5=F4,m5=L4,p5=A4,g5=V4,y5=I4,fb=O4,x5=z4,v5=(t,e,n)=>{const r=new Map,s={platform:u5,...n},i={...s.platform,_c:r};return D4(t,e,{...s,platform:i})};var b5=typeof document<"u",w5=function(){},Bd=b5?b.useLayoutEffect:w5;function jf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!jf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function oP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hb(t,e){const n=oP(t);return Math.round(e*n)/n}function Im(t){const e=b.useRef(t);return Bd(()=>{e.current=t}),e}function _5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(r);jf(h,r)||m(r);const[v,p]=b.useState(null),[x,y]=b.useState(null),g=b.useCallback(j=>{j!==N.current&&(N.current=j,p(j))},[]),w=b.useCallback(j=>{j!==C.current&&(C.current=j,y(j))},[]),_=i||v,S=o||x,N=b.useRef(null),C=b.useRef(null),T=b.useRef(d),P=l!=null,O=Im(l),F=Im(s),A=Im(u),$=b.useCallback(()=>{if(!N.current||!C.current)return;const j={placement:e,strategy:n,middleware:h};F.current&&(j.platform=F.current),v5(N.current,C.current,j).then(R=>{const D={...R,isPositioned:A.current!==!1};V.current&&!jf(T.current,D)&&(T.current=D,Uo.flushSync(()=>{f(D)}))})},[h,e,n,F,A]);Bd(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const V=b.useRef(!1);Bd(()=>(V.current=!0,()=>{V.current=!1}),[]),Bd(()=>{if(_&&(N.current=_),S&&(C.current=S),_&&S){if(O.current)return O.current(_,S,$);$()}},[_,S,$,O,P]);const I=b.useMemo(()=>({reference:N,floating:C,setReference:g,setFloating:w}),[g,w]),z=b.useMemo(()=>({reference:_,floating:S}),[_,S]),B=b.useMemo(()=>{const j={position:n,left:0,top:0};if(!z.floating)return j;const R=hb(z.floating,d.x),D=hb(z.floating,d.y);return a?{...j,transform:"translate("+R+"px, "+D+"px)",...oP(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:D}},[n,a,z.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:$,refs:I,elements:z,floatingStyles:B}),[d,$,I,z,B])}const S5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fb({element:r.current,padding:s}).fn(n):{}:r?fb({element:r,padding:s}).fn(n):{}}}},N5=(t,e)=>({...h5(t),options:[t,e]}),k5=(t,e)=>({...m5(t),options:[t,e]}),C5=(t,e)=>({...x5(t),options:[t,e]}),T5=(t,e)=>({...p5(t),options:[t,e]}),j5=(t,e)=>({...g5(t),options:[t,e]}),P5=(t,e)=>({...y5(t),options:[t,e]}),E5=(t,e)=>({...S5(t),options:[t,e]});var M5="Arrow",aP=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(Pe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});aP.displayName=M5;var D5=aP;function lP(t){const[e,n]=b.useState(void 0);return Zt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sx="Popper",[cP,Dh]=Wo(Sx),[O5,uP]=cP(Sx),dP=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return c.jsx(O5,{scope:e,anchor:r,onAnchorChange:s,children:n})};dP.displayName=Sx;var fP="PopperAnchor",hP=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=uP(fP,n),o=b.useRef(null),a=We(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(Pe.div,{...s,ref:a})});hP.displayName=fP;var Nx="PopperContent",[A5,I5]=cP(Nx),mP=b.forwardRef((t,e)=>{var H,Z,ze,Me,be,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=t,x=uP(Nx,n),[y,g]=b.useState(null),w=We(e,qt=>g(qt)),[_,S]=b.useState(null),N=lP(_),C=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,P=r+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],A=F.length>0,$={padding:O,boundary:F.filter(F5),altBoundary:A},{refs:V,floatingStyles:I,placement:z,isPositioned:B,middlewareData:j}=_5({strategy:"fixed",placement:P,whileElementsMounted:(...qt)=>f5(...qt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[N5({mainAxis:s+T,alignmentAxis:o}),l&&k5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?C5():void 0,...$}),l&&T5({...$}),j5({...$,apply:({elements:qt,rects:An,availableWidth:Ms,availableHeight:Bi})=>{const{width:Ui,height:_v}=An.reference,Wi=qt.floating.style;Wi.setProperty("--radix-popper-available-width",`${Ms}px`),Wi.setProperty("--radix-popper-available-height",`${Bi}px`),Wi.setProperty("--radix-popper-anchor-width",`${Ui}px`),Wi.setProperty("--radix-popper-anchor-height",`${_v}px`)}}),_&&E5({element:_,padding:a}),L5({arrowWidth:C,arrowHeight:T}),h&&P5({strategy:"referenceHidden",...$})]}),[R,D]=yP(z),W=_r(v);Zt(()=>{B&&(W==null||W())},[B,W]);const G=(H=j.arrow)==null?void 0:H.x,ne=(Z=j.arrow)==null?void 0:Z.y,se=((ze=j.arrow)==null?void 0:ze.centerOffset)!==0,[ge,ve]=b.useState();return Zt(()=>{y&&ve(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:B?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Me=j.transformOrigin)==null?void 0:Me.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((Oe=j.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(A5,{scope:n,placedSide:R,onArrowChange:S,arrowX:G,arrowY:ne,shouldHideArrow:se,children:c.jsx(Pe.div,{"data-side":R,"data-align":D,...p,ref:w,style:{...p.style,animation:B?void 0:"none"}})})})});mP.displayName=Nx;var pP="PopperArrow",R5={top:"bottom",right:"left",bottom:"top",left:"right"},gP=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=I5(pP,r),o=R5[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(D5,{...s,ref:n,style:{...s.style,display:"block"}})})});gP.displayName=pP;function F5(t){return t!==null}var L5=t=>({name:"transformOrigin",options:t,fn(e){var x,y,g;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=yP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let v="",p="";return u==="bottom"?(v=o?f:`${h}px`,p=`${-l}px`):u==="top"?(v=o?f:`${h}px`,p=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,p=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+l}px`,p=o?f:`${m}px`),{data:{x:v,y:p}}}});function yP(t){const[e,n="center"]=t.split("-");return[e,n]}var z5=dP,xP=hP,vP=mP,bP=gP,[Oh,Oq]=Wo("Tooltip",[Dh]),kx=Dh(),wP="TooltipProvider",V5=700,mb="tooltip.open",[$5,_P]=Oh(wP),SP=t=>{const{__scopeTooltip:e,delayDuration:n=V5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx($5,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};SP.displayName=wP;var NP="Tooltip",[Aq,Ah]=Oh(NP),Og="TooltipTrigger",B5=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ah(Og,n),i=_P(Og,n),o=kx(n),a=b.useRef(null),l=We(e,a,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(xP,{asChild:!0,...o,children:c.jsx(Pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:xe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});B5.displayName=Og;var U5="TooltipPortal",[Iq,W5]=Oh(U5,{forceMount:void 0}),tl="TooltipContent",kP=b.forwardRef((t,e)=>{const n=W5(tl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ah(tl,t.__scopeTooltip);return c.jsx(yl,{present:r||o.open,children:o.disableHoverableContent?c.jsx(CP,{side:s,...i,ref:e}):c.jsx(H5,{side:s,...i,ref:e})})}),H5=b.forwardRef((t,e)=>{const n=Ah(tl,t.__scopeTooltip),r=_P(tl,t.__scopeTooltip),s=b.useRef(null),i=We(e,s),[o,a]=b.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((v,p)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},g=G5(y,x.getBoundingClientRect()),w=X5(y,g),_=Z5(p.getBoundingClientRect()),S=ez([...w,..._]);a(S),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const v=x=>m(x,d),p=x=>m(x,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),b.useEffect(()=>{if(o){const v=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},g=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),w=!J5(y,o);g?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,h]),c.jsx(CP,{...t,ref:i})}),[Y5,q5]=Oh(NP,{isInside:!1}),Q5=$F("TooltipContent"),CP=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ah(tl,n),u=kx(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(mb,d),()=>document.removeEventListener(mb,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(vP,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Q5,{children:r}),c.jsx(Y5,{scope:n,isInside:!0,children:c.jsx(cL,{id:l.contentId,role:"tooltip",children:s||r})})]})})});kP.displayName=tl;var TP="TooltipArrow",K5=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=kx(n);return q5(TP,n).isInside?null:c.jsx(bP,{...s,...r,ref:e})});K5.displayName=TP;function G5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function X5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Z5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function J5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function ez(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),tz(e)}function tz(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var nz=SP,jP=kP;const rz=nz,sz=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(jP,{ref:r,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));sz.displayName=jP.displayName;function iz(){const[t]=wt();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const oz=hx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?lj:"button";return c.jsx(o,{className:Re(oz({variant:e,size:n,className:t})),ref:i,...s})});Q.displayName="Button";const ce=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ce.displayName="Card";const Vt=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 pb-2 pt-4 p-6",t),...e}));Vt.displayName="CardHeader";const $t=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));$t.displayName="CardTitle";const az=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));az.displayName="CardDescription";const ue=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("p-6 pb-2 pt-0",t),...e}));ue.displayName="CardContent";const lz=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("flex items-center p-6 pb-2 pt-0",t),...e}));lz.displayName="CardFooter";function cz(){const[t,e]=b.useState(!1),[n,r]=b.useState(null),[s,i]=b.useState(!1),[o,a]=b.useState(!1);b.useEffect(()=>{(()=>{const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");a(m)})();const f=m=>{const v=m;m.preventDefault(),r(v),o||setTimeout(()=>{e(!0)},3e3)},h=()=>{e(!1),r(null),a(!0)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[o]);const l=async()=>{if(n){i(!0);try{await n.prompt();const{outcome:d}=await n.userChoice;console.log(d==="accepted"?" PWA install accepted":" PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{i(!1),e(!1),r(null)}}},u=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return!t||!n||o||sessionStorage.getItem("pwa-install-dismissed")?null:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 transition-opacity duration-300",onClick:u}),c.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 flex justify-center animate-in slide-in-from-top-4 duration-500",children:c.jsxs(ce,{className:"w-full max-w-md bg-white shadow-2xl border-0 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-purple-600 p-4",children:c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:c.jsx(jg,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Install Journey"}),c.jsx("p",{className:"text-white/90 text-sm",children:"Get the full app experience"})]})]}),c.jsx(Q,{variant:"ghost",size:"sm",onClick:u,className:"text-white hover:bg-white/20 h-8 w-8 p-0",children:c.jsx(mx,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(OL,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Native Experience"}),c.jsx("div",{className:"text-gray-500",children:"No browser bars"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(AL,{className:"w-4 h-4 text-green-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Offline Access"}),c.jsx("div",{className:"text-gray-500",children:"Works anywhere"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-rocket text-purple-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Faster Loading"}),c.jsx("div",{className:"text-gray-500",children:"Instant startup"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-home text-orange-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Home Screen"}),c.jsx("div",{className:"text-gray-500",children:"Easy access"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",c.jsx("strong",{children:"Installation takes seconds:"})]}),c.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[c.jsx("li",{children:'1. Click "Install App" below'}),c.jsx("li",{children:"2. Confirm installation"}),c.jsx("li",{children:"3. Find Journey on your home screen"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx(Q,{onClick:l,disabled:s,className:"flex-1 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg",size:"lg",children:s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(jg,{className:"w-4 h-4 mr-2"}),"Install App"]})}),c.jsx(Q,{variant:"outline",onClick:u,className:"px-6",size:"lg",children:"Later"})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Free  No app store required  Uninstall anytime"})]})]})})]})}function uz(){const[t,e]=b.useState(!1),[n,r]=b.useState(!1);return b.useEffect(()=>{(()=>{const a=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");r(a)})();const i=a=>{a.preventDefault(),n||e(!0)},o=()=>{e(!1),r(!0)};return window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",o)}},[n]),{canInstall:t,isInstalled:n}}function Ii(){const{data:t,isLoading:e}=Dt({queryKey:["/api/user"],queryFn:oj({on401:"returnNull"}),retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function dz(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(ce,{className:"w-full max-w-md mx-4",children:c.jsxs(ue,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(DL,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Cu=t=>t.type==="checkbox",so=t=>t instanceof Date,mn=t=>t==null;const PP=t=>typeof t=="object";var jt=t=>!mn(t)&&!Array.isArray(t)&&PP(t)&&!so(t),EP=t=>jt(t)&&t.target?Cu(t.target)?t.target.checked:t.target.value:t,fz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,MP=(t,e)=>t.has(fz(e)),hz=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},Cx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ot(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Cx&&(t instanceof Blob||r))&&(n||jt(t)))if(e=n?[]:{},!n&&!hz(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Ot(t[s]));else return t;return e}var Ih=t=>/^\w*$/.test(t),St=t=>t===void 0,Tx=t=>Array.isArray(t)?t.filter(Boolean):[],jx=t=>Tx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ee=(t,e,n)=>{if(!e||!jt(t))return n;const r=(Ih(e)?[e]:jx(e)).reduce((s,i)=>mn(s)?s:s[i],t);return St(r)||r===t?St(t[e])?n:t[e]:r},Rn=t=>typeof t=="boolean",Ke=(t,e,n)=>{let r=-1;const s=Ih(e)?[e]:jx(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=jt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Pf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Px=ye.createContext(null);Px.displayName="HookFormContext";const Rh=()=>ye.useContext(Px),mz=t=>{const{children:e,...n}=t;return ye.createElement(Px.Provider,{value:n},e)};var DP=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==pr.all&&(e._proxyFormState[o]=!r||pr.all),n&&(n[o]=!0),t[o]}});return s};const Ex=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function pz(t){const e=Rh(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=ye.useState(n._formState),l=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ex(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[s,r,i]),ye.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),ye.useMemo(()=>DP(o,n,l.current,!1),[o,n])}var $r=t=>typeof t=="string",OP=(t,e,n,r,s)=>$r(t)?(r&&e.watch.add(t),ee(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ee(n,i))):(r&&(e.watchAll=!0),n),Ag=t=>mn(t)||!PP(t);function fs(t,e,n=new WeakSet){if(Ag(t)||Ag(e))return t===e;if(so(t)&&so(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(so(o)&&so(a)||jt(o)&&jt(a)||Array.isArray(o)&&Array.isArray(a)?!fs(o,a,n):o!==a)return!1}}return!0}function gz(t){const e=Rh(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:a}=t||{},l=ye.useRef(s),u=ye.useRef(a),d=ye.useRef(void 0);u.current=a;const f=ye.useMemo(()=>n._getWatch(r,l.current),[n,r]),[h,m]=ye.useState(u.current?u.current(f):f);return Ex(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:v=>{if(!i){const p=OP(r,n._names,v.values||n._formValues,!1,l.current);if(u.current){const x=u.current(p);fs(x,d.current)||(m(x),d.current=x)}else m(p)}}}),[n,i,r,o]),ye.useEffect(()=>n._removeUnmounted()),h}function yz(t){const e=Rh(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,a=MP(s._names.array,n),l=ye.useMemo(()=>ee(s._formValues,n,ee(s._defaultValues,n,o)),[s,n,o]),u=gz({control:s,name:n,defaultValue:l,exact:!0}),d=pz({control:s,name:n,exact:!0}),f=ye.useRef(t),h=ye.useRef(s.register(n,{...t.rules,value:u,...Rn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const m=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ee(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ee(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ee(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ee(d.validatingFields,n)},error:{enumerable:!0,get:()=>ee(d.errors,n)}}),[d,n]),v=ye.useCallback(g=>h.current.onChange({target:{value:EP(g),name:n},type:Pf.CHANGE}),[n]),p=ye.useCallback(()=>h.current.onBlur({target:{value:ee(s._formValues,n),name:n},type:Pf.BLUR}),[n,s._formValues]),x=ye.useCallback(g=>{const w=ee(s._fields,n);w&&g&&(w._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:_=>g.setCustomValidity(_),reportValidity:()=>g.reportValidity()})},[s._fields,n]),y=ye.useMemo(()=>({name:n,value:u,...Rn(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:p,ref:x}),[n,r,d.disabled,v,p,x,u]);return ye.useEffect(()=>{const g=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...Rn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,S)=>{const N=ee(s._fields,_);N&&N._f&&(N._f.mount=S)};if(w(n,!0),g){const _=Ot(ee(s._options.defaultValues,n));Ke(s._defaultValues,n,_),St(ee(s._formValues,n))&&Ke(s._formValues,n,_)}return!a&&s.register(n),()=>{(a?g&&!s._state.action:g)?s.unregister(n):w(n,!1)}},[n,s,a,i]),ye.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ye.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const xz=t=>t.render(yz(t));var AP=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},gc=t=>Array.isArray(t)?t:[t],pb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},kn=t=>jt(t)&&!Object.keys(t).length,Mx=t=>t.type==="file",gr=t=>typeof t=="function",Ef=t=>{if(!Cx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},IP=t=>t.type==="select-multiple",Dx=t=>t.type==="radio",vz=t=>Dx(t)||Cu(t),Rm=t=>Ef(t)&&t.isConnected;function bz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=St(t)?r++:t[e[r++]];return t}function wz(t){for(const e in t)if(t.hasOwnProperty(e)&&!St(t[e]))return!1;return!0}function Pt(t,e){const n=Array.isArray(e)?e:Ih(e)?[e]:jx(e),r=n.length===1?t:bz(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(jt(r)&&kn(r)||Array.isArray(r)&&wz(r))&&Pt(t,n.slice(0,-1)),t}var RP=t=>{for(const e in t)if(gr(t[e]))return!0;return!1};function Mf(t,e={}){const n=Array.isArray(t);if(jt(t)||n)for(const r in t)Array.isArray(t[r])||jt(t[r])&&!RP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Mf(t[r],e[r])):mn(t[r])||(e[r]=!0);return e}function FP(t,e,n){const r=Array.isArray(t);if(jt(t)||r)for(const s in t)Array.isArray(t[s])||jt(t[s])&&!RP(t[s])?St(e)||Ag(n[s])?n[s]=Array.isArray(t[s])?Mf(t[s],[]):{...Mf(t[s])}:FP(t[s],mn(e)?{}:e[s],n[s]):n[s]=!fs(t[s],e[s]);return n}var Ll=(t,e)=>FP(t,e,Mf(e));const gb={value:!1,isValid:!1},yb={value:!0,isValid:!0};var LP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!St(t[0].attributes.value)?St(t[0].value)||t[0].value===""?yb:{value:t[0].value,isValid:!0}:yb:gb}return gb},zP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>St(t)?t:e?t===""?NaN:t&&+t:n&&$r(t)?new Date(t):r?r(t):t;const xb={isValid:!1,value:null};var VP=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,xb):xb;function vb(t){const e=t.ref;return Mx(e)?e.files:Dx(e)?VP(t.refs).value:IP(e)?[...e.selectedOptions].map(({value:n})=>n):Cu(e)?LP(t.refs).value:zP(St(e.value)?t.ref.value:e.value,t)}var _z=(t,e,n,r)=>{const s={};for(const i of t){const o=ee(e,i);o&&Ke(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Df=t=>t instanceof RegExp,zl=t=>St(t)?t:Df(t)?t.source:jt(t)?Df(t.value)?t.value.source:t.value:t,bb=t=>({isOnSubmit:!t||t===pr.onSubmit,isOnBlur:t===pr.onBlur,isOnChange:t===pr.onChange,isOnAll:t===pr.all,isOnTouch:t===pr.onTouched});const wb="AsyncFunction";var Sz=t=>!!t&&!!t.validate&&!!(gr(t.validate)&&t.validate.constructor.name===wb||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===wb)),Nz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),_b=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const yc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ee(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(yc(a,e))break}else if(jt(a)&&yc(a,e))break}}};function Sb(t,e,n){const r=ee(t,n);if(r||Ih(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ee(e,i),a=ee(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var kz=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return kn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||pr.all))},Cz=(t,e,n)=>!t||!e||t===e||gc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Tz=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,jz=(t,e)=>!Tx(ee(t,e)).length&&Pt(t,e),Pz=(t,e,n)=>{const r=gc(ee(t,n));return Ke(r,"root",e[n]),Ke(t,n,r),t},Ud=t=>$r(t);function Nb(t,e,n="validate"){if(Ud(t)||Array.isArray(t)&&t.every(Ud)||Rn(t)&&!t)return{type:n,message:Ud(t)?t:"",ref:e}}var Ko=t=>jt(t)&&!Df(t)?t:{value:t,message:""},kb=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:p,valueAsNumber:x,mount:y}=t._f,g=ee(n,p);if(!y||e.has(p))return{};const w=a?a[0]:o,_=A=>{s&&w.reportValidity&&(w.setCustomValidity(Rn(A)?"":A||""),w.reportValidity())},S={},N=Dx(o),C=Cu(o),T=N||C,P=(x||Mx(o))&&St(o.value)&&St(g)||Ef(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,O=AP.bind(null,p,r,S),F=(A,$,V,I=es.maxLength,z=es.minLength)=>{const B=A?$:V;S[p]={type:A?I:z,message:B,ref:o,...O(A?I:z,B)}};if(i?!Array.isArray(g)||!g.length:l&&(!T&&(P||mn(g))||Rn(g)&&!g||C&&!LP(a).isValid||N&&!VP(a).isValid)){const{value:A,message:$}=Ud(l)?{value:!!l,message:l}:Ko(l);if(A&&(S[p]={type:es.required,message:$,ref:w,...O(es.required,$)},!r))return _($),S}if(!P&&(!mn(f)||!mn(h))){let A,$;const V=Ko(h),I=Ko(f);if(!mn(g)&&!isNaN(g)){const z=o.valueAsNumber||g&&+g;mn(V.value)||(A=z>V.value),mn(I.value)||($=z<I.value)}else{const z=o.valueAsDate||new Date(g),B=D=>new Date(new Date().toDateString()+" "+D),j=o.type=="time",R=o.type=="week";$r(V.value)&&g&&(A=j?B(g)>B(V.value):R?g>V.value:z>new Date(V.value)),$r(I.value)&&g&&($=j?B(g)<B(I.value):R?g<I.value:z<new Date(I.value))}if((A||$)&&(F(!!A,V.message,I.message,es.max,es.min),!r))return _(S[p].message),S}if((u||d)&&!P&&($r(g)||i&&Array.isArray(g))){const A=Ko(u),$=Ko(d),V=!mn(A.value)&&g.length>+A.value,I=!mn($.value)&&g.length<+$.value;if((V||I)&&(F(V,A.message,$.message),!r))return _(S[p].message),S}if(m&&!P&&$r(g)){const{value:A,message:$}=Ko(m);if(Df(A)&&!g.match(A)&&(S[p]={type:es.pattern,message:$,ref:o,...O(es.pattern,$)},!r))return _($),S}if(v){if(gr(v)){const A=await v(g,n),$=Nb(A,w);if($&&(S[p]={...$,...O(es.validate,$.message)},!r))return _($.message),S}else if(jt(v)){let A={};for(const $ in v){if(!kn(A)&&!r)break;const V=Nb(await v[$](g,n),w,$);V&&(A={...V,...O($,V.message)},_(V.message),r&&(S[p]=A))}if(!kn(A)&&(S[p]={ref:w,...A},!r))return S}}return _(!0),S};const Ez={mode:pr.onSubmit,reValidateMode:pr.onChange,shouldFocusError:!0};function Mz(t={}){let e={...Ez,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:gr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=jt(e.defaultValues)||jt(e.values)?Ot(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ot(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:pb(),state:pb()},m=e.criteriaMode===pr.all,v=M=>L=>{clearTimeout(u),u=setTimeout(M,L)},p=async M=>{if(!e.disabled&&(d.isValid||f.isValid||M)){const L=e.resolver?kn((await C()).errors):await P(r,!0);L!==n.isValid&&h.state.next({isValid:L})}},x=(M,L)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(a.mount)).forEach(U=>{U&&(L?Ke(n.validatingFields,U,L):Pt(n.validatingFields,U))}),h.state.next({validatingFields:n.validatingFields,isValidating:!kn(n.validatingFields)}))},y=(M,L=[],U,ie,J=!0,X=!0)=>{if(ie&&U&&!e.disabled){if(o.action=!0,X&&Array.isArray(ee(r,M))){const fe=U(ee(r,M),ie.argA,ie.argB);J&&Ke(r,M,fe)}if(X&&Array.isArray(ee(n.errors,M))){const fe=U(ee(n.errors,M),ie.argA,ie.argB);J&&Ke(n.errors,M,fe),jz(n.errors,M)}if((d.touchedFields||f.touchedFields)&&X&&Array.isArray(ee(n.touchedFields,M))){const fe=U(ee(n.touchedFields,M),ie.argA,ie.argB);J&&Ke(n.touchedFields,M,fe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Ll(s,i)),h.state.next({name:M,isDirty:F(M,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ke(i,M,L)},g=(M,L)=>{Ke(n.errors,M,L),h.state.next({errors:n.errors})},w=M=>{n.errors=M,h.state.next({errors:n.errors,isValid:!1})},_=(M,L,U,ie)=>{const J=ee(r,M);if(J){const X=ee(i,M,St(U)?ee(s,M):U);St(X)||ie&&ie.defaultChecked||L?Ke(i,M,L?X:vb(J._f)):V(M,X),o.mount&&p()}},S=(M,L,U,ie,J)=>{let X=!1,fe=!1;const Qe={name:M};if(!e.disabled){if(!U||ie){(d.isDirty||f.isDirty)&&(fe=n.isDirty,n.isDirty=Qe.isDirty=F(),X=fe!==Qe.isDirty);const tt=fs(ee(s,M),L);fe=!!ee(n.dirtyFields,M),tt?Pt(n.dirtyFields,M):Ke(n.dirtyFields,M,!0),Qe.dirtyFields=n.dirtyFields,X=X||(d.dirtyFields||f.dirtyFields)&&fe!==!tt}if(U){const tt=ee(n.touchedFields,M);tt||(Ke(n.touchedFields,M,U),Qe.touchedFields=n.touchedFields,X=X||(d.touchedFields||f.touchedFields)&&tt!==U)}X&&J&&h.state.next(Qe)}return X?Qe:{}},N=(M,L,U,ie)=>{const J=ee(n.errors,M),X=(d.isValid||f.isValid)&&Rn(L)&&n.isValid!==L;if(e.delayError&&U?(l=v(()=>g(M,U)),l(e.delayError)):(clearTimeout(u),l=null,U?Ke(n.errors,M,U):Pt(n.errors,M)),(U?!fs(J,U):J)||!kn(ie)||X){const fe={...ie,...X&&Rn(L)?{isValid:L}:{},errors:n.errors,name:M};n={...n,...fe},h.state.next(fe)}},C=async M=>{x(M,!0);const L=await e.resolver(i,e.context,_z(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(M),L},T=async M=>{const{errors:L}=await C(M);if(M)for(const U of M){const ie=ee(L,U);ie?Ke(n.errors,U,ie):Pt(n.errors,U)}else n.errors=L;return L},P=async(M,L,U={valid:!0})=>{for(const ie in M){const J=M[ie];if(J){const{_f:X,...fe}=J;if(X){const Qe=a.array.has(X.name),tt=J._f&&Sz(J._f);tt&&d.validatingFields&&x([ie],!0);const Yn=await kb(J,a.disabled,i,m,e.shouldUseNativeValidation&&!L,Qe);if(tt&&d.validatingFields&&x([ie]),Yn[X.name]&&(U.valid=!1,L))break;!L&&(ee(Yn,X.name)?Qe?Pz(n.errors,Yn,X.name):Ke(n.errors,X.name,Yn[X.name]):Pt(n.errors,X.name))}!kn(fe)&&await P(fe,L,U)}}return U.valid},O=()=>{for(const M of a.unMount){const L=ee(r,M);L&&(L._f.refs?L._f.refs.every(U=>!Rm(U)):!Rm(L._f.ref))&&H(M)}a.unMount=new Set},F=(M,L)=>!e.disabled&&(M&&L&&Ke(i,M,L),!fs(D(),s)),A=(M,L,U)=>OP(M,a,{...o.mount?i:St(L)?s:$r(M)?{[M]:L}:L},U,L),$=M=>Tx(ee(o.mount?i:s,M,e.shouldUnregister?ee(s,M,[]):[])),V=(M,L,U={})=>{const ie=ee(r,M);let J=L;if(ie){const X=ie._f;X&&(!X.disabled&&Ke(i,M,zP(L,X)),J=Ef(X.ref)&&mn(L)?"":L,IP(X.ref)?[...X.ref.options].forEach(fe=>fe.selected=J.includes(fe.value)):X.refs?Cu(X.ref)?X.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(J)?fe.checked=!!J.find(Qe=>Qe===fe.value):fe.checked=J===fe.value||!!J)}):X.refs.forEach(fe=>fe.checked=fe.value===J):Mx(X.ref)?X.ref.value="":(X.ref.value=J,X.ref.type||h.state.next({name:M,values:Ot(i)})))}(U.shouldDirty||U.shouldTouch)&&S(M,J,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&R(M)},I=(M,L,U)=>{for(const ie in L){if(!L.hasOwnProperty(ie))return;const J=L[ie],X=M+"."+ie,fe=ee(r,X);(a.array.has(M)||jt(J)||fe&&!fe._f)&&!so(J)?I(X,J,U):V(X,J,U)}},z=(M,L,U={})=>{const ie=ee(r,M),J=a.array.has(M),X=Ot(L);Ke(i,M,X),J?(h.array.next({name:M,values:Ot(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:M,dirtyFields:Ll(s,i),isDirty:F(M,X)})):ie&&!ie._f&&!mn(X)?I(M,X,U):V(M,X,U),_b(M,a)&&h.state.next({...n,name:M}),h.state.next({name:o.mount?M:void 0,values:Ot(i)})},B=async M=>{o.mount=!0;const L=M.target;let U=L.name,ie=!0;const J=ee(r,U),X=tt=>{ie=Number.isNaN(tt)||so(tt)&&isNaN(tt.getTime())||fs(tt,ee(i,U,tt))},fe=bb(e.mode),Qe=bb(e.reValidateMode);if(J){let tt,Yn;const Iu=L.type?vb(J._f):EP(M),Ds=M.type===Pf.BLUR||M.type===Pf.FOCUS_OUT,YO=!Nz(J._f)&&!e.resolver&&!ee(n.errors,U)&&!J._f.deps||Tz(Ds,ee(n.touchedFields,U),n.isSubmitted,Qe,fe),Jh=_b(U,a,Ds);Ke(i,U,Iu),Ds?(J._f.onBlur&&J._f.onBlur(M),l&&l(0)):J._f.onChange&&J._f.onChange(M);const em=S(U,Iu,Ds),qO=!kn(em)||Jh;if(!Ds&&h.state.next({name:U,type:M.type,values:Ot(i)}),YO)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ds&&p():Ds||p()),qO&&h.state.next({name:U,...Jh?{}:em});if(!Ds&&Jh&&h.state.next({...n}),e.resolver){const{errors:Sv}=await C([U]);if(X(Iu),ie){const QO=Sb(n.errors,r,U),Nv=Sb(Sv,r,QO.name||U);tt=Nv.error,U=Nv.name,Yn=kn(Sv)}}else x([U],!0),tt=(await kb(J,a.disabled,i,m,e.shouldUseNativeValidation))[U],x([U]),X(Iu),ie&&(tt?Yn=!1:(d.isValid||f.isValid)&&(Yn=await P(r,!0)));ie&&(J._f.deps&&R(J._f.deps),N(U,Yn,tt,em))}},j=(M,L)=>{if(ee(n.errors,L)&&M.focus)return M.focus(),1},R=async(M,L={})=>{let U,ie;const J=gc(M);if(e.resolver){const X=await T(St(M)?M:J);U=kn(X),ie=M?!J.some(fe=>ee(X,fe)):U}else M?(ie=(await Promise.all(J.map(async X=>{const fe=ee(r,X);return await P(fe&&fe._f?{[X]:fe}:fe)}))).every(Boolean),!(!ie&&!n.isValid)&&p()):ie=U=await P(r);return h.state.next({...!$r(M)||(d.isValid||f.isValid)&&U!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:U}:{},errors:n.errors}),L.shouldFocus&&!ie&&yc(r,j,M?J:a.mount),ie},D=M=>{const L={...o.mount?i:s};return St(M)?L:$r(M)?ee(L,M):M.map(U=>ee(L,U))},W=(M,L)=>({invalid:!!ee((L||n).errors,M),isDirty:!!ee((L||n).dirtyFields,M),error:ee((L||n).errors,M),isValidating:!!ee(n.validatingFields,M),isTouched:!!ee((L||n).touchedFields,M)}),G=M=>{M&&gc(M).forEach(L=>Pt(n.errors,L)),h.state.next({errors:M?n.errors:{}})},ne=(M,L,U)=>{const ie=(ee(r,M,{_f:{}})._f||{}).ref,J=ee(n.errors,M)||{},{ref:X,message:fe,type:Qe,...tt}=J;Ke(n.errors,M,{...tt,...L,ref:ie}),h.state.next({name:M,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&ie&&ie.focus&&ie.focus()},se=(M,L)=>gr(M)?h.state.subscribe({next:U=>"values"in U&&M(A(void 0,L),U)}):A(M,L,!0),ge=M=>h.state.subscribe({next:L=>{Cz(M.name,L.name,M.exact)&&kz(L,M.formState||d,Ui,M.reRenderRoot)&&M.callback({values:{...i},...n,...L,defaultValues:s})}}).unsubscribe,ve=M=>(o.mount=!0,f={...f,...M.formState},ge({...M,formState:f})),H=(M,L={})=>{for(const U of M?gc(M):a.mount)a.mount.delete(U),a.array.delete(U),L.keepValue||(Pt(r,U),Pt(i,U)),!L.keepError&&Pt(n.errors,U),!L.keepDirty&&Pt(n.dirtyFields,U),!L.keepTouched&&Pt(n.touchedFields,U),!L.keepIsValidating&&Pt(n.validatingFields,U),!e.shouldUnregister&&!L.keepDefaultValue&&Pt(s,U);h.state.next({values:Ot(i)}),h.state.next({...n,...L.keepDirty?{isDirty:F()}:{}}),!L.keepIsValid&&p()},Z=({disabled:M,name:L})=>{(Rn(M)&&o.mount||M||a.disabled.has(L))&&(M?a.disabled.add(L):a.disabled.delete(L))},ze=(M,L={})=>{let U=ee(r,M);const ie=Rn(L.disabled)||Rn(e.disabled);return Ke(r,M,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:M}},name:M,mount:!0,...L}}),a.mount.add(M),U?Z({disabled:Rn(L.disabled)?L.disabled:e.disabled,name:M}):_(M,!0,L.value),{...ie?{disabled:L.disabled||e.disabled}:{},...e.progressive?{required:!!L.required,min:zl(L.min),max:zl(L.max),minLength:zl(L.minLength),maxLength:zl(L.maxLength),pattern:zl(L.pattern)}:{},name:M,onChange:B,onBlur:B,ref:J=>{if(J){ze(M,L),U=ee(r,M);const X=St(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,fe=vz(X),Qe=U._f.refs||[];if(fe?Qe.find(tt=>tt===X):X===U._f.ref)return;Ke(r,M,{_f:{...U._f,...fe?{refs:[...Qe.filter(Rm),X,...Array.isArray(ee(s,M))?[{}]:[]],ref:{type:X.type,name:M}}:{ref:X}}}),_(M,!1,void 0,X)}else U=ee(r,M,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(MP(a.array,M)&&o.action)&&a.unMount.add(M)}}},Me=()=>e.shouldFocusError&&yc(r,j,a.mount),be=M=>{Rn(M)&&(h.state.next({disabled:M}),yc(r,(L,U)=>{const ie=ee(r,U);ie&&(L.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(J=>{J.disabled=ie._f.disabled||M}))},0,!1))},Oe=(M,L)=>async U=>{let ie;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let J=Ot(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:fe}=await C();n.errors=X,J=Ot(fe)}else await P(r);if(a.disabled.size)for(const X of a.disabled)Pt(J,X);if(Pt(n.errors,"root"),kn(n.errors)){h.state.next({errors:{}});try{await M(J,U)}catch(X){ie=X}}else L&&await L({...n.errors},U),Me(),setTimeout(Me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},qt=(M,L={})=>{ee(r,M)&&(St(L.defaultValue)?z(M,Ot(ee(s,M))):(z(M,L.defaultValue),Ke(s,M,Ot(L.defaultValue))),L.keepTouched||Pt(n.touchedFields,M),L.keepDirty||(Pt(n.dirtyFields,M),n.isDirty=L.defaultValue?F(M,Ot(ee(s,M))):F()),L.keepError||(Pt(n.errors,M),d.isValid&&p()),h.state.next({...n}))},An=(M,L={})=>{const U=M?Ot(M):s,ie=Ot(U),J=kn(M),X=J?s:ie;if(L.keepDefaultValues||(s=U),!L.keepValues){if(L.keepDirtyValues){const fe=new Set([...a.mount,...Object.keys(Ll(s,i))]);for(const Qe of Array.from(fe))ee(n.dirtyFields,Qe)?Ke(X,Qe,ee(i,Qe)):z(Qe,ee(X,Qe))}else{if(Cx&&St(M))for(const fe of a.mount){const Qe=ee(r,fe);if(Qe&&Qe._f){const tt=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(Ef(tt)){const Yn=tt.closest("form");if(Yn){Yn.reset();break}}}}if(L.keepFieldsRef)for(const fe of a.mount)z(fe,ee(X,fe));else r={}}i=e.shouldUnregister?L.keepDefaultValues?Ot(s):{}:Ot(X),h.array.next({values:{...X}}),h.state.next({values:{...X}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:J?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!fs(M,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:L.keepDirtyValues?L.keepDefaultValues&&i?Ll(s,i):n.dirtyFields:L.keepDefaultValues&&M?Ll(s,M):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ms=(M,L)=>An(gr(M)?M(i):M,L),Bi=(M,L={})=>{const U=ee(r,M),ie=U&&U._f;if(ie){const J=ie.refs?ie.refs[0]:ie.ref;J.focus&&(J.focus(),L.shouldSelect&&gr(J.select)&&J.select())}},Ui=M=>{n={...n,...M}},Wi={control:{register:ze,unregister:H,getFieldState:W,handleSubmit:Oe,setError:ne,_subscribe:ge,_runSchema:C,_focusError:Me,_getWatch:A,_getDirty:F,_setValid:p,_setFieldArray:y,_setDisabledField:Z,_setErrors:w,_getFieldArray:$,_reset:An,_resetDefaultValues:()=>gr(e.defaultValues)&&e.defaultValues().then(M=>{Ms(M,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:be,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return a},set _names(M){a=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:ve,trigger:R,register:ze,handleSubmit:Oe,watch:se,setValue:z,getValues:D,reset:Ms,resetField:qt,clearErrors:G,unregister:H,setError:ne,setFocus:Bi,getFieldState:W};return{...Wi,formControl:Wi}}function wl(t={}){const e=ye.useRef(void 0),n=ye.useRef(void 0),[r,s]=ye.useState({isDirty:!1,isValidating:!1,isLoading:gr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:gr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!gr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=Mz(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,Ex(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),ye.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ye.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ye.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ye.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ye.useEffect(()=>{t.values&&!fs(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),ye.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=DP(r,i),e.current}const Cb=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ee(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},$P=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Cb(r.ref,n,t):r.refs&&r.refs.forEach(s=>Cb(s,n,t))}},Dz=(t,e)=>{e.shouldUseNativeValidation&&$P(t,e);const n={};for(const r in t){const s=ee(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Oz(e.names||Object.keys(t),r)){const o=Object.assign({},ee(n,r));Ke(o,"root",i),Ke(n,r,o)}else Ke(n,r,i)}return n},Oz=(t,e)=>t.some(n=>n.startsWith(e+"."));var Az=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=AP(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},_l=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&$P({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Dz(Az(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Ce=b.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ce.displayName="Input";var Iz="Label",BP=b.forwardRef((t,e)=>c.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BP.displayName=Iz;var UP=BP;const Rz=hx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=b.forwardRef(({className:t,...e},n)=>c.jsx(UP,{ref:n,className:Re(Rz(),t),...e}));Be.displayName=UP.displayName;const Y=Symbol.for("drizzle:entityKind");function Kt(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Y))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(Y in n&&n[Y]===e[Y])return!0;n=Object.getPrototypeOf(n)}return!1}var z_;z_=Y;class nl{constructor(e,n){k(this,"name");k(this,"keyAsName");k(this,"primary");k(this,"notNull");k(this,"default");k(this,"defaultFn");k(this,"onUpdateFn");k(this,"hasDefault");k(this,"isUnique");k(this,"uniqueName");k(this,"uniqueType");k(this,"dataType");k(this,"columnType");k(this,"enumValues");k(this,"generated");k(this,"generatedIdentity");k(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}k(nl,z_,"Column");var V_;V_=Y;class WP{constructor(e,n,r){k(this,"config");k(this,"$default",this.$defaultFn);k(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}k(WP,V_,"ColumnBuilder");const Ta=Symbol.for("drizzle:Name");var $_;$_=Y;class HP{constructor(e,n){k(this,"reference");k(this,"_onUpdate","no action");k(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:i}=e();return{name:r,columns:s,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new YP(e,this)}}k(HP,$_,"PgForeignKeyBuilder");var B_;B_=Y;class YP{constructor(e,n){k(this,"reference");k(this,"onUpdate");k(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),s=n.map(a=>a.name),i=r.map(a=>a.name),o=[this.table[Ta],...s,r[0].table[Ta],...i];return e??`${o.join("_")}_fk`}}k(YP,B_,"PgForeignKey");function Fz(t,...e){return t(...e)}function Lz(t,e){return`${t[Ta]}_${e.join("_")}_unique`}function Tb(t,e,n){for(let r=e;r<t.length;r++){const s=t[r];if(s==="\\"){r++;continue}if(s==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function qP(t,e=0){const n=[];let r=e,s=!1;for(;r<t.length;){const i=t[r];if(i===","){(s||r===e)&&n.push(""),s=!0,r++;continue}if(s=!1,i==="\\"){r+=2;continue}if(i==='"'){const[l,u]=Tb(t,r+1,!0);n.push(l),r=u;continue}if(i==="}")return[n,r+1];if(i==="{"){const[l,u]=qP(t,r+1);n.push(l),r=u;continue}const[o,a]=Tb(t,r,!1);n.push(o),r=a}return[n,r]}function zz(t){const[e]=qP(t,1);return e}function QP(t){return`{${t.map(e=>Array.isArray(e)?QP(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var U_,W_;class Le extends(W_=WP,U_=Y,W_){constructor(){super(...arguments);k(this,"foreignKeyConfigs",[])}array(n){return new GP(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:i})=>Fz((o,a)=>{const l=new HP(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return a.onUpdate&&l.onUpdate(a.onUpdate),a.onDelete&&l.onDelete(a.onDelete),l.build(r)},s,i))}buildExtraConfigColumn(n){return new KP(n,this.config)}}k(Le,U_,"PgColumnBuilder");var H_,Y_;class Se extends(Y_=nl,H_=Y,Y_){constructor(e,n){n.uniqueName||(n.uniqueName=Lz(e,[n.name])),super(e,n),this.table=e}}k(Se,H_,"PgColumn");var q_,Q_;class KP extends(Q_=Se,q_=Y,Q_){constructor(){super(...arguments);k(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});k(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}k(KP,q_,"ExtraConfigColumn");var K_,G_;class GP extends(G_=Le,K_=Y,G_){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Ig(e,this.config,n)}}k(GP,K_,"PgArrayBuilder");var X_,Z_;const lh=class lh extends(Z_=Se,X_=Y,Z_){constructor(n,r,s,i){super(n,r);k(this,"size");this.baseColumn=s,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=zz(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(i=>i===null?null:Kt(this.baseColumn,lh)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?s:QP(s)}};k(lh,X_,"PgArray");let Ig=lh;const jb=Symbol.for("drizzle:isPgEnum");function Vz(t){return!!t&&typeof t=="function"&&jb in t&&t[jb]===!0}var J_;J_=Y;class Ox{constructor(e,n,r,s=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:s}}}k(Ox,J_,"Subquery");const $z={startActiveSpan(t,e){return e()}},ja=Symbol.for("drizzle:ViewBaseConfig"),Fm=Symbol.for("drizzle:Schema"),Pb=Symbol.for("drizzle:Columns"),Eb=Symbol.for("drizzle:ExtraConfigColumns"),Lm=Symbol.for("drizzle:OriginalName"),zm=Symbol.for("drizzle:BaseName"),Of=Symbol.for("drizzle:IsAlias"),Mb=Symbol.for("drizzle:ExtraConfigBuilder"),XP=Symbol.for("drizzle:IsDrizzleTable");var eS,tS,nS,rS,sS,iS,oS,aS,lS,cS;cS=Y,lS=Ta,aS=Lm,oS=Fm,iS=Pb,sS=Eb,rS=zm,nS=Of,tS=XP,eS=Mb;class pn{constructor(e,n,r){k(this,lS);k(this,aS);k(this,oS);k(this,iS);k(this,sS);k(this,rS);k(this,nS,!1);k(this,tS,!0);k(this,eS);this[Ta]=this[Lm]=e,this[Fm]=n,this[zm]=r}}k(pn,cS,"Table"),k(pn,"Symbol",{Name:Ta,Schema:Fm,OriginalName:Lm,Columns:Pb,ExtraConfigColumns:Eb,BaseName:zm,IsAlias:Of,ExtraConfigBuilder:Mb});function ZP(t){return typeof t=="object"&&t!==null&&XP in t}function Bz(t){return t!=null&&typeof t.getSQL=="function"}function Uz(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var uS;uS=Y;class Kn{constructor(e){k(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Lt([this])}}k(Kn,uS,"StringChunk");var dS;dS=Y;const eo=class eo{constructor(e){k(this,"decoder",JP);k(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return $z.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:l,paramStartIndex:u}=r;return Uz(e.map(d=>{var f;if(Kt(d,Kn))return{sql:d.value.join(""),params:[]};if(Kt(d,Af))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Kn("(")];for(const[m,v]of d.entries())h.push(v),m<d.length-1&&h.push(new Kn(", "));return h.push(new Kn(")")),this.buildQueryFromSourceParams(h,r)}if(Kt(d,eo))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:l||d.shouldInlineParams});if(Kt(d,pn)){const h=d[pn.Symbol.Schema],m=d[pn.Symbol.Name];return{sql:h===void 0||d[Of]?i(m):i(h)+"."+i(m),params:[]}}if(Kt(d,nl)){const h=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const m=d.table[pn.Symbol.Schema];return{sql:d.table[Of]||m===void 0?i(d.table[pn.Symbol.Name])+"."+i(h):i(m)+"."+i(d.table[pn.Symbol.Name])+"."+i(h),params:[]}}if(Kt(d,nE)){const h=d[ja].schema,m=d[ja].name;return{sql:h===void 0||d[ja].isAlias?i(m):i(h)+"."+i(m),params:[]}}if(Kt(d,Ax)){if(Kt(d.value,Rf))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Kt(h,eo))return this.buildQueryFromSourceParams([h],r);if(l)return{sql:this.mapInlineParam(h,r),params:[]};let m=["none"];return a&&(m=[a(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:m}}return Kt(d,Rf)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Kt(d,eo.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Kt(d,Ox)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Kn("("),d._.sql,new Kn(") "),new Af(d._.alias)],r):Vz(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:Bz(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Kn("("),d.getSQL(),new Kn(")")],r):l?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new eo.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};k(eo,dS,"SQL");let Lt=eo;var fS;fS=Y;class Af{constructor(e){k(this,"brand");this.value=e}getSQL(){return new Lt([this])}}k(Af,fS,"Name");const JP={mapFromDriverValue:t=>t},eE={mapToDriverValue:t=>t};({...JP,...eE});var hS;hS=Y;class Ax{constructor(e,n=eE){k(this,"brand");this.value=e,this.encoder=n}getSQL(){return new Lt([this])}}k(Ax,hS,"Param");function If(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Kn(t[0]));for(const[r,s]of e.entries())n.push(s,new Kn(t[r+1]));return new Lt(n)}(t=>{function e(){return new Lt([])}t.empty=e;function n(l){return new Lt(l)}t.fromList=n;function r(l){return new Lt([new Kn(l)])}t.raw=r;function s(l,u){const d=[];for(const[f,h]of l.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Lt(d)}t.join=s;function i(l){return new Af(l)}t.identifier=i;function o(l){return new Rf(l)}t.placeholder=o;function a(l,u){return new Ax(l,u)}t.param=a})(If||(If={}));(t=>{var n;n=Y;const r=class r{constructor(i,o){k(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};k(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(Lt||(Lt={}));var mS;mS=Y;class Rf{constructor(e){this.name=e}getSQL(){return new Lt([this])}}k(Rf,mS,"Placeholder");const tE=Symbol.for("drizzle:IsDrizzleView");var pS,gS,yS;yS=Y,gS=ja,pS=tE;class nE{constructor({name:e,schema:n,selectedFields:r,query:s}){k(this,gS);k(this,pS,!0);this[ja]={name:e,originalName:e,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Lt([this])}}k(nE,yS,"View");function Wz(t){return typeof t=="object"&&t!==null&&tE in t}nl.prototype.getSQL=function(){return new Lt([this])};pn.prototype.getSQL=function(){return new Lt([this])};Ox.prototype.getSQL=function(){return new Lt([this])};function Hz(t){return t[pn.Symbol.Columns]}function Yz(t){return t[ja].selectedFields}function Yt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var xS,vS;class Tu extends(vS=Le,xS=Y,vS){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}k(Tu,xS,"PgIntColumnBaseBuilder");var bS,wS;class rE extends(wS=Tu,bS=Y,wS){constructor(e){super(e,"number","PgBigInt53")}build(e){return new sE(e,this.config)}}k(rE,bS,"PgBigInt53Builder");var _S,SS;class sE extends(SS=Se,_S=Y,SS){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}k(sE,_S,"PgBigInt53");var NS,kS;class iE extends(kS=Tu,NS=Y,kS){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new oE(e,this.config)}}k(iE,NS,"PgBigInt64Builder");var CS,TS;class oE extends(TS=Se,CS=Y,TS){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}k(oE,CS,"PgBigInt64");function qz(t,e){const{name:n,config:r}=Yt(t,e);return r.mode==="number"?new rE(n):new iE(n)}var jS,PS;class aE extends(PS=Le,jS=Y,PS){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new lE(e,this.config)}}k(aE,jS,"PgBigSerial53Builder");var ES,MS;class lE extends(MS=Se,ES=Y,MS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}k(lE,ES,"PgBigSerial53");var DS,OS;class cE extends(OS=Le,DS=Y,OS){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new uE(e,this.config)}}k(cE,DS,"PgBigSerial64Builder");var AS,IS;class uE extends(IS=Se,AS=Y,IS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}k(uE,AS,"PgBigSerial64");function Qz(t,e){const{name:n,config:r}=Yt(t,e);return r.mode==="number"?new aE(n):new cE(n)}var RS,FS;class dE extends(FS=Le,RS=Y,FS){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new fE(e,this.config)}}k(dE,RS,"PgBooleanBuilder");var LS,zS;class fE extends(zS=Se,LS=Y,zS){getSQLType(){return"boolean"}}k(fE,LS,"PgBoolean");function rl(t){return new dE(t??"")}var VS,$S;class hE extends($S=Le,VS=Y,$S){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new mE(e,this.config)}}k(hE,VS,"PgCharBuilder");var BS,US;class mE extends(US=Se,BS=Y,US){constructor(){super(...arguments);k(this,"length",this.config.length);k(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}k(mE,BS,"PgChar");function Kz(t,e={}){const{name:n,config:r}=Yt(t,e);return new hE(n,r)}var WS,HS;class pE extends(HS=Le,WS=Y,HS){constructor(e){super(e,"string","PgCidr")}build(e){return new gE(e,this.config)}}k(pE,WS,"PgCidrBuilder");var YS,qS;class gE extends(qS=Se,YS=Y,qS){getSQLType(){return"cidr"}}k(gE,YS,"PgCidr");function Gz(t){return new pE(t??"")}var QS,KS;class yE extends(KS=Le,QS=Y,KS){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new xE(e,this.config)}}k(yE,QS,"PgCustomColumnBuilder");var GS,XS;class xE extends(XS=Se,GS=Y,XS){constructor(n,r){super(n,r);k(this,"sqlName");k(this,"mapTo");k(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}k(xE,GS,"PgCustomColumn");function Xz(t){return(e,n)=>{const{name:r,config:s}=Yt(e,n);return new yE(r,s,t)}}var ZS,JS;class Sl extends(JS=Le,ZS=Y,JS){defaultNow(){return this.default(If`now()`)}}k(Sl,ZS,"PgDateColumnBaseBuilder");var eN,tN;class vE extends(tN=Sl,eN=Y,tN){constructor(e){super(e,"date","PgDate")}build(e){return new bE(e,this.config)}}k(vE,eN,"PgDateBuilder");var nN,rN;class bE extends(rN=Se,nN=Y,rN){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}k(bE,nN,"PgDate");var sN,iN;class wE extends(iN=Sl,sN=Y,iN){constructor(e){super(e,"string","PgDateString")}build(e){return new _E(e,this.config)}}k(wE,sN,"PgDateStringBuilder");var oN,aN;class _E extends(aN=Se,oN=Y,aN){getSQLType(){return"date"}}k(_E,oN,"PgDateString");function Ix(t,e){const{name:n,config:r}=Yt(t,e);return(r==null?void 0:r.mode)==="date"?new vE(n):new wE(n)}var lN,cN;class SE extends(cN=Le,lN=Y,cN){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new NE(e,this.config)}}k(SE,lN,"PgDoublePrecisionBuilder");var uN,dN;class NE extends(dN=Se,uN=Y,dN){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}k(NE,uN,"PgDoublePrecision");function Zz(t){return new SE(t??"")}var fN,hN;class kE extends(hN=Le,fN=Y,hN){constructor(e){super(e,"string","PgInet")}build(e){return new CE(e,this.config)}}k(kE,fN,"PgInetBuilder");var mN,pN;class CE extends(pN=Se,mN=Y,pN){getSQLType(){return"inet"}}k(CE,mN,"PgInet");function Jz(t){return new kE(t??"")}var gN,yN;class TE extends(yN=Tu,gN=Y,yN){constructor(e){super(e,"number","PgInteger")}build(e){return new jE(e,this.config)}}k(TE,gN,"PgIntegerBuilder");var xN,vN;class jE extends(vN=Se,xN=Y,vN){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}k(jE,xN,"PgInteger");function Ht(t){return new TE(t??"")}var bN,wN;class PE extends(wN=Le,bN=Y,wN){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new EE(e,this.config)}}k(PE,bN,"PgIntervalBuilder");var _N,SN;class EE extends(SN=Se,_N=Y,SN){constructor(){super(...arguments);k(this,"fields",this.config.intervalConfig.fields);k(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}k(EE,_N,"PgInterval");function e3(t,e={}){const{name:n,config:r}=Yt(t,e);return new PE(n,r)}var NN,kN;class ME extends(kN=Le,NN=Y,kN){constructor(e){super(e,"json","PgJson")}build(e){return new DE(e,this.config)}}k(ME,NN,"PgJsonBuilder");var CN,TN;class DE extends(TN=Se,CN=Y,TN){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}k(DE,CN,"PgJson");function t3(t){return new ME(t??"")}var jN,PN;class OE extends(PN=Le,jN=Y,PN){constructor(e){super(e,"json","PgJsonb")}build(e){return new AE(e,this.config)}}k(OE,jN,"PgJsonbBuilder");var EN,MN;class AE extends(MN=Se,EN=Y,MN){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}k(AE,EN,"PgJsonb");function IE(t){return new OE(t??"")}var DN,ON;class RE extends(ON=Le,DN=Y,ON){constructor(e){super(e,"array","PgLine")}build(e){return new FE(e,this.config)}}k(RE,DN,"PgLineBuilder");var AN,IN;class FE extends(IN=Se,AN=Y,IN){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}k(FE,AN,"PgLine");var RN,FN;class LE extends(FN=Le,RN=Y,FN){constructor(e){super(e,"json","PgLineABC")}build(e){return new zE(e,this.config)}}k(LE,RN,"PgLineABCBuilder");var LN,zN;class zE extends(zN=Se,LN=Y,zN){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}k(zE,LN,"PgLineABC");function n3(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new RE(n):new LE(n)}var VN,$N;class VE extends($N=Le,VN=Y,$N){constructor(e){super(e,"string","PgMacaddr")}build(e){return new $E(e,this.config)}}k(VE,VN,"PgMacaddrBuilder");var BN,UN;class $E extends(UN=Se,BN=Y,UN){getSQLType(){return"macaddr"}}k($E,BN,"PgMacaddr");function r3(t){return new VE(t??"")}var WN,HN;class BE extends(HN=Le,WN=Y,HN){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new UE(e,this.config)}}k(BE,WN,"PgMacaddr8Builder");var YN,qN;class UE extends(qN=Se,YN=Y,qN){getSQLType(){return"macaddr8"}}k(UE,YN,"PgMacaddr8");function s3(t){return new BE(t??"")}var QN,KN;class WE extends(KN=Le,QN=Y,KN){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new HE(e,this.config)}}k(WE,QN,"PgNumericBuilder");var GN,XN;class HE extends(XN=Se,GN=Y,XN){constructor(n,r){super(n,r);k(this,"precision");k(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}k(HE,GN,"PgNumeric");function ys(t,e){const{name:n,config:r}=Yt(t,e);return new WE(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const xc=ys;var ZN,JN;class YE extends(JN=Le,ZN=Y,JN){constructor(e){super(e,"array","PgPointTuple")}build(e){return new qE(e,this.config)}}k(YE,ZN,"PgPointTupleBuilder");var e1,t1;class qE extends(t1=Se,e1=Y,t1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}k(qE,e1,"PgPointTuple");var n1,r1;class QE extends(r1=Le,n1=Y,r1){constructor(e){super(e,"json","PgPointObject")}build(e){return new KE(e,this.config)}}k(QE,n1,"PgPointObjectBuilder");var s1,i1;class KE extends(i1=Se,s1=Y,i1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}k(KE,s1,"PgPointObject");function i3(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new YE(n):new QE(n)}function o3(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function Db(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,t[e+s]);return r.getFloat64(0,!0)}function GE(t){const e=o3(t);let n=0;const r=e[n];n+=1;const s=new DataView(e.buffer),i=s.getUint32(n,r===1);if(n+=4,i&536870912&&(s.getUint32(n,r===1),n+=4),(i&65535)===1){const o=Db(e,n);n+=8;const a=Db(e,n);return n+=8,[o,a]}throw new Error("Unsupported geometry type")}var o1,a1;class XE extends(a1=Le,o1=Y,a1){constructor(e){super(e,"array","PgGeometry")}build(e){return new ZE(e,this.config)}}k(XE,o1,"PgGeometryBuilder");var l1,c1;class ZE extends(c1=Se,l1=Y,c1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return GE(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}k(ZE,l1,"PgGeometry");var u1,d1;class JE extends(d1=Le,u1=Y,d1){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new eM(e,this.config)}}k(JE,u1,"PgGeometryObjectBuilder");var f1,h1;class eM extends(h1=Se,f1=Y,h1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=GE(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}k(eM,f1,"PgGeometryObject");function a3(t,e){const{name:n,config:r}=Yt(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new XE(n):new JE(n)}var m1,p1;class tM extends(p1=Le,m1=Y,p1){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new nM(e,this.config)}}k(tM,m1,"PgRealBuilder");var g1,y1;class nM extends(y1=Se,g1=Y,y1){constructor(n,r){super(n,r);k(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}k(nM,g1,"PgReal");function l3(t){return new tM(t??"")}var x1,v1;class rM extends(v1=Le,x1=Y,v1){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new sM(e,this.config)}}k(rM,x1,"PgSerialBuilder");var b1,w1;class sM extends(w1=Se,b1=Y,w1){getSQLType(){return"serial"}}k(sM,b1,"PgSerial");function wn(t){return new rM(t??"")}var _1,S1;class iM extends(S1=Tu,_1=Y,S1){constructor(e){super(e,"number","PgSmallInt")}build(e){return new oM(e,this.config)}}k(iM,_1,"PgSmallIntBuilder");var N1,k1;class oM extends(k1=Se,N1=Y,k1){constructor(){super(...arguments);k(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}k(oM,N1,"PgSmallInt");function c3(t){return new iM(t??"")}var C1,T1;class aM extends(T1=Le,C1=Y,T1){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new lM(e,this.config)}}k(aM,C1,"PgSmallSerialBuilder");var j1,P1;class lM extends(P1=Se,j1=Y,P1){getSQLType(){return"smallserial"}}k(lM,j1,"PgSmallSerial");function u3(t){return new aM(t??"")}var E1,M1;class cM extends(M1=Le,E1=Y,M1){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new uM(e,this.config)}}k(cM,E1,"PgTextBuilder");var D1,O1;class uM extends(O1=Se,D1=Y,O1){constructor(){super(...arguments);k(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}k(uM,D1,"PgText");function Rx(t,e={}){const{name:n,config:r}=Yt(t,e);return new cM(n,r)}var A1,I1;class dM extends(I1=Sl,A1=Y,I1){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new fM(e,this.config)}}k(dM,A1,"PgTimeBuilder");var R1,F1;class fM extends(F1=Se,R1=Y,F1){constructor(n,r){super(n,r);k(this,"withTimezone");k(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(fM,R1,"PgTime");function d3(t,e={}){const{name:n,config:r}=Yt(t,e);return new dM(n,r.withTimezone??!1,r.precision)}var L1,z1;class hM extends(z1=Sl,L1=Y,z1){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new mM(e,this.config)}}k(hM,L1,"PgTimestampBuilder");var V1,$1;class mM extends($1=Se,V1=Y,$1){constructor(n,r){super(n,r);k(this,"withTimezone");k(this,"precision");k(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));k(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(mM,V1,"PgTimestamp");var B1,U1;class pM extends(U1=Sl,B1=Y,U1){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new gM(e,this.config)}}k(pM,B1,"PgTimestampStringBuilder");var W1,H1;class gM extends(H1=Se,W1=Y,H1){constructor(n,r){super(n,r);k(this,"withTimezone");k(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(gM,W1,"PgTimestampString");function et(t,e={}){const{name:n,config:r}=Yt(t,e);return(r==null?void 0:r.mode)==="string"?new pM(n,r.withTimezone??!1,r.precision):new hM(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var Y1,q1;class yM extends(q1=Le,Y1=Y,q1){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(If`gen_random_uuid()`)}build(e){return new xM(e,this.config)}}k(yM,Y1,"PgUUIDBuilder");var Q1,K1;class xM extends(K1=Se,Q1=Y,K1){getSQLType(){return"uuid"}}k(xM,Q1,"PgUUID");function f3(t){return new yM(t??"")}var G1,X1;class vM extends(X1=Le,G1=Y,X1){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new bM(e,this.config)}}k(vM,G1,"PgVarcharBuilder");var Z1,J1;class bM extends(J1=Se,Z1=Y,J1){constructor(){super(...arguments);k(this,"length",this.config.length);k(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}k(bM,Z1,"PgVarchar");function Ue(t,e={}){const{name:n,config:r}=Yt(t,e);return new vM(n,r)}var ek,tk;class wM extends(tk=Le,ek=Y,tk){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new _M(e,this.config)}}k(wM,ek,"PgBinaryVectorBuilder");var nk,rk;class _M extends(rk=Se,nk=Y,rk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}k(_M,nk,"PgBinaryVector");function h3(t,e){const{name:n,config:r}=Yt(t,e);return new wM(n,r)}var sk,ik;class SM extends(ik=Le,sk=Y,ik){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new NM(e,this.config)}}k(SM,sk,"PgHalfVectorBuilder");var ok,ak;class NM extends(ak=Se,ok=Y,ak){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}k(NM,ok,"PgHalfVector");function m3(t,e){const{name:n,config:r}=Yt(t,e);return new SM(n,r)}var lk,ck;class kM extends(ck=Le,lk=Y,ck){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new CM(e,this.config)}}k(kM,lk,"PgSparseVectorBuilder");var uk,dk;class CM extends(dk=Se,uk=Y,dk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}k(CM,uk,"PgSparseVector");function p3(t,e){const{name:n,config:r}=Yt(t,e);return new kM(n,r)}var fk,hk;class TM extends(hk=Le,fk=Y,hk){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new jM(e,this.config)}}k(TM,fk,"PgVectorBuilder");var mk,pk;class jM extends(pk=Se,mk=Y,pk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}k(jM,mk,"PgVector");function g3(t,e){const{name:n,config:r}=Yt(t,e);return new TM(n,r)}function y3(){return{bigint:qz,bigserial:Qz,boolean:rl,char:Kz,cidr:Gz,customType:Xz,date:Ix,doublePrecision:Zz,inet:Jz,integer:Ht,interval:e3,json:t3,jsonb:IE,line:n3,macaddr:r3,macaddr8:s3,numeric:ys,point:i3,geometry:a3,real:l3,serial:wn,smallint:c3,smallserial:u3,text:Rx,time:d3,timestamp:et,uuid:f3,varchar:Ue,bit:h3,halfvec:m3,sparsevec:p3,vector:g3}}const Rg=Symbol.for("drizzle:PgInlineForeignKeys"),Ob=Symbol.for("drizzle:EnableRLS");var gk,yk,xk,vk,bk;class Ff extends(bk=pn,vk=Y,xk=Rg,yk=Ob,gk=pn.Symbol.ExtraConfigBuilder,bk){constructor(){super(...arguments);k(this,xk,[]);k(this,yk,!1);k(this,gk)}}k(Ff,vk,"PgTable"),k(Ff,"Symbol",Object.assign({},pn.Symbol,{InlineForeignKeys:Rg,EnableRLS:Ob}));function x3(t,e,n,r,s=t){const i=new Ff(t,r,s),o=typeof e=="function"?e(y3()):e,a=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(i);return i[Rg].push(...h.buildForeignKeys(m,i)),[d,m]})),l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(i);return[d,m]})),u=Object.assign(i,a);return u[pn.Symbol.Columns]=a,u[pn.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[Ff.Symbol.EnableRLS]=!0,u)})}const On=(t,e,n)=>x3(t,e,n,void 0);var Fe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Fe||(Fe={}));var Fg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Fg||(Fg={}));const oe=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return Number.isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},q=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),v3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class $n extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof $n))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$n.create=t=>new $n(t);const sl=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Fe.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Fe.assertNever(t)}return{message:n}};let PM=sl;function b3(t){PM=t}function Lf(){return PM}const zf=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},w3=[];function te(t,e){const n=Lf(),r=zf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===sl?void 0:sl].filter(s=>!!s)});t.common.issues.push(r)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return me;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return me;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),ga=t=>({status:"dirty",value:t}),xn=t=>({status:"valid",value:t}),Lg=t=>t.status==="aborted",zg=t=>t.status==="dirty",Mo=t=>t.status==="valid",Yc=t=>typeof Promise<"u"&&t instanceof Promise;var le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(le||(le={}));class Kr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ab=(t,e)=>{if(Mo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $n(t.common.issues);return this._error=n,this._error}}};function _e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Te{get description(){return this._def.description}_getType(e){return ls(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Ab(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Mo(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Mo(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Yc(s)?s:Promise.resolve(s));return Ab(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new kr({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hr.create(this,this._def)}nullable(){return Ci.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return br.create(this)}promise(){return ol.create(this,this._def)}or(e){return Gc.create([this,e],this._def)}and(e){return Xc.create(this,e,this._def)}transform(e){return new kr({..._e(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new nu({..._e(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new Fx({typeName:pe.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ru({..._e(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ju.create(this,e)}readonly(){return su.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _3=/^c[^\s-]{8,}$/i,S3=/^[0-9a-z]+$/,N3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,k3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C3=/^[a-z0-9_-]{21}$/i,T3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,j3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,P3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,E3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vm;const M3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,D3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,O3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,I3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,R3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,EM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",F3=new RegExp(`^${EM}$`);function MM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function L3(t){return new RegExp(`^${MM(t)}$`)}function DM(t){let e=`${EM}T${MM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function z3(t,e){return!!((e==="v4"||!e)&&M3.test(t)||(e==="v6"||!e)&&O3.test(t))}function V3(t,e){if(!T3.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function $3(t,e){return!!((e==="v4"||!e)&&D3.test(t)||(e==="v6"||!e)&&A3.test(t))}class yr extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.string,received:i.parsedType}),me}const r=new cn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?te(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&te(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")P3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Vm||(Vm=new RegExp(E3,"u")),Vm.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")k3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")C3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")_3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")S3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")N3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),te(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?DM(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?F3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?L3(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?j3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?z3(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?V3(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?$3(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?I3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?R3.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...le.errToObj(r)})}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...le.errToObj(n)})}nonempty(e){return this.min(1,le.errToObj(e))}trim(){return new yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yr.create=t=>new yr({checks:[],typeName:pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});function B3(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Si extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.number,received:i.parsedType}),me}let r;const s=new cn;for(const i of this._def.checks)i.kind==="int"?Fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?B3(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_finite,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new Si({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new Si({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Si.create=t=>new Si({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class Ni extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let r;const s=new cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:q.invalid_type,expected:oe.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,le.toString(n))}setLimit(e,n,r,s){return new Ni({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:le.toString(s)}]})}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ni.create=t=>new Ni({checks:[],typeName:pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,..._e(t)});class qc extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.boolean,received:r.parsedType}),me}return xn(e.data)}}qc.create=t=>new qc({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class Do extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_type,expected:oe.date,received:i.parsedType}),me}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return te(i,{code:q.invalid_date}),me}const r=new cn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Do({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Do.create=t=>new Do({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,..._e(t)});class Vf extends Te{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.symbol,received:r.parsedType}),me}return xn(e.data)}}Vf.create=t=>new Vf({typeName:pe.ZodSymbol,..._e(t)});class Qc extends Te{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.undefined,received:r.parsedType}),me}return xn(e.data)}}Qc.create=t=>new Qc({typeName:pe.ZodUndefined,..._e(t)});class Kc extends Te{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.null,received:r.parsedType}),me}return xn(e.data)}}Kc.create=t=>new Kc({typeName:pe.ZodNull,..._e(t)});class il extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}il.create=t=>new il({typeName:pe.ZodAny,..._e(t)});class bo extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}bo.create=t=>new bo({typeName:pe.ZodUnknown,..._e(t)});class Cs extends Te{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:q.invalid_type,expected:oe.never,received:n.parsedType}),me}}Cs.create=t=>new Cs({typeName:pe.ZodNever,..._e(t)});class $f extends Te{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.void,received:r.parsedType}),me}return xn(e.data)}}$f.create=t=>new $f({typeName:pe.ZodVoid,..._e(t)});class br extends Te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return te(n,{code:q.invalid_type,expected:oe.array,received:n.parsedType}),me;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(te(n,{code:o?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(te(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(te(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Kr(n,o,n.path,a)))).then(o=>cn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Kr(n,o,n.path,a)));return cn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new br({...this._def,minLength:{value:e,message:le.toString(n)}})}max(e,n){return new br({...this._def,maxLength:{value:e,message:le.toString(n)}})}length(e,n){return new br({...this._def,exactLength:{value:e,message:le.toString(n)}})}nonempty(e){return this.min(1,e)}}br.create=(t,e)=>new br({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,..._e(e)});function na(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Hr.create(na(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof br?new br({...t._def,type:na(t.element)}):t instanceof Hr?Hr.create(na(t.unwrap())):t instanceof Ci?Ci.create(na(t.unwrap())):t instanceof Gr?Gr.create(t.items.map(e=>na(e))):t}class dt extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Fe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==oe.object){const u=this._getOrReturnCtx(e);return te(u,{code:q.invalid_type,expected:oe.object,received:u.parsedType}),me}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Cs&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Kr(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Cs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(te(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Kr(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>cn.mergeObjectSync(r,u)):cn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return le.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:le.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};for(const r of Fe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new dt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Fe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new dt({...this._def,shape:()=>n})}deepPartial(){return na(this)}partial(e){const n={};for(const r of Fe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new dt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Fe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Hr;)i=i._def.innerType;n[r]=i}return new dt({...this._def,shape:()=>n})}keyof(){return OM(Fe.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:Cs.create(),typeName:pe.ZodObject,..._e(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:Cs.create(),typeName:pe.ZodObject,..._e(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:Cs.create(),typeName:pe.ZodObject,..._e(e)});class Gc extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new $n(a.ctx.common.issues));return te(n,{code:q.invalid_union,unionErrors:o}),me}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new $n(l));return te(n,{code:q.invalid_union,unionErrors:a}),me}}get options(){return this._def.options}}Gc.create=(t,e)=>new Gc({options:t,typeName:pe.ZodUnion,..._e(e)});const rs=t=>t instanceof Jc?rs(t.schema):t instanceof kr?rs(t.innerType()):t instanceof eu?[t.value]:t instanceof ki?t.options:t instanceof tu?Fe.objectValues(t.enum):t instanceof nu?rs(t._def.innerType):t instanceof Qc?[void 0]:t instanceof Kc?[null]:t instanceof Hr?[void 0,...rs(t.unwrap())]:t instanceof Ci?[null,...rs(t.unwrap())]:t instanceof Fx||t instanceof su?rs(t.unwrap()):t instanceof ru?rs(t._def.innerType):[];class Fh extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return te(n,{code:q.invalid_type,expected:oe.object,received:n.parsedType}),me;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=rs(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Fh({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,..._e(r)})}}function Vg(t,e){const n=ls(t),r=ls(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=Fe.objectKeys(e),i=Fe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Vg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Vg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xc extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Lg(i)||Lg(o))return me;const a=Vg(i.value,o.value);return a.valid?((zg(i)||zg(o))&&n.dirty(),{status:n.value,value:a.data}):(te(r,{code:q.invalid_intersection_types}),me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xc.create=(t,e,n)=>new Xc({left:t,right:e,typeName:pe.ZodIntersection,..._e(n)});class Gr extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return te(r,{code:q.invalid_type,expected:oe.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return te(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Kr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>cn.mergeArray(n,o)):cn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Gr({...this._def,rest:e})}}Gr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gr({items:t,typeName:pe.ZodTuple,rest:null,..._e(e)})};class Zc extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return te(r,{code:q.invalid_type,expected:oe.object,received:r.parsedType}),me;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Kr(r,a,r.path,a)),value:o._parse(new Kr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?cn.mergeObjectAsync(n,s):cn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Te?new Zc({keyType:e,valueType:n,typeName:pe.ZodRecord,..._e(r)}):new Zc({keyType:yr.create(),valueType:e,typeName:pe.ZodRecord,..._e(n)})}}class Bf extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return te(r,{code:q.invalid_type,expected:oe.map,received:r.parsedType}),me;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Kr(r,a,r.path,[u,"key"])),value:i._parse(new Kr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}Bf.create=(t,e,n)=>new Bf({valueType:e,keyType:t,typeName:pe.ZodMap,..._e(n)});class Oo extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return te(r,{code:q.invalid_type,expected:oe.set,received:r.parsedType}),me;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(te(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(te(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return me;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Kr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Oo({...this._def,minSize:{value:e,message:le.toString(n)}})}max(e,n){return new Oo({...this._def,maxSize:{value:e,message:le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Oo.create=(t,e)=>new Oo({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,..._e(e)});class Pa extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return te(n,{code:q.invalid_type,expected:oe.function,received:n.parsedType}),me;function r(a,l){return zf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lf(),sl].filter(u=>!!u),issueData:{code:q.invalid_arguments,argumentsError:l}})}function s(a,l){return zf({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lf(),sl].filter(u=>!!u),issueData:{code:q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ol){const a=this;return xn(async function(...l){const u=new $n([]),d=await a._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(r(l,m)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const a=this;return xn(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new $n([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,i);if(!f.success)throw new $n([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Pa({...this._def,args:Gr.create(e).rest(bo.create())})}returns(e){return new Pa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Pa({args:e||Gr.create([]).rest(bo.create()),returns:n||bo.create(),typeName:pe.ZodFunction,..._e(r)})}}class Jc extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jc.create=(t,e)=>new Jc({getter:t,typeName:pe.ZodLazy,..._e(e)});class eu extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}eu.create=(t,e)=>new eu({value:t,typeName:pe.ZodLiteral,..._e(e)});function OM(t,e){return new ki({values:t,typeName:pe.ZodEnum,..._e(e)})}class ki extends Te{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{expected:Fe.joinValues(r),received:n.parsedType,code:q.invalid_type}),me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{received:n.data,code:q.invalid_enum_value,options:r}),me}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ki.create(e,{...this._def,...n})}exclude(e,n=this._def){return ki.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ki.create=OM;class tu extends Te{_parse(e){const n=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=Fe.objectValues(n);return te(r,{expected:Fe.joinValues(s),received:r.parsedType,code:q.invalid_type}),me}if(this._cache||(this._cache=new Set(Fe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Fe.objectValues(n);return te(r,{received:r.data,code:q.invalid_enum_value,options:s}),me}return xn(e.data)}get enum(){return this._def.values}}tu.create=(t,e)=>new tu({values:t,typeName:pe.ZodNativeEnum,..._e(e)});class ol extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return te(n,{code:q.invalid_type,expected:oe.promise,received:n.parsedType}),me;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return xn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ol.create=(t,e)=>new ol({type:t,typeName:pe.ZodPromise,..._e(e)});class kr extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{te(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return me;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?me:l.status==="dirty"||n.value==="dirty"?ga(l.value):l});{if(n.value==="aborted")return me;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?me:a.status==="dirty"||n.value==="dirty"?ga(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?me:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Mo(o))return me;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Mo(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):me);Fe.assertNever(s)}}kr.create=(t,e,n)=>new kr({schema:t,typeName:pe.ZodEffects,effect:e,..._e(n)});kr.createWithPreprocess=(t,e,n)=>new kr({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,..._e(n)});class Hr extends Te{_parse(e){return this._getType(e)===oe.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:pe.ZodOptional,..._e(e)});class Ci extends Te{_parse(e){return this._getType(e)===oe.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ci.create=(t,e)=>new Ci({innerType:t,typeName:pe.ZodNullable,..._e(e)});class nu extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nu.create=(t,e)=>new nu({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class ru extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Yc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $n(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $n(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ru.create=(t,e)=>new ru({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class Uf extends Te{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return te(r,{code:q.invalid_type,expected:oe.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}Uf.create=t=>new Uf({typeName:pe.ZodNaN,..._e(t)});const U3=Symbol("zod_brand");class Fx extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ju extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),ga(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ju({in:e,out:n,typeName:pe.ZodPipeline})}}class su extends Te{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Mo(s)&&(s.value=Object.freeze(s.value)),s);return Yc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}su.create=(t,e)=>new su({innerType:t,typeName:pe.ZodReadonly,..._e(e)});function Ib(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Lx(t,e={},n){return t?il.create().superRefine((r,s)=>{const i=t(r);if(i instanceof Promise)return i.then(o=>{if(!o){const a=Ib(e,r),l=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:l})}});if(!i){const o=Ib(e,r),a=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:a})}}):il.create()}const W3={object:dt.lazycreate};var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const H3=(t,e={message:`Input not instance of ${t.name}`})=>Lx(n=>n instanceof t,e),we=yr.create,Yr=Si.create,Y3=Uf.create,q3=Ni.create,zx=qc.create,Q3=Do.create,K3=Vf.create,G3=Qc.create,AM=Kc.create,Wf=il.create,X3=bo.create,Z3=Cs.create,J3=$f.create,Vx=br.create,js=dt.create,eV=dt.strictCreate,xs=Gc.create,tV=Fh.create,nV=Xc.create,rV=Gr.create,$x=Zc.create,sV=Bf.create,iV=Oo.create,oV=Pa.create,aV=Jc.create,lV=eu.create,cV=ki.create,uV=tu.create,dV=ol.create,Rb=kr.create,fV=Hr.create,hV=Ci.create,mV=kr.createWithPreprocess,pV=ju.create,gV=()=>we().optional(),yV=()=>Yr().optional(),xV=()=>zx().optional(),Wd={string:t=>yr.create({...t,coerce:!0}),number:t=>Si.create({...t,coerce:!0}),boolean:t=>qc.create({...t,coerce:!0}),bigint:t=>Ni.create({...t,coerce:!0}),date:t=>Do.create({...t,coerce:!0})},vV=me,bV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:U3,DIRTY:ga,EMPTY_PATH:w3,INVALID:me,NEVER:vV,OK:xn,ParseStatus:cn,Schema:Te,ZodAny:il,ZodArray:br,ZodBigInt:Ni,ZodBoolean:qc,ZodBranded:Fx,ZodCatch:ru,ZodDate:Do,ZodDefault:nu,ZodDiscriminatedUnion:Fh,ZodEffects:kr,ZodEnum:ki,ZodError:$n,get ZodFirstPartyTypeKind(){return pe},ZodFunction:Pa,ZodIntersection:Xc,ZodIssueCode:q,ZodLazy:Jc,ZodLiteral:eu,ZodMap:Bf,ZodNaN:Uf,ZodNativeEnum:tu,ZodNever:Cs,ZodNull:Kc,ZodNullable:Ci,ZodNumber:Si,ZodObject:dt,ZodOptional:Hr,ZodParsedType:oe,ZodPipeline:ju,ZodPromise:ol,ZodReadonly:su,ZodRecord:Zc,ZodSchema:Te,ZodSet:Oo,ZodString:yr,ZodSymbol:Vf,ZodTransformer:kr,ZodTuple:Gr,ZodType:Te,ZodUndefined:Qc,ZodUnion:Gc,ZodUnknown:bo,ZodVoid:$f,addIssueToContext:te,any:Wf,array:Vx,bigint:q3,boolean:zx,coerce:Wd,custom:Lx,date:Q3,datetimeRegex:DM,defaultErrorMap:sl,discriminatedUnion:tV,effect:Rb,enum:cV,function:oV,getErrorMap:Lf,getParsedType:ls,instanceof:H3,intersection:nV,isAborted:Lg,isAsync:Yc,isDirty:zg,isValid:Mo,late:W3,lazy:aV,literal:lV,makeIssue:zf,map:sV,nan:Y3,nativeEnum:uV,never:Z3,null:AM,nullable:hV,number:Yr,object:js,get objectUtil(){return Fg},oboolean:xV,onumber:yV,optional:fV,ostring:gV,pipeline:pV,preprocess:mV,promise:dV,quotelessJson:v3,record:$x,set:iV,setErrorMap:b3,strictObject:eV,string:we,symbol:K3,transformer:Rb,tuple:rV,undefined:G3,union:xs,unknown:X3,get util(){return Fe},void:J3},Symbol.toStringTag,{value:"Module"})),ut={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function _t(t,e){return e.includes(t.columnType)}function wV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const _V=xs([we(),Yr(),zx(),AM()]),SV=xs([_V,$x(Wf()),Vx(Wf())]),NV=Lx(t=>t instanceof Buffer);function IM(t,e){const n=(e==null?void 0:e.zodInstance)??bV,r=(e==null?void 0:e.coerce)??{};let s;return wV(t)&&(s=t.enumValues.length?n.enum(t.enumValues):n.string()),s||(_t(t,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):_t(t,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):_t(t,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=t.dimensions?s.length(t.dimensions):s):_t(t,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):_t(t,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):_t(t,["PgArray"])?(s=n.array(IM(t.baseColumn,n)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=n.array(n.any()):t.dataType==="number"?s=kV(t,n,r):t.dataType==="bigint"?s=CV(t,n,r):t.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?s=TV(t,n,r):t.dataType==="json"?s=SV:t.dataType==="custom"?s=n.any():t.dataType==="buffer"&&(s=NV)),s||(s=n.any()),s}function kV(t,e,n){let r=t.getSQLType().includes("unsigned"),s,i,o=!1;_t(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:ut.INT8_MIN,i=r?ut.INT8_UNSIGNED_MAX:ut.INT8_MAX,o=!0):_t(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:ut.INT16_MIN,i=r?ut.INT16_UNSIGNED_MAX:ut.INT16_MAX,o=!0):_t(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:ut.INT24_MIN,i=r?ut.INT24_UNSIGNED_MAX:ut.INT24_MAX,o=_t(t,["MySqlMediumInt","SingleStoreMediumInt"])):_t(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:ut.INT32_MIN,i=r?ut.INT32_UNSIGNED_MAX:ut.INT32_MAX,o=!0):_t(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:ut.INT48_MIN,i=r?ut.INT48_UNSIGNED_MAX:ut.INT48_MAX):_t(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||_t(t,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):_t(t,["MySqlYear","SingleStoreYear"])?(s=1901,i=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let a=n===!0||n!=null&&n.number?e.coerce.number():e.number();return a=a.min(s).max(i),o?a.int():a}function CV(t,e,n){const r=t.getSQLType().includes("unsigned"),s=r?0n:ut.INT64_MIN,i=r?ut.INT64_UNSIGNED_MAX:ut.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(s).max(i)}function TV(t,e,n){if(_t(t,["PgUUID"]))return e.string().uuid();let r,s,i=!1;_t(t,["PgVarchar","SQLiteText"])?r=t.length:_t(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??ut.INT16_UNSIGNED_MAX:_t(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=ut.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=ut.INT24_UNSIGNED_MAX:t.textType==="text"?r=ut.INT16_UNSIGNED_MAX:r=ut.INT8_UNSIGNED_MAX),_t(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,i=!0),_t(t,["PgBinaryVector"])&&(s=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=s?o.regex(s):o,r&&i?o.length(r):r?o.max(r):o}function RM(t){return ZP(t)?Hz(t):Yz(t)}function FM(t,e,n,r){const s={};for(const[i,o]of Object.entries(t)){if(!Kt(o,nl)&&!Kt(o,Lt)&&!Kt(o,Lt.Aliased)&&typeof o=="object"){const f=ZP(o)||Wz(o)?RM(o):o;s[i]=FM(f,e[i]??{},n,r);continue}const a=e[i];if(a!==void 0&&typeof a!="function"){s[i]=a;continue}const l=Kt(o,nl)?o:void 0,u=l?IM(l,r):Wf(),d=typeof a=="function"?a(u):u;n.never(l)||(s[i]=d,l&&(n.nullable(l)&&(s[i]=s[i].nullable()),n.optional(l)&&(s[i]=s[i].optional())))}return js(s)}const jV={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},or=(t,e)=>{const n=RM(t);return FM(n,{},jV)},Hn=On("users",{id:wn("id").primaryKey(),email:Ue("email").unique().notNull(),username:Ue("username").unique().notNull(),passwordHash:Ue("password_hash").notNull(),firstName:Ue("first_name"),lastName:Ue("last_name"),profileImageUrl:Ue("profile_image_url"),isEmailVerified:rl("is_email_verified").default(!1),photosPin:Ue("photos_pin"),photosPinEnabled:rl("photos_pin_enabled"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),PV=On("user_profiles",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),gender:Ue("gender"),birthday:Ix("birthday"),height:Ue("height"),weight:Ue("weight"),bodyType:Ue("body_type"),onboardingCompleted:rl("onboarding_completed").default(!1),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),EV=On("user_goals",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type").notNull(),isActive:rl("is_active").default(!0),createdAt:et("created_at").defaultNow()}),MV=On("progress_entries",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type").notNull(),progressValue:Ht("progress_value").notNull(),entryDate:et("entry_date").notNull().defaultNow(),createdAt:et("created_at").defaultNow()}),LM=On("goal_targets",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type",{length:100}).notNull(),goalName:Ue("goal_name",{length:255}).notNull(),targetValuePrimary:xc("target_value_primary",{precision:10,scale:2}).notNull(),targetUnitPrimary:Ue("target_unit_primary",{length:50}).notNull(),targetValueSecondary:xc("target_value_secondary",{precision:10,scale:2}),targetUnitSecondary:Ue("target_unit_secondary",{length:50}),isActive:rl("is_active").default(!0),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),DV=On("goal_progress",{id:wn("id").primaryKey(),goalTargetId:Ht("goal_target_id").notNull().references(()=>LM.id),userId:Ht("user_id").notNull().references(()=>Hn.id),progressDate:Ix("progress_date").notNull(),actualValuePrimary:xc("actual_value_primary",{precision:10,scale:2}).notNull(),actualValueSecondary:xc("actual_value_secondary",{precision:10,scale:2}),percentageAchieved:xc("percentage_achieved",{precision:5,scale:2}),createdAt:et("created_at").defaultNow()}),OV=On("photos",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),filename:Ue("filename").notNull(),originalName:Ue("original_name").notNull(),mimeType:Ue("mime_type").notNull(),size:Ht("size").notNull(),imagePath:Ue("image_path").notNull(),thumbnailPath:Ue("thumbnail_path").notNull(),bucketPath:Ue("bucket_path").notNull(),date:et("date").notNull(),uploadDate:et("upload_date").defaultNow()});On("user_sessions",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),tokenHash:Ue("token_hash").notNull(),expiresAt:et("expires_at").notNull(),createdAt:et("created_at").defaultNow()});const AV=On("metrics",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),date:et("date").notNull(),weight:ys("weight",{precision:5,scale:2}),customFields:IE("custom_fields").$type().default({}),createdAt:et("created_at").defaultNow()});or(AV).omit({id:!0,createdAt:!0});const IV=On("custom_metric_fields",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),fieldName:Ue("field_name").notNull(),unit:Ue("unit").notNull(),createdAt:et("created_at").defaultNow()});or(IV).omit({id:!0,createdAt:!0});const RV=On("activities",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),activityType:Ue("activity_type").notNull(),startTime:et("start_time").notNull(),endTime:et("end_time").notNull(),durationMinutes:Ht("duration_minutes"),date:et("date").notNull(),location:Ue("location"),notes:Rx("notes"),createdAt:et("created_at").defaultNow()});or(RV).omit({id:!0,createdAt:!0,location:!0,notes:!0});const FV=On("custom_activities",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),name:Ue("name").notNull(),category:Ue("category").notNull().default("STRAIN"),icon:Ue("icon").default("fa-dumbbell"),createdAt:et("created_at").defaultNow()});or(FV).omit({id:!0,createdAt:!0});const LV=On("macros",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id),description:Rx("description").notNull(),protein:ys("protein",{precision:5,scale:1}).notNull().$type(),fats:ys("fats",{precision:5,scale:1}).notNull().$type(),carbs:ys("carbs",{precision:5,scale:1}).notNull().$type(),date:et("date").notNull(),createdAt:et("created_at").defaultNow()});or(LV).omit({id:!0,createdAt:!0}).extend({protein:xs([we(),Yr()]).transform(t=>String(t)),fats:xs([we(),Yr()]).transform(t=>String(t)),carbs:xs([we(),Yr()]).transform(t=>String(t))});const zV=On("macro_targets",{id:wn("id").primaryKey(),userId:Ht("user_id").notNull().references(()=>Hn.id).unique(),proteinTarget:ys("protein_target",{precision:5,scale:1}).notNull().default("0").$type(),fatsTarget:ys("fats_target",{precision:5,scale:1}).notNull().default("0").$type(),carbsTarget:ys("carbs_target",{precision:5,scale:1}).notNull().default("0").$type(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});or(zV).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({proteinTarget:xs([we(),Yr()]).transform(t=>String(t)),fatsTarget:xs([we(),Yr()]).transform(t=>String(t)),carbsTarget:xs([we(),Yr()]).transform(t=>String(t))});or(PV).omit({id:!0,createdAt:!0,updatedAt:!0});or(EV).omit({id:!0,createdAt:!0});or(MV).omit({id:!0,createdAt:!0});or(OV).omit({id:!0,uploadDate:!0});or(LM).omit({id:!0,createdAt:!0,updatedAt:!0});or(DV).omit({id:!0,createdAt:!0});const VV=js({usernameOrEmail:we().min(1,"Username or email is required"),password:we().min(6,"Password must be at least 6 characters")}),$V=js({username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),password:we().min(6,"Password must be at least 6 characters"),firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required")});js({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional(),goals:Vx(we()).min(1,"Please select at least one goal"),progress:$x(we(),Yr().min(0).max(100))});function BV({onToggleMode:t}){const{toast:e}=Bt(),n=Dn(),r=b.useRef(null),[s,i]=b.useState("text"),{register:o,handleSubmit:a,formState:{errors:l}}=wl({resolver:_l(VV)}),u=()=>{setTimeout(()=>{i("password")},100)},d=Mt({mutationFn:async m=>await Ae("POST","/api/login",m),onSuccess:async m=>{localStorage.setItem("authToken",m.token),e({title:"Welcome back!",description:"You have been logged in successfully."});try{const v=await Ae("GET","/api/user");n.setQueryData(["/api/user"],v),console.log("Login successful, user data updated:",v)}catch(v){console.error("Failed to fetch user data after login:",v),window.location.reload()}},onError:m=>{e({title:"Login Failed",description:m.message||"Invalid credentials. Please try again.",variant:"destructive"})}}),f=m=>{d.mutate(m)},[,h]=wt();return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Welcome back!"})]}),c.jsxs("form",{onSubmit:a(f),className:"space-y-6",autoComplete:"off","data-form-type":"login",noValidate:!0,"data-webkit-autofill":"off","data-password-manager":"off","data-1p-ignore":"true",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"login-username",children:"Username or Email"}),c.jsx(Ce,{id:"login-username",name:"username",type:"text",...o("usernameOrEmail"),placeholder:"Enter your username or email",className:"mt-2",autoComplete:"off",inputMode:"text","data-lpignore":"true","data-form-type":"other",spellCheck:"false",autoCapitalize:"none",autoCorrect:"off","data-webkit-autofill":"off","data-1p-ignore":"true"}),l.usernameOrEmail&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.usernameOrEmail.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"login-password",children:"Password"}),c.jsx("input",{type:"password",autoComplete:"new-password",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none"},tabIndex:-1,"aria-hidden":"true"}),c.jsx(Ce,{ref:r,id:"login-password",name:"password",type:s,placeholder:"Enter your password",className:"mt-2",spellCheck:"false",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off","data-lpignore":"true","data-form-type":"other","data-webkit-autofill":"off","data-1p-ignore":"true","data-password-generator":"off","data-password-manager":"off",onFocus:u,...o("password")}),l.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.password.message})]}),c.jsx(Q,{type:"submit",disabled:d.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:d.isPending?"Signing In...":"Sign In"})]}),c.jsxs("div",{className:"mt-6 text-center space-y-3",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Create Account"})]}),c.jsx("p",{className:"text-sm",children:c.jsx("button",{onClick:()=>h("/forgot-password"),className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Forgot Password?"})})]})]})})})}function UV({onToggleMode:t}){const{toast:e}=Bt(),n=Dn(),{register:r,handleSubmit:s,formState:{errors:i}}=wl({resolver:_l($V)}),o=Mt({mutationFn:async l=>await Ae("POST","/api/register",l),onSuccess:async l=>{localStorage.setItem("authToken",l.token),e({title:"Account Created!",description:"Welcome to Journey! Let's set up your profile."});try{const u=await Ae("GET","/api/user");n.setQueryData(["/api/user"],u),console.log("Registration successful, user data updated:",u)}catch(u){console.error("Failed to fetch user data after registration:",u),window.location.reload()}},onError:l=>{e({title:"Registration Failed",description:l.message||"Failed to create account. Please try again.",variant:"destructive"})}}),a=l=>{o.mutate(l)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Create your account"})]}),c.jsxs("form",{onSubmit:s(a),className:"space-y-6",autoComplete:"on","data-form-type":"register",children:[c.jsx("input",{type:"hidden",name:"signup-form",value:"true"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"firstName",children:"First Name"}),c.jsx(Ce,{id:"firstName",name:"given-name",...r("firstName"),placeholder:"First name",className:"mt-2",autoComplete:"given-name","data-form-type":"register"}),i.firstName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.firstName.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"lastName",children:"Last Name"}),c.jsx(Ce,{id:"lastName",name:"family-name",...r("lastName"),placeholder:"Last name",className:"mt-2",autoComplete:"family-name","data-form-type":"register"}),i.lastName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-username",children:"Username"}),c.jsx(Ce,{id:"register-username",name:"username",...r("username"),placeholder:"Choose a unique username",className:"mt-2",autoComplete:"username","data-form-type":"register"}),i.username&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.username.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-email",children:"Email"}),c.jsx(Ce,{id:"register-email",name:"email",type:"email",...r("email"),placeholder:"Enter your email address",className:"mt-2",autoComplete:"email","data-form-type":"register"}),i.email&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.email.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-password",children:"Password"}),c.jsx(Ce,{id:"register-password",name:"password",type:"password",...r("password"),placeholder:"Create a secure password",className:"mt-2",autoComplete:"new-password",autoCorrect:"off",spellCheck:"false",autoCapitalize:"none","data-form-type":"register","data-webkit-autofill":"off","data-1p-ignore":"true"}),i.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.password.message})]}),c.jsx(Q,{type:"submit",disabled:o.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:o.isPending?"Creating Account...":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Sign In"})]})})]})})})}function WV(){const[t,e]=b.useState(!0),n=()=>{e(!t)};return t?c.jsx(BV,{onToggleMode:n}):c.jsx(UV,{onToggleMode:n})}var $m="focusScope.autoFocusOnMount",Bm="focusScope.autoFocusOnUnmount",Fb={bubbles:!1,cancelable:!0},HV="FocusScope",Bx=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=b.useState(null),u=_r(s),d=_r(i),f=b.useRef(null),h=We(e,p=>l(p)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let p=function(w){if(m.paused||!a)return;const _=w.target;a.contains(_)?f.current=_:zs(f.current,{select:!0})},x=function(w){if(m.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||zs(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&zs(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const g=new MutationObserver(y);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),g.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){zb.add(m);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent($m,Fb);a.addEventListener($m,u),a.dispatchEvent(y),y.defaultPrevented||(YV(XV(zM(a)),{select:!0}),document.activeElement===p&&zs(a))}return()=>{a.removeEventListener($m,u),setTimeout(()=>{const y=new CustomEvent(Bm,Fb);a.addEventListener(Bm,d),a.dispatchEvent(y),y.defaultPrevented||zs(p??document.body,{select:!0}),a.removeEventListener(Bm,d),zb.remove(m)},0)}}},[a,u,d,m]);const v=b.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const g=p.currentTarget,[w,_]=qV(g);w&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&zs(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&zs(_,{select:!0})):y===g&&p.preventDefault()}},[n,r,m.paused]);return c.jsx(Pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Bx.displayName=HV;function YV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zs(r,{select:e}),document.activeElement!==n)return}function qV(t){const e=zM(t),n=Lb(e,t),r=Lb(e.reverse(),t);return[n,r]}function zM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lb(t,e){for(const n of t)if(!QV(n,{upTo:e}))return n}function QV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function KV(t){return t instanceof HTMLInputElement&&"select"in t}function zs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&KV(t)&&e&&t.select()}}var zb=GV();function GV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Vb(t,e),t.unshift(e)},remove(e){var n;t=Vb(t,e),(n=t[0])==null||n.resume()}}}function Vb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XV(t){return t.filter(e=>e.tagName!=="A")}var Um=0;function VM(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$b()),document.body.insertAdjacentElement("beforeend",t[1]??$b()),Um++,()=>{Um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Um--}},[])}function $b(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rr=function(){return Rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rr.apply(this,arguments)};function $M(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Hd="right-scroll-bar-position",Yd="width-before-scroll-bar",JV="with-scroll-bars-hidden",e$="--removed-body-scroll-bar-size";function Wm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function t$(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var n$=typeof window<"u"?b.useLayoutEffect:b.useEffect,Bb=new WeakMap;function r$(t,e){var n=t$(null,function(r){return t.forEach(function(s){return Wm(s,r)})});return n$(function(){var r=Bb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Wm(a,null)}),i.forEach(function(a){s.has(a)||Wm(a,o)})}Bb.set(n,t)},[t]),n}function s$(t){return t}function i$(t,e){e===void 0&&(e=s$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function o$(t){t===void 0&&(t={});var e=i$(null);return e.options=Rr({async:!0,ssr:!1},t),e}var BM=function(t){var e=t.sideCar,n=$M(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Rr({},n))};BM.isSideCarExport=!0;function a$(t,e){return t.useMedium(e),BM}var UM=o$(),Hm=function(){},Lh=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:Hm,onWheelCapture:Hm,onTouchMoveCapture:Hm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,v=t.noIsolation,p=t.inert,x=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,w=t.gapMode,_=$M(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=r$([n,e]),C=Rr(Rr({},_),s);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:UM,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?b.cloneElement(b.Children.only(a),Rr(Rr({},C),{ref:N})):b.createElement(g,Rr({},C,{className:l,ref:N}),a))});Lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lh.classNames={fullWidth:Yd,zeroRight:Hd};var l$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=l$();return e&&t.setAttribute("nonce",e),t}function u$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function d$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var f$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=c$())&&(u$(e,n),d$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},h$=function(){var t=f$();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},WM=function(){var t=h$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},m$={left:0,top:0,right:0,gap:0},Ym=function(t){return parseInt(t||"",10)||0},p$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ym(n),Ym(r),Ym(s)]},g$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return m$;var e=p$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},y$=WM(),Ea="data-scroll-locked",x$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(JV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ea,`] {
    `).concat(e$,": ").concat(a,`px;
  }
`)},Ub=function(){var t=parseInt(document.body.getAttribute(Ea)||"0",10);return isFinite(t)?t:0},v$=function(){b.useEffect(function(){return document.body.setAttribute(Ea,(Ub()+1).toString()),function(){var t=Ub()-1;t<=0?document.body.removeAttribute(Ea):document.body.setAttribute(Ea,t.toString())}},[])},b$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;v$();var i=b.useMemo(function(){return g$(s)},[s]);return b.createElement(y$,{styles:x$(i,!e,s,n?"":"!important")})},$g=!1;if(typeof window<"u")try{var sd=Object.defineProperty({},"passive",{get:function(){return $g=!0,!0}});window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{$g=!1}var Go=$g?{passive:!1}:!1,w$=function(t){return t.tagName==="TEXTAREA"},HM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!w$(t)&&n[e]==="visible")},_$=function(t){return HM(t,"overflowY")},S$=function(t){return HM(t,"overflowX")},Wb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=YM(t,r);if(s){var i=qM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},N$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},k$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},YM=function(t,e){return t==="v"?_$(e):S$(e)},qM=function(t,e){return t==="v"?N$(e):k$(e)},C$=function(t,e){return t==="h"&&e==="rtl"?-1:1},T$=function(t,e,n,r,s){var i=C$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{if(!a)break;var m=qM(t,a),v=m[0],p=m[1],x=m[2],y=p-x-i*v;(v||y)&&YM(t,a)&&(f+=y,h+=v);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},id=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Hb=function(t){return[t.deltaX,t.deltaY]},Yb=function(t){return t&&"current"in t?t.current:t},j$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},P$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},E$=0,Xo=[];function M$(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(E$++)[0],i=b.useState(WM)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=ZV([t.lockRef.current],(t.shards||[]).map(Yb),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=id(p),g=n.current,w="deltaX"in p?p.deltaX:g[0]-y[0],_="deltaY"in p?p.deltaY:g[1]-y[1],S,N=p.target,C=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&C==="h"&&N.type==="range")return!1;var T=Wb(C,N);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=Wb(C,N)),!T)return!1;if(!r.current&&"changedTouches"in p&&(w||_)&&(r.current=S),!S)return!0;var P=r.current||S;return T$(P,x,p,P==="h"?w:_)},[]),l=b.useCallback(function(p){var x=p;if(!(!Xo.length||Xo[Xo.length-1]!==i)){var y="deltaY"in x?Hb(x):id(x),g=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&j$(S.delta,y)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(Yb).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=w.length>0?a(x,w[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=b.useCallback(function(p,x,y,g){var w={name:p,delta:x,target:y,should:g,shadowParent:D$(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=b.useCallback(function(p){n.current=id(p),r.current=void 0},[]),f=b.useCallback(function(p){u(p.type,Hb(p),p.target,a(p,t.lockRef.current))},[]),h=b.useCallback(function(p){u(p.type,id(p),p.target,a(p,t.lockRef.current))},[]);b.useEffect(function(){return Xo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Go),document.addEventListener("touchmove",l,Go),document.addEventListener("touchstart",d,Go),function(){Xo=Xo.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Go),document.removeEventListener("touchmove",l,Go),document.removeEventListener("touchstart",d,Go)}},[]);var m=t.removeScrollBar,v=t.inert;return b.createElement(b.Fragment,null,v?b.createElement(i,{styles:P$(s)}):null,m?b.createElement(b$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function D$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const O$=a$(UM,M$);var Ux=b.forwardRef(function(t,e){return b.createElement(Lh,Rr({},t,{ref:e,sideCar:O$}))});Ux.classNames=Lh.classNames;var A$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zo=new WeakMap,od=new WeakMap,ad={},qm=0,QM=function(t){return t&&(t.host||QM(t.parentNode))},I$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=QM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},R$=function(t,e,n,r){var s=I$(e,Array.isArray(t)?t:[t]);ad[n]||(ad[n]=new WeakMap);var i=ad[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",p=(Zo.get(h)||0)+1,x=(i.get(h)||0)+1;Zo.set(h,p),i.set(h,x),o.push(h),p===1&&v&&od.set(h,!0),x===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),qm++,function(){o.forEach(function(f){var h=Zo.get(f)-1,m=i.get(f)-1;Zo.set(f,h),i.set(f,m),h||(od.has(f)||f.removeAttribute(r),od.delete(f)),m||f.removeAttribute(n)}),qm--,qm||(Zo=new WeakMap,Zo=new WeakMap,od=new WeakMap,ad={})}},KM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=A$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),R$(r,s,n,"aria-hidden")):function(){return null}},zh="Dialog",[GM,Rq]=Wo(zh),[F$,Cr]=GM(zh),XM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=b.useRef(null),l=b.useRef(null),[u,d]=Uc({prop:r,defaultProp:s??!1,onChange:i,caller:zh});return c.jsx(F$,{scope:e,triggerRef:a,contentRef:l,contentId:ka(),titleId:ka(),descriptionId:ka(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};XM.displayName=zh;var ZM="DialogTrigger",JM=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(ZM,n),i=We(e,s.triggerRef);return c.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Yx(s.open),...r,ref:i,onClick:xe(t.onClick,s.onOpenToggle)})});JM.displayName=ZM;var Wx="DialogPortal",[L$,eD]=GM(Wx,{forceMount:void 0}),tD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Cr(Wx,e);return c.jsx(L$,{scope:e,forceMount:n,children:b.Children.map(r,o=>c.jsx(yl,{present:n||i.open,children:c.jsx(Ch,{asChild:!0,container:s,children:o})}))})};tD.displayName=Wx;var Hf="DialogOverlay",nD=b.forwardRef((t,e)=>{const n=eD(Hf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cr(Hf,t.__scopeDialog);return i.modal?c.jsx(yl,{present:r||i.open,children:c.jsx(V$,{...s,ref:e})}):null});nD.displayName=Hf;var z$=Ja("DialogOverlay.RemoveScroll"),V$=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(Hf,n);return c.jsx(Ux,{as:z$,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Pe.div,{"data-state":Yx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ao="DialogContent",rD=b.forwardRef((t,e)=>{const n=eD(Ao,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Cr(Ao,t.__scopeDialog);return c.jsx(yl,{present:r||i.open,children:i.modal?c.jsx($$,{...s,ref:e}):c.jsx(B$,{...s,ref:e})})});rD.displayName=Ao;var $$=b.forwardRef((t,e)=>{const n=Cr(Ao,t.__scopeDialog),r=b.useRef(null),s=We(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return KM(i)},[]),c.jsx(sD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault())})}),B$=b.forwardRef((t,e)=>{const n=Cr(Ao,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return c.jsx(sD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sD=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Cr(Ao,n),l=b.useRef(null),u=We(e,l);return VM(),c.jsxs(c.Fragment,{children:[c.jsx(Bx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Su,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Yx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(U$,{titleId:a.titleId}),c.jsx(H$,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Hx="DialogTitle",iD=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(Hx,n);return c.jsx(Pe.h2,{id:s.titleId,...r,ref:e})});iD.displayName=Hx;var oD="DialogDescription",aD=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(oD,n);return c.jsx(Pe.p,{id:s.descriptionId,...r,ref:e})});aD.displayName=oD;var lD="DialogClose",cD=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Cr(lD,n);return c.jsx(Pe.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});cD.displayName=lD;function Yx(t){return t?"open":"closed"}var uD="DialogTitleWarning",[Fq,dD]=LF(uD,{contentName:Ao,titleName:Hx,docsSlug:"dialog"}),U$=({titleId:t})=>{const e=dD(uD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},W$="DialogDescriptionWarning",H$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dD(W$).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Y$=XM,q$=JM,Q$=tD,fD=nD,hD=rD,mD=iD,pD=aD,K$=cD;const Ri=Y$,gD=q$,G$=Q$,yD=b.forwardRef(({className:t,...e},n)=>c.jsx(fD,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));yD.displayName=fD.displayName;const Ps=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(G$,{children:[c.jsx(yD,{}),c.jsxs(hD,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(K$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(mx,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ps.displayName=hD.displayName;const Fi=({className:t,...e})=>c.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fi.displayName="DialogHeader";const Li=b.forwardRef(({className:t,...e},n)=>c.jsx(mD,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));Li.displayName=mD.displayName;const qx=b.forwardRef(({className:t,...e},n)=>c.jsx(pD,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));qx.displayName=pD.displayName;const X$={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-20 h-20 text-xl",xl:"w-32 h-32 text-3xl"};function Z$(t,e){var s,i;const n=((s=t==null?void 0:t.charAt(0))==null?void 0:s.toUpperCase())||"",r=((i=e==null?void 0:e.charAt(0))==null?void 0:i.toUpperCase())||"";return n+r||"U"}function Vh({firstName:t,lastName:e,profileImageUrl:n,size:r="md",onImageUpload:s,editable:i=!1}){const[o,a]=b.useState(null),[l,u]=b.useState({x:0,y:0}),[d,f]=b.useState(1),[h,m]=b.useState(!1),[v,p]=b.useState(!1),[x,y]=b.useState(!1),[g,w]=b.useState(null),[_,S]=b.useState(null),N=b.useRef(null),C=b.useRef(null),T=Z$(t,e),P=X$[r],O=D=>{a(D),u({x:0,y:0}),f(1),m(!0)},F=()=>{o&&s&&(s(o),m(!1),a(null))},A=D=>{const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},$=D=>{D.preventDefault(),D.touches.length===1?(y(!0),w({x:D.touches[0].clientX,y:D.touches[0].clientY})):D.touches.length===2&&(y(!1),S(A(D.touches)))},V=D=>{if(D.preventDefault(),D.touches.length===1&&x&&g){const W=D.touches[0].clientX-g.x,G=D.touches[0].clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.touches[0].clientX,y:D.touches[0].clientY})}else if(D.touches.length===2&&_){const W=A(D.touches),G=W/_;f(ne=>Math.max(.5,Math.min(3,ne*G))),S(W)}},I=D=>{D.preventDefault(),y(!1),w(null),S(null)},z=D=>{y(!0),w({x:D.clientX,y:D.clientY})},B=D=>{if(x&&g){const W=D.clientX-g.x,G=D.clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.clientX,y:D.clientY})}},j=()=>{y(!1),w(null)},R=D=>{D.preventDefault();const W=D.deltaY>0?.9:1.1;f(G=>Math.max(.5,Math.min(3,G*W)))};return c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:`${P} rounded-full flex items-center justify-center overflow-hidden`,children:n?c.jsx("img",{src:n,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-700 to-accent-300 shadow-lg ring-2 ring-black/30",children:c.jsx("span",{className:"font-semibold text-black text-lg",children:T})})}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx(Q,{type:"button",variant:"outline",size:"md",onClick:()=>{var D;return(D=document.getElementById("avatar-photo-upload"))==null?void 0:D.click()},className:"text-sm text-center",children:"Choose a different picture"})}),c.jsx("input",{id:"avatar-photo-upload",type:"file",accept:"image/*",onChange:D=>{var G;const W=(G=D.target.files)==null?void 0:G[0];W&&O(W)},className:"hidden"}),c.jsx(Ri,{open:h,onOpenChange:m,children:c.jsxs(Ps,{className:"max-w-md",children:[c.jsxs(Fi,{children:[c.jsx(Li,{className:"text-center",children:"Adjust Your Photo"}),c.jsx(qx,{className:"sr-only",children:"Use touch gestures to adjust your profile photo"})]}),o&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{ref:C,className:"relative w-64 h-64 mx-auto bg-gray-100 rounded-lg overflow-hidden touch-none",onTouchStart:$,onTouchMove:V,onTouchEnd:I,onMouseDown:z,onMouseMove:B,onMouseUp:j,onMouseLeave:j,onWheel:R,children:[c.jsx("img",{ref:N,src:URL.createObjectURL(o),alt:"Preview",className:"w-full h-full object-cover select-none",style:{transform:`scale(${d}) translate(${l.x}px, ${l.y}px)`},draggable:!1}),c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsxs("svg",{className:"w-full h-full",children:[c.jsx("defs",{children:c.jsxs("mask",{id:"circleMask",children:[c.jsx("rect",{width:"100%",height:"100%",fill:"white"}),c.jsx("circle",{cx:"50%",cy:"50%",r:"100",fill:"black"})]})}),c.jsx("rect",{width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.5)",mask:"url(#circleMask)"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-[200px] h-[200px] rounded-full border-2 border-white shadow-lg"})})]})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Adjust image as needed"}),c.jsxs("div",{className:"flex space-x-2 pt-4",children:[c.jsx(Q,{onClick:()=>m(!1),variant:"outline",className:"flex-1 text-center",children:"Cancel"}),c.jsx(Q,{onClick:F,className:"flex-1 text-center bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500",children:"Save Photo"})]})]})]})})]})]})}function J$({trigger:t,children:e,className:n=""}){const[r,s]=b.useState(!1),i=b.useRef(null),o=b.useRef(null);return b.useEffect(()=>{function a(l){i.current&&!i.current.contains(l.target)&&o.current&&!o.current.contains(l.target)&&s(!1)}if(r)return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[r]),c.jsxs("div",{className:"relative",children:[c.jsx("div",{ref:o,onClick:()=>s(!r),children:t}),r&&c.jsx("div",{ref:i,className:`absolute top-full left-0 mt-2 z-50 bg-white rounded-md shadow-lg border min-w-[200px] ${n}`,style:{transform:"translateZ(0)",willChange:"auto"},children:e})]})}const eB=[{label:"Dashboard",path:"/",icon:"fas fa-home"},{label:"Goals",path:"/goals",icon:"fas fa-target"},{label:"Nutrition",path:"/nutrition",icon:"fas fa-apple-alt"},{label:"Workouts",path:"/workouts",icon:"fas fa-dumbbell"},{label:"Sleep",path:"/sleep",icon:"fas fa-calculator"},{label:"Photos",path:"/photos",icon:"fas fa-camera"},{label:"Journal",path:"/journal-history",icon:"fas fa-book-open"},{label:"Progress",path:"/progress",icon:"fas fa-chart-line"},{label:"Feedback",path:"/feedback",icon:"fas fa-comment"}];function tB(){const[t]=wt(),e=c.jsx(Q,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"})]})});return c.jsx(J$,{trigger:e,className:"w-56",children:c.jsx("div",{className:"py-1",children:eB.map(n=>c.jsxs(zr,{href:n.path,className:`flex items-center space-x-3 px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 transition-colors ${t===n.path?"bg-primary-50 text-primary-600":"text-gray-700"}`,children:[c.jsx("i",{className:`${n.icon} w-4 h-4`}),c.jsx("span",{children:n.label})]},n.path))})})}function Jt({title:t,showBackButton:e=!1,onBack:n,showHomeButton:r=!1}={}){const{user:s}=Ii();return c.jsx("header",{className:`bg-white/75 backdrop-blur-sm shadow-lg border-0 px-4 fixed top-0 left-0 right-0 z-50 
      pt-[calc(env(safe-area-inset-top)+0.75rem)] pb-3 min-h-[calc(env(safe-area-inset-top)+4rem)]`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[e?c.jsxs(Q,{variant:"ghost",size:"sm",onClick:n||(()=>window.history.back()),className:"text-primary-600 hover:text-primary-700 hover:bg-primary-50/50 p-2 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-arrow-left text-lg"}),c.jsx("span",{children:"Back"})]}):c.jsx(tB,{}),c.jsx("h1",{className:"text-xl font-bold text-gray-800",children:t||"Journey"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[r&&c.jsx(zr,{href:"/",children:c.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-700 transition-colors",children:c.jsx("i",{className:"fas fa-home text-sm",style:{color:"#000000"}})})}),c.jsx(zr,{href:"/profile",children:c.jsx("div",{className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:c.jsx(Vh,{firstName:(s==null?void 0:s.firstName)||void 0,lastName:(s==null?void 0:s.lastName)||void 0,profileImageUrl:(s==null?void 0:s.profileImageUrl)||void 0,size:"md"})})})]})]})})}function de(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function rt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Nl(t,e){const n=de(t);return isNaN(e)?rt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Pu(t,e){const n=de(t);if(isNaN(e))return rt(t,NaN);if(!e)return n;const r=n.getDate(),s=rt(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function $h(t,e){const n=+de(t);return rt(t,n+e)}const xD=6048e5,nB=864e5,Eu=6e4,Mu=36e5,rB=1e3;function sB(t,e){return $h(t,e*Mu)}let iB={};function Ho(){return iB}function Xr(t,e){var a,l,u,d;const n=Ho(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=de(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function al(t){return Xr(t,{weekStartsOn:1})}function vD(t){const e=de(t),n=e.getFullYear(),r=rt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=al(r),i=rt(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=al(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ll(t){const e=de(t);return e.setHours(0,0,0,0),e}function Yf(t){const e=de(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bD(t,e){const n=ll(t),r=ll(e),s=+n-Yf(n),i=+r-Yf(r);return Math.round((s-i)/nB)}function oB(t){const e=vD(t),n=rt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),al(n)}function aB(t,e){return $h(t,e*Eu)}function lB(t,e){const n=e*3;return Pu(t,n)}function cB(t,e){return $h(t,e*1e3)}function uB(t,e){const n=e*7;return Nl(t,n)}function dB(t,e){return Pu(t,e*12)}function vc(t,e){const n=de(t),r=de(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function fB(t){return rt(t,Date.now())}function wD(t,e){const n=ll(t),r=ll(e);return+n==+r}function hB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _D(t){if(!hB(t)&&typeof t!="number")return!1;const e=de(t);return!isNaN(Number(e))}function mB(t,e){const n=de(t),r=de(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function pB(t,e){const n=de(t),r=de(e);return n.getFullYear()-r.getFullYear()}function SD(t,e){const n=de(t),r=de(e),s=qb(n,r),i=Math.abs(bD(n,r));n.setDate(n.getDate()-s*i);const o=+(qb(n,r)===-s),a=s*(i-o);return a===0?0:a}function qb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Du(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Bh(t,e){return+de(t)-+de(e)}function gB(t,e,n){const r=Bh(t,e)/Mu;return Du(n==null?void 0:n.roundingMethod)(r)}function yB(t,e,n){const r=Bh(t,e)/Eu;return Du(n==null?void 0:n.roundingMethod)(r)}function ND(t){const e=de(t);return e.setHours(23,59,59,999),e}function Qx(t){const e=de(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function xB(t){const e=de(t);return+ND(e)==+Qx(e)}function kD(t,e){const n=de(t),r=de(e),s=vc(n,r),i=Math.abs(mB(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=vc(n,r)===-s;xB(de(t))&&i===1&&vc(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function vB(t,e,n){const r=kD(t,e)/3;return Du(n==null?void 0:n.roundingMethod)(r)}function bB(t,e,n){const r=Bh(t,e)/1e3;return Du(n==null?void 0:n.roundingMethod)(r)}function wB(t,e,n){const r=SD(t,e)/7;return Du(n==null?void 0:n.roundingMethod)(r)}function _B(t,e){const n=de(t),r=de(e),s=vc(n,r),i=Math.abs(pB(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=vc(n,r)===-s,a=s*(i-+o);return a===0?0:a}function SB(t,e){const n=de(t.start),r=de(t.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(de(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function NB(t){const e=de(t);return e.setSeconds(0,0),e}function kB(t){const e=de(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function CD(t){const e=de(t);return e.setDate(1),e.setHours(0,0,0,0),e}function CB(t){const e=de(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function TD(t){const e=de(t),n=rt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function TB(t){const e=de(t);return e.setMinutes(59,59,999),e}function jB(t,e){var a,l;const n=Ho(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,s=de(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function PB(t){const e=de(t);return e.setSeconds(59,999),e}function EB(t){const e=de(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function MB(t){const e=de(t);return e.setMilliseconds(999),e}const DB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OB=(t,e,n)=>{let r;const s=DB[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const AB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FB={date:Qm({formats:AB,defaultWidth:"full"}),time:Qm({formats:IB,defaultWidth:"full"}),dateTime:Qm({formats:RB,defaultWidth:"full"})},LB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zB=(t,e,n,r)=>LB[t];function Vl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const VB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$B={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YB=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qB={ordinalNumber:YB,era:Vl({values:VB,defaultWidth:"wide"}),quarter:Vl({values:$B,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vl({values:BB,defaultWidth:"wide"}),day:Vl({values:UB,defaultWidth:"wide"}),dayPeriod:Vl({values:WB,defaultWidth:"wide",formattingValues:HB,defaultFormattingWidth:"wide"})};function $l(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?KB(a,f=>f.test(o)):QB(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function QB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function KB(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function GB(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const XB=/^(\d+)(th|st|nd|rd)?/i,ZB=/\d+/i,JB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},e6={any:[/^b/i,/^(a|c)/i]},t6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},n6={any:[/1/i,/2/i,/3/i,/4/i]},r6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},s6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},i6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},o6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},a6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},l6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},c6={ordinalNumber:GB({matchPattern:XB,parsePattern:ZB,valueCallback:t=>parseInt(t,10)}),era:$l({matchPatterns:JB,defaultMatchWidth:"wide",parsePatterns:e6,defaultParseWidth:"any"}),quarter:$l({matchPatterns:t6,defaultMatchWidth:"wide",parsePatterns:n6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$l({matchPatterns:r6,defaultMatchWidth:"wide",parsePatterns:s6,defaultParseWidth:"any"}),day:$l({matchPatterns:i6,defaultMatchWidth:"wide",parsePatterns:o6,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:a6,defaultMatchWidth:"any",parsePatterns:l6,defaultParseWidth:"any"})},jD={code:"en-US",formatDistance:OB,formatLong:FB,formatRelative:zB,localize:qB,match:c6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function u6(t){const e=de(t);return bD(e,TD(e))+1}function PD(t){const e=de(t),n=+al(e)-+oB(e);return Math.round(n/xD)+1}function Kx(t,e){var d,f,h,m;const n=de(t),r=n.getFullYear(),s=Ho(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=rt(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Xr(o,e),l=rt(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Xr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function d6(t,e){var a,l,u,d;const n=Ho(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Kx(t,e),i=rt(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Xr(i,e)}function ED(t,e){const n=de(t),r=+Xr(n,e)-+d6(n,e);return Math.round(r/xD)+1}function Ge(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Rs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ge(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ge(s,e.length)}},Jo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Rs.y(t,e)},Y:function(t,e,n,r){const s=Kx(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ge(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ge(i,e.length)},R:function(t,e){const n=vD(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Rs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=ED(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ge(s,e.length)},I:function(t,e,n){const r=PD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ge(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Rs.d(t,e)},D:function(t,e,n){const r=u6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ge(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ge(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ge(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ge(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Jo.noon:r===0?s=Jo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Jo.evening:r>=12?s=Jo.afternoon:r>=4?s=Jo.morning:s=Jo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Rs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Rs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Rs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Rs.s(t,e)},S:function(t,e){return Rs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Gb(r);case"XXXX":case"XX":return Xi(r);case"XXXXX":case"XXX":default:return Xi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Gb(r);case"xxxx":case"xx":return Xi(r);case"xxxxx":case"xxx":default:return Xi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Kb(r,":");case"OOOO":default:return"GMT"+Xi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Kb(r,":");case"zzzz":default:return"GMT"+Xi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ge(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ge(r,e.length)}};function Kb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Ge(i,2)}function Gb(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):Xi(t,e)}function Xi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ge(Math.trunc(r/60),2),i=Ge(r%60,2);return n+s+e+i}const Xb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},MD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},f6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Xb(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Xb(r,e)).replace("{{time}}",MD(s,e))},Bg={p:MD,P:f6},h6=/^D+$/,m6=/^Y+$/,p6=["D","DD","YY","YYYY"];function DD(t){return h6.test(t)}function OD(t){return m6.test(t)}function Ug(t,e,n){const r=g6(t,e,n);if(console.warn(r),p6.includes(t))throw new RangeError(r)}function g6(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const y6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v6=/^'([^]*?)'?$/,b6=/''/g,w6=/[a-zA-Z]/;function Ee(t,e,n){var d,f,h,m,v,p,x,y;const r=Ho(),s=(n==null?void 0:n.locale)??r.locale??jD,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(x=r.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,a=de(t);if(!_D(a))throw new RangeError("Invalid time value");let l=e.match(x6).map(g=>{const w=g[0];if(w==="p"||w==="P"){const _=Bg[w];return _(g,s.formatLong)}return g}).join("").match(y6).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:_6(g)};if(Qb[w])return{isToken:!0,value:g};if(w.match(w6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&OD(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&DD(w))&&Ug(w,e,String(t));const _=Qb[w[0]];return _(a,w,s.localize,u)}).join("")}function _6(t){const e=t.match(v6);return e?e[1].replace(b6,"'"):t}function AD(){return Object.assign({},Ho())}function S6(t){let n=de(t).getDay();return n===0&&(n=7),n}function N6(t,e){const n=e instanceof Date?rt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const k6=10;class ID{constructor(){k(this,"subPriority",0)}validate(e,n){return!0}}class C6 extends ID{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class T6 extends ID{constructor(){super(...arguments);k(this,"priority",k6);k(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:rt(n,N6(n,Date))}}class He{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new C6(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class j6 extends He{constructor(){super(...arguments);k(this,"priority",140);k(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const kt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Fr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ct(t,e){return t&&{value:e(t.value),rest:t.rest}}function ht(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Lr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Mu+i*Eu+o*rB),rest:e.slice(n[0].length)}}function RD(t){return ht(kt.anyDigitsSigned,t)}function bt(t,e){switch(t){case 1:return ht(kt.singleDigit,e);case 2:return ht(kt.twoDigits,e);case 3:return ht(kt.threeDigits,e);case 4:return ht(kt.fourDigits,e);default:return ht(new RegExp("^\\d{1,"+t+"}"),e)}}function qf(t,e){switch(t){case 1:return ht(kt.singleDigitSigned,e);case 2:return ht(kt.twoDigitsSigned,e);case 3:return ht(kt.threeDigitsSigned,e);case 4:return ht(kt.fourDigitsSigned,e);default:return ht(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Gx(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function FD(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function LD(t){return t%400===0||t%4===0&&t%100!==0}class P6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ct(bt(4,n),i);case"yo":return Ct(s.ordinalNumber(n,{unit:"year"}),i);default:return Ct(bt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=FD(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class E6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ct(bt(4,n),i);case"Yo":return Ct(s.ordinalNumber(n,{unit:"year"}),i);default:return Ct(bt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=Kx(n,i);if(s.isTwoDigitYear){const l=FD(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,i)}}class M6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return qf(r==="R"?4:r.length,n)}set(n,r,s){const i=rt(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),al(i)}}class D6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return qf(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class O6 extends He{constructor(){super(...arguments);k(this,"priority",120);k(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return bt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class A6 extends He{constructor(){super(...arguments);k(this,"priority",120);k(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return bt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class I6 extends He{constructor(){super(...arguments);k(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);k(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return Ct(ht(kt.month,n),i);case"MM":return Ct(bt(2,n),i);case"Mo":return Ct(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class R6 extends He{constructor(){super(...arguments);k(this,"priority",110);k(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return Ct(ht(kt.month,n),i);case"LL":return Ct(bt(2,n),i);case"Lo":return Ct(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function F6(t,e,n){const r=de(t),s=ED(r,n)-e;return r.setDate(r.getDate()-s*7),r}class L6 extends He{constructor(){super(...arguments);k(this,"priority",100);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return ht(kt.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Xr(F6(n,s,i),i)}}function z6(t,e){const n=de(t),r=PD(n)-e;return n.setDate(n.getDate()-r*7),n}class V6 extends He{constructor(){super(...arguments);k(this,"priority",100);k(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return ht(kt.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return al(z6(n,s))}}const $6=[31,28,31,30,31,30,31,31,30,31,30,31],B6=[31,29,31,30,31,30,31,31,30,31,30,31];class U6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"subPriority",1);k(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return ht(kt.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return bt(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=LD(s),o=n.getMonth();return i?r>=1&&r<=B6[o]:r>=1&&r<=$6[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class W6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"subpriority",1);k(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return ht(kt.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return bt(r.length,n)}}validate(n,r){const s=n.getFullYear();return LD(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Xx(t,e,n){var f,h,m,v;const r=Ho(),s=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,i=de(t),o=i.getDay(),l=(e%7+7)%7,u=7-s,d=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return Nl(i,d)}class H6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Xx(n,s,i),n.setHours(0,0,0,0),n}}class Y6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ct(bt(r.length,n),o);case"eo":return Ct(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Xx(n,s,i),n.setHours(0,0,0,0),n}}class q6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ct(bt(r.length,n),o);case"co":return Ct(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Xx(n,s,i),n.setHours(0,0,0,0),n}}function Q6(t,e){const n=de(t),r=S6(n),s=e-r;return Nl(n,s)}class K6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return bt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Ct(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ct(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ct(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ct(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=Q6(n,s),n.setHours(0,0,0,0),n}}class G6 extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Gx(s),0,0,0),n}}class X6 extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Gx(s),0,0,0),n}}class Z6 extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Gx(s),0,0,0),n}}class J6 extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return ht(kt.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class eU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return ht(kt.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class tU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return ht(kt.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class nU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return ht(kt.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return bt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class rU extends He{constructor(){super(...arguments);k(this,"priority",60);k(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return ht(kt.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class sU extends He{constructor(){super(...arguments);k(this,"priority",50);k(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return ht(kt.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return bt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class iU extends He{constructor(){super(...arguments);k(this,"priority",30);k(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Ct(bt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class oU extends He{constructor(){super(...arguments);k(this,"priority",10);k(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Lr(Fr.basicOptionalMinutes,n);case"XX":return Lr(Fr.basic,n);case"XXXX":return Lr(Fr.basicOptionalSeconds,n);case"XXXXX":return Lr(Fr.extendedOptionalSeconds,n);case"XXX":default:return Lr(Fr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:rt(n,n.getTime()-Yf(n)-s)}}class aU extends He{constructor(){super(...arguments);k(this,"priority",10);k(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Lr(Fr.basicOptionalMinutes,n);case"xx":return Lr(Fr.basic,n);case"xxxx":return Lr(Fr.basicOptionalSeconds,n);case"xxxxx":return Lr(Fr.extendedOptionalSeconds,n);case"xxx":default:return Lr(Fr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:rt(n,n.getTime()-Yf(n)-s)}}class lU extends He{constructor(){super(...arguments);k(this,"priority",40);k(this,"incompatibleTokens","*")}parse(n){return RD(n)}set(n,r,s){return[rt(n,s*1e3),{timestampIsSet:!0}]}}class cU extends He{constructor(){super(...arguments);k(this,"priority",20);k(this,"incompatibleTokens","*")}parse(n){return RD(n)}set(n,r,s){return[rt(n,s),{timestampIsSet:!0}]}}const uU={G:new j6,y:new P6,Y:new E6,R:new M6,u:new D6,Q:new O6,q:new A6,M:new I6,L:new R6,w:new L6,I:new V6,d:new U6,D:new W6,E:new H6,e:new Y6,c:new q6,i:new K6,a:new G6,b:new X6,B:new Z6,h:new J6,H:new eU,K:new tU,k:new nU,m:new rU,s:new sU,S:new iU,X:new oU,x:new aU,t:new lU,T:new cU},dU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hU=/^'([^]*?)'?$/,mU=/''/g,pU=/\S/,gU=/[a-zA-Z]/;function yU(t,e,n,r){var p,x,y,g,w,_,S,N;const s=AD(),i=(r==null?void 0:r.locale)??s.locale??jD,o=(r==null?void 0:r.firstWeekContainsDate)??((x=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(y=s.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((_=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??s.weekStartsOn??((N=(S=s.locale)==null?void 0:S.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return t===""?de(n):rt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},u=[new T6],d=e.match(fU).map(C=>{const T=C[0];if(T in Bg){const P=Bg[T];return P(C,i.formatLong)}return C}).join("").match(dU),f=[];for(let C of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&OD(C)&&Ug(C,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&DD(C)&&Ug(C,e,t);const T=C[0],P=uU[T];if(P){const{incompatibleTokens:O}=P;if(Array.isArray(O)){const A=f.find($=>O.includes($.token)||$.token===T);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${C}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);f.push({token:T,fullToken:C});const F=P.run(t,C,i.match,l);if(!F)return rt(n,NaN);u.push(F.setter),t=F.rest}else{if(T.match(gU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(C==="''"?C="'":T==="'"&&(C=xU(C)),t.indexOf(C)===0)t=t.slice(C.length);else return rt(n,NaN)}}if(t.length>0&&pU.test(t))return rt(n,NaN);const h=u.map(C=>C.priority).sort((C,T)=>T-C).filter((C,T,P)=>P.indexOf(C)===T).map(C=>u.filter(T=>T.priority===C).sort((T,P)=>P.subPriority-T.subPriority)).map(C=>C[0]);let m=de(n);if(isNaN(m.getTime()))return rt(n,NaN);const v={};for(const C of h){if(!C.validate(m,l))return rt(n,NaN);const T=C.set(m,v,l);Array.isArray(T)?(m=T[0],Object.assign(v,T[1])):m=T}return rt(n,m)}function xU(t){return t.match(hU)[1].replace(mU,"'")}function vU(t){const e=de(t);return e.setMinutes(0,0,0),e}function bU(t,e){const n=de(t),r=de(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function wU(t){const e=de(t);return e.setMilliseconds(0),e}function Ti(t){return wD(t,fB(t))}function cl(t,e){return Nl(t,-e)}function Uh(t,e){const n=(e==null?void 0:e.additionalDigits)??2,r=kU(t);let s;if(r.date){const l=CU(r.date,n);s=TU(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=jU(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=PU(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+a)}const ld={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_U=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,SU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,NU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function kU(t){const e={},n=t.split(ld.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ld.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ld.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=ld.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function CU(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function TU(t,e){if(e===null)return new Date(NaN);const n=t.match(_U);if(!n)return new Date(NaN);const r=!!n[4],s=Bl(n[1]),i=Bl(n[2])-1,o=Bl(n[3]),a=Bl(n[4]),l=Bl(n[5])-1;if(r)return AU(e,a,l)?EU(e,a,l):new Date(NaN);{const u=new Date(0);return!DU(e,i,o)||!OU(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}}function Bl(t){return t?parseInt(t):1}function jU(t){const e=t.match(SU);if(!e)return NaN;const n=Km(e[1]),r=Km(e[2]),s=Km(e[3]);return IU(n,r,s)?n*Mu+r*Eu+s*1e3:NaN}function Km(t){return t&&parseFloat(t.replace(",","."))||0}function PU(t){if(t==="Z")return 0;const e=t.match(NU);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return RU(r,s)?n*(r*Mu+s*Eu):NaN}function EU(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const MU=[31,null,31,30,31,30,31,31,30,31,30,31];function zD(t){return t%400===0||t%4===0&&t%100!==0}function DU(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(MU[e]||(zD(t)?29:28))}function OU(t,e){return e>=1&&e<=(zD(t)?366:365)}function AU(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function IU(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function RU(t,e){return e>=0&&e<=59}function FU(t,e){return Pu(t,-1)}function LU({selectedDate:t,onDateSelect:e,onClose:n}){const[r,s]=b.useState(t),i=CD(r),o=Qx(r),a=SB({start:i,end:o}),l=()=>{s(FU(r))},u=()=>{s(Pu(r,1))},d=f=>{e(f),n==null||n()};return c.jsx(ce,{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-white/95 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:c.jsxs(ue,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:l,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-left text-sm"})}),c.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:Ee(r,"MMMM yyyy").toUpperCase()}),c.jsx(Q,{variant:"ghost",size:"sm",onClick:u,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-right text-sm"})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(f=>c.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:f},f))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:a.map(f=>c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>d(f),className:`
                h-8 w-8 p-0 text-sm font-normal
                ${wD(f,t)?"bg-gray-800 text-white hover:bg-gray-700":Ti(f)?"text-yellow-600 font-semibold hover:bg-yellow-50":bU(f,r)?"text-gray-700 hover:bg-gray-100":"text-gray-400 hover:bg-gray-50"}
              `,children:Ee(f,"d")},f.toISOString()))})]})})}function zU({selectedDate:t,onDateChange:e}){const[n,r]=b.useState(!1),s=()=>{e(cl(t,1))},i=()=>{e(Nl(t,1))},o=()=>{r(!n)},a=l=>{e(l),r(!1)};return c.jsxs("div",{className:"relative mb-6",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[c.jsx(Q,{variant:"outline",size:"sm",onClick:s,className:`bg-gray-800 text-white border-gray-800 
      hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center`,children:" prev "}),c.jsx(Q,{variant:"outline",onClick:o,className:`
            px-6 py-2 font-semibold transition-all duration-200 min-w-[140px] h-10
            ${Ti(t),"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg"}
          `,children:Ti(t)?"TODAY":Ee(t,"EEE, MMM d").toUpperCase()}),c.jsx(Q,{variant:"outline",size:"sm",onClick:i,className:"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center",children:"next"})]}),n&&c.jsx(LU,{selectedDate:t,onDateSelect:a,onClose:()=>r(!1)})]})}function VU({selectedDate:t}){const[,e]=wt(),{data:n=[]}=Dt({queryKey:[`/api/activities/date/${Ee(t,"yyyy-MM-dd")}`]}),r=[...n].sort((l,u)=>!l.startTime||!u.startTime?0:new Date(l.startTime).getTime()-new Date(u.startTime).getTime()),s=l=>{e(`/add-activity?edit=${l.id}&activityType=${encodeURIComponent(l.activityType||"")}&startTime=${encodeURIComponent(l.startTime||"")}&endTime=${encodeURIComponent(l.endTime||"")}&date=${encodeURIComponent(l.date||"")}`)},i=l=>{switch(l){case"walking":return"fa-walking";case"running":return"fa-running";case"cycling":return"fa-biking";case"sleep":return"fa-bed";default:return"fa-dumbbell"}},o=l=>{switch(l){case"walking":return"bg-blue-500";case"running":return"bg-green-500";case"cycling":return"bg-yellow-500";case"sleep":return"bg-purple-500";default:return"bg-gray-500"}},a=l=>{const u=typeof l=="string"?new Date(l):l;return Ee(u,"h:mm a")};return c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-xl font-bold text-gray-800",children:"My Day"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Tap activity to edit"})]})}),c.jsxs(ue,{className:"pt-0",children:[c.jsx("div",{className:"space-y-3 mb-4",children:r.length>0?r.map(l=>c.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3 cursor-pointer hover:bg-gray-700 transition-colors duration-200",onClick:()=>s(l),children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`${o(l.activityType||"")} rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12`,children:c.jsx("i",{className:`fas ${i(l.activityType||"")} text-white text-sm`})}),c.jsx("div",{children:c.jsx("div",{className:"text-white font-medium",children:h4(l.activityType||"")})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-gray-300 text-sm font-medium",children:l.startTime&&l.endTime&&m4(Wj(Ee(new Date(l.startTime),"HH:mm"),Ee(new Date(l.endTime),"HH:mm"),l.activityType))}),c.jsxs("div",{className:"text-right text-gray-300 text-sm",children:[c.jsx("div",{children:l.startTime&&a(l.startTime)}),c.jsx("div",{children:l.endTime&&a(l.endTime)})]})]})]},l.id)):c.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No activities logged ",Ti(t)?"today":"for this date"]})}),c.jsx(zr,{href:`/add-activity?date=${Ee(t,"yyyy-MM-dd")}`,onClick:()=>{const l=Ee(t,"yyyy-MM-dd");console.log(" MyDayBlock Link Debug - selectedDate:",t),console.log(" MyDayBlock Link Debug - formatted date param:",l),console.log(" MyDayBlock Link Debug - full URL:",`/add-activity?date=${l}`)},children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD ACTIVITY"]})}),c.jsx(zr,{href:`/journal-entry?date=${Ee(t,"yyyy-MM-dd")}`,onClick:()=>{Ee(t,"yyyy-MM-dd")},children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 mt-2 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"JOURNAL"]})})]})]})}const VD=mz,$D=b.createContext({}),io=({...t})=>c.jsx($D.Provider,{value:{name:t.name},children:c.jsx(xz,{...t})}),Wh=()=>{const t=b.useContext($D),e=b.useContext(BD),{getFieldState:n,formState:r}=Rh(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},BD=b.createContext({}),ni=b.forwardRef(({className:t,...e},n)=>{const r=b.useId();return c.jsx(BD.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:Re("space-y-2",t),...e})})});ni.displayName="FormItem";const ri=b.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Wh();return c.jsx(Be,{ref:n,className:Re(r&&"text-destructive",t),htmlFor:s,...e})});ri.displayName="FormLabel";const si=b.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Wh();return c.jsx(lj,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});si.displayName="FormControl";const $U=b.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Wh();return c.jsx("p",{ref:n,id:r,className:Re("text-sm text-muted-foreground",t),...e})});$U.displayName="FormDescription";const ii=b.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Wh(),o=s?String((s==null?void 0:s.message)??""):e;return o?c.jsx("p",{ref:r,id:i,className:Re("text-sm font-medium text-destructive",t),...n,children:o}):null});ii.displayName="FormMessage";const Gm={fat:9,protein:4,carbs:4};function UD(t,e,n){return t*Gm.protein+e*Gm.fat+n*Gm.carbs}function WD(t){const e=t.reduce((n,r)=>({protein:n.protein+(Number(r.protein)||0),fats:n.fats+(Number(r.fats)||0),carbs:n.carbs+(Number(r.carbs)||0)}),{protein:0,fats:0,carbs:0});return{...e,totalCalories:UD(e.protein,e.fats,e.carbs)}}function BU(t,e=7){const n=new Date,r=[];for(let s=e-1;s>=0;s--){const i=cl(n,s),o=Ee(i,"yyyy-MM-dd"),a=t[o]||[];if(a.length>0){const l=WD(a);r.push({date:o,value:l.totalCalories})}}return r}function UU(t,e){return{protein:e.proteinTarget>0?t.protein/e.proteinTarget*100:0,fats:e.fatsTarget>0?t.fats/e.fatsTarget*100:0,carbs:e.carbsTarget>0?t.carbs/e.carbsTarget*100:0}}const WU=js({proteinTarget:Wd.number().min(0),fatsTarget:Wd.number().min(0),carbsTarget:Wd.number().min(0)});function HU({selectedDate:t}){const e=Dn(),{toast:n}=Bt(),[r,s]=b.useState(!1),{data:i=[]}=Dt({queryKey:[`/api/macros/date/${Ee(t,"yyyy-MM-dd")}`]}),{data:o}=Dt({queryKey:["/api/macro-targets"]}),a=wl({resolver:_l(WU),defaultValues:{proteinTarget:o!=null&&o.proteinTarget?parseFloat(o.proteinTarget.toString()):0,fatsTarget:o!=null&&o.fatsTarget?parseFloat(o.fatsTarget.toString()):0,carbsTarget:o!=null&&o.carbsTarget?parseFloat(o.carbsTarget.toString()):0}});b.useEffect(()=>{o&&a.reset({proteinTarget:parseFloat(o.proteinTarget.toString()),fatsTarget:parseFloat(o.fatsTarget.toString()),carbsTarget:parseFloat(o.carbsTarget.toString())})},[o,a]);const l=Mt({mutationFn:async h=>await Ae("POST","/api/macro-targets",h),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/macro-targets"]}),s(!1),n({title:"Success",description:"Macro targets updated successfully"})},onError:()=>{n({title:"Error",description:"Failed to update macro targets",variant:"destructive"})}}),d=i.reduce((h,m)=>({protein:h.protein+parseFloat(m.protein.toString()),fats:h.fats+parseFloat(m.fats.toString()),carbs:h.carbs+parseFloat(m.carbs.toString())}),{protein:0,fats:0,carbs:0}),f=h=>{l.mutate(h)};return c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Vt,{className:"pb-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-xl font-bold text-gray-800",children:"Nutrition"}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsxs(Ri,{open:r,onOpenChange:s,children:[c.jsx(gD,{asChild:!0,children:c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("button",{className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:["Target: P:",o?parseFloat(o.proteinTarget.toString()):0,"g | F:",o?parseFloat(o.fatsTarget.toString()):0,"g | C:",o?parseFloat(o.carbsTarget.toString()):0,"g"]}),c.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Click to edit targets"})]})}),c.jsxs(Ps,{className:"sm:max-w-[425px] bg-white border-0 shadow-2xl",children:[c.jsx(Fi,{className:"pb-4",children:c.jsx(Li,{className:"text-xl font-bold text-gray-800 text-center",children:"Edit Macro Targets"})}),c.jsx(VD,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6 px-1",children:[c.jsx(io,{control:a.control,name:"proteinTarget",render:({field:h})=>c.jsxs(ni,{children:[c.jsx(ri,{className:"text-gray-700 font-medium",children:"Protein Target (grams)"}),c.jsx(si,{children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ii,{})]})}),c.jsx(io,{control:a.control,name:"fatsTarget",render:({field:h})=>c.jsxs(ni,{children:[c.jsx(ri,{className:"text-gray-700 font-medium",children:"Fats Target (grams)"}),c.jsx(si,{children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ii,{})]})}),c.jsx(io,{control:a.control,name:"carbsTarget",render:({field:h})=>c.jsxs(ni,{children:[c.jsx(ri,{className:"text-gray-700 font-medium",children:"Carbs Target (grams)"}),c.jsx(si,{children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ii,{})]})}),c.jsx("div",{className:"pt-6 border-t border-gray-200 bg-gray-50 -mx-1 px-4 py-4 rounded-lg",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Total Calories"}),c.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Math.round(UD(parseFloat(a.watch("proteinTarget"))||0,parseFloat(a.watch("fatsTarget"))||0,parseFloat(a.watch("carbsTarget"))||0))}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["P: ",parseFloat(a.watch("proteinTarget"))||0,"g  4 + F: ",parseFloat(a.watch("fatsTarget"))||0,"g  9 + C: ",parseFloat(a.watch("carbsTarget"))||0,"g  4"]})]})}),c.jsx(Q,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:l.isPending,children:l.isPending?"Updating...":"Update Targets"})]})})]})]})})]})}),c.jsxs(ue,{className:"pt-0",children:[c.jsxs("div",{className:"space-y-4 mb-2",children:[c.jsx("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 mb-3",children:i.length>0&&c.jsxs("span",{className:"text-xs text-right",children:["P: ",d.protein,"g | F: ",d.fats,"g | C: ",d.carbs,"g"]})}),i.length>0?i.map(h=>c.jsx("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-green-500 rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12",children:c.jsx("i",{className:"fas fa-utensils text-white text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-medium",children:h.description}),c.jsxs("div",{className:"text-gray-300 text-xs",children:["P: ",h.protein,"g  F: ",h.fats,"g  C: ",h.carbs,"g"]})]})]})},h.id)):c.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No macros logged ",Ti(t)?"today":"for this date"]})]}),c.jsx(zr,{href:`/add-macros?date=${Ee(t,"yyyy-MM-dd")}`,children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD MACROS"]})})]})]})}function Qf(t,[e,n]){return Math.min(n,Math.max(e,t))}var YU=b.createContext(void 0);function HD(t){const e=b.useContext(YU);return t||e||"ltr"}function YD(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var qU=[" ","Enter","ArrowUp","ArrowDown"],QU=[" ","Enter"],Io="Select",[Hh,Yh,KU]=cx(Io),[kl,Lq]=Wo(Io,[KU,Dh]),qh=Dh(),[GU,zi]=kl(Io),[XU,ZU]=kl(Io),qD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=t,p=qh(e),[x,y]=b.useState(null),[g,w]=b.useState(null),[_,S]=b.useState(!1),N=HD(u),[C,T]=Uc({prop:r,defaultProp:s??!1,onChange:i,caller:Io}),[P,O]=Uc({prop:o,defaultProp:a,onChange:l,caller:Io}),F=b.useRef(null),A=x?v||!!x.closest("form"):!0,[$,V]=b.useState(new Set),I=Array.from($).map(z=>z.props.value).join(";");return c.jsx(z5,{...p,children:c.jsxs(GU,{required:m,scope:e,trigger:x,onTriggerChange:y,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:ka(),value:P,onValueChange:O,open:C,onOpenChange:T,dir:N,triggerPointerDownPosRef:F,disabled:h,children:[c.jsx(Hh.Provider,{scope:e,children:c.jsx(XU,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(z=>{V(B=>new Set(B).add(z))},[]),onNativeOptionRemove:b.useCallback(z=>{V(B=>{const j=new Set(B);return j.delete(z),j})},[]),children:n})}),A?c.jsxs(y2,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:z=>O(z.target.value),disabled:h,form:v,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from($)]},I):null]})})};qD.displayName=Io;var QD="SelectTrigger",KD=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=qh(n),o=zi(QD,n),a=o.disabled||r,l=We(e,o.onTriggerChange),u=Yh(n),d=b.useRef("touch"),[f,h,m]=v2(p=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),g=b2(x,p,y);g!==void 0&&o.onValueChange(g.value)}),v=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx(xP,{asChild:!0,...i,children:c.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":x2(o.value)?"":void 0,...s,ref:l,onClick:xe(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:xe(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:xe(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&qU.includes(p.key)&&(v(),p.preventDefault())})})})});KD.displayName=QD;var GD="SelectValue",XD=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=zi(GD,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=We(e,l.onValueNodeChange);return Zt(()=>{u(d)},[u,d]),c.jsx(Pe.span,{...a,ref:f,style:{pointerEvents:"none"},children:x2(l.value)?c.jsx(c.Fragment,{children:o}):i})});XD.displayName=GD;var JU="SelectIcon",ZD=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(Pe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});ZD.displayName=JU;var eW="SelectPortal",JD=t=>c.jsx(Ch,{asChild:!0,...t});JD.displayName=eW;var Ro="SelectContent",e2=b.forwardRef((t,e)=>{const n=zi(Ro,t.__scopeSelect),[r,s]=b.useState();if(Zt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Uo.createPortal(c.jsx(t2,{scope:t.__scopeSelect,children:c.jsx(Hh.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(n2,{...t,ref:e})});e2.displayName=Ro;var lr=10,[t2,Vi]=kl(Ro),tW="SelectContentImpl",nW=Ja("SelectContent.RemoveScroll"),n2=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x,...y}=t,g=zi(Ro,n),[w,_]=b.useState(null),[S,N]=b.useState(null),C=We(e,H=>_(H)),[T,P]=b.useState(null),[O,F]=b.useState(null),A=Yh(n),[$,V]=b.useState(!1),I=b.useRef(!1);b.useEffect(()=>{if(w)return KM(w)},[w]),VM();const z=b.useCallback(H=>{const[Z,...ze]=A().map(Oe=>Oe.ref.current),[Me]=ze.slice(-1),be=document.activeElement;for(const Oe of H)if(Oe===be||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Z&&S&&(S.scrollTop=0),Oe===Me&&S&&(S.scrollTop=S.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==be))return},[A,S]),B=b.useCallback(()=>z([T,w]),[z,T,w]);b.useEffect(()=>{$&&B()},[$,B]);const{onOpenChange:j,triggerPointerDownPosRef:R}=g;b.useEffect(()=>{if(w){let H={x:0,y:0};const Z=Me=>{var be,Oe;H={x:Math.abs(Math.round(Me.pageX)-(((be=R.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Oe=R.current)==null?void 0:Oe.y)??0))}},ze=Me=>{H.x<=10&&H.y<=10?Me.preventDefault():w.contains(Me.target)||j(!1),document.removeEventListener("pointermove",Z),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ze,{capture:!0})}}},[w,j,R]),b.useEffect(()=>{const H=()=>j(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[j]);const[D,W]=v2(H=>{const Z=A().filter(be=>!be.disabled),ze=Z.find(be=>be.ref.current===document.activeElement),Me=b2(Z,H,ze);Me&&setTimeout(()=>Me.ref.current.focus())}),G=b.useCallback((H,Z,ze)=>{const Me=!I.current&&!ze;(g.value!==void 0&&g.value===Z||Me)&&(P(H),Me&&(I.current=!0))},[g.value]),ne=b.useCallback(()=>w==null?void 0:w.focus(),[w]),se=b.useCallback((H,Z,ze)=>{const Me=!I.current&&!ze;(g.value!==void 0&&g.value===Z||Me)&&F(H)},[g.value]),ge=r==="popper"?Wg:r2,ve=ge===Wg?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return c.jsx(t2,{scope:n,content:w,viewport:S,onViewportChange:N,itemRefCallback:G,selectedItem:T,onItemLeave:ne,itemTextRefCallback:se,focusSelectedItem:B,selectedItemText:O,position:r,isPositioned:$,searchRef:D,children:c.jsx(Ux,{as:nW,allowPinchZoom:!0,children:c.jsx(Bx,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:xe(s,H=>{var Z;(Z=g.trigger)==null||Z.focus({preventScroll:!0}),H.preventDefault()}),children:c.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(ge,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...y,...ve,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:xe(y.onKeyDown,H=>{const Z=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Z&&H.key.length===1&&W(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Me=A().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const be=H.target,Oe=Me.indexOf(be);Me=Me.slice(Oe+1)}setTimeout(()=>z(Me)),H.preventDefault()}})})})})})})});n2.displayName=tW;var rW="SelectItemAlignedPosition",r2=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=zi(Ro,n),o=Vi(Ro,n),[a,l]=b.useState(null),[u,d]=b.useState(null),f=We(e,C=>d(C)),h=Yh(n),m=b.useRef(!1),v=b.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:g}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&p&&x&&y){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(i.dir!=="rtl"){const be=O.left-T.left,Oe=P.left-be,qt=C.left-Oe,An=C.width+qt,Ms=Math.max(An,T.width),Bi=window.innerWidth-lr,Ui=Qf(Oe,[lr,Math.max(lr,Bi-Ms)]);a.style.minWidth=An+"px",a.style.left=Ui+"px"}else{const be=T.right-O.right,Oe=window.innerWidth-P.right-be,qt=window.innerWidth-C.right-Oe,An=C.width+qt,Ms=Math.max(An,T.width),Bi=window.innerWidth-lr,Ui=Qf(Oe,[lr,Math.max(lr,Bi-Ms)]);a.style.minWidth=An+"px",a.style.right=Ui+"px"}const F=h(),A=window.innerHeight-lr*2,$=p.scrollHeight,V=window.getComputedStyle(u),I=parseInt(V.borderTopWidth,10),z=parseInt(V.paddingTop,10),B=parseInt(V.borderBottomWidth,10),j=parseInt(V.paddingBottom,10),R=I+z+$+j+B,D=Math.min(x.offsetHeight*5,R),W=window.getComputedStyle(p),G=parseInt(W.paddingTop,10),ne=parseInt(W.paddingBottom,10),se=C.top+C.height/2-lr,ge=A-se,ve=x.offsetHeight/2,H=x.offsetTop+ve,Z=I+z+H,ze=R-Z;if(Z<=se){const be=F.length>0&&x===F[F.length-1].ref.current;a.style.bottom="0px";const Oe=u.clientHeight-p.offsetTop-p.offsetHeight,qt=Math.max(ge,ve+(be?ne:0)+Oe+B),An=Z+qt;a.style.height=An+"px"}else{const be=F.length>0&&x===F[0].ref.current;a.style.top="0px";const qt=Math.max(se,I+p.offsetTop+(be?G:0)+ve)+ze;a.style.height=qt+"px",p.scrollTop=Z-se+p.offsetTop}a.style.margin=`${lr}px 0`,a.style.minHeight=D+"px",a.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,u,p,x,y,i.dir,r]);Zt(()=>w(),[w]);const[_,S]=b.useState();Zt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=b.useCallback(C=>{C&&v.current===!0&&(w(),g==null||g(),v.current=!1)},[w,g]);return c.jsx(iW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(Pe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});r2.displayName=rW;var sW="SelectPopperPosition",Wg=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=lr,...i}=t,o=qh(n);return c.jsx(vP,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wg.displayName=sW;var[iW,Zx]=kl(Ro,{}),Hg="SelectViewport",s2=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Vi(Hg,n),o=Zx(Hg,n),a=We(e,i.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Hh.Slot,{scope:n,children:c.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:xe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-lr*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(p,x);if(y<v){const g=y+m,w=Math.min(v,g),_=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});s2.displayName=Hg;var i2="SelectGroup",[oW,aW]=kl(i2),lW=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ka();return c.jsx(oW,{scope:n,id:s,children:c.jsx(Pe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});lW.displayName=i2;var o2="SelectLabel",a2=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=aW(o2,n);return c.jsx(Pe.div,{id:s.id,...r,ref:e})});a2.displayName=o2;var Kf="SelectItem",[cW,l2]=kl(Kf),c2=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=zi(Kf,n),l=Vi(Kf,n),u=a.value===r,[d,f]=b.useState(i??""),[h,m]=b.useState(!1),v=We(e,g=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,g,r,s)}),p=ka(),x=b.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(cW,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:b.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(Hh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(Pe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:xe(o.onFocus,()=>m(!0)),onBlur:xe(o.onBlur,()=>m(!1)),onClick:xe(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:xe(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:xe(o.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:xe(o.onPointerMove,g=>{var w;x.current=g.pointerType,s?(w=l.onItemLeave)==null||w.call(l):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:xe(o.onKeyDown,g=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(QU.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})})})})});c2.displayName=Kf;var ec="SelectItemText",u2=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=zi(ec,n),a=Vi(ec,n),l=l2(ec,n),u=ZU(ec,n),[d,f]=b.useState(null),h=We(e,y=>f(y),l.onItemTextChange,y=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Zt(()=>(p(v),()=>x(v)),[p,x,v]),c.jsxs(c.Fragment,{children:[c.jsx(Pe.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Uo.createPortal(i.children,o.valueNode):null]})});u2.displayName=ec;var d2="SelectItemIndicator",f2=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l2(d2,n).isSelected?c.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e}):null});f2.displayName=d2;var Yg="SelectScrollUpButton",h2=b.forwardRef((t,e)=>{const n=Vi(Yg,t.__scopeSelect),r=Zx(Yg,t.__scopeSelect),[s,i]=b.useState(!1),o=We(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(p2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});h2.displayName=Yg;var qg="SelectScrollDownButton",m2=b.forwardRef((t,e)=>{const n=Vi(qg,t.__scopeSelect),r=Zx(qg,t.__scopeSelect),[s,i]=b.useState(!1),o=We(e,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(p2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});m2.displayName=qg;var p2=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Vi("SelectScrollButton",n),o=b.useRef(null),a=Yh(n),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Zt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(Pe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:xe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:xe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:xe(s.onPointerLeave,()=>{l()})})}),uW="SelectSeparator",g2=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e})});g2.displayName=uW;var Qg="SelectArrow",dW=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qh(n),i=zi(Qg,n),o=Vi(Qg,n);return i.open&&o.position==="popper"?c.jsx(bP,{...s,...r,ref:e}):null});dW.displayName=Qg;var fW="SelectBubbleInput",y2=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=We(r,s),o=YD(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(Pe.select,{...n,style:{...mj,...n.style},ref:i,defaultValue:e})});y2.displayName=fW;function x2(t){return t===""||t===void 0}function v2(t){const e=_r(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function b2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=hW(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function hW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mW=qD,w2=KD,pW=XD,gW=ZD,yW=JD,_2=e2,xW=s2,S2=a2,N2=c2,vW=u2,bW=f2,k2=h2,C2=m2,T2=g2;const Fo=mW,Lo=pW,ji=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(w2,{ref:r,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(gW,{asChild:!0,children:c.jsx(Lj,{className:"h-4 w-4 opacity-50"})})]}));ji.displayName=w2.displayName;const j2=b.forwardRef(({className:t,...e},n)=>c.jsx(k2,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(ML,{className:"h-4 w-4"})}));j2.displayName=k2.displayName;const P2=b.forwardRef(({className:t,...e},n)=>c.jsx(C2,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Lj,{className:"h-4 w-4"})}));P2.displayName=C2.displayName;const Pi=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(yW,{children:c.jsxs(_2,{ref:s,className:Re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(j2,{}),c.jsx(xW,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(P2,{})]})}));Pi.displayName=_2.displayName;const wW=b.forwardRef(({className:t,...e},n)=>c.jsx(S2,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));wW.displayName=S2.displayName;const nt=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(N2,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(bW,{children:c.jsx(Fj,{className:"h-4 w-4"})})}),c.jsx(vW,{children:e})]}));nt.displayName=N2.displayName;const _W=b.forwardRef(({className:t,...e},n)=>c.jsx(T2,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));_W.displayName=T2.displayName;const SW={weight:["lbs","kg"],length:["in","cm"],percentage:["%"],count:["reps","count"]},NW=[{name:"Waist",unit:"length"},{name:"Chest",unit:"length"},{name:"Arms",unit:"length"},{name:"Thighs",unit:"length"},{name:"Hips",unit:"length"},{name:"Body Fat %",unit:"percentage"},{name:"Muscle Mass",unit:"percentage"}];function kW({selectedDate:t}){var S;const[e,n]=b.useState(!1),[r,s]=b.useState(!1),[i,o]=b.useState(""),[a,l]=b.useState("length"),[u,d]=b.useState({}),f=Dn(),h=Ee(t,"yyyy-MM-dd"),{data:m=[]}=Dt({queryKey:[`/api/metrics/date/${h}`]}),{data:v=[]}=Dt({queryKey:["/api/custom-metric-fields"]}),p=m.find(N=>Ee(new Date(N.date),"yyyy-MM-dd")===h);b.useEffect(()=>{d({})},[h]),console.log("Metrics Debug:",{tempValues:u,dateStr:h,currentMetric:p});const x=Mt({mutationFn:async N=>{console.log("Creating custom metric field:",N);const C=await Ae("POST","/api/custom-metric-fields",N);return console.log("Custom metric field created:",C),C},onSuccess:N=>{console.log("Custom field creation successful:",N),f.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),o(""),l("length"),s(!1)},onError:N=>{console.error("Error creating custom metric field:",N)}}),y=Mt({mutationFn:async N=>Ae("DELETE",`/api/custom-metric-fields/${N}`),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),v.length<=1&&n(!1)}}),g=Mt({mutationFn:async N=>Ae("POST","/api/metrics",{date:h,weight:N.weight,customFields:N.customFields}),onSuccess:N=>{console.log("Metric saved successfully:",N),f.invalidateQueries({queryKey:[`/api/metrics/date/${h}`]}),d({})},onError:N=>{console.error("Error saving metric:",N)}}),w=N=>{const C=u[N]||"";if(console.log("Saving field:",N,"input value:",C),!C.trim()){console.log("No value to save");return}if(N==="weight"){const T=parseFloat(C),P=(p==null?void 0:p.customFields)||{};console.log("Saving weight:",T),g.mutate({weight:T,customFields:P})}else{const T=p==null?void 0:p.weight,P={...(p==null?void 0:p.customFields)||{},[N]:parseFloat(C)};console.log("Saving custom field:",N,"value:",parseFloat(C)),g.mutate({weight:T,customFields:P})}},_=()=>{if(console.log("addCustomField called",{newFieldName:i,newFieldUnit:a}),i.trim()){const C=SW[a][0];console.log("Creating field with:",{fieldName:i.trim(),unit:C}),x.mutate({fieldName:i.trim(),unit:C})}else console.log("Field name is empty, not creating")};return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-weight text-purple-500 mr-2"}),"Metrics"]})}),c.jsxs(ue,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("div",{className:"w-6 h-6 flex items-center justify-center opacity-30",children:c.jsx("i",{className:"fas fa-ban text-gray-400 text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weight"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ce,{type:"number",inputMode:"decimal",value:u.weight??((S=p==null?void 0:p.weight)==null?void 0:S.toString())??"",onChange:N=>d(C=>({...C,weight:N.target.value})),placeholder:"Enter weight",className:"w-20 h-8"}),c.jsx("span",{className:"text-xs text-gray-500",children:"lbs"}),c.jsx("button",{onClick:()=>{console.log("Save weight clicked!"),w("weight")},disabled:g.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:g.isPending?"Saving...":"Save"})]})]}),v.map(N=>{var C,T;return c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("button",{onClick:()=>y.mutate(N.id),className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:c.jsx("i",{className:"fas fa-times text-white text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.fieldName})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ce,{type:"number",inputMode:"decimal",value:u[N.fieldName]??((T=(C=p==null?void 0:p.customFields)==null?void 0:C[N.fieldName])==null?void 0:T.toString())??"",onChange:P=>d(O=>({...O,[N.fieldName]:P.target.value})),placeholder:`Enter ${N.fieldName.toLowerCase()}`,className:"w-20 h-8"}),c.jsx("span",{className:"text-xs text-gray-500",children:N.unit}),c.jsx("button",{onClick:()=>{console.log("Save",N.fieldName,"clicked!"),w(N.fieldName)},disabled:g.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:g.isPending?"Saving...":"Save"})]})]},N.id)})]}),c.jsxs("div",{className:"space-y-3 mt-4",children:[c.jsxs(Ri,{open:r,onOpenChange:s,children:[c.jsx(gD,{asChild:!0,children:c.jsxs(Q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",onClick:()=>n(!1),children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD CUSTOM METRIC"]})}),c.jsxs(Ps,{children:[c.jsx(Fi,{children:c.jsx(Li,{children:"Add Custom Metric"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Be,{children:"Metric Name"}),c.jsxs(Fo,{value:i,onValueChange:o,children:[c.jsx(ji,{children:c.jsx(Lo,{placeholder:"Select or type custom metric"})}),c.jsx(Pi,{children:NW.map(N=>c.jsx(nt,{value:N.name,children:N.name},N.name))})]}),c.jsx(Ce,{placeholder:"Or type custom metric name",value:i,onChange:N=>o(N.target.value),className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{children:"Unit Type"}),c.jsxs(Fo,{value:a,onValueChange:l,children:[c.jsx(ji,{children:c.jsx(Lo,{})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"length",children:"Length (in/cm)"}),c.jsx(nt,{value:"percentage",children:"Percentage (%)"}),c.jsx(nt,{value:"count",children:"Count/Reps"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(Q,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),c.jsx(Q,{onClick:()=>{console.log("Add Metric button clicked"),_()},disabled:!i.trim()||x.isPending,className:"bg-purple-500 hover:bg-purple-600 text-white",children:x.isPending?"Adding...":"Add Metric"})]})]})]})]}),v.length>0&&c.jsxs(Q,{onClick:()=>n(!e),className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-edit mr-2"}),e?"DONE EDITING":"EDIT METRICS"]})]})]})]})}function CW({selectedDate:t}){var _;const[e,n]=b.useState(!1),[r,s]=b.useState(0),[i,o]=b.useState(!1),a=b.useRef(null),{toast:l}=Bt(),u=Ee(t,"yyyy-MM-dd"),{data:d=[]}=Dt({queryKey:[`/api/photos/date/${u}`]}),f=Mt({mutationFn:async S=>{const N=new FormData;return Array.from(S).forEach(C=>{N.append("photos",C)}),N.append("date",u),Ae("POST","/api/photos",N)},onSuccess:()=>{Gi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Gi.invalidateQueries({queryKey:["/api/photos"]}),Gi.invalidateQueries({predicate:S=>{var N;return(N=S.queryKey[0])==null?void 0:N.toString().includes("/api/photos")}}),l({title:"Success",description:"Photos uploaded successfully!"})},onError:S=>{l({title:"Error",description:`Failed to upload photos: ${S.message}`,variant:"destructive"})}}),h=Mt({mutationFn:async S=>Ae("DELETE",`/api/photos/${S}`),onSuccess:()=>{Gi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Gi.invalidateQueries({queryKey:["/api/photos"]}),Gi.invalidateQueries({predicate:S=>{var N;return(N=S.queryKey[0])==null?void 0:N.toString().includes("/api/photos")}}),l({title:"Success",description:"Photo deleted successfully!"})},onError:S=>{l({title:"Error",description:`Failed to delete photo: ${S.message}`,variant:"destructive"})}}),m=S=>{const N=S.target.files;N&&N.length>0&&f.mutate(N)},v=()=>{var S;(S=a.current)==null||S.click()},p=()=>{if(d.length>0&&r<d.length){const S=d[r];h.mutate(S.id),n(!1)}},x=S=>{s(S),o(!1),n(!0)},y=S=>{o(!1),s(S==="prev"?N=>N>0?N-1:d.length-1:N=>N<d.length-1?N+1:0)};b.useEffect(()=>{const S=N=>{e&&(N.key==="Escape"?n(!1):N.key==="ArrowLeft"&&d.length>1?y("prev"):N.key==="ArrowRight"&&d.length>1&&y("next"))};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[e,d.length]);const g=S=>{if(S.thumbnailUrl)return S.thumbnailUrl;const N=localStorage.getItem("authToken");return N?`/api/photos/${S.filename}?thumbnail=true&token=${N}`:"/placeholder-image.jpg"},w=S=>{if(S.imageUrl)return S.imageUrl;const N=localStorage.getItem("authToken");return N?`/api/photos/${S.filename}?token=${N}`:"/placeholder-image.jpg"};return c.jsxs(c.Fragment,{children:[c.jsxs(ce,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxHeight:"70vh"},children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-camera text-blue-500 mr-2"}),"Progress Photos",c.jsx("span",{className:"text-sm text-gray-500 ml-2",children:Ti(t)?"Today":Ee(t,"MMM d, yyyy")})]})}),c.jsxs(ue,{className:"pt-0",children:[d.length>0?c.jsx("div",{className:"grid gap-2 overflow-y-auto",style:{gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",maxHeight:"calc(70vh - 200px)"},children:d.map((S,N)=>c.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>x(N),children:c.jsx("img",{src:g(S),alt:`Progress photo ${N+1}`,className:"w-full h-full object-cover",style:{filter:"blur(6px)"}})},S.id))}):c.jsxs("div",{className:"text-gray-500 text-center pt-0 py-2",children:["No photos uploaded ",Ti(t)?"today":"for this date"]}),c.jsxs("div",{className:"flex space-x-2 mt-2",children:[c.jsxs(Q,{onClick:v,disabled:f.isPending,className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2 text-xs"}),f.isPending?"Uploading...":"ADD PHOTOS"]}),d.length>0&&c.jsx(Q,{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 text-sm",children:c.jsx("i",{className:"fas fa-trash text-xs"})})]}),c.jsx("input",{ref:a,type:"file",accept:"image/*",multiple:!0,onChange:m,className:"hidden"})]})]}),c.jsx(Ri,{open:e,onOpenChange:n,children:c.jsxs(Ps,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Fi,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsxs(Li,{className:"text-center text-lg font-semibold",children:["Progress Photo ",r+1," of ",d.length]})}),d.length>0&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[d.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>y("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!i&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:w(d[r]),alt:`Progress photo ${r+1}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${i?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>o(!0),onError:()=>o(!0)})]}),d.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>y("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:(_=d[r])==null?void 0:_.originalName}),c.jsxs(Q,{onClick:p,variant:"destructive",size:"sm",children:[c.jsx("i",{className:"fas fa-trash mr-2"}),"Delete Photo"]})]})]})})]})}function Zb(t,e){const[n,r,s]=t.split("-").map(Number),[i,o]=e.split(":").map(Number);return new Date(n,r-1,s,i,o,0,0)}function E2(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r,0,0,0,0)}function Xm(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function TW(t,e,n){if(n==="sleep"&&e<=t){const r=new Date(e);return r.setDate(r.getDate()+1),r}return e}function jW(){const{user:t}=Ii(),[e,n]=b.useState(new Date);b.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("date");if(console.log(" DETAILED Home Page URL Debug:"),console.log("1. Current URL:",window.location.href),console.log("2. URL Search Params:",window.location.search),console.log("3. dateParam from URL:",a),console.log("4. Current selectedDate before update:",e),console.log("5. Current selectedDate toString():",e.toString()),a){const l=E2(a);console.log("6. Creating new Date from dateParam using createDateFromString:",a),console.log("7. New Date Object:",l),console.log("8. New Date toString():",l.toString()),console.log("9. New Date toDateString():",l.toDateString()),console.log("10. New Date getDate():",l.getDate()),console.log("11. New Date getMonth():",l.getMonth()),console.log("12. New Date getFullYear():",l.getFullYear()),n(l),console.log("13. Set selectedDate to new date"),window.history.replaceState({},"","/"),console.log("14. Cleaned URL")}else console.log("6. NO dateParam found, keeping selectedDate as:",e.toString())},[]);const{data:r=[]}=Dt({queryKey:Ti(e)?["/api/progress"]:[`/api/progress/date/${Ee(e,"yyyy-MM-dd")}`],enabled:!!t}),{data:s=[]}=Dt({queryKey:["/api/photos"],enabled:!!t});console.log("Home page - photos:",s),console.log("Home page - photos length:",s.length);const i=()=>{const o=["Every step counts! Keep pushing forward.","You're stronger than yesterday.","Progress, not perfection.","Your only competition is who you were yesterday.","Believe in yourself and keep going!"];return o[Math.floor(Math.random()*o.length)]};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome back, ",(t==null?void 0:t.firstName)||(t==null?void 0:t.username),"!"]}),c.jsx("h2",{className:"text-gray-800 text-lg flex mb-6 items-center",children:i()}),c.jsx(zU,{selectedDate:e,onDateChange:n})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mb-4 gap-x-4",children:[c.jsx(VU,{selectedDate:e}),c.jsx(kW,{selectedDate:e}),c.jsx(CW,{selectedDate:e}),c.jsx(HU,{selectedDate:e})]}),Array.isArray(r)&&r.length>0&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mt-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Recent Progress"})}),c.jsx(ue,{children:c.jsx("div",{className:"space-y-4",children:r.slice(0,3).map((o,a)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ec4899"}}),c.jsx("span",{className:"font-medium text-gray-700 capitalize",children:o.goalType.replace("-"," ")})]}),c.jsx("div",{className:"text-right",children:c.jsxs("span",{className:"text-lg font-bold",style:{color:"#be185d"},children:[o.progressValue,"%"]})})]},a))})})]})]})]})}const PW=js({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function EW({data:t,updateData:e,onNext:n}){const{user:r}=Ii(),{register:s,handleSubmit:i,setValue:o,watch:a,formState:{errors:l}}=wl({resolver:_l(PW),defaultValues:{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType}}),u=f=>{console.log("Image uploaded:",f)},d=f=>{e(f),n()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(ue,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Create Your Profile"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Tell us about yourself to personalize your journey"}),c.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Vh,{firstName:r==null?void 0:r.firstName,lastName:r==null?void 0:r.lastName,profileImageUrl:r==null?void 0:r.profileImageUrl,size:"xl",onImageUpload:u,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a photo or use your initials"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"gender",children:"Gender"}),c.jsxs(Fo,{onValueChange:f=>o("gender",f),defaultValue:t.gender,children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Lo,{placeholder:"Select"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"female",children:"Female"}),c.jsx(nt,{value:"male",children:"Male"}),c.jsx(nt,{value:"non-binary",children:"Non-binary"}),c.jsx(nt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"birthday",children:"Birthday"}),c.jsx(Ce,{id:"birthday",type:"date",...s("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"height",children:"Height"}),c.jsx(Ce,{id:"height",...s("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"weight",children:"Weight"}),c.jsx(Ce,{id:"weight",...s("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Fo,{onValueChange:f=>o("bodyType",f),defaultValue:t.bodyType,children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Lo,{placeholder:"Select"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"petite",children:"Petite"}),c.jsx(nt,{value:"lean",children:"Lean"}),c.jsx(nt,{value:"average",children:"Average"}),c.jsx(nt,{value:"athletic",children:"Athletic"}),c.jsx(nt,{value:"muscular",children:"Muscular"}),c.jsx(nt,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl text-center",children:"Continue"})]})]})})}const MW=[{id:"general-fitness",label:"General Fitness",icon:"fas fa-running"},{id:"cardio",label:"Cardio",icon:"fas fa-heartbeat"},{id:"strength",label:"Strength",icon:"fas fa-dumbbell"},{id:"muscle-mass",label:"Muscle Mass",icon:"fas fa-fist-raised"},{id:"weight-loss",label:"Weight Loss",icon:"fas fa-weight"},{id:"improve-diet",label:"Improve Diet",icon:"fas fa-apple-alt"}];function DW({data:t,updateData:e,onNext:n}){const[r,s]=b.useState(t.goals);b.useEffect(()=>{e({goals:r})},[r,e]);const i=a=>{s(l=>l.includes(a)?l.filter(u=>u!==a):[...l,a])},o=()=>{r.length!==0&&n()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(ue,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"What Are Your Goals?"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Select all that apply to personalize your experience"}),c.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:MW.map(a=>c.jsxs("button",{onClick:()=>i(a.id),className:`p-4 border-2 rounded-xl text-center transition-all duration-300 ${r.includes(a.id)?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-primary-50"}`,children:[c.jsx("i",{className:`${a.icon} text-2xl text-primary-300 mb-2`}),c.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.id))}),c.jsx(Q,{onClick:o,disabled:r.length===0,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed text-center",children:"Continue"}),r.length===0&&c.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Please select at least one goal to continue"})]})})}var M2=["PageUp","PageDown"],D2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],O2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Cl="Slider",[Kg,OW,AW]=cx(Cl),[A2,zq]=Wo(Cl,[AW]),[IW,Qh]=A2(Cl),I2=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...p}=t,x=b.useRef(new Set),y=b.useRef(0),w=o==="horizontal"?RW:FW,[_=[],S]=Uc({prop:d,defaultProp:u,onChange:F=>{var $;($=[...x.current][y.current])==null||$.focus(),f(F)}}),N=b.useRef(_);function C(F){const A=BW(_,F);O(F,A)}function T(F){O(F,y.current)}function P(){const F=N.current[y.current];_[y.current]!==F&&h(_)}function O(F,A,{commit:$}={commit:!1}){const V=YW(i),I=qW(Math.round((F-r)/i)*i+r,V),z=Qf(I,[r,s]);S((B=[])=>{const j=VW(B,z,A);if(HW(j,l*i)){y.current=j.indexOf(z);const R=String(j)!==String(B);return R&&$&&h(j),R?j:B}else return B})}return c.jsx(IW,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:y,thumbs:x.current,values:_,orientation:o,form:v,children:c.jsx(Kg.Provider,{scope:t.__scopeSlider,children:c.jsx(Kg.Slot,{scope:t.__scopeSlider,children:c.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...p,ref:e,onPointerDown:xe(p.onPointerDown,()=>{a||(N.current=_)}),min:r,max:s,inverted:m,onSlideStart:a?void 0:C,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&O(r,0,{commit:!0}),onEndKeyDown:()=>!a&&O(s,_.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:A})=>{if(!a){const I=M2.includes(F.key)||F.shiftKey&&D2.includes(F.key)?10:1,z=y.current,B=_[z],j=i*I*A;O(B+j,z,{commit:!0})}}})})})})});I2.displayName=Cl;var[R2,F2]=A2(Cl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),RW=b.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=b.useState(null),m=We(e,w=>h(w)),v=b.useRef(void 0),p=HD(s),x=p==="ltr",y=x&&!i||!x&&i;function g(w){const _=v.current||f.getBoundingClientRect(),S=[0,_.width],C=Jx(S,y?[n,r]:[r,n]);return v.current=_,C(w-_.left)}return c.jsx(R2,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:c.jsx(L2,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=g(w.clientX);o==null||o(_)},onSlideMove:w=>{const _=g(w.clientX);a==null||a(_)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:w=>{const S=O2[y?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),FW=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=b.useRef(null),f=We(e,d),h=b.useRef(void 0),m=!s;function v(p){const x=h.current||d.current.getBoundingClientRect(),y=[0,x.height],w=Jx(y,m?[r,n]:[n,r]);return h.current=x,w(p-x.top)}return c.jsx(R2,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(L2,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=v(p.clientY);i==null||i(x)},onSlideMove:p=>{const x=v(p.clientY);o==null||o(x)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:p=>{const y=O2[m?"from-bottom":"from-top"].includes(p.key);l==null||l({event:p,direction:y?-1:1})}})})}),L2=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=Qh(Cl,n);return c.jsx(Pe.span,{...u,ref:e,onKeyDown:xe(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):M2.concat(D2).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:xe(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:xe(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:xe(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),z2="SliderTrack",V2=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Qh(z2,n);return c.jsx(Pe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});V2.displayName=z2;var Gg="SliderRange",$2=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Qh(Gg,n),i=F2(Gg,n),o=b.useRef(null),a=We(e,o),l=s.values.length,u=s.values.map(h=>W2(h,s.min,s.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(Pe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});$2.displayName=Gg;var Xg="SliderThumb",B2=b.forwardRef((t,e)=>{const n=OW(t.__scopeSlider),[r,s]=b.useState(null),i=We(e,a=>s(a)),o=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return c.jsx(LW,{...t,ref:i,index:o})}),LW=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Qh(Xg,n),a=F2(Xg,n),[l,u]=b.useState(null),d=We(e,g=>u(g)),f=l?o.form||!!l.closest("form"):!0,h=lP(l),m=o.values[r],v=m===void 0?0:W2(m,o.min,o.max),p=$W(r,o.values.length),x=h==null?void 0:h[a.size],y=x?UW(x,v,a.direction):0;return b.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${y}px)`},children:[c.jsx(Kg.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Pe.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&c.jsx(U2,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});B2.displayName=Xg;var zW="RadioBubbleInput",U2=b.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=b.useRef(null),i=We(s,r),o=YD(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(Pe.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});U2.displayName=zW;function VW(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function W2(t,e,n){const i=100/(n-e)*(t-e);return Qf(i,[0,100])}function $W(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function BW(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function UW(t,e,n){const r=t/2,i=Jx([0,50],[0,r]);return(r-i(e)*n)*n}function WW(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function HW(t,e){if(e>0){const n=WW(t);return Math.min(...n)>=e}return!0}function Jx(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function YW(t){return(String(t).split(".")[1]||"").length}function qW(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var H2=I2,QW=V2,KW=$2,GW=B2;const Y2=b.forwardRef(({className:t,...e},n)=>c.jsxs(H2,{ref:n,className:Re("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(QW,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(KW,{className:"absolute h-full bg-primary"})}),c.jsx(GW,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Y2.displayName=H2.displayName;function XW({isOpen:t,onClose:e,onFileSelect:n}){const r=b.useRef(null),s=b.useRef(null),i=u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];d&&d.type.startsWith("image/")&&(n(d),e())},o=()=>{var u;(u=r.current)==null||u.click()},a=()=>{var u;(u=s.current)==null||u.click()},l=()=>{var u;(u=r.current)==null||u.click()};return c.jsxs(c.Fragment,{children:[c.jsx(Ri,{open:t,onOpenChange:e,children:c.jsxs(Ps,{className:"max-w-sm",children:[c.jsxs(Fi,{children:[c.jsx(Li,{className:"text-center",children:"Select Photo"}),c.jsx(qx,{className:"text-center",children:"Choose how you'd like to add your profile photo"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Q,{onClick:o,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-images mr-2"}),"Photo Library"]}),c.jsxs(Q,{onClick:a,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-camera mr-2"}),"Take Photo"]}),c.jsxs(Q,{onClick:l,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-folder mr-2"}),"Choose Files"]}),c.jsx(Q,{onClick:e,variant:"ghost",className:"w-full text-center justify-center",children:"Cancel"})]})]})}),c.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:i,className:"hidden"}),c.jsx("input",{ref:s,type:"file",accept:"image/*",capture:"environment",onChange:i,className:"hidden"})]})}function ZW({photos:t,onPhotosChange:e,maxPhotos:n=5}){b.useRef(null);const[r,s]=b.useState(!1),[i,o]=b.useState(!1),a=v=>{if(!v)return;const p=Array.from(v).filter(y=>y.type.startsWith("image/"));if(t.length+p.length>n){alert(`Maximum ${n} photos allowed`);return}e([...t,...p])},l=()=>{o(!0)},u=v=>{e([...t,v]),o(!1)},d=v=>{v.preventDefault(),s(!1),a(v.dataTransfer.files)},f=v=>{v.preventDefault(),s(!0)},h=v=>{v.preventDefault(),s(!1)},m=v=>{e(t.filter((p,x)=>x!==v))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{onClick:l,onDrop:d,onDragOver:f,onDragLeave:h,className:`
          photo-upload-area rounded-xl p-8 text-center cursor-pointer transition-all duration-300
          ${r?"border-primary-300 bg-primary-50":"border-secondary-300"}
          ${t.length>=n?"opacity-50 cursor-not-allowed":""}
        `,children:[c.jsx("i",{className:"fas fa-camera text-3xl text-secondary-300 mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t.length>=n?"Maximum photos reached":"Tap to add photos"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[t.length,"/",n," photos"]})]}),c.jsx(XW,{isOpen:i,onClose:()=>o(!1),onFileSelect:u}),t.length>0&&c.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.map((v,p)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[c.jsx("img",{src:URL.createObjectURL(v),alt:`Preview ${p+1}`,className:"w-full h-full object-cover"}),c.jsx("button",{onClick:x=>{x.stopPropagation(),m(p)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:c.jsx("i",{className:"fas fa-times"})})]},p))})]})}function JW(t){return/^401: .*Unauthorized/.test(t.message)}const e8={"general-fitness":"General Fitness",cardio:"Cardio",strength:"Strength","muscle-mass":"Muscle Mass","weight-loss":"Weight Loss","improve-diet":"Improve Diet"};function t8({data:t,updateData:e}){const[n,r]=b.useState(t.progress),[s,i]=b.useState(t.photos),{toast:o}=Bt();b.useEffect(()=>{const f={};t.goals.forEach(h=>{f[h]=n[h]||50}),r(f),e({progress:f})},[t.goals]);const a=Mt({mutationFn:async()=>{if(await Ae("POST","/api/onboarding/complete",{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType,goals:t.goals,progress:n}),s.length>0){const f=new FormData;s.forEach(h=>{f.append("photos",h)}),await fetch("/api/photos",{method:"POST",body:f,credentials:"include"})}},onSuccess:()=>{o({title:"Welcome to Journey!",description:"Your account has been created successfully."}),window.location.reload()},onError:f=>{if(JW(f)){o({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}o({title:"Error",description:"Failed to complete onboarding. Please try again.",variant:"destructive"})}}),l=(f,h)=>{const m={...n,[f]:h[0]};r(m),e({progress:m})},u=f=>{i(f),e({photos:f})},d=()=>{a.mutate()};return c.jsx(ce,{className:"card-shadow slide-in",children:c.jsxs(ue,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Current Progress"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Rate your current level in each selected area"}),c.jsx("div",{className:"space-y-6 mb-8",children:t.goals.map(f=>c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Be,{className:"text-sm font-medium text-gray-700",children:e8[f]}),c.jsxs("span",{className:"text-sm font-semibold text-primary-300",children:[n[f]||50,"%"]})]}),c.jsx(Y2,{value:[n[f]||50],onValueChange:h=>l(f,h),max:100,step:5,className:"w-full"})]},f))}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Progress Photos (Optional)"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload up to 5 photos to track your visual progress"}),c.jsx(ZW,{photos:s,onPhotosChange:u,maxPhotos:5})]}),c.jsx(Q,{onClick:d,disabled:a.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 text-center",children:a.isPending?"Creating Account...":"Create My Account"})]})})}function n8(){const[t,e]=b.useState(1),[n,r]=b.useState({gender:"",birthday:"",height:"",weight:"",bodyType:"",goals:[],progress:{},photos:[]}),s=b.useCallback(l=>{r(u=>({...u,...l}))},[]),i=()=>{t<3&&e(l=>l+1)},o=()=>{t>1&&e(l=>l-1)},a=()=>{localStorage.removeItem("authToken"),window.location.reload()};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm p-4",children:c.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[c.jsx("button",{onClick:t>1?o:a,className:"text-gray-600 hover:text-gray-800 transition-colors",children:c.jsx("i",{className:"fas fa-arrow-left text-xl"})}),c.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(l=>c.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${l<=t?"bg-primary-300":"bg-gray-300"}`},l))}),c.jsx("div",{className:"w-6"})]})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[t===1&&c.jsx(EW,{data:n,updateData:s,onNext:i}),t===2&&c.jsx(DW,{data:n,updateData:s,onNext:i}),t===3&&c.jsx(t8,{data:n,updateData:s})]})})]})}function q2({isOpen:t,onClose:e,mode:n,onSuccess:r}){const[s,i]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState("ask"),{toast:d}=Bt(),f=Dn(),h=Mt({mutationFn:async g=>await Ae("PUT","/api/user/photos-pin",g),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/user"]}),r&&r(),v()},onError:()=>{d({title:"Error",description:"Failed to update PIN settings",variant:"destructive"})}}),m=Mt({mutationFn:async g=>await Ae("POST","/api/user/verify-photos-pin",{pin:g}),onSuccess:()=>{r&&r(),v()},onError:()=>{d({title:"Incorrect PIN",description:"Please try again",variant:"destructive"}),i("")}}),v=()=>{i(""),a(""),u("ask"),e()},p=g=>{g?u("enter"):h.mutate({enabled:!1})},x=()=>{if(n==="verify"){m.mutate(s);return}if(l==="enter"){if(s.length!==4){d({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}u("confirm");return}if(l==="confirm"){if(s!==o){d({title:"PINs don't match",description:"Please try again",variant:"destructive"}),i(""),a(""),u("enter");return}h.mutate({pin:s,enabled:!0})}},y=()=>{if(n==="verify")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Enter PIN"}),c.jsx("p",{className:"text-gray-600",children:"Please enter your 4-digit PIN to access photos"}),c.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(Q,{onClick:x,disabled:s.length!==4||m.isPending,className:"w-full",children:m.isPending?"Verifying...":"Unlock"})]});if(l==="ask")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Protect Your Photos"}),c.jsx("p",{className:"text-gray-600",children:"We know your progress can be personal, so we securely store your photos here in the app instead of your camera roll.  Would you like to set up a 4 digit PIN to access the photos page? If you opt out now and change your mind, you can always create one in the settings."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Q,{onClick:()=>p(!0),className:"w-full",children:"Yes, Set PIN"}),c.jsx(Q,{onClick:()=>p(!1),variant:"outline",className:"w-full",children:"No Thanks"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"You can always enable PIN protection later in Settings"})]});if(l==="enter")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Set Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Choose a 4-digit PIN"}),c.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(Q,{onClick:x,disabled:s.length!==4,className:"w-full",children:"Continue"})]});if(l==="confirm")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Enter your PIN again to confirm"}),c.jsx(Ce,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:g=>a(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(Q,{onClick:x,disabled:o.length!==4||h.isPending,className:"w-full",children:h.isPending?"Setting up...":"Set PIN"})]})};return c.jsx(Ri,{open:t,onOpenChange:v,children:c.jsxs(Ps,{className:"max-w-sm",children:[c.jsx(Fi,{children:c.jsx(Li,{className:"text-center",children:n==="setup"?"Photo Protection":n==="update"?"Update PIN":"Photos Protected"})}),y()]})})}function r8({variant:t="default",size:e="md",className:n=""}){const[r,s]=b.useState(null),[i,o]=b.useState(!1),{canInstall:a,isInstalled:l}=uz();b.useEffect(()=>{const d=h=>{const m=h;h.preventDefault(),s(m)},f=()=>{s(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const u=async()=>{if(r){o(!0);try{await r.prompt();const{outcome:d}=await r.userChoice;console.log(d==="accepted"?" PWA install accepted":" PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{o(!1),s(null)}}};return l?c.jsxs(Q,{variant:t,size:e,disabled:!0,className:n,children:[c.jsx(Fj,{className:"w-4 h-4 mr-2"}),"App Installed"]}):!a||!r?null:c.jsx(Q,{onClick:u,disabled:i,variant:t,size:e,className:n,children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(jg,{className:"w-4 h-4 mr-2"}),"Install App"]})})}function Jb(t,e,n){const r=AD(),s=o8(t,n.timeZone,n.locale??r.locale);return"formatToParts"in s?s8(s,e):i8(s,e)}function s8(t,e){const n=t.formatToParts(e);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function i8(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function o8(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function a8(t,e){const n=f8(e);return"formatToParts"in n?c8(n,t):u8(n,t)}const l8={year:0,month:1,day:2,hour:3,minute:4,second:5};function c8(t,e){try{const n=t.formatToParts(e),r=[];for(let s=0;s<n.length;s++){const i=l8[n[s].type];i!==void 0&&(r[i]=parseInt(n[s].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function u8(t,e){const n=t.format(e),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const Zm={},ew=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),d8=ew==="06/25/2014, 00:00:00"||ew==="06/25/2014 00:00:00";function f8(t){return Zm[t]||(Zm[t]=d8?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Zm[t]}function ev(t,e,n,r,s,i,o){const a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,s,i,o),a}const tw=36e5,h8=6e4,Jm={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Kh(t,e,n){if(!t)return 0;let r=Jm.timezoneZ.exec(t);if(r)return 0;let s,i;if(r=Jm.timezoneHH.exec(t),r)return s=parseInt(r[1],10),nw(s)?-(s*tw):NaN;if(r=Jm.timezoneHHMM.exec(t),r){s=parseInt(r[2],10);const o=parseInt(r[3],10);return nw(s,o)?(i=Math.abs(s)*tw+o*h8,r[1]==="+"?-i:i):NaN}if(g8(t)){e=new Date(e||Date.now());const o=n?e:m8(e),a=Zg(o,t);return-(n?a:p8(e,a,t))}return NaN}function m8(t){return ev(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Zg(t,e){const n=a8(t,e),r=ev(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=t.getTime();const i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function p8(t,e,n){let s=t.getTime()-e;const i=Zg(new Date(s),n);if(e===i)return e;s-=i-e;const o=Zg(new Date(s),n);return i===o?i:Math.max(i,o)}function nw(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const rw={};function g8(t){if(rw[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),rw[t]=!0,!0}catch{return!1}}const y8=60*1e3,x8={X:function(t,e,n){const r=ep(n.timeZone,t);if(r===0)return"Z";switch(e){case"X":return sw(r);case"XXXX":case"XX":return ra(r);case"XXXXX":case"XXX":default:return ra(r,":")}},x:function(t,e,n){const r=ep(n.timeZone,t);switch(e){case"x":return sw(r);case"xxxx":case"xx":return ra(r);case"xxxxx":case"xxx":default:return ra(r,":")}},O:function(t,e,n){const r=ep(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+v8(r,":");case"OOOO":default:return"GMT"+ra(r,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return Jb("short",t,n);case"zzzz":default:return Jb("long",t,n)}}};function ep(t,e){const n=t?Kh(t,e,!0)/y8:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function Gf(t,e){const n=t<0?"-":"";let r=Math.abs(t).toString();for(;r.length<e;)r="0"+r;return n+r}function ra(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Gf(Math.floor(r/60),2),i=Gf(Math.floor(r%60),2);return n+s+e+i}function sw(t,e){return t%60===0?(t>0?"-":"+")+Gf(Math.abs(t)/60,2):ra(t,e)}function v8(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Gf(i,2)}function iw(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Q2=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,tp=36e5,ow=6e4,b8=2,gn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Q2};function Xf(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?b8:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const r=w8(t),{year:s,restDateString:i}=_8(r.date,n),o=S8(i,s);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const a=o.getTime();let l=0,u;if(r.time&&(l=N8(r.time),l===null||isNaN(l)))return new Date(NaN);if(r.timeZone||e.timeZone){if(u=Kh(r.timeZone||e.timeZone,new Date(a+l)),isNaN(u))return new Date(NaN)}else u=iw(new Date(a+l)),u=iw(new Date(a+l+u));return new Date(a+l+u)}else return new Date(NaN)}function w8(t){const e={};let n=gn.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=gn.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){const s=gn.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function _8(t,e){if(t){const n=gn.YYY[e],r=gn.YYYYY[e];let s=gn.YYYY.exec(t)||r.exec(t);if(s){const i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=gn.YY.exec(t)||n.exec(t),s){const i=s[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function S8(t,e){if(e===null)return null;let n,r,s;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=gn.MM.exec(t);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,lw(e,r)?(n.setUTCFullYear(e,r),n):new Date(NaN);if(i=gn.DDD.exec(t),i){n=new Date(0);const o=parseInt(i[1],10);return T8(e,o)?(n.setUTCFullYear(e,0,o),n):new Date(NaN)}if(i=gn.MMDD.exec(t),i){n=new Date(0),r=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return lw(e,r,o)?(n.setUTCFullYear(e,r,o),n):new Date(NaN)}if(i=gn.Www.exec(t),i)return s=parseInt(i[1],10)-1,cw(s)?aw(e,s):new Date(NaN);if(i=gn.WwwD.exec(t),i){s=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return cw(s,o)?aw(e,s,o):new Date(NaN)}return null}function N8(t){let e,n,r=gn.HH.exec(t);if(r)return e=parseFloat(r[1].replace(",",".")),np(e)?e%24*tp:NaN;if(r=gn.HHMM.exec(t),r)return e=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),np(e,n)?e%24*tp+n*ow:NaN;if(r=gn.HHMMSS.exec(t),r){e=parseInt(r[1],10),n=parseInt(r[2],10);const s=parseFloat(r[3].replace(",","."));return np(e,n,s)?e%24*tp+n*ow+s*1e3:NaN}return null}function aw(t,e,n){e=e||0,n=n||0;const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const k8=[31,28,31,30,31,30,31,31,30,31,30,31],C8=[31,29,31,30,31,30,31,31,30,31,30,31];function K2(t){return t%400===0||t%4===0&&t%100!==0}function lw(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const r=K2(t);if(r&&n>C8[e]||!r&&n>k8[e])return!1}return!0}function T8(t,e){if(e<1)return!1;const n=K2(t);return!(n&&e>366||!n&&e>365)}function cw(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function np(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const j8=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function P8(t,e,n={}){e=String(e);const r=e.match(j8);if(r){const s=Xf(n.originalDate||t,n);e=r.reduce(function(i,o){if(o[0]==="'")return i;const a=i.indexOf(o),l=i[a-1]==="'",u=i.replace(o,"'"+x8[o[0]](s,o,n)+"'");return l?u.substring(0,a-1)+u.substring(a+1):u},e)}return Ee(t,e,n)}function G2(t,e,n){t=Xf(t,n);const r=Kh(e,t,!0),s=new Date(t.getTime()-r),i=new Date(0);return i.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),i.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),i}function tv(t,e,n,r){return r={...r,timeZone:e,originalDate:t},P8(G2(t,e,{timeZone:r.timeZone}),n,r)}function E8(t,e,n){if(typeof t=="string"&&!t.match(Q2))return Xf(t,{...n,timeZone:e});t=Xf(t,n);const r=ev(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).getTime(),s=Kh(e,new Date(r));return new Date(r+s)}function Zf(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return console.warn("Failed to detect timezone, falling back to UTC:",t),"UTC"}}function Yo(){const t=localStorage.getItem("user_timezone");if(t)return t;const e=Zf();return localStorage.setItem("user_timezone",e),e}function Jg(t){localStorage.setItem("user_timezone",t)}function M8(){const t=Yo();return tv(new Date,t,"yyyy-MM-dd")}function D8(){const t=Yo();return G2(new Date,t)}function uw(t){const e=Yo(),n=new Date(t+"T00:00:00");return E8(n,e)}function oo(t,e){const n=Yo(),r=typeof t=="string"?Uh(t):t;return tv(r,n,e)}function O8(){const t=new Date;return["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Anchorage","Pacific/Honolulu","Europe/London","Europe/Paris","Europe/Berlin","Europe/Rome","Europe/Moscow","Asia/Tokyo","Asia/Shanghai","Asia/Kolkata","Asia/Dubai","Australia/Sydney","Australia/Melbourne","Pacific/Auckland","UTC"].map(n=>{try{const r=tv(t,n,"XXX"),s=n.replace("_"," ").replace("/"," - ");return{value:n,label:`${s} (${r})`,offset:r}}catch{return{value:n,label:n,offset:"+00:00"}}}).sort((n,r)=>n.label.localeCompare(r.label))}function X2(){if(!localStorage.getItem("user_timezone")){const e=Zf();Jg(e),console.log(" Auto-detected timezone:",e)}}function A8({className:t}){const[e,n]=b.useState(""),[r,s]=b.useState(""),{toast:i}=Bt();b.useEffect(()=>{n(Yo()),s(Zf())},[]);const o=d=>{n(d),Jg(d),i({title:"Timezone Updated",description:`Timezone changed to ${d}`})},a=()=>{const d=Zf();n(d),Jg(d),i({title:"Timezone Auto-detected",description:`Set to ${d}`})},l=O8(),u=oo(new Date,"PPP p");return c.jsxs(ce,{className:t,children:[c.jsx(Vt,{children:c.jsxs($t,{className:"flex items-center",children:[c.jsx("i",{className:"fas fa-globe mr-2"}),"Timezone Settings"]})}),c.jsxs(ue,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Current Timezone"}),c.jsxs(Fo,{value:e,onValueChange:o,children:[c.jsx(ji,{children:c.jsx(Lo,{placeholder:"Select timezone"})}),c.jsx(Pi,{children:l.map(d=>c.jsx(nt,{value:d.value,children:d.label},d.value))})]})]}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Current time:"})," ",u]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Detected timezone:"})," ",r]})]}),e!==r&&c.jsxs(Q,{variant:"outline",onClick:a,className:"w-full",children:[c.jsx("i",{className:"fas fa-location-arrow mr-2"}),"Use Auto-detected Timezone"]}),c.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[c.jsx("strong",{children:"Note:"})," Changing your timezone affects how dates are displayed and when journal entries are created. All existing entries will be shown according to your new timezone setting."]})]})]})}function I8(){const{user:t}=Ii(),[,e]=wt(),n=Dn(),{toast:r}=Bt(),[s,i]=b.useState(!1),o=async()=>{try{await Ae("POST","/api/logout"),localStorage.removeItem("authToken"),n.clear(),r({title:"Logged out successfully",description:"You have been logged out. See you next time!"}),setTimeout(()=>{window.location.href="/"},1e3)}catch(l){console.error("Logout error:",l),localStorage.removeItem("authToken"),n.clear(),window.location.href="/"}},a=()=>{e("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{title:"Profile & Settings",showBackButton:!0,onBack:a,showHomeButton:!0}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-4xl mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsx("div",{children:c.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})})}),c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Profile Information"})}),c.jsxs(ue,{children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[c.jsx(Vh,{firstName:(t==null?void 0:t.firstName)||void 0,lastName:(t==null?void 0:t.lastName)||void 0,profileImageUrl:(t==null?void 0:t.profileImageUrl)||void 0,size:"lg",editable:!1}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),c.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Username: ",t==null?void 0:t.username]})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsx(Q,{variant:"outline",className:"w-full shadow-md",onClick:()=>e("/edit-profile"),children:"Edit Profile"})})]})]}),c.jsx(A8,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}}),c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Settings"})}),c.jsx(ue,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-bell mr-3"}),"Notifications"]}),c.jsxs(Q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),"Privacy"]}),c.jsxs(Q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-chart-bar mr-3"}),"Data Export"]}),c.jsxs(Q,{onClick:()=>e("/change-password"),variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-key mr-3"}),"Change Password"]}),c.jsx("hr",{className:"my-6"}),c.jsxs(Q,{onClick:()=>i(!0),variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),t!=null&&t.photosPinEnabled?"Update":"Set"," Photos PIN"]}),c.jsx(r8,{variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4"}),c.jsxs(Q,{onClick:o,variant:"destructive",className:"w-full shadow-md hover:shadow-lg transition-shadow",children:[c.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Logout"]})]})})]})]}),c.jsx(q2,{isOpen:s,onClose:()=>i(!1),mode:"update"})]})}const R8=js({firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required"),username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function F8(){const{user:t}=Ii(),[,e]=wt(),{toast:n}=Bt(),r=Dn(),[s,i]=b.useState(!1),{data:o,isLoading:a}=Dt({queryKey:["/api/profile"],queryFn:async()=>await Ae("GET","/api/profile")}),{register:l,handleSubmit:u,setValue:d,watch:f,formState:{errors:h,isDirty:m},reset:v}=wl({resolver:_l(R8),defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",gender:"",birthday:"",height:"",weight:"",bodyType:""}});b.useEffect(()=>{t&&o&&v({firstName:t.firstName||"",lastName:t.lastName||"",username:t.username||"",email:t.email||"",gender:o.gender||"",birthday:o.birthday||"",height:o.height||"",weight:o.weight||"",bodyType:o.bodyType||""})},[t,o,v]);const p=Mt({mutationFn:async _=>{const S=await Ae("PUT","/api/profile/user",_.user),N=await Ae("PUT","/api/profile/profile",_.profile);return{user:S,profile:N}},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/profile"]}),r.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile updated successfully!"}),e("/profile")},onError:_=>{n({title:"Error",description:_.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),x=Mt({mutationFn:async _=>{const S=new FormData;return S.append("profileImage",_),await Ae("POST","/api/profile/avatar",S)},onSuccess:_=>{r.invalidateQueries({queryKey:["/api/profile"]}),r.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile picture updated successfully!"})},onError:_=>{n({title:"Error",description:_.message||"Failed to update profile picture. Please try again.",variant:"destructive"})}}),y=async _=>{i(!0);try{await x.mutateAsync(_)}finally{i(!1)}},g=_=>{const S={firstName:_.firstName,lastName:_.lastName,username:_.username,email:_.email},N={gender:_.gender,birthday:_.birthday,height:_.height,weight:_.weight,bodyType:_.bodyType};p.mutate({user:S,profile:N})},w=()=>{e("/profile")};return a?c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(Jt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-white",children:"Loading profile..."})})})]}):c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(Jt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0 mb-8",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800 text-center",children:"Update Your Profile"})}),c.jsx(ue,{className:"p-8",children:c.jsxs("form",{onSubmit:u(g),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Vh,{firstName:t==null?void 0:t.firstName,lastName:t==null?void 0:t.lastName,profileImageUrl:t==null?void 0:t.profileImageUrl,size:"xl",onImageUpload:y,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s?"Uploading...":"Click to change your profile picture"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"firstName",children:"First Name *"}),c.jsx(Ce,{id:"firstName",...l("firstName"),className:"mt-2",placeholder:"First name"}),h.firstName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.firstName.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"lastName",children:"Last Name *"}),c.jsx(Ce,{id:"lastName",...l("lastName"),className:"mt-2",placeholder:"Last name"}),h.lastName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"username",children:"Username *"}),c.jsx(Ce,{id:"username",...l("username"),className:"mt-2",placeholder:"Username"}),h.username&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"email",children:"Email *"}),c.jsx(Ce,{id:"email",type:"email",...l("email"),className:"mt-2",placeholder:"Email address"}),h.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"gender",children:"Gender"}),c.jsxs(Fo,{onValueChange:_=>d("gender",_),value:f("gender"),children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Lo,{placeholder:"Select gender"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"female",children:"Female"}),c.jsx(nt,{value:"male",children:"Male"}),c.jsx(nt,{value:"non-binary",children:"Non-binary"}),c.jsx(nt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"birthday",children:"Birthday"}),c.jsx(Ce,{id:"birthday",type:"date",...l("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"height",children:"Height"}),c.jsx(Ce,{id:"height",...l("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"weight",children:"Weight"}),c.jsx(Ce,{id:"weight",...l("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Fo,{onValueChange:_=>d("bodyType",_),value:f("bodyType"),children:[c.jsx(ji,{className:"mt-2",children:c.jsx(Lo,{placeholder:"Select type"})}),c.jsxs(Pi,{children:[c.jsx(nt,{value:"petite",children:"Petite"}),c.jsx(nt,{value:"lean",children:"Lean"}),c.jsx(nt,{value:"average",children:"Average"}),c.jsx(nt,{value:"athletic",children:"Athletic"}),c.jsx(nt,{value:"muscular",children:"Muscular"}),c.jsx(nt,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsxs("div",{className:"flex space-x-4 pt-6",children:[c.jsx(Q,{type:"button",variant:"outline",onClick:w,className:"flex-1",children:"Cancel"}),c.jsx(Q,{type:"submit",disabled:p.isPending||s||!m,className:"flex-1 bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500 text-white font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50",children:p.isPending?"Updating...":m?"Save Changes":"No Changes"})]})]})})]})})]})}const nv=b.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));nv.displayName="Textarea";function L8(){const[t,e]=b.useState(""),[n,r]=b.useState(!1),{toast:s}=Bt(),[,i]=wt(),o=async()=>{if(!t.trim()){s({title:"No Feedback",description:"Please enter your feedback before submitting.",variant:"destructive"});return}if(t.trim().length<10){s({title:"Too Short",description:"Please provide more detailed feedback (at least 10 characters).",variant:"destructive"});return}r(!0);try{await Ae("POST","/api/feedback",{feedback:t.trim()}),s({title:"Feedback Sent",description:"Thank you for your feedback! We'll review it and get back to you if needed."}),e(""),setTimeout(()=>i("/"),2e3)}catch(l){s({title:"Failed to Send",description:(l==null?void 0:l.message)||"Something went wrong. Please try again later.",variant:"destructive"})}finally{r(!1)}},a=()=>{i("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{title:"Feedback",showBackButton:!0,showHomeButton:!0,onBack:a}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsxs(Vt,{children:[c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"We'd Love Your Feedback"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Help us improve Journey by sharing your thoughts, suggestions, or reporting issues."})]}),c.jsxs(ue,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Feedback"}),c.jsx(nv,{value:t,onChange:l=>e(l.target.value),placeholder:"Tell us what you think about Journey, suggest improvements, or report any issues you've encountered...",className:"min-h-[240px] resize-none",maxLength:2e3}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Share anything that would help us make Journey better for you"}),c.jsxs("p",{className:"text-xs text-gray-400",children:[t.length,"/2000"]})]})]}),c.jsx(Q,{onClick:o,disabled:n||!t.trim(),className:"w-full shadow-md hover:shadow-lg transition-shadow",children:n?c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Sending Feedback..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Send Feedback"]})}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback helps us improve Journey for everyone"})})]})]})})]})}function Ul({options:t,value:e,onChange:n,className:r=""}){const[s,i]=b.useState(!1),o=b.useRef(null),a=40,[l,u]=b.useState(!1),d=t.findIndex(m=>m===e),f=m=>{const v=m.currentTarget.scrollTop,p=Math.round(v/a),x=Math.max(0,Math.min(p,t.length-1));t[x]!==e&&n(t[x])},h=()=>{if(!o.current)return;const m=o.current.scrollTop,v=Math.round(m/a),p=Math.max(0,Math.min(v,t.length-1));o.current.scrollTo({top:p*a,behavior:"smooth"}),t[p]!==e&&n(t[p])};return b.useEffect(()=>{o.current&&!l&&d>=0&&(o.current.scrollTop=d*a,u(!0))},[d,a,l]),c.jsxs("div",{className:`relative ${r}`,children:[c.jsx("div",{className:"absolute left-0 right-0 bg-blue-500/20 border-y-2 border-blue-500 pointer-events-none z-10",style:{top:"50%",transform:"translateY(-50%)",height:`${a}px`}}),c.jsx("div",{ref:o,className:"h-32 overflow-y-scroll scrollbar-hide",style:{scrollSnapType:"y mandatory",paddingTop:`${a}px`,paddingBottom:`${a}px`},onScroll:f,onTouchStart:()=>i(!0),onTouchEnd:()=>{i(!1),h()},onMouseDown:()=>i(!0),onMouseUp:()=>{i(!1),h()},children:t.map((m,v)=>c.jsx("div",{className:`flex items-center justify-center text-center select-none transition-all duration-200 cursor-pointer ${m===e?"text-blue-600 font-semibold text-lg":"text-gray-600 text-base"}`,style:{height:`${a}px`,scrollSnapAlign:"center"},onClick:()=>{n(m),o.current&&o.current.scrollTo({top:v*a,behavior:"smooth"})},children:m},m))})]})}function dw({label:t,value:e,onChange:n,className:r=""}){const[s,i]=b.useState(!1),[o,a]=b.useState(e.date),[l,u]=b.useState(e.time),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=new Date().getFullYear(),h=new Date().getMonth(),m=ne=>h===11&&ne===0?f+1:h!==11&&ne===11?f-1:f,v=Array.from({length:12},(ne,se)=>String(se===0?12:se).padStart(2,"0")),p=Array.from({length:60},(ne,se)=>String(se).padStart(2,"0")),x=["AM","PM"],[y,g,w]=o.split("-"),_=parseInt(y),S=parseInt(g)-1,N=w,C=d[S],T=l.split(":"),P=parseInt(T[0]),O=T[1],F=P===0?"12":P>12?String(P-12).padStart(2,"0"):String(P).padStart(2,"0"),A=P>=12?"PM":"AM",$=new Date(_,S+1,0).getDate(),V=Array.from({length:$},(ne,se)=>String(se+1).padStart(2,"0")),I=()=>{const[ne,se,ge]=e.date.split("-"),ve=parseInt(se)-1,H=parseInt(ge),Z=e.time,[ze,Me]=Z.split(":"),be=parseInt(ze),Oe=be>=12?"PM":"AM",qt=be===0?12:be>12?be-12:be;return`${d[ve]} ${H} at ${qt}:${Me} ${Oe}`},z=ne=>{const se=d.indexOf(ne),ge=m(se),ve=Math.min(parseInt(N),new Date(ge,se+1,0).getDate()),H=`${ge}-${String(se+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`;a(H)},B=ne=>{const se=m(S),ge=`${se}-${String(S+1).padStart(2,"0")}-${String(parseInt(ne)).padStart(2,"0")}`;console.log(" Day Change Debug:",{selectedDay:ne,selectedMonthIndex:S,yearForMonth:se,newDate:ge,tempDate:o}),a(ge)},j=ne=>{const se=A==="AM"?ne==="12"?0:parseInt(ne):ne==="12"?12:parseInt(ne)+12;u(`${String(se).padStart(2,"0")}:${O}`)},R=ne=>{const se=A==="AM"?F==="12"?0:parseInt(F):F==="12"?12:parseInt(F)+12;u(`${String(se).padStart(2,"0")}:${ne}`)},D=ne=>{const se=parseInt(F),ge=ne==="AM"?se===12?0:se:se===12?12:se+12;u(`${String(ge).padStart(2,"0")}:${O}`)},W=()=>{console.log(" DateTime Save Debug:",{tempDate:o,tempTime:l,formatDisplayValue:I()}),n({date:o,time:l}),i(!1)},G=()=>{a(e.date),u(e.time),i(!1)};return s?c.jsx("div",{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 ${r}`,children:c.jsx(ce,{className:"bg-white max-w-md w-full max-h-[90vh] overflow-hidden",children:c.jsxs(ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:t}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Month"}),c.jsx(Ul,{options:d,value:C,onChange:z})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Day"}),c.jsx(Ul,{options:V,value:N,onChange:B})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Hour"}),c.jsx(Ul,{options:v,value:F,onChange:j})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Min"}),c.jsx(Ul,{options:p,value:O,onChange:R})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"AM/PM"}),c.jsx(Ul,{options:x,value:A,onChange:D})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Q,{variant:"outline",onClick:G,className:"flex-1",children:"Cancel"}),c.jsx(Q,{onClick:W,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})}):c.jsxs("div",{className:r,children:[c.jsx("label",{className:"text-white mb-2 block text-sm font-medium",children:t}),c.jsx(ce,{className:"bg-gray-800 border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>i(!0),children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-white",children:I()}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})})]})}const z8=[{value:"walking",label:"Walking",icon:"fa-walking"},{value:"running",label:"Running",icon:"fa-running"},{value:"cycling",label:"Cycling",icon:"fa-biking"},{value:"sleep",label:"Sleep",icon:"fa-bed"}],cd="journey_custom_activities";function V8(){const[t,e]=wt(),{toast:n}=Bt(),r=Dn(),[s,i]=b.useState(""),[o,a]=b.useState({date:Xm(new Date),time:"09:00"}),[l,u]=b.useState({date:Xm(new Date),time:"10:00"}),[d,f]=b.useState(new Date),[h,m]=b.useState(!1),[v,p]=b.useState(!1),[x,y]=b.useState(null),[g,w]=b.useState({activityType:"",startDateTime:{date:"",time:""},endDateTime:{date:"",time:""}}),[_,S]=b.useState(!1),{data:N=[]}=Dt({queryKey:["/api/custom-activities"],queryFn:async()=>{const j=C();if(j)return j;const R=await Ae("GET","/api/custom-activities");return T(R),R}}),C=()=>{try{const j=localStorage.getItem(cd);if(!j)return null;const R=JSON.parse(j),W=Date.now()-R.timestamp,G=24*60*60*1e3;return W>G?(localStorage.removeItem(cd),null):R.data}catch{return localStorage.removeItem(cd),null}},T=j=>{try{const R={data:j,timestamp:Date.now()};localStorage.setItem(cd,JSON.stringify(R))}catch(R){console.error("Error caching custom activities:",R)}},P=N.map(j=>({value:`custom-${j.id}`,label:j.name.toUpperCase(),icon:j.icon})),O=[...z8,...P];b.useEffect(()=>{if(h)return;const j=new URLSearchParams(window.location.search),R=j.get("activity"),D=j.get("edit"),W=j.get("activityType"),G=j.get("startTime"),ne=j.get("endTime"),se=j.get("date");if(console.log(" Add-Activity URL Debug - dateParam from URL:",se),console.log(" Add-Activity URL Debug - current selectedDate before update:",d),se){const ge=new Date(se),ve=Xm(ge);console.log(" Add-Activity URL Debug - creating new Date from dateParam:",ge),f(ge),D||(a(H=>({...H,date:ve})),u(H=>({...H,date:ve}))),console.log(" Add-Activity URL Debug - set selectedDate to:",ge)}else console.log(" Add-Activity URL Debug - NO dateParam found, keeping default selectedDate:",d);if(D&&W&&G&&ne){p(!0),y(parseInt(D));let ge=W.toLowerCase();const ve=N.find(be=>be.name.toLowerCase()===W.toLowerCase());ve&&(ge=`custom-${ve.id}`),i(ge);const H=new Date(G),Z=new Date(ne),ze={date:Ee(H,"yyyy-MM-dd"),time:Ee(H,"HH:mm")},Me={date:Ee(Z,"yyyy-MM-dd"),time:Ee(Z,"HH:mm")};a(ze),u(Me),w({activityType:ge,startDateTime:ze,endDateTime:Me}),window.history.replaceState({},"","/add-activity")}else R&&(i(R),window.history.replaceState({},"","/add-activity"));m(!0)},[N,h]),b.useEffect(()=>{if(v){const j=s!==g.activityType||o.date!==g.startDateTime.date||o.time!==g.startDateTime.time||l.date!==g.endDateTime.date||l.time!==g.endDateTime.time;S(j)}},[s,o,l,g,v]);const F=Mt({mutationFn:async j=>{console.log("Frontend sending activity data:",j);try{const R=await Ae("POST","/api/activities",j);return console.log("Frontend received result:",R),R}catch(R){throw console.error("Frontend API request error:",R),R}},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity added successfully!"});const j=l.date;console.log(" Navigation Debug - Returning to home with date:",j,"endDateTime.date:",l.date),e(`/?date=${j}`)},onError:j=>{console.error("Frontend mutation error:",j),n({title:"Error",description:"Failed to add activity. Please try again.",variant:"destructive"})}}),A=Mt({mutationFn:async j=>await Ae("PUT",`/api/activities/${x}`,j),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity updated successfully!"});const j=l.date;e(`/?date=${j}`)},onError:j=>{n({title:"Error",description:"Failed to update activity. Please try again.",variant:"destructive"})}}),$=Mt({mutationFn:async()=>await Ae("DELETE",`/api/activities/${x}`),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/activities"]}),r.invalidateQueries({predicate:R=>R.queryKey[0]&&typeof R.queryKey[0]=="string"&&R.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity deleted successfully!"});const j=l.date;e(`/?date=${j}`)},onError:j=>{n({title:"Error",description:"Failed to delete activity. Please try again.",variant:"destructive"})}}),V=()=>{if(!s||!o.time||!l.time){n({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}let j=s;if(s.startsWith("custom-")){const se=parseInt(s.replace("custom-","")),ge=N.find(ve=>ve.id===se);j=ge?ge.name:s}const R=Wj(o.time,l.time,j);if(!R){n({title:"Invalid Time",description:j==="sleep"?"Please check your sleep times.":"End time must be after start time.",variant:"destructive"});return}let D=Zb(o.date,o.time),W=Zb(l.date,l.time);W=TW(D,W,j);let G;j==="sleep"?(G=new Date(W),G.setHours(0,0,0,0)):G=E2(o.date);const ne={activityType:j,startTime:D.toISOString(),endTime:W.toISOString(),durationMinutes:R.hours*60+R.minutes,date:G.toISOString()};console.log(" DETAILED Activity Creation Debug:"),console.log("1. Start DateTime Input:",o),console.log("2. End DateTime Input:",l),console.log("3. Activity Type:",j),console.log("4. Created startDateTimeObj:",D),console.log("5. Created startDateTimeObj toString():",D.toString()),console.log("6. Created startDateTimeObj toISOString():",D.toISOString()),console.log("7. Created endDateTimeObj:",W),console.log("8. Created endDateTimeObj toString():",W.toString()),console.log("9. Created endDateTimeObj toISOString():",W.toISOString()),console.log("10. Activity Date Object:",G),console.log("11. Activity Date toString():",G.toString()),console.log("12. Activity Date toISOString():",G.toISOString()),console.log("13. Duration:",R),console.log("14. Final Activity Data:",ne),v?A.mutate(ne):F.mutate(ne)},I=()=>{window.confirm("Are you sure you want to delete this activity?")&&$.mutate()},z=()=>{const j=O.find(R=>R.value===s);return j?j.icon:"fa-dumbbell"},B=()=>{const j=O.find(R=>R.value===s);return j?j.label:"SELECT ACTIVITY"};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{const j=l.date;e(`/?date=${j}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:v?"EDIT ACTIVITY":"ADD ACTIVITY"}),c.jsx("div",{onClick:()=>{const j=l.date;e(`/?date=${j}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx(ce,{className:"mb-6 bg-gray-800 border-0 cursor-pointer hover:bg-gray-700 transition-all duration-200",onClick:()=>e("/select-activity"),children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${z()} text-gray-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:B()})]}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DATE & TIME"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(dw,{label:"Start Date & Time",value:o,onChange:a}),c.jsx(dw,{label:"End Date & Time",value:l,onChange:u})]})]}),c.jsx(Q,{onClick:V,disabled:v?!_||A.isPending:F.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:v?A.isPending?"UPDATING...":"UPDATE":F.isPending?"SAVING...":"SAVE"}),v&&c.jsx(Q,{onClick:I,disabled:$.isPending,variant:"destructive",className:"w-full py-3 rounded-lg transition-all duration-200 mb-8",children:$.isPending?"DELETING...":"DELETE ACTIVITY"})]})]})}const $8=[{id:"ALL",label:"ALL",active:!0},{id:"STRAIN",label:"STRAIN",active:!1},{id:"RECOVERY",label:"RECOVERY",active:!1},{id:"SLEEP",label:"SLEEP",active:!1}],rp=[{id:"walking",label:"WALKING",icon:"fa-walking",category:"STRAIN"},{id:"running",label:"RUNNING",icon:"fa-running",category:"STRAIN"},{id:"cycling",label:"CYCLING",icon:"fa-biking",category:"STRAIN"},{id:"sleep",label:"SLEEP",icon:"fa-bed",category:"RECOVERY"}],B8=["sleep"],sp="journey_custom_activities",ud="journey_recent_activities",ip="journey_pinned_activities",U8=24,W8=5;function H8(){const[,t]=wt(),{toast:e}=Bt(),n=Dn(),[r,s]=b.useState(""),[i,o]=b.useState("ALL"),[a,l]=b.useState([]),[u,d]=b.useState("");b.useEffect(()=>{const I=y();l(I)},[]);const{data:f=[],isLoading:h}=Dt({queryKey:["/api/custom-activities"],queryFn:async()=>{const I=v(sp);if(I)return I;const z=await Ae("GET","/api/custom-activities");return p(sp,z),z}}),m=Mt({mutationFn:async I=>await Ae("POST","/api/custom-activities",I),onSuccess:I=>{const z=[...f,I];p(sp,z);const B=v(ud)||rp,j={id:`custom-${I.id}`,label:I.name.toUpperCase(),icon:I.icon,category:I.category,isCustom:!0},R=B.filter(W=>W.id!==j.id),D=[j,...R].slice(0,3);p(ud,D),n.invalidateQueries({queryKey:["/api/custom-activities"]}),e({title:"Success",description:`"${I.name.toUpperCase()}" added to your activities!`}),$(j.id)},onError:I=>{I.status===409?e({title:"Activity exists",description:"This activity is already in your list.",variant:"destructive"}):e({title:"Error",description:"Failed to add custom activity. Please try again.",variant:"destructive"})}}),v=I=>{try{const z=localStorage.getItem(I);if(!z)return null;const B=JSON.parse(z),R=Date.now()-B.timestamp,D=U8*60*60*1e3;return R>D?(localStorage.removeItem(I),null):B.data}catch(z){return console.error(`Error reading cached data for ${I}:`,z),localStorage.removeItem(I),null}},p=(I,z)=>{try{const B={data:z,timestamp:Date.now()};localStorage.setItem(I,JSON.stringify(B))}catch(B){console.error(`Error caching data for ${I}:`,B)}},x=()=>v(ud)||rp,y=()=>v(ip)||B8,g=I=>{const z=y();if(z.includes(I)){const j=z.filter(R=>R!==I);l(j),p(ip,j)}else{if(z.length>=W8){d("Pin limit reached! Unpin an activity to add another."),setTimeout(()=>d(""),3e3);return}const j=[...z,I];l(j),p(ip,j)}},w=I=>{const B=x().filter(R=>R.id!==I.id),j=[I,...B].slice(0,3);p(ud,j)},_=()=>{const I=f.map(z=>({id:`custom-${z.id}`,label:z.name.toUpperCase(),icon:z.icon,category:z.category,isCustom:!0}));return[...rp,...I]},N=(()=>{if(!r.trim()){const B=x();return i==="ALL"?B:B.filter(j=>j.category===i)}return _().filter(B=>{const j=B.label.toLowerCase().includes(r.toLowerCase()),R=i==="ALL"||B.category===i;return j&&R})})(),C=()=>r.trim()?[]:_().filter(z=>a.includes(z.id)),T=()=>r.trim()?N:N.filter(I=>!a.includes(I.id)),P=C(),O=T(),F=r.trim()&&N.length===0,A=({activity:I,showPinButton:z=!0})=>{const B=a.includes(I.id);return c.jsx(ce,{className:"mb-3 bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1 cursor-pointer",onClick:()=>$(I.id),children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${I.icon} text-blue-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:I.label})]}),z&&c.jsx(Q,{onClick:j=>{j.stopPropagation(),g(I.id)},variant:"ghost",size:"sm",className:"p-2 hover:bg-gray-700",children:c.jsx("i",{className:`fas fa-thumbtack ${B?"text-yellow-400":"text-gray-400"} transform ${B?"rotate-45":""} transition-all duration-200`})})]})})},I.id)},$=I=>{const B=_().find(j=>j.id===I);B&&w(B),t(`/add-activity?activity=${I}`)},V=()=>{if(!r.trim()){e({title:"Error",description:"Please enter an activity name.",variant:"destructive"});return}const I=i==="ALL"?"STRAIN":i,z=r.trim().toLowerCase();m.mutate({name:z,category:I,icon:"fa-dumbbell"})};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-center p-4 mb-6 relative",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>t("/add-activity"),className:"absolute left-4 p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"SELECT ACTIVITY"})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx(Ce,{type:"text",placeholder:"Search activities",value:r,onChange:I=>s(I.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-400"})]})}),c.jsx("div",{className:"flex space-x-4 mb-6 overflow-x-auto",children:$8.map(I=>c.jsx(Q,{variant:"ghost",onClick:()=>o(I.id),className:`whitespace-nowrap px-4 py-2 text-sm font-medium transition-all duration-200 ${i===I.id?"text-white border-b-2 border-white bg-transparent hover:bg-white/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:I.label},I.id))}),u&&c.jsx("div",{className:"mb-4 p-3 bg-purple-600/90 text-white rounded-lg animate-in slide-in-from-top duration-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-300"}),c.jsx("span",{className:"text-sm font-medium",children:u})]})}),F&&c.jsx(ce,{className:"mb-6 bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-plus text-blue-400 text-lg"})}),c.jsxs("span",{className:"text-white font-medium",children:['Add "',r.toUpperCase(),'" to activities']})]}),c.jsx(Q,{onClick:V,disabled:m.isPending,className:"bg-blue-600 hover:bg-blue-500 text-white px-6",children:m.isPending?"ADDING...":"ADD"})]})})}),r.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"SEARCH RESULTS"})}),c.jsx("div",{className:"space-y-3 mb-8",children:N.map(I=>c.jsx(A,{activity:I,showPinButton:!0},I.id))})]}),!r.trim()&&P.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"PINNED"})}),c.jsx("div",{className:"space-y-3 mb-6",children:P.map(I=>c.jsx(A,{activity:I,showPinButton:!0},I.id))})]}),!r.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"RECENT ACTIVITIES"})}),c.jsx("div",{className:"space-y-3 mb-8",children:O.map(I=>c.jsx(A,{activity:I,showPinButton:!0},I.id))})]}),N.length===0&&!F&&r.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"No activities found matching your search"})}),h&&!r.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"Loading recent activities..."})})]})]})}function Y8(){const[,t]=wt(),{toast:e}=Bt(),n=Dn(),[r,s]=b.useState(""),[i,o]=b.useState(""),[a,l]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(new Date);b.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("date");if(x){const[y,g,w]=x.split("-").map(Number);h(new Date(y,g-1,w))}},[]);const m=Mt({mutationFn:async p=>{console.log("Frontend sending macro data:",p);try{const x=await Ae("POST","/api/macros",p);return console.log("Frontend received result:",x),x}catch(x){throw console.error("Frontend API request error:",x),x}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/macros"]});const p=f.toISOString().split("T")[0];n.invalidateQueries({queryKey:[`/api/macros/date/${p}`]}),e({title:"Success",description:"Macros added successfully!"});const x=Ee(f,"yyyy-MM-dd");t(`/?date=${x}`)},onError:p=>{console.error("Frontend mutation error:",p),e({title:"Error",description:"Failed to add macros. Please try again.",variant:"destructive"})}}),v=()=>{if(!r.trim()||!i||!a||!u){e({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const p={description:r.trim(),protein:parseFloat(i),fats:parseFloat(a),carbs:parseFloat(u),date:Ee(f,"yyyy-MM-dd")};m.mutate(p)};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{const p=Ee(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"ADD MACROS"}),c.jsx("div",{onClick:()=>{const p=Ee(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DESCRIPTION"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(nv,{placeholder:"e.g., Breakfast, Lunch, Snack...",value:r,onChange:p=>s(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 resize-none focus:ring-0 focus:outline-none",rows:3})})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"MACRONUTRIENTS (GRAMS)"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Protein"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:i,onChange:p=>o(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Fats"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:a,onChange:p=>l(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Carbs"}),c.jsx(ce,{className:"bg-gray-800 border-0",children:c.jsx(ue,{className:"p-4",children:c.jsx(Ce,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:u,onChange:p=>d(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]})]})]}),c.jsx(Q,{onClick:v,disabled:m.isPending,className:"w-full bg-white/20 hover:bg-white/30 text-white py-4 rounded-lg text-lg font-medium transition-all duration-200 disabled:opacity-50",children:m.isPending?"SAVING...":"SAVE"})]})]})}function $i(){return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Quick Actions"})}),c.jsx(ue,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(zr,{href:"/progress",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #ec4899, #db2777)",boxShadow:"0 10px 25px rgba(236, 72, 153, 0.3)"},children:[c.jsx("i",{className:"fas fa-plus text-lg"}),c.jsx("span",{className:"text-sm",children:"Log Progress"})]})}),c.jsx(zr,{href:"/photos",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #2dd4bf, #14b8a6)",boxShadow:"0 10px 25px rgba(45, 212, 191, 0.3)"},children:[c.jsx("i",{className:"fas fa-camera text-lg"}),c.jsx("span",{className:"text-sm",children:"Add Photos"})]})}),c.jsx(zr,{href:"/goals",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #fbbf24, #f59e0b)",boxShadow:"0 10px 25px rgba(251, 191, 36, 0.3)"},children:[c.jsx("i",{className:"fas fa-target text-lg"}),c.jsx("span",{className:"text-sm",children:"View Goals"})]})}),c.jsx(zr,{href:"/workouts",children:c.jsxs(Q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #a855f7, #9333ea)",boxShadow:"0 10px 25px rgba(168, 85, 247, 0.3)"},children:[c.jsx("i",{className:"fas fa-dumbbell text-lg"}),c.jsx("span",{className:"text-sm",children:"Workouts"})]})})]})})]})}function q8({isOpen:t,onClose:e,date1:n,date2:r,date1Photos:s,date2Photos:i,selectedPhotos:o,onPhotoSelect:a}){const[l,u]=b.useState({scale:1,x:0,y:0}),[d,f]=b.useState({scale:1,x:0,y:0}),[h,m]=b.useState(!1),[v,p]=b.useState(!1),[x,y]=b.useState({x:0,y:0}),[g,w]=b.useState({x:0,y:0}),[_,S]=b.useState(null),[N,C]=b.useState(null),T=b.useRef(null),P=b.useRef(null),O=D=>{try{const W=Uh(D);return Ee(W,"MMM d, yyyy")}catch{return D}},F=D=>{D===1?u({scale:1,x:0,y:0}):f({scale:1,x:0,y:0})},A=(D,W)=>{D.preventDefault();const G=D.deltaY*-.01,ne=Math.min(Math.max(.5,(W===1?l.scale:d.scale)+G),3);W===1?u(se=>({...se,scale:ne})):f(se=>({...se,scale:ne}))},$=(D,W)=>{D.preventDefault(),W===1?(m(!0),y({x:D.clientX-l.x,y:D.clientY-l.y})):(p(!0),w({x:D.clientX-d.x,y:D.clientY-d.y}))},V=D=>{h&&u(W=>({...W,x:D.clientX-x.x,y:D.clientY-x.y})),v&&f(W=>({...W,x:D.clientX-g.x,y:D.clientY-g.y}))},I=()=>{m(!1),p(!1)},z=D=>{if(D.length<2)return 0;const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},B=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1?(m(!0),y({x:G.clientX-l.x,y:G.clientY-l.y})):(p(!0),w({x:G.clientX-d.x,y:G.clientY-d.y}))}else if(D.touches.length===2){const G=z(D.touches);W===1?(S(G),m(!1)):(C(G),p(!1))}},j=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1&&h?u(ne=>({...ne,x:G.clientX-x.x,y:G.clientY-x.y})):W===2&&v&&f(ne=>({...ne,x:G.clientX-g.x,y:G.clientY-g.y}))}else if(D.touches.length===2){const G=z(D.touches),ne=W===1?_:N;if(ne){const se=G/ne,ve=Math.min(Math.max(.5,(W===1?l:d).scale*se),3);W===1?(u(H=>({...H,scale:ve})),S(G)):(f(H=>({...H,scale:ve})),C(G))}}},R=(D,W)=>{D.touches.length===0?(m(!1),p(!1),S(null),C(null)):D.touches.length===1&&(W===1?S(null):C(null))};return b.useEffect(()=>{if(h||v)return document.addEventListener("mousemove",V),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",I)}},[h,v,x,g]),c.jsx(Ri,{open:t,onOpenChange:e,children:c.jsx(Ps,{className:"max-w-[95vw] max-h-[76vh] w-full h-full p-4",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Photo Comparison"}),c.jsx(Q,{onClick:e,variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-800",children:c.jsx("i",{className:"fas fa-times"})})]}),(o.date1Photo||o.date2Photo)&&c.jsxs("div",{className:"flex-1 flex gap-4 mb-4 min-h-0",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:O(n)}),o.date1Photo&&c.jsx(Q,{onClick:()=>F(1),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:T,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>A(D,1),onMouseDown:D=>$(D,1),onTouchStart:D=>B(D,1),onTouchMove:D=>j(D,1),onTouchEnd:D=>R(D,1),style:{userSelect:"none",touchAction:"none"},children:o.date1Photo?c.jsx("img",{src:o.date1Photo.imageUrl,alt:`Photo from ${O(n)}`,className:"w-full h-full object-contain",style:{transform:`scale(${l.scale}) translate(${l.x/l.scale}px, ${l.y/l.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",O(n)]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:O(r)}),o.date2Photo&&c.jsx(Q,{onClick:()=>F(2),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:P,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>A(D,2),onMouseDown:D=>$(D,2),onTouchStart:D=>B(D,2),onTouchMove:D=>j(D,2),onTouchEnd:D=>R(D,2),style:{userSelect:"none",touchAction:"none"},children:o.date2Photo?c.jsx("img",{src:o.date2Photo.imageUrl,alt:`Photo from ${O(r)}`,className:"w-full h-full object-contain",style:{transform:`scale(${d.scale}) translate(${d.x/d.scale}px, ${d.y/d.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",O(r)]})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:O(n)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=o.date1Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>a(D,0),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:O(r)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=o.date2Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>a(D,1),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]})]})]})})})}function Q8(){const[,t]=wt(),[e,n]=b.useState("newest"),[r,s]=b.useState(!1),[i,o]=b.useState(null),[a,l]=b.useState(0),[u,d]=b.useState([]),[f,h]=b.useState(!1),[m,v]=b.useState("setup"),[p,x]=b.useState(!1),{user:y}=Ii(),[g,w]=b.useState(!1),[_,S]=b.useState(!1),[N,C]=b.useState([]),[T,P]=b.useState(!1),[O,F]=b.useState({}),{data:A=[],isLoading:$}=Dt({queryKey:["/api/photos"]});b.useEffect(()=>{y&&(y.photosPinEnabled===null?(v("setup"),h(!0)):y.photosPinEnabled===!0?(v("verify"),h(!0)):x(!0))},[y]);const V=()=>{x(!0)},I=()=>{S(!0),C([])},z=H=>{if(N.includes(H))C(N.filter(Z=>Z!==H));else if(N.length<2){const Z=[...N,H];C(Z),Z.length===2&&P(!0)}},B=()=>{S(!1),C([]),P(!1),F({})},j=(H,Z)=>{F(Z===0?ze=>({...ze,date1Photo:H}):ze=>({...ze,date2Photo:H}))},R={};A.forEach(H=>{const Z=H.date;R[Z]||(R[Z]=[]),R[Z].push(H)});const D=Object.keys(R).sort((H,Z)=>e==="newest"?new Date(Z).getTime()-new Date(H).getTime():new Date(H).getTime()-new Date(Z).getTime()),W=()=>{window.history.length>1?window.history.back():t("/")},G=H=>{if(H.thumbnailUrl)return H.thumbnailUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?thumbnail=true&token=${Z}`:"/placeholder-image.jpg"},ne=H=>{if(H.imageUrl)return H.imageUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?token=${Z}`:"/placeholder-image.jpg"},se=(H,Z)=>{o(H),d(Z),l(Z.findIndex(ze=>ze.id===H.id)),w(!1),s(!0)},ge=H=>{if(u.length===0)return;let Z;H==="prev"?Z=a>0?a-1:u.length-1:Z=a<u.length-1?a+1:0,l(Z),o(u[Z]),w(!1)};b.useEffect(()=>{const H=Z=>{r&&(Z.key==="ArrowLeft"?ge("prev"):Z.key==="ArrowRight"?ge("next"):Z.key==="Escape"&&s(!1))};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[r,a,u]);const ve=H=>{try{const Z=Uh(H);return Ee(Z,"EEEE, MMMM d, yyyy")}catch{return H}};return $||!p?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),c.jsx("div",{className:"flex items-center justify-center pt-[calc(env(safe-area-inset-top)+6rem)]",children:$&&c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),c.jsx(q2,{isOpen:f,onClose:()=>h(!1),mode:m,onSuccess:V})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),c.jsxs("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsx(Q,{onClick:_?B:I,variant:_?"destructive":"default",size:"sm",className:`${_?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:_?"EXIT":"COMPARE"})}),c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsxs(Q,{variant:"default",size:"sm",onClick:()=>n(e==="newest"?"oldest":"newest"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[c.jsx("i",{className:`fas ${e==="newest"?"fa-arrow-up":"fa-arrow-down"} mr-2`}),"Sort"]})})]}),D.length>0?c.jsx("div",{className:"space-y-8",children:D.map(H=>{const Z=R[H],ze=Z.slice(0,5),Me=Z.length>5;return c.jsxs("div",{className:`space-y-3 relative ${_?"cursor-pointer":""}`,onClick:_?()=>z(H):void 0,children:[c.jsxs("div",{className:"flex justify-end items-center",children:[_&&c.jsx("div",{className:"mr-4",children:c.jsx("input",{type:"checkbox",checked:N.includes(H),onChange:()=>z(H),className:"w-5 h-5 text-blue-600 rounded",disabled:!N.includes(H)&&N.length>=2})}),c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:ve(H)}),c.jsxs("p",{className:"text-sm text-gray-600",children:[Z.length," photo",Z.length!==1?"s":""]})]})]}),c.jsxs("div",{className:`bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl relative ${_&&!N.includes(H)?"opacity-50":""}`,children:[_&&!N.includes(H)&&c.jsx("div",{className:"absolute inset-0 bg-gray-600/50 rounded-xl z-10 pointer-events-none"}),c.jsxs("div",{className:"grid gap-3",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",maxWidth:"100%"},children:[ze.map((be,Oe)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>se(be,Z),children:[c.jsx("img",{src:G(be),alt:`Photo ${Oe+1} from ${ve(H)}`,className:"w-full h-full object-cover",loading:"lazy"}),c.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:Oe+1})]},be.id)),Me&&c.jsx("div",{className:"relative aspect-square bg-gray-200 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-300 transition-colors duration-200 flex items-center justify-center",onClick:()=>se(Z[5],Z),children:c.jsxs("div",{className:"text-center text-gray-600",children:[c.jsx("i",{className:"fas fa-plus text-2xl mb-2"}),c.jsxs("p",{className:"text-sm font-medium",children:["+",Z.length-5," more"]})]})})]})]})]},H)})}):c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-camera text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Photos Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start your fitness journey by adding progress photos from the dashboard."}),c.jsxs(Q,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),c.jsx($i,{})]})]}),c.jsx(Ri,{open:r,onOpenChange:s,children:c.jsxs(Ps,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Fi,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsx(Li,{className:"text-center text-lg font-semibold",children:i&&c.jsxs(c.Fragment,{children:["Photo ",a+1," of ",u.length,c.jsx("span",{className:"block text-sm text-gray-600 font-normal",children:ve(i.date)})]})})}),i&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[u.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>ge("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!g&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:ne(i),alt:`Photo from ${ve(i.date)}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${g?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>w(!0),onError:()=>w(!0)})]}),u.length>1&&c.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>ge("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:i==null?void 0:i.originalName}),c.jsx("div",{className:"text-xs text-gray-400",children:"Press   to navigate  ESC to close"})]})]})}),T&&N.length===2&&c.jsx(q8,{isOpen:T,onClose:B,date1:N[0],date2:N[1],date1Photos:R[N[0]]||[],date2Photos:R[N[1]]||[],selectedPhotos:O,onPhotoSelect:j})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ou(t){return t+.5|0}const oi=(t,e,n)=>Math.max(Math.min(t,n),e);function tc(t){return oi(Ou(t*2.55),0,255)}function xi(t){return oi(Ou(t*255),0,255)}function cs(t){return oi(Ou(t/2.55)/100,0,1)}function fw(t){return oi(Ou(t*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ey=[..."0123456789ABCDEF"],K8=t=>ey[t&15],G8=t=>ey[(t&240)>>4]+ey[t&15],dd=t=>(t&240)>>4===(t&15),X8=t=>dd(t.r)&&dd(t.g)&&dd(t.b)&&dd(t.a);function Z8(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&qn[t[1]]*17,g:255&qn[t[2]]*17,b:255&qn[t[3]]*17,a:e===5?qn[t[4]]*17:255}:(e===7||e===9)&&(n={r:qn[t[1]]<<4|qn[t[2]],g:qn[t[3]]<<4|qn[t[4]],b:qn[t[5]]<<4|qn[t[6]],a:e===9?qn[t[7]]<<4|qn[t[8]]:255})),n}const J8=(t,e)=>t<255?e(t):"";function eH(t){var e=X8(t)?K8:G8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+J8(t.a,e):void 0}const tH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z2(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function nH(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function rH(t,e,n){const r=Z2(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function sH(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function rv(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),l=sH(n,r,s,d,i),l=l*60+.5),[l|0,u||0,a]}function sv(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(xi)}function iv(t,e,n){return sv(Z2,t,e,n)}function iH(t,e,n){return sv(rH,t,e,n)}function oH(t,e,n){return sv(nH,t,e,n)}function J2(t){return(t%360+360)%360}function aH(t){const e=tH.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?tc(+e[5]):xi(+e[5]));const s=J2(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=iH(s,i,o):e[1]==="hsv"?r=oH(s,i,o):r=iv(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function lH(t,e){var n=rv(t);n[0]=J2(n[0]+e),n=iv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function cH(t){if(!t)return;const e=rv(t),n=e[0],r=fw(e[1]),s=fw(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${cs(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const hw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uH(){const t={},e=Object.keys(mw),n=Object.keys(hw);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,hw[i]);i=parseInt(mw[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let fd;function dH(t){fd||(fd=uH(),fd.transparent=[0,0,0,0]);const e=fd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const fH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hH(t){const e=fH.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?tc(o):oi(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?tc(r):oi(r,0,255)),s=255&(e[4]?tc(s):oi(s,0,255)),i=255&(e[6]?tc(i):oi(i,0,255)),{r,g:s,b:i,a:n}}}function mH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${cs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const op=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ea=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pH(t,e,n){const r=ea(cs(t.r)),s=ea(cs(t.g)),i=ea(cs(t.b));return{r:xi(op(r+n*(ea(cs(e.r))-r))),g:xi(op(s+n*(ea(cs(e.g))-s))),b:xi(op(i+n*(ea(cs(e.b))-i))),a:t.a+n*(e.a-t.a)}}function hd(t,e,n){if(t){let r=rv(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=iv(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function eO(t,e){return t&&Object.assign(e||{},t)}function pw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xi(t[3]))):(e=eO(t,{r:0,g:0,b:0,a:1}),e.a=xi(e.a)),e}function gH(t){return t.charAt(0)==="r"?hH(t):aH(t)}class iu{constructor(e){if(e instanceof iu)return e;const n=typeof e;let r;n==="object"?r=pw(e):n==="string"&&(r=Z8(e)||dH(e)||gH(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=eO(this._rgb);return e&&(e.a=cs(e.a)),e}set rgb(e){this._rgb=pw(e)}rgbString(){return this._valid?mH(this._rgb):void 0}hexString(){return this._valid?eH(this._rgb):void 0}hslString(){return this._valid?cH(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-u,r.r=255&u*r.r+i*s.r+.5,r.g=255&u*r.g+i*s.g+.5,r.b=255&u*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=pH(this._rgb,e._rgb,n)),this}clone(){return new iu(this.rgb)}alpha(e){return this._rgb.a=xi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ou(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hd(this._rgb,2,e),this}darken(e){return hd(this._rgb,2,-e),this}saturate(e){return hd(this._rgb,1,e),this}desaturate(e){return hd(this._rgb,1,-e),this}rotate(e){return lH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ts(){}const yH=(()=>{let t=0;return()=>t++})();function Ye(t){return t==null}function Rt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function sr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jr(t,e){return sr(t)?t:e}function je(t,e){return typeof t>"u"?e:t}const xH=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,tO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function at(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Xe(t,e,n,r){let s,i,o;if(Rt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if($e(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function Jf(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function eh(t){if(Rt(t))return t.map(eh);if($e(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=eh(t[n[s]]);return e}return t}function nO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function vH(t,e,n,r){if(!nO(t))return;const s=e[t],i=n[t];$e(s)&&$e(i)?ou(s,i,r):e[t]=eh(i)}function ou(t,e,n){const r=Rt(e)?e:[e],s=r.length;if(!$e(t))return t;n=n||{};const i=n.merger||vH;let o;for(let a=0;a<s;++a){if(o=r[a],!$e(o))continue;const l=Object.keys(o);for(let u=0,d=l.length;u<d;++u)i(l[u],t,o,n)}return t}function bc(t,e){return ou(t,e,{merger:bH})}function bH(t,e,n){if(!nO(t))return;const r=e[t],s=n[t];$e(r)&&$e(s)?bc(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=eh(s))}const gw={"":t=>t,x:t=>t.x,y:t=>t.y};function wH(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function _H(t){const e=wH(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function zo(t,e){return(gw[e]||(gw[e]=_H(e)))(t)}function ov(t){return t.charAt(0).toUpperCase()+t.slice(1)}const au=t=>typeof t<"u",Ei=t=>typeof t=="function",yw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function SH(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,vt=2*Ze,NH=vt+Ze,th=Number.POSITIVE_INFINITY,kH=Ze/180,zt=Ze/2,Hi=Ze/4,xw=Ze*2/3,rO=Math.log10,qr=Math.sign;function wc(t,e,n){return Math.abs(t-e)<n}function vw(t){const e=Math.round(t);t=wc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(rO(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function CH(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function TH(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function lu(t){return!TH(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function jH(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function PH(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ps(t){return t*(Ze/180)}function EH(t){return t*(180/Ze)}function bw(t){if(!sr(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function sO(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Ze&&(i+=vt),{angle:i,distance:s}}function ty(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function MH(t,e){return(t-e+NH)%vt-Ze}function hr(t){return(t%vt+vt)%vt}function cu(t,e,n,r){const s=hr(t),i=hr(e),o=hr(n),a=hr(i-s),l=hr(o-s),u=hr(s-i),d=hr(s-o);return s===i||s===o||r&&i===o||a>l&&u<d}function on(t,e,n){return Math.max(e,Math.min(n,t))}function DH(t){return on(t,-32768,32767)}function ai(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function av(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ao=(t,e,n,r)=>av(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),OH=(t,e,n)=>av(t,n,r=>t[r][e]>=n);function AH(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const iO=["push","pop","shift","splice","unshift"];function IH(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),iO.forEach(n=>{const r="_onData"+ov(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function ww(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(iO.forEach(i=>{delete t[i]}),delete t._chartjs)}function oO(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const aO=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function lO(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,aO.call(window,()=>{r=!1,t.apply(e,n)}))}}function RH(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const lv=t=>t==="start"?"left":t==="end"?"right":"center",rn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,FH=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function LH(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:m,maxDefined:v}=o.getUserBounds();if(m){if(s=Math.min(ao(l,d,f).lo,n?r:ao(e,d,o.getPixelForValue(f)).lo),u){const p=l.slice(0,s+1).reverse().findIndex(x=>!Ye(x[a.axis]));s-=Math.max(0,p)}s=on(s,0,r-1)}if(v){let p=Math.max(ao(l,o.axis,h,!0).hi+1,n?0:ao(e,d,o.getPixelForValue(h),!0).hi+1);if(u){const x=l.slice(p-1).findIndex(y=>!Ye(y[a.axis]));p+=Math.max(0,x)}i=on(p,s,r)-s}else i=r-s}return{start:s,count:i}}function zH(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const md=t=>t===0||t===1,_w=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vt/n)),Sw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vt/n)+1,_c={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zt)+1,easeOutSine:t=>Math.sin(t*zt),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>md(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>md(t)?t:_w(t,.075,.3),easeOutElastic:t=>md(t)?t:Sw(t,.075,.3),easeInOutElastic(t){return md(t)?t:t<.5?.5*_w(t*2,.1125,.45):.5+.5*Sw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_c.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_c.easeInBounce(t*2)*.5:_c.easeOutBounce(t*2-1)*.5+.5};function cv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Nw(t){return cv(t)?t:new iu(t)}function ap(t){return cv(t)?t:new iu(t).saturate(.5).darken(.1).hexString()}const VH=["x","y","borderWidth","radius","tension"],$H=["color","borderColor","backgroundColor"];function BH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:$H},numbers:{type:"number",properties:VH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function UH(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kw=new Map;function WH(t,e){e=e||{};const n=t+JSON.stringify(e);let r=kw.get(n);return r||(r=new Intl.NumberFormat(t,e),kw.set(n,r)),r}function uv(t,e,n){return WH(e,n).format(t)}const HH={values(t){return Rt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=YH(t,n)}const o=rO(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),uv(t,r,l)}};function YH(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var cO={formatters:HH};function qH(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Vo=Object.create(null),ny=Object.create(null);function Sc(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function lp(t,e,n){return typeof e=="string"?ou(Sc(t,e),n):ou(Sc(t,""),e)}class QH{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ap(s.backgroundColor),this.hoverBorderColor=(r,s)=>ap(s.borderColor),this.hoverColor=(r,s)=>ap(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return lp(this,e,n)}get(e){return Sc(this,e)}describe(e,n){return lp(ny,e,n)}override(e,n){return lp(Vo,e,n)}route(e,n,r,s){const i=Sc(this,e),o=Sc(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[s];return $e(l)?Object.assign({},u,l):je(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Tt=new QH({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BH,UH,qH]);function KH(t){return!t||Ye(t.size)||Ye(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cw(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Yi(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Tw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ry(t,e,n,r){uO(t,e,n,r,null)}function uO(t,e,n,r,s){let i,o,a,l,u,d,f,h;const m=e.pointStyle,v=e.rotation,p=e.radius;let x=(v||0)*kH;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,p,0,0,vt):t.arc(n,r,p,0,vt),t.closePath();break;case"triangle":d=s?s/2:p,t.moveTo(n+Math.sin(x)*d,r-Math.cos(x)*p),x+=xw,t.lineTo(n+Math.sin(x)*d,r-Math.cos(x)*p),x+=xw,t.lineTo(n+Math.sin(x)*d,r-Math.cos(x)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,o=Math.cos(x+Hi)*l,f=Math.cos(x+Hi)*(s?s/2-u:l),a=Math.sin(x+Hi)*l,h=Math.sin(x+Hi)*(s?s/2-u:l),t.arc(n-f,r-a,u,x-Ze,x-zt),t.arc(n+h,r-o,u,x-zt,x),t.arc(n+f,r+a,u,x,x+zt),t.arc(n-h,r+o,u,x+zt,x+Ze),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*p,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}x+=Hi;case"rectRot":f=Math.cos(x)*(s?s/2:p),o=Math.cos(x)*p,a=Math.sin(x)*p,h=Math.sin(x)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+h,r-o),t.lineTo(n+f,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":x+=Hi;case"cross":f=Math.cos(x)*(s?s/2:p),o=Math.cos(x)*p,a=Math.sin(x)*p,h=Math.sin(x)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":f=Math.cos(x)*(s?s/2:p),o=Math.cos(x)*p,a=Math.sin(x)*p,h=Math.sin(x)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),x+=Hi,f=Math.cos(x)*(s?s/2:p),o=Math.cos(x)*p,a=Math.sin(x)*p,h=Math.sin(x)*(s?s/2:p),t.moveTo(n-f,r-a),t.lineTo(n+f,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(x)*p,a=Math.sin(x)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(s?s/2:p),r+Math.sin(x)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function uu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function dv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fv(t){t.restore()}function GH(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function XH(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ZH(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ye(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function JH(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function eY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function du(t,e,n,r,s,i={}){const o=Rt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=s.string,ZH(t,i),l=0;l<o.length;++l)u=o[l],i.backdrop&&eY(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ye(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,r,i.maxWidth)),t.fillText(u,n,r,i.maxWidth),JH(t,n,r,u,i),r+=Number(s.lineHeight);t.restore()}function nh(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Ze,zt,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,zt,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-zt,!0),t.lineTo(n+o.topLeft,r)}const tY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,nY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rY(t,e){const n=(""+t).match(tY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const sY=t=>+t||0;function hv(t,e){const n={},r=$e(e),s=r?Object.keys(e):e,i=$e(t)?r?o=>je(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=sY(i(o));return n}function dO(t){return hv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ma(t){return hv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ir(t){const e=dO(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function an(t,e){t=t||{},e=e||Tt.font;let n=je(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=je(t.style,e.style);r&&!(""+r).match(nY)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:je(t.family,e.family),lineHeight:rY(je(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:je(t.weight,e.weight),string:""};return s.string=KH(s),s}function pd(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function iY(t,e,n){const{min:r,max:s}=t,i=tO(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function qo(t,e){return Object.assign(Object.create(t),e)}function mv(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=pO("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>mv([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return hO(a,l,()=>hY(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Pw(a).includes(l)},ownKeys(a){return Pw(a)},set(a,l,u){const d=a._storage||(a._storage=s());return a[l]=d[l]=u,delete a._keys,!0}})}function ul(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fO(t,r),setContext:i=>ul(t,i,n,r),override:i=>ul(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return hO(i,o,()=>aY(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function fO(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Ei(n)?n:()=>n,isIndexable:Ei(r)?r:()=>r}}const oY=(t,e)=>t?t+ov(e):e,pv=(t,e)=>$e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function hO(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function aY(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Ei(a)&&o.isScriptable(e)&&(a=lY(e,a,t,n)),Rt(a)&&a.length&&(a=cY(e,a,t,o.isIndexable)),pv(e,a)&&(a=ul(a,s,i&&i[e],o)),a}function lY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),pv(t,l)&&(l=gv(s._scopes,s,t,l)),l}function cY(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if($e(e[0])){const l=e,u=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=gv(u,s,t,d);e.push(ul(f,i,o&&o[t],a))}}return e}function mO(t,e,n){return Ei(t)?t(e,n):t}const uY=(t,e)=>t===!0?e:typeof t=="string"?zo(e,t):void 0;function dY(t,e,n,r,s){for(const i of e){const o=uY(n,i);if(o){t.add(o);const a=mO(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function gv(t,e,n,r){const s=e._rootScopes,i=mO(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=jw(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=jw(a,o,i,l,r),l===null)?!1:mv(Array.from(a),[""],s,i,()=>fY(e,n,r))}function jw(t,e,n,r,s){for(;n;)n=dY(t,e,n,r,s);return n}function fY(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Rt(s)&&$e(n)?n:s||{}}function hY(t,e,n,r){let s;for(const i of e)if(s=pO(oY(i,t),n),typeof s<"u")return pv(t,s)?gv(n,r,t,s):s}function pO(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Pw(t){let e=t._keys;return e||(e=t._keys=mY(t._scopes)),e}function mY(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const pY=Number.EPSILON||1e-14,dl=(t,e)=>e<t.length&&!t[e].skip&&t[e],gO=t=>t==="x"?"y":"x";function gY(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=ty(i,s),l=ty(o,i);let u=a/(a+l),d=l/(a+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=r*u,h=r*d;return{previous:{x:i.x-f*(o.x-s.x),y:i.y-f*(o.y-s.y)},next:{x:i.x+h*(o.x-s.x),y:i.y+h*(o.y-s.y)}}}function yY(t,e,n){const r=t.length;let s,i,o,a,l,u=dl(t,0);for(let d=0;d<r-1;++d)if(l=u,u=dl(t,d+1),!(!l||!u)){if(wc(e[d],0,pY)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=s*o*e[d],n[d+1]=i*o*e[d])}}function xY(t,e,n="x"){const r=gO(n),s=t.length;let i,o,a,l=dl(t,0);for(let u=0;u<s;++u){if(o=a,a=l,l=dl(t,u+1),!a)continue;const d=a[n],f=a[r];o&&(i=(d-o[n])/3,a[`cp1${n}`]=d-i,a[`cp1${r}`]=f-i*e[u]),l&&(i=(l[n]-d)/3,a[`cp2${n}`]=d+i,a[`cp2${r}`]=f+i*e[u])}}function vY(t,e="x"){const n=gO(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,u=dl(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=dl(t,o+1),!!l){if(u){const d=u[e]-l[e];s[o]=d!==0?(u[n]-l[n])/d:0}i[o]=a?u?qr(s[o-1])!==qr(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}yY(t,s,i),xY(t,i,e)}function gd(t,e,n){return Math.max(Math.min(t,n),e)}function bY(t,e){let n,r,s,i,o,a=uu(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&uu(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=gd(s.cp1x,e.left,e.right),s.cp1y=gd(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=gd(s.cp2x,e.left,e.right),s.cp2y=gd(s.cp2y,e.top,e.bottom)))}function wY(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")vY(t,s);else{let u=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=gY(u,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&bY(t,n)}function yv(){return typeof window<"u"&&typeof document<"u"}function xv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rh(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Gh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function _Y(t,e){return Gh(t).getPropertyValue(e)}const SY=["top","right","bottom","left"];function wo(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=SY[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const NY=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function kY(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(NY(s,i,t.target))a=s,l=i;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function Zi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Gh(n),i=s.boxSizing==="border-box",o=wo(s,"padding"),a=wo(s,"border","width"),{x:l,y:u,box:d}=kY(t,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:m,height:v}=e;return i&&(m-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-f)/m*n.width/r),y:Math.round((u-h)/v*n.height/r)}}function CY(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&xv(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=Gh(i),l=wo(a,"border","width"),u=wo(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=rh(a.maxWidth,i,"clientWidth"),s=rh(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||th,maxHeight:s||th}}const yd=t=>Math.round(t*10)/10;function TY(t,e,n,r){const s=Gh(t),i=wo(s,"margin"),o=rh(s.maxWidth,t,"clientWidth")||th,a=rh(s.maxHeight,t,"clientHeight")||th,l=CY(t,e,n);let{width:u,height:d}=l;if(s.boxSizing==="content-box"){const h=wo(s,"border","width"),m=wo(s,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=yd(Math.min(u,o,l.maxWidth)),d=yd(Math.min(d,a,l.maxHeight)),u&&!d&&(d=yd(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=yd(Math.floor(d*r))),{width:u,height:d}}function Ew(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const jY=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};yv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Mw(t,e){const n=_Y(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ji(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function PY(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function EY(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Ji(t,s,n),a=Ji(s,i,n),l=Ji(i,e,n),u=Ji(o,a,n),d=Ji(a,l,n);return Ji(u,d,n)}const MY=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},DY=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Da(t,e,n){return t?MY(e,n):DY()}function yO(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function xO(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vO(t){return t==="angle"?{between:cu,compare:MH,normalize:hr}:{between:ai,compare:(e,n)=>e-n,normalize:e=>e}}function Dw({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function OY(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=vO(r),l=e.length;let{start:u,end:d,loop:f}=t,h,m;if(f){for(u+=l,d+=l,h=0,m=l;h<m&&o(a(e[u%l][r]),s,i);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function AY(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:u}=vO(r),{start:d,end:f,loop:h,style:m}=OY(t,e,n),v=[];let p=!1,x=null,y,g,w;const _=()=>l(s,w,y)&&a(s,w)!==0,S=()=>a(i,y)===0||l(i,w,y),N=()=>p||_(),C=()=>!p||S();for(let T=d,P=d;T<=f;++T)g=e[T%o],!g.skip&&(y=u(g[r]),y!==w&&(p=l(y,s,i),x===null&&N()&&(x=a(y,s)===0?T:P),x!==null&&C()&&(v.push(Dw({start:x,end:T,loop:h,count:o,style:m})),x=null),P=T,w=y));return x!==null&&v.push(Dw({start:x,end:f,loop:h,count:o,style:m})),v}function IY(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=AY(r[s],t.points,e);i.length&&n.push(...i)}return n}function RY(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function FY(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%s];u.skip||u.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function LY(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=RY(n,s,i,r);if(r===!0)return Ow(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,u=!!t._fullLoop&&o===0&&a===s-1;return Ow(t,FY(n,o,l,u),n,e)}function Ow(t,e,n,r){return!r||!r.setContext||!n?e:zY(t,e,n,r)}function zY(t,e,n,r){const s=t._chart.getContext(),i=Aw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let d=i,f=e[0].start,h=f;function m(v,p,x,y){const g=a?-1:1;if(v!==p){for(v+=l;n[v%l].skip;)v-=g;for(;n[p%l].skip;)p+=g;v%l!==p%l&&(u.push({start:v%l,end:p%l,loop:x,style:y}),d=y,f=p%l)}}for(const v of e){f=a?f:v.start;let p=n[f%l],x;for(h=f+1;h<=v.end;h++){const y=n[h%l];x=Aw(r.setContext(qo(s,{type:"segment",p0:p,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),VY(x,d)&&m(f,h-1,v.loop,d),p=y,d=x}f<h-1&&m(f,h-1,v.loop,d)}return u}function Aw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function VY(t,e){if(!e)return!1;const n=[],r=function(s,i){return cv(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function xd(t,e,n){return t.options.clip?t[n]:e[n]}function $Y(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:xd(n,e,"left"),right:xd(n,e,"right"),top:xd(r,e,"top"),bottom:xd(r,e,"bottom")}:e}function BY(t,e){const n=e._clip;if(n.disabled)return!1;const r=$Y(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class UY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=aO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ss=new UY;const Iw="transparent",WY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Nw(t||Iw),s=r.valid&&Nw(e||Iw);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class HY{constructor(e,n,r,s){const i=n[r];s=pd([e.to,s,i,e.from]);const o=pd([e.from,i,s]);this._active=!0,this._fn=e.fn||WY[e.type||typeof o],this._easing=_c[e.easing]||_c.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=pd([e.to,n,s,e.from]),this._from=pd([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class bO{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$e(e))return;const n=Object.keys(Tt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!$e(i))return;const o={};for(const a of n)o[a]=i[a];(Rt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=qY(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&YY(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const h=r.get(u);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}i[u]=f=new HY(h,e,u,d),s.push(f)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ss.add(this._chart,r),!0}}function YY(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function qY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Rw(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function QY(t,e,n){if(n===!1)return!1;const r=Rw(t,n),s=Rw(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function KY(t){let e,n,r,s;return $e(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function wO(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Fw(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,u;if(e===null)return;let d=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(d=!0,r.all)continue;break}u=t.values[l],sr(u)&&(i||e===0||qr(e)===qr(u))&&(e+=u)}return!d&&!r.all?0:e}function GY(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,d;for(l=0,u=o.length;l<u;++l)d=o[l],a[l]={[s]:d,[i]:t[d]};return a}function cp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function XY(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function ZY(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function JY(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Lw(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function zw(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,u=o.axis,d=XY(i,o,r),f=e.length;let h;for(let m=0;m<f;++m){const v=e[m],{[l]:p,[u]:x}=v,y=v._stacks||(v._stacks={});h=y[u]=JY(s,d,p),h[a]=x,h._top=Lw(h,o,!0,r.type),h._bottom=Lw(h,o,!1,r.type);const g=h._visualValues||(h._visualValues={});g[a]=x}}function up(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function e9(t,e){return qo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function t9(t,e,n){return qo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wl(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const dp=t=>t==="reset"||t==="none",Vw=(t,e)=>e?t:Object.assign({},t),n9=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wO(n,!0),values:null};class _o{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=cp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(f,h,m,v)=>f==="x"?h:f==="r"?v:m,i=n.xAxisID=je(r.xAxisID,up(e,"x")),o=n.yAxisID=je(r.yAxisID,up(e,"y")),a=n.rAxisID=je(r.rAxisID,up(e,"r")),l=n.indexAxis,u=n.iAxisID=s(l,i,o,a),d=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ww(this._data,this),e._stacked&&Wl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if($e(n)){const s=this._cachedMeta;this._data=GY(n,s)}else if(r!==n){if(r){ww(r,this);const s=this._cachedMeta;Wl(s),s._parsed=[]}n&&Object.isExtensible(n)&&IH(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=cp(n.vScale,n),n.stack!==r.stack&&(s=!0,Wl(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(zw(this,n._parsed),n._stacked=cp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,f,h;if(this._parsing===!1)r._parsed=s,r._sorted=!0,h=s;else{Rt(s[e])?h=this.parseArrayData(r,s,e,n):$e(s[e])?h=this.parseObjectData(r,s,e,n):h=this.parsePrimitiveData(r,s,e,n);const m=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<n;++d)r._parsed[d+e]=f=h[d],l&&(m()&&(l=!1),u=f);r._sorted=l}o&&zw(this,h)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,u=i.getLabels(),d=i===o,f=new Array(s);let h,m,v;for(h=0,m=s;h<m;++h)v=h+r,f[h]={[a]:d||i.parse(u[v],v),[l]:o.parse(n[v],v)};return f}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,u,d,f;for(l=0,u=s;l<u;++l)d=l+r,f=n[d],a[l]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,f,h,m;for(d=0,f=s;d<f;++d)h=d+r,m=n[h],u[d]={x:i.parse(zo(m,a),h),y:o.parse(zo(m,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:wO(s,!0),values:n._stacks[e.axis]._visualValues};return Fw(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=Fw(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=n9(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=ZY(a);let h,m;function v(){m=s[h];const p=m[a.axis];return!sr(m[e.axis])||d>p||f<p}for(h=0;h<o&&!(!v()&&(this.updateRangeFromParsed(u,e,m,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!v()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],sr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=KY(je(this.options.clip,QY(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,a,l),d=a;d<a+l;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=t9(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=e9(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&au(r);if(a)return Vw(a,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(Tt.elements[e]),v=()=>this.getContext(r,s,n),p=u.resolveNamedOptions(h,m,v,f);return p.$shared&&(p.$shared=l,i[o]=Object.freeze(Vw(p,l))),p}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,r,n))}const u=new bO(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||dp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){dp(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!dp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Wl(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}k(_o,"defaults",{}),k(_o,"datasetElementType",null),k(_o,"dataElementType",null);function r9(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=oO(r.sort((s,i)=>s-i))}return t._cache.$bar}function s9(t){const e=t.iScale,n=r9(e,t.type);let r=e._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(au(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=n.length;s<i;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),l();return r}function i9(t,e,n,r){const s=n.barThickness;let i,o;return Ye(s)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[t]-i/2}}function o9(t,e,n,r){const s=e.pixels,i=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:u}}function a9(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:s,end:i,min:o,max:a}}function _O(t,e,n,r){return Rt(t)?a9(t,e,n,r):e[n.axis]=n.parse(t,r),e}function $w(t,e,n,r){const s=t.iScale,i=t.vScale,o=s.getLabels(),a=s===i,l=[];let u,d,f,h;for(u=n,d=n+r;u<d;++u)h=e[u],f={},f[s.axis]=a||s.parse(o[u],u),l.push(_O(h,f,i,u));return l}function fp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function l9(t,e,n){return t!==0?qr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function c9(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function u9(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:d}=c9(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=u:(n._bottom||0)===r?s=d:(i[Bw(d,o,a,l)]=!0,s=u)),i[Bw(s,o,a,l)]=!0,t.borderSkipped=i}function Bw(t,e,n,r){return r?(t=d9(t,e,n),t=Uw(t,n,e)):t=Uw(t,e,n),t}function d9(t,e,n){return t===e?n:t===n?e:t}function Uw(t,e,n){return t==="start"?e:t==="end"?n:t}function f9(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class qd extends _o{parsePrimitiveData(e,n,r,s){return $w(e,n,r,s)}parseArrayData(e,n,r,s){return $w(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,m,v,p;for(h=r,m=r+s;h<m;++h)p=n[h],v={},v[i.axis]=i.parse(zo(p,u),h),f.push(_O(zo(p,d),v,o,h));return f}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),o=i._custom,a=fp(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,s);for(let m=n;m<n+r;m++){const v=this.getParsed(m),p=i||Ye(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),x=this._calculateBarIndexPixels(m,d),y=(v._stacks||{})[a.axis],g={horizontal:u,base:p.base,enableBorderRadius:!y||fp(v._custom)||o===y._top||o===y._bottom,x:u?p.head:x.center,y:u?x.center:p.head,height:u?x.size:Math.abs(p.size),width:u?Math.abs(p.size):x.size};h&&(g.options=f||this.resolveDataElementOptions(m,e[m].active?"active":s));const w=g.options||e[m].options;u9(g,w,y,o),f9(g,w,d.ratio),this.updateElement(e[m],m,g,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],u=d=>{const f=d._parsed.find(m=>m[r.axis]===l),h=f&&f[d.vScale.axis];if(Ye(h)||isNaN(h))return!0};for(const d of s)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[je(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,o;for(i=0,o=n.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=e.barThickness;return{min:a||s9(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),u=l._custom,d=fp(u);let f=l[n.axis],h=0,m=r?this.applyStack(n,l,r):f,v,p;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&qr(f)!==qr(u.barEnd)&&(h=0),h+=f);const x=!Ye(i)&&!d?i:h;let y=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(h+m):v=y,p=v-y,Math.abs(p)<o){p=l9(p,n,a)*o,f===a&&(y-=p/2);const g=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),_=Math.min(g,w),S=Math.max(g,w);y=Math.max(Math.min(y,S),_),v=y+p,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(v)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const g=qr(p)*n.getLineWidthForValue(a)/2;y+=g,p-=g}return{size:p,base:y,head:v,center:v+p/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,o=je(s.maxBarThickness,1/0);let a,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?o9(e,n,s,d*u):i9(e,n,s,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(je(h,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;a=f.start+f.chunk*v+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}k(qd,"id","bar"),k(qd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),k(qd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function h9(t,e,n){let r=1,s=1,i=0,o=0;if(e<vt){const a=t,l=a+e,u=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),m=(w,_,S)=>cu(w,a,l,!0)?1:Math.max(_,_*n,S,S*n),v=(w,_,S)=>cu(w,a,l,!0)?-1:Math.min(_,_*n,S,S*n),p=m(0,u,f),x=m(zt,d,h),y=v(Ze,u,f),g=v(Ze+zt,d,h);r=(p-y)/2,s=(x-g)/2,i=-(p+y)/2,o=-(x+g)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class nc extends _o{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if($e(r[e])){const{key:l="value"}=this._parsing;i=u=>+zo(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return ps(this.options.rotation-90)}_getCircumference(){return ps(this.options.circumference)}_getRotationExtents(){let e=vt,n=-vt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(xH(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:v,offsetY:p}=h9(f,d,l),x=(r.width-o)/h,y=(r.height-o)/m,g=Math.max(Math.min(x,y)/2,0),w=tO(this.options.radius,g),_=Math.max(w*l,0),S=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=v*w,this.offsetY=p*w,s.total=this.calculateTotal(),this.outerRadius=w-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/vt)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=i&&u.animateScale,m=h?0:this.innerRadius,v=h?0:this.outerRadius,{sharedOptions:p,includeOptions:x}=this._getSharedOptions(n,s);let y=this._getRotation(),g;for(g=0;g<n;++g)y+=this._circumference(g,i);for(g=n;g<n+r;++g){const w=this._circumference(g,i),_=e[g],S={x:d+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:v,innerRadius:m};x&&(S.options=p||this.resolveDataElementOptions(g,_.active?"active":s)),y+=w,this.updateElement(_,g,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=uv(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}k(nc,"id","doughnut"),k(nc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),k(nc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),k(nc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Qd extends _o{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=LH(n,s,o);this._drawStart=a,this._drawCount=l,zH(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,s),h=o.axis,m=a.axis,{spanGaps:v,segment:p}=this.options,x=lu(v)?v:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",g=n+r,w=e.length;let _=n>0&&this.getParsed(n-1);for(let S=0;S<w;++S){const N=e[S],C=y?N:{};if(S<n||S>=g){C.skip=!0;continue}const T=this.getParsed(S),P=Ye(T[m]),O=C[h]=o.getPixelForValue(T[h],S),F=C[m]=i||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[m],S);C.skip=isNaN(O)||isNaN(F)||P,C.stop=S>0&&Math.abs(T[h]-_[h])>x,p&&(C.parsed=T,C.raw=u.data[S]),f&&(C.options=d||this.resolveDataElementOptions(S,N.active?"active":s)),y||this.updateElement(N,S,C,s),_=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}k(Qd,"id","line"),k(Qd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),k(Qd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function qi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vv{constructor(e){k(this,"options");this.options=e||{}}static override(e){Object.assign(vv.prototype,e)}init(){}formats(){return qi()}parse(){return qi()}format(){return qi()}add(){return qi()}diff(){return qi()}startOf(){return qi()}endOf(){return qi()}}var SO={_date:vv};function m9(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?OH:ao;if(r){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=u(i,e,n-f),m=u(i,e,n+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:f}=s._cachedMeta,{_parsed:h}=t,m=h.slice(0,d.lo+1).reverse().findIndex(p=>!Ye(p[f.axis]));d.lo-=Math.max(0,m);const v=h.slice(d.hi).findIndex(p=>!Ye(p[f.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:i.length-1}}function Xh(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:u,data:d}=i[a],{lo:f,hi:h}=m9(i[a],e,o,s);for(let m=f;m<=h;++m){const v=d[m];v.skip||r(v,u,m)}}}function p9(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function hp(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||Xh(t,n,e,function(a,l,u){!s&&!uu(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:u})},!0),i}function g9(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=sO(o,{x:e.x,y:e.y});cu(f,u,d)&&s.push({element:o,datasetIndex:a,index:l})}return Xh(t,n,e,i),s}function y9(t,e,n,r,s,i){let o=[];const a=p9(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(e.x,e.y,s);if(r&&!m)return;const v=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!m)return;const x=a(e,v);x<l?(o=[{element:d,datasetIndex:f,index:h}],l=x):x===l&&o.push({element:d,datasetIndex:f,index:h})}return Xh(t,n,e,u),o}function mp(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?g9(t,e,n,s):y9(t,e,n,r,s,i)}function Ww(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Xh(t,n,e,(l,u,d)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:u,index:d}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var x9={modes:{index(t,e,n,r){const s=Zi(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?hp(t,s,i,r,o):mp(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Zi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?hp(t,s,i,r,o):mp(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const s=Zi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return hp(t,s,i,r,o)},nearest(t,e,n,r){const s=Zi(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return mp(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Zi(e,t);return Ww(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Zi(e,t);return Ww(t,s,"y",n.intersect,r)}}};const NO=["left","top","right","bottom"];function Hl(t,e){return t.filter(n=>n.pos===e)}function Hw(t,e){return t.filter(n=>NO.indexOf(n.pos)===-1&&n.box.axis===e)}function Yl(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function v9(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function b9(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!NO.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function w9(t,e){const n=b9(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=d?d*s:l&&e.availableHeight)}return n}function _9(t){const e=v9(t),n=Yl(e.filter(u=>u.box.fullSize),!0),r=Yl(Hl(e,"left"),!0),s=Yl(Hl(e,"right")),i=Yl(Hl(e,"top"),!0),o=Yl(Hl(e,"bottom")),a=Hw(e,"x"),l=Hw(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Hl(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function Yw(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function kO(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function S9(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!$e(s)){n.size&&(t[s]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[s]+=n.size}i.getPadding&&kO(o,i.getPadding());const a=Math.max(0,e.outerWidth-Yw(o,t,"left","right")),l=Math.max(0,e.outerHeight-Yw(o,t,"top","bottom")),u=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function N9(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function k9(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function rc(t,e,n,r){const s=[];let i,o,a,l,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,k9(a.horizontal,e));const{same:f,other:h}=S9(e,n,a,r);u|=f&&s.length,d=d||h,l.fullSize||s.push(a)}return u&&rc(s,e,n,r)||d}function vd(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function qw(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,h=u.size||l.height;au(u.start)&&(o=u.start),l.fullSize?vd(l,s.left,o,n.outerWidth-s.right-s.left,h):vd(l,e.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=l.bottom}else{const f=e.h*d,h=u.size||l.width;au(u.start)&&(i=u.start),l.fullSize?vd(l,i,s.top,h,n.outerHeight-s.bottom-s.top):vd(l,i,e.top+u.placed,h,f),u.start=i,u.placed+=f,i=l.right}}e.x=i,e.y=o}var er={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=ir(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=_9(t.boxes),l=a.vertical,u=a.horizontal;Xe(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=l.reduce((p,x)=>x.box.options&&x.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);kO(h,ir(r));const m=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),v=w9(l.concat(u),f);rc(a.fullSize,m,f,v),rc(l,m,f,v),rc(u,m,f,v)&&rc(l,m,f,v),N9(m),qw(a.leftAndTop,m,f,v),m.x+=m.w,m.y+=m.h,qw(a.rightAndBottom,m,f,v),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Xe(a.chartArea,p=>{const x=p.box;Object.assign(x,t.chartArea),x.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class CO{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class C9 extends CO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Kd="$chartjs",T9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qw=t=>t===null||t==="";function j9(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Kd]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Qw(s)){const i=Mw(t,"width");i!==void 0&&(t.width=i)}if(Qw(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Mw(t,"height");i!==void 0&&(t.height=i)}return t}const TO=jY?{passive:!0}:!1;function P9(t,e,n){t&&t.addEventListener(e,n,TO)}function E9(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,TO)}function M9(t,e){const n=T9[t.type]||t.type,{x:r,y:s}=Zi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function sh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function D9(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||sh(a.addedNodes,r),o=o&&!sh(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function O9(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||sh(a.removedNodes,r),o=o&&!sh(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const fu=new Map;let Kw=0;function jO(){const t=window.devicePixelRatio;t!==Kw&&(Kw=t,fu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function A9(t,e){fu.size||window.addEventListener("resize",jO),fu.set(t,e)}function I9(t){fu.delete(t),fu.size||window.removeEventListener("resize",jO)}function R9(t,e,n){const r=t.canvas,s=r&&xv(r);if(!s)return;const i=lO((a,l)=>{const u=s.clientWidth;n(a,l),u<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),A9(t,i),o}function pp(t,e,n){n&&n.disconnect(),e==="resize"&&I9(t)}function F9(t,e,n){const r=t.canvas,s=lO(i=>{t.ctx!==null&&n(M9(i,t))},t);return P9(r,e,s),s}class L9 extends CO{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(j9(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Kd])return!1;const r=n[Kd].initial;["height","width"].forEach(i=>{const o=r[i];Ye(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Kd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:D9,detach:O9,resize:R9}[n]||F9;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:pp,detach:pp,resize:pp}[n]||E9)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return TY(e,n,r,s)}isAttached(e){const n=e&&xv(e);return!!(n&&n.isConnected)}}function z9(t){return!yv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?C9:L9}var Cd;let Es=(Cd=class{constructor(){k(this,"x");k(this,"y");k(this,"active",!1);k(this,"options");k(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return lu(this.x)&&lu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}},k(Cd,"defaults",{}),k(Cd,"defaultRoutes"),Cd);function V9(t,e){const n=t.options.ticks,r=$9(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?U9(e):[],o=i.length,a=i[0],l=i[o-1],u=[];if(o>s)return W9(e,u,i,o/s),u;const d=B9(i,e,s);if(o>0){let f,h;const m=o>1?Math.round((l-a)/(o-1)):null;for(bd(e,u,d,Ye(m)?0:a-m,a),f=0,h=o-1;f<h;f++)bd(e,u,d,i[f],i[f+1]);return bd(e,u,d,l,Ye(m)?e.length:l+m),u}return bd(e,u,d),u}function $9(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function B9(t,e,n){const r=H9(t),s=e.length/n;if(!r)return Math.max(s,1);const i=CH(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function U9(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function W9(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function bd(t,e,n,r,s){const i=je(r,0),o=Math.min(je(s,t.length),t.length);let a=0,l,u,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function H9(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Y9=t=>t==="left"?"right":t==="right"?"left":t,Gw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Xw=(t,e)=>Math.min(e||t,t);function Zw(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function q9(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),u;if(!(n&&(r===1?u=Math.max(l-i,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(s-1))/2,l+=s<e?u:-u,l<i-a||l>o+a)))return l}function Q9(t,e){Xe(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function ql(t){return t.drawTicks?t.tickLength:0}function Jw(t,e){if(!t.display)return 0;const n=an(t.font,e),r=ir(t.padding);return(Rt(t.text)?t.text.length:1)*n.lineHeight+r.height}function K9(t,e){return qo(t,{scale:e,type:"scale"})}function G9(t,e,n){return qo(t,{tick:n,index:e,type:"tick"})}function X9(t,e,n){let r=lv(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Y9(r)),r}function Z9(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,h,m,v;const p=o-s,x=a-i;if(t.isHorizontal()){if(m=rn(r,i,a),$e(n)){const y=Object.keys(n)[0],g=n[y];v=d[y].getPixelForValue(g)+p-e}else n==="center"?v=(u.bottom+u.top)/2+p-e:v=Gw(t,n,e);h=a-i}else{if($e(n)){const y=Object.keys(n)[0],g=n[y];m=d[y].getPixelForValue(g)-x+e}else n==="center"?m=(u.left+u.right)/2-x+e:m=Gw(t,n,e);v=rn(r,o,s),f=n==="left"?-zt:zt}return{titleX:m,titleY:v,maxWidth:h,rotation:f}}class Tl extends Es{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=jr(e,Number.POSITIVE_INFINITY),n=jr(n,Number.NEGATIVE_INFINITY),r=jr(r,Number.POSITIVE_INFINITY),s=jr(s,Number.NEGATIVE_INFINITY),{min:jr(e,r),max:jr(n,s),minDefined:sr(e),maxDefined:sr(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:jr(n,jr(r,n)),max:jr(r,jr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iY(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Zw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=V9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),at(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=at(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Xw(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,u;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=on(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),f+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-ql(e.grid)-n.padding-Jw(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=EH(Math.min(Math.asin(on((d.highest.height+6)/a,-1,1)),Math.asin(on(l/u,-1,1))-Math.asin(on(h/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Jw(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ql(i)+l):(e.height=this.maxHeight,e.width=ql(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=r.padding*2,v=ps(this.labelRotation),p=Math.cos(v),x=Math.sin(v);if(a){const y=r.mirror?0:x*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=r.mirror?0:p*f.width+x*h.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(u,d,x,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?u?(h=s*e.width,m=r*n.height):(h=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,m=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ye(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Zw(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Xw(n,r));let u=0,d=0,f,h,m,v,p,x,y,g,w,_,S;for(f=0;f<n;f+=l){if(v=e[f].label,p=this._resolveTickFontOptions(f),s.font=x=p.string,y=i[x]=i[x]||{data:{},gc:[]},g=p.lineHeight,w=_=0,!Ye(v)&&!Rt(v))w=Cw(s,y.data,y.gc,w,v),_=g;else if(Rt(v))for(h=0,m=v.length;h<m;++h)S=v[h],!Ye(S)&&!Rt(S)&&(w=Cw(s,y.data,y.gc,w,S),_+=g);o.push(w),a.push(_),u=Math.max(w,u),d=Math.max(_,d)}Q9(i,n);const N=o.indexOf(u),C=a.indexOf(d),T=P=>({width:o[P]||0,height:a[P]||0});return{first:T(0),last:T(n-1),widest:T(N),highest:T(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return DH(this._alignToPixels?Yi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=G9(this.getContext(),e,r))}return this.$context||(this.$context=K9(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ps(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=ql(i),m=[],v=a.setContext(this.getContext()),p=v.display?v.width:0,x=p/2,y=function(z){return Yi(r,z,p)};let g,w,_,S,N,C,T,P,O,F,A,$;if(o==="top")g=y(this.bottom),C=this.bottom-h,P=g-x,F=y(e.top)+x,$=e.bottom;else if(o==="bottom")g=y(this.top),F=e.top,$=y(e.bottom)-x,C=g+x,P=this.top+h;else if(o==="left")g=y(this.right),N=this.right-h,T=g-x,O=y(e.left)+x,A=e.right;else if(o==="right")g=y(this.left),O=e.left,A=y(e.right)-x,N=g+x,T=this.left+h;else if(n==="x"){if(o==="center")g=y((e.top+e.bottom)/2+.5);else if($e(o)){const z=Object.keys(o)[0],B=o[z];g=y(this.chart.scales[z].getPixelForValue(B))}F=e.top,$=e.bottom,C=g+x,P=C+h}else if(n==="y"){if(o==="center")g=y((e.left+e.right)/2);else if($e(o)){const z=Object.keys(o)[0],B=o[z];g=y(this.chart.scales[z].getPixelForValue(B))}N=g-x,T=N-h,O=e.left,A=e.right}const V=je(s.ticks.maxTicksLimit,f),I=Math.max(1,Math.ceil(f/V));for(w=0;w<f;w+=I){const z=this.getContext(w),B=i.setContext(z),j=a.setContext(z),R=B.lineWidth,D=B.color,W=j.dash||[],G=j.dashOffset,ne=B.tickWidth,se=B.tickColor,ge=B.tickBorderDash||[],ve=B.tickBorderDashOffset;_=q9(this,w,l),_!==void 0&&(S=Yi(r,_,R),u?N=T=O=A=S:C=P=F=$=S,m.push({tx1:N,ty1:C,tx2:T,ty2:P,x1:O,y1:F,x2:A,y2:$,width:R,color:D,borderDash:W,borderDashOffset:G,tickWidth:ne,tickColor:se,tickBorderDash:ge,tickBorderDashOffset:ve}))}return this._ticksLength=f,this._borderValue=g,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=i,h=ql(r.grid),m=h+d,v=f?-d:m,p=-ps(this.labelRotation),x=[];let y,g,w,_,S,N,C,T,P,O,F,A,$="middle";if(s==="top")N=this.bottom-v,C=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+v,C=this._getXAxisLabelAlignment();else if(s==="left"){const I=this._getYAxisLabelAlignment(h);C=I.textAlign,S=I.x}else if(s==="right"){const I=this._getYAxisLabelAlignment(h);C=I.textAlign,S=I.x}else if(n==="x"){if(s==="center")N=(e.top+e.bottom)/2+m;else if($e(s)){const I=Object.keys(s)[0],z=s[I];N=this.chart.scales[I].getPixelForValue(z)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-m;else if($e(s)){const I=Object.keys(s)[0],z=s[I];S=this.chart.scales[I].getPixelForValue(z)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const V=this._getLabelSizes();for(y=0,g=a.length;y<g;++y){w=a[y],_=w.label;const I=i.setContext(this.getContext(y));T=this.getPixelForTick(y)+i.labelOffset,P=this._resolveTickFontOptions(y),O=P.lineHeight,F=Rt(_)?_.length:1;const z=F/2,B=I.color,j=I.textStrokeColor,R=I.textStrokeWidth;let D=C;o?(S=T,C==="inner"&&(y===g-1?D=this.options.reverse?"left":"right":y===0?D=this.options.reverse?"right":"left":D="center"),s==="top"?u==="near"||p!==0?A=-F*O+O/2:u==="center"?A=-V.highest.height/2-z*O+O:A=-V.highest.height+O/2:u==="near"||p!==0?A=O/2:u==="center"?A=V.highest.height/2-z*O:A=V.highest.height-F*O,f&&(A*=-1),p!==0&&!I.showLabelBackdrop&&(S+=O/2*Math.sin(p))):(N=T,A=(1-F)*O/2);let W;if(I.showLabelBackdrop){const G=ir(I.backdropPadding),ne=V.heights[y],se=V.widths[y];let ge=A-G.top,ve=0-G.left;switch($){case"middle":ge-=ne/2;break;case"bottom":ge-=ne;break}switch(C){case"center":ve-=se/2;break;case"right":ve-=se;break;case"inner":y===g-1?ve-=se:y>0&&(ve-=se/2);break}W={left:ve,top:ge,width:se+G.width,height:ne+G.height,color:I.backdropColor}}x.push({label:_,font:P,textOffset:A,options:{rotation:p,color:B,strokeColor:j,strokeWidth:R,textAlign:D,textBaseline:$,translation:[S,N],backdrop:W}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ps(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let u,d;return n==="left"?s?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-a,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+a,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Yi(e,this.left,o)-o/2,d=Yi(e,this.right,a)+a/2,f=h=l):(f=Yi(e,this.top,o)-o/2,h=Yi(e,this.bottom,a)+a/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&dv(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,u=o.label,d=o.textOffset;du(r,u,0,d,l,a)}s&&fv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=an(r.font),o=ir(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(l+=o.bottom,Rt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=Z9(this,l,n,a);du(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:h,textAlign:X9(a,n,s),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=je(e.grid&&e.grid.z,-1),s=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Tl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return an(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wd{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;t7(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,J9(e,o,r),this.override&&Tt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Tt[s]&&(delete Tt[s][r],this.override&&delete Vo[r])}}function J9(t,e,n){const r=ou(Object.create(null),[n?Tt.get(n):{},Tt.get(e),t.defaults]);Tt.set(e,r),t.defaultRoutes&&e7(e,t.defaultRoutes),t.descriptors&&Tt.describe(e,t.descriptors)}function e7(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Tt.route(i,s,l,a)})}function t7(t){return"id"in t&&"defaults"in t}class n7{constructor(){this.controllers=new wd(_o,"datasets",!0),this.elements=new wd(Es,"elements"),this.plugins=new wd(Object,"plugins"),this.scales=new wd(Tl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):Xe(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=ov(e);at(r["before"+s],[],r),n[e](r),at(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Mr=new n7;class r7{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(at(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=je(r.options&&r.options.plugins,{}),i=s7(r);return s===!1&&!n?[]:o7(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function s7(t){const e={},n=[],r=Object.keys(Mr.plugins.items);for(let i=0;i<r.length;i++)n.push(Mr.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function i7(t,e){return!e&&t===!1?null:t===!0?{}:t}function o7(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,u=i7(r[l],s);u!==null&&i.push({plugin:a,options:a7(t.config,{plugin:a,local:n[l]},u,o)})}return i}function a7(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sy(t,e){const n=Tt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function l7(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function c7(t,e){return t===e?"_index_":"_value_"}function e_(t){if(t==="x"||t==="y"||t==="r")return t}function u7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function iy(t,...e){if(e_(t))return t;for(const n of e){const r=n.axis||u7(n.position)||t.length>1&&e_(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function t_(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function d7(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return t_(t,"x",n[0])||t_(t,"y",n[0])}return{}}function f7(t,e){const n=Vo[t.type]||{scales:{}},r=e.scales||{},s=sy(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!$e(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=iy(o,a,d7(o,t),Tt.scales[a.type]),u=c7(l,s),d=n.scales||{};i[o]=bc(Object.create(null),[{axis:l},a,d[l],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||sy(a,e),d=(Vo[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=l7(f,l),m=o[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),bc(i[m],[{axis:h},r[m],d[f]])})}),Object.keys(i).forEach(o=>{const a=i[o];bc(a,[Tt.scales[a.type],Tt.scale])}),i}function PO(t){const e=t.options||(t.options={});e.plugins=je(e.plugins,{}),e.scales=f7(t,e)}function EO(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function h7(t){return t=t||{},t.data=EO(t.data),PO(t),t}const n_=new Map,MO=new Set;function _d(t,e){let n=n_.get(t);return n||(n=e(),n_.set(t,n),MO.add(n)),n}const Ql=(t,e,n)=>{const r=zo(e,n);r!==void 0&&t.add(r)};class m7{constructor(e){this._config=h7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=EO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return _d(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return _d(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return _d(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return _d(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(f=>Ql(l,e,f))),d.forEach(f=>Ql(l,s,f)),d.forEach(f=>Ql(l,Vo[i]||{},f)),d.forEach(f=>Ql(l,Tt,f)),d.forEach(f=>Ql(l,ny,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),MO.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Vo[n]||{},Tt.datasets[n]||{},{type:n},Tt,ny]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=r_(this._resolverCache,e,s);let l=o;if(g7(o,n)){i.$shared=!1,r=Ei(r)?r():r;const u=this.createResolver(e,r,a);l=ul(o,r,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,r=[""],s){const{resolver:i}=r_(this._resolverCache,e,r);return $e(n)?ul(i,n,void 0,s):i}}function r_(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:mv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const p7=t=>$e(t)&&Object.getOwnPropertyNames(t).some(e=>Ei(t[e]));function g7(t,e){const{isScriptable:n,isIndexable:r}=fO(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Ei(a)||p7(a))||o&&Rt(a))return!0}return!1}var y7="4.5.0";const x7=["top","bottom","left","right","chartArea"];function s_(t,e){return t==="top"||t==="bottom"||x7.indexOf(t)===-1&&e==="x"}function i_(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function o_(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),at(n&&n.onComplete,[t],e)}function v7(t){const e=t.chart,n=e.options.animation;at(n&&n.onProgress,[t],e)}function DO(t){return yv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Gd={},a_=t=>{const e=DO(t);return Object.values(Gd).filter(n=>n.canvas===e).pop()};function b7(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function w7(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Fs;let Au=(Fs=class{static register(...e){Mr.add(...e),l_()}static unregister(...e){Mr.remove(...e),l_()}constructor(e,n){const r=this.config=new m7(n),s=DO(e),i=a_(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||z9(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,d=l&&l.width;if(this.id=yH(),this.ctx=a,this.canvas=l,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new r7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RH(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Gd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ss.listen(this,"complete",o_),ss.listen(this,"progress",v7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return Ye(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ew(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tw(this.canvas,this.ctx),this}stop(){return ss.stop(this),this}resize(e,n){ss.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ew(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),at(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Xe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=iy(o,a),u=l==="r",d=l==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Xe(i,o=>{const a=o.options,l=a.id,u=iy(l,a),d=je(a.type,o.dtype);(a.position===void 0||s_(a.position,u)!==s_(o.dposition))&&(a.position=o.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=Mr.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,e)}),Xe(s,(o,a)=>{o||delete r[a]}),Xe(r,o=>{er.configure(this,o,o.options),er.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(i_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||sy(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Mr.getController(a),{datasetElementType:u,dataElementType:d}=Tt.datasets[a];Object.assign(l,{dataElementType:Mr.getElement(d),datasetElementType:u&&Mr.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||Xe(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(i_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Xe(this.scales,e=>{er.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!yw(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;b7(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!yw(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;er.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Xe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ei(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ss.has(this)?this.attached&&!ss.running(this)&&ss.start(this):(this.draw(),o_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=BY(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&dv(n,s),e.controller.draw(),s&&fv(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return uu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=x9.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=qo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);au(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ss.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Tw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Gd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};Xe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},s=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!Jf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=SH(e),u=w7(e,this._lastEvent,r,l);r&&(this._lastEvent=null,at(i.onHover,[e,a,this],this),l&&at(i.onClick,[e,a,this],this));const d=!Jf(a,s);return(d||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=u,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},k(Fs,"defaults",Tt),k(Fs,"instances",Gd),k(Fs,"overrides",Vo),k(Fs,"registry",Mr),k(Fs,"version",y7),k(Fs,"getChart",a_),Fs);function l_(){return Xe(Au.instances,t=>t._plugins.invalidate())}function _7(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,f=Math.min(u/o,hr(r-n));if(t.beginPath(),t.arc(s,i,o-u/2,r+f/2,n-f/2),a>0){const h=Math.min(u/a,hr(r-n));t.arc(s,i,a+u/2,n-h/2,r+h/2,!0)}else{const h=Math.min(u/2,o*hr(r-n));if(d==="round")t.arc(s,i,h,n-Ze/2,r+Ze/2,!0);else if(d==="bevel"){const m=2*h*h,v=-m*Math.cos(n+Ze/2)+s,p=-m*Math.sin(n+Ze/2)+i,x=m*Math.cos(r+Ze/2)+s,y=m*Math.sin(r+Ze/2)+i;t.lineTo(v,p),t.lineTo(x,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function S7(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let u=s/a;t.beginPath(),t.arc(i,o,a,r-u,n+u),l>s?(u=s/l,t.arc(i,o,l,n+u,r-u,!0)):t.arc(i,o,s,n+zt,r-zt),t.closePath(),t.clip()}function N7(t){return hv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function k7(t,e,n,r){const s=N7(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const u=(n-Math.min(i,l))*r/2;return on(l,0,Math.min(i,u))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:on(s.innerStart,0,o),innerEnd:on(s.innerEnd,0,o)}}function ta(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function ih(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+r+n-u,0),h=d>0?d+r+n+u:0;let m=0;const v=s-l;if(r){const I=d>0?d-r:0,z=f>0?f-r:0,B=(I+z)/2,j=B!==0?v*B/(B+r):v;m=(v-j)/2}const p=Math.max(.001,v*f-n/Ze)/f,x=(v-p)/2,y=l+x+m,g=s-x-m,{outerStart:w,outerEnd:_,innerStart:S,innerEnd:N}=k7(e,h,f,g-y),C=f-w,T=f-_,P=y+w/C,O=g-_/T,F=h+S,A=h+N,$=y+S/F,V=g-N/A;if(t.beginPath(),i){const I=(P+O)/2;if(t.arc(o,a,f,P,I),t.arc(o,a,f,I,O),_>0){const R=ta(T,O,o,a);t.arc(R.x,R.y,_,O,g+zt)}const z=ta(A,g,o,a);if(t.lineTo(z.x,z.y),N>0){const R=ta(A,V,o,a);t.arc(R.x,R.y,N,g+zt,V+Math.PI)}const B=(g-N/h+(y+S/h))/2;if(t.arc(o,a,h,g-N/h,B,!0),t.arc(o,a,h,B,y+S/h,!0),S>0){const R=ta(F,$,o,a);t.arc(R.x,R.y,S,$+Math.PI,y-zt)}const j=ta(C,y,o,a);if(t.lineTo(j.x,j.y),w>0){const R=ta(C,P,o,a);t.arc(R.x,R.y,w,y-zt,P)}}else{t.moveTo(o,a);const I=Math.cos(P)*f+o,z=Math.sin(P)*f+a;t.lineTo(I,z);const B=Math.cos(O)*f+o,j=Math.sin(O)*f+a;t.lineTo(B,j)}t.closePath()}function C7(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){ih(t,e,n,r,l,s);for(let u=0;u<i;++u)t.fill();isNaN(a)||(l=o+(a%vt||vt))}return ih(t,e,n,r,l,s),t.fill(),l}function T7(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=l,v=l.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=h,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(i){ih(t,e,n,r,p,s);for(let x=0;x<i;++x)t.stroke();isNaN(a)||(p=o+(a%vt||vt))}v&&S7(t,e,p),l.selfJoin&&p-o>=Ze&&m===0&&d!=="miter"&&_7(t,e,p),i||(ih(t,e,n,r,p,s),t.stroke())}class sc extends Es{constructor(n){super();k(this,"circumference");k(this,"endAngle");k(this,"fullCircles");k(this,"innerRadius");k(this,"outerRadius");k(this,"pixelMargin");k(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=sO(i,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,v=je(h,u-l),p=cu(o,l,u)&&l!==u,x=v>=vt||p,y=ai(a,d+m,f+m);return x&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+o)/2,h=(a+l+d+u)/2;return{x:r+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>vt?Math.floor(s/vt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Ze,s||0)),d=i*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,C7(n,this,d,o,a),T7(n,this,d,o,a),n.restore()}}k(sc,"id","arc"),k(sc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),k(sc,"defaultRoutes",{backgroundColor:"backgroundColor"}),k(sc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function OO(t,e,n=e){t.lineCap=je(n.borderCapStyle,e.borderCapStyle),t.setLineDash(je(n.borderDash,e.borderDash)),t.lineDashOffset=je(n.borderDashOffset,e.borderDashOffset),t.lineJoin=je(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=je(n.borderWidth,e.borderWidth),t.strokeStyle=je(n.borderColor,e.borderColor)}function j7(t,e,n){t.lineTo(n.x,n.y)}function P7(t){return t.stepped?GH:t.tension||t.cubicInterpolationMode==="monotone"?XH:j7}function AO(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),u=Math.min(i,a),d=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function E7(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:u}=AO(s,n,r),d=P7(i);let{move:f=!0,reverse:h}=r||{},m,v,p;for(m=0;m<=u;++m)v=s[(a+(h?u-m:m))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):d(t,p,v,h,i.stepped),p=v);return l&&(v=s[(a+(h?u:0))%o],d(t,p,v,h,i.stepped)),!!l}function M7(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=AO(s,n,r),{move:l=!0,reverse:u}=r||{};let d=0,f=0,h,m,v,p,x,y;const g=_=>(o+(u?a-_:_))%i,w=()=>{p!==x&&(t.lineTo(d,x),t.lineTo(d,p),t.lineTo(d,y))};for(l&&(m=s[g(0)],t.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=s[g(h)],m.skip)continue;const _=m.x,S=m.y,N=_|0;N===v?(S<p?p=S:S>x&&(x=S),d=(f*d+_)/++f):(w(),t.lineTo(_,S),v=N,f=0,p=x=S),y=S}w()}function oy(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?M7:E7}function D7(t){return t.stepped?PY:t.tension||t.cubicInterpolationMode==="monotone"?EY:Ji}function O7(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),OO(t,e.options),t.stroke(s)}function A7(t,e,n,r){const{segments:s,options:i}=e,o=oy(e);for(const a of s)OO(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const I7=typeof Path2D=="function";function R7(t,e,n,r){I7&&!e.options.segment?O7(t,e,n,r):A7(t,e,n,r)}class ya extends Es{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;wY(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=LY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=IY(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=D7(r);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],m=i[f],v=i[h];if(m===v){a.push(m);continue}const p=Math.abs((s-m[n])/(v[n]-m[n])),x=l(m,v,p,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return oy(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=oy(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),R7(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}k(ya,"id","line"),k(ya,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),k(ya,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),k(ya,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function c_(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Nc extends Es{constructor(n){super();k(this,"parsed");k(this,"skip");k(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return c_(this,n,"x",r)}inYRange(n,r){return c_(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!uu(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,ry(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}k(Nc,"id","point"),k(Nc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),k(Nc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function IO(t,e){const{x:n,y:r,base:s,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,d,f;return t.horizontal?(f=o/2,a=Math.min(n,s),l=Math.max(n,s),u=r-f,d=r+f):(f=i/2,a=n-f,l=n+f,u=Math.min(r,s),d=Math.max(r,s)),{left:a,top:u,right:l,bottom:d}}function li(t,e,n,r){return t?0:on(e,n,r)}function F7(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=dO(r);return{t:li(s.top,i.top,0,n),r:li(s.right,i.right,0,e),b:li(s.bottom,i.bottom,0,n),l:li(s.left,i.left,0,e)}}function L7(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=Ma(s),o=Math.min(e,n),a=t.borderSkipped,l=r||$e(s);return{topLeft:li(!l||a.top||a.left,i.topLeft,0,o),topRight:li(!l||a.top||a.right,i.topRight,0,o),bottomLeft:li(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:li(!l||a.bottom||a.right,i.bottomRight,0,o)}}function z7(t){const e=IO(t),n=e.right-e.left,r=e.bottom-e.top,s=F7(t,n/2,r/2),i=L7(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function gp(t,e,n,r){const s=e===null,i=n===null,a=t&&!(s&&i)&&IO(t,r);return a&&(s||ai(e,a.left,a.right))&&(i||ai(n,a.top,a.bottom))}function V7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function $7(t,e){t.rect(e.x,e.y,e.w,e.h)}function yp(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+o,radius:t.radius}}class Xd extends Es{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=z7(this),a=V7(o.radius)?nh:$7;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,yp(o,n,i)),e.clip(),a(e,yp(i,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,yp(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return gp(this,e,n,r)}inXRange(e,n){return gp(this,e,null,n)}inYRange(e,n){return gp(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}k(Xd,"id","bar"),k(Xd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),k(Xd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const u_=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},B7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class d_ extends Es{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=at(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=an(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=u_(r,i);let u,d;n.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,l)+10):(d=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+a;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((v,p)=>{const x=r+n/2+i.measureText(v.text).width;(p===0||u[u.length-1]+x+2*a>o)&&(f+=d,u[u.length-(p>0?0:1)]=0,m+=d,h++),l[p]={left:0,top:m,row:h,width:x,height:s},u[u.length-1]+=x+a}),f}_fitCols(e,n,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,h=0,m=0,v=0,p=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:g,itemHeight:w}=U7(r,n,i,x,s);y>0&&m+w+2*a>d&&(f+=h+a,u.push({width:h,height:m}),v+=h+a,p++,h=m=0),l[y]={left:v,top:m,col:p,width:g,height:w},h=Math.max(h,g),m+=w+a}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Da(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=rn(r,this.left+s,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=rn(r,this.left+s,this.right-this.lineWidths[a])),u.top+=this.top+e+s,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+s}else{let a=0,l=rn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=rn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;dv(e,this),this._draw(),fv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=Tt.color,l=Da(e.rtl,this.left,this.width),u=an(o.font),{padding:d}=o,f=u.size,h=f/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:v,boxHeight:p,itemHeight:x}=u_(o,f),y=function(N,C,T){if(isNaN(v)||v<=0||isNaN(p)||p<0)return;s.save();const P=je(T.lineWidth,1);if(s.fillStyle=je(T.fillStyle,a),s.lineCap=je(T.lineCap,"butt"),s.lineDashOffset=je(T.lineDashOffset,0),s.lineJoin=je(T.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=je(T.strokeStyle,a),s.setLineDash(je(T.lineDash,[])),o.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:P},F=l.xPlus(N,v/2),A=C+h;uO(s,O,F,A,o.pointStyleWidth&&v)}else{const O=C+Math.max((f-p)/2,0),F=l.leftForLtr(N,v),A=Ma(T.borderRadius);s.beginPath(),Object.values(A).some($=>$!==0)?nh(s,{x:F,y:O,w:v,h:p,radius:A}):s.rect(F,O,v,p),s.fill(),P!==0&&s.stroke()}s.restore()},g=function(N,C,T){du(s,T.text,N,C+x/2,u,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?m={x:rn(i,this.left+d,this.right-r[0]),y:this.top+d+_,line:0}:m={x:this.left+d,y:rn(i,this.top+_+d,this.bottom-n[0].height),line:0},yO(this.ctx,e.textDirection);const S=x+d;this.legendItems.forEach((N,C)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;const T=s.measureText(N.text).width,P=l.textAlign(N.textAlign||(N.textAlign=o.textAlign)),O=v+h+T;let F=m.x,A=m.y;l.setWidth(this.width),w?C>0&&F+O+d>this.right&&(A=m.y+=S,m.line++,F=m.x=rn(i,this.left+d,this.right-r[m.line])):C>0&&A+S>this.bottom&&(F=m.x=F+n[m.line].width+d,m.line++,A=m.y=rn(i,this.top+_+d,this.bottom-n[m.line].height));const $=l.x(F);if(y($,A,N),F=FH(P,F+v+h,w?F+O:this.right,e.rtl),g(l.x(F),A,N),w)m.x+=O+d;else if(typeof N.text!="string"){const V=u.lineHeight;m.y+=RO(N,V)+d}else m.y+=S}),xO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=an(n.font),s=ir(n.padding);if(!n.display)return;const i=Da(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=s.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=rn(e.align,f,this.right-h);else{const v=this.columnSizes.reduce((p,x)=>Math.max(p,x.height),0);d=u+rn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const m=rn(a,f,f+h);o.textAlign=i.textAlign(lv(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,du(o,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=an(e.font),r=ir(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(ai(e,this.left,this.right)&&ai(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],ai(e,s.left,s.left+s.width)&&ai(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Y7(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=B7(s,r);s&&!i&&at(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&at(n.onHover,[e,r,this],this)}else r&&at(n.onClick,[e,r,this],this)}}function U7(t,e,n,r,s){const i=W7(r,t,e,n),o=H7(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function W7(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+r.measureText(s).width}function H7(t,e,n){let r=t;return typeof e.text!="string"&&(r=RO(e,n)),r}function RO(t,e){const n=t.text?t.text.length:0;return e*n}function Y7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var FO={id:"legend",_element:d_,start(t,e,n){const r=t.legend=new d_({ctx:t.ctx,options:n,chart:t});er.configure(t,r,n),er.addBox(t,r)},stop(t){er.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;er.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=ir(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class LO extends Es{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Rt(r.text)?r.text.length:1;this._padding=ir(r.padding);const i=s*an(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,u,d,f;return this.isHorizontal()?(d=rn(a,r,i),f=n+e,u=i-r):(o.position==="left"?(d=r+e,f=rn(a,s,n),l=Ze*-.5):(d=i-e,f=rn(a,n,s),l=Ze*.5),u=s-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=an(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(i);du(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:lv(n.align),textBaseline:"middle",translation:[o,a]})}}function q7(t,e){const n=new LO({ctx:t.ctx,options:e,chart:t});er.configure(t,n,e),er.addBox(t,n),t.titleBlock=n}var zO={id:"title",_element:LO,start(t,e,n){q7(t,n)},stop(t){const e=t.titleBlock;er.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;er.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ic={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=ty(e,u);d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Pr(t,e){return e&&(Rt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function is(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Q7(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function f_(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=an(e.bodyFont),u=an(e.titleFont),d=an(e.footerFont),f=i.length,h=s.length,m=r.length,v=ir(e.padding);let p=v.height,x=0,y=r.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),y){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=m*_+(y-m)*l.lineHeight+(y-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let g=0;const w=function(_){x=Math.max(x,n.measureText(_).width+g)};return n.save(),n.font=u.string,Xe(t.title,w),n.font=l.string,Xe(t.beforeBody.concat(t.afterBody),w),g=e.displayColors?o+2+e.boxPadding:0,Xe(r,_=>{Xe(_.before,w),Xe(_.lines,w),Xe(_.after,w)}),g=0,n.font=d.string,Xe(t.footer,w),n.restore(),x+=v.width,{width:x,height:p}}function K7(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function G7(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function X7(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=s<=(a+l)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),G7(u,t,e,n)&&(u="center"),u}function h_(t,e,n){const r=n.yAlign||e.yAlign||K7(t,n);return{xAlign:n.xAlign||e.xAlign||X7(t,e,n,r),yAlign:r}}function Z7(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function J7(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function m_(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Ma(o);let v=Z7(e,a);const p=J7(e,l,u);return l==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(d,h)+s:a==="right"&&(v+=Math.max(f,m)+s),{x:on(v,0,r.width-e.width),y:on(p,0,r.height-e.height)}}function Sd(t,e,n){const r=ir(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function p_(t){return Pr([],is(t))}function eq(t,e,n){return qo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function g_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const VO={beforeTitle:ts,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:ts,beforeBody:ts,beforeLabel:ts,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ye(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ts,afterBody:ts,beforeFooter:ts,footer:ts,afterFooter:ts};function _n(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?VO[e].call(n,r):s}class ay extends Es{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new bO(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=eq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=_n(r,"beforeTitle",this,e),i=_n(r,"title",this,e),o=_n(r,"afterTitle",this,e);let a=[];return a=Pr(a,is(s)),a=Pr(a,is(i)),a=Pr(a,is(o)),a}getBeforeBody(e,n){return p_(_n(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Xe(e,i=>{const o={before:[],lines:[],after:[]},a=g_(r,i);Pr(o.before,is(_n(a,"beforeLabel",this,i))),Pr(o.lines,_n(a,"label",this,i)),Pr(o.after,is(_n(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return p_(_n(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=_n(r,"beforeFooter",this,e),i=_n(r,"footer",this,e),o=_n(r,"afterFooter",this,e);let a=[];return a=Pr(a,is(s)),a=Pr(a,is(i)),a=Pr(a,is(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(Q7(this.chart,n[l]));return e.filter&&(a=a.filter((d,f,h)=>e.filter(d,f,h,r))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,r))),Xe(a,d=>{const f=g_(e.callbacks,d);s.push(_n(f,"labelColor",this,d)),i.push(_n(f,"labelPointStyle",this,d)),o.push(_n(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=ic[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=f_(this,r),u=Object.assign({},a,l),d=h_(this.chart,r,u),f=m_(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Ma(a),{x:h,y:m}=e,{width:v,height:p}=n;let x,y,g,w,_,S;return i==="center"?(_=m+p/2,s==="left"?(x=h,y=x-o,w=_+o,S=_-o):(x=h+v,y=x+o,w=_-o,S=_+o),g=x):(s==="left"?y=h+Math.max(l,d)+o:s==="right"?y=h+v-Math.max(u,f)-o:y=this.caretX,i==="top"?(w=m,_=w-o,x=y-o,g=y+o):(w=m+p,_=w+o,x=y+o,g=y-o),S=w),{x1:x,x2:y,x3:g,y1:w,y2:_,y3:S}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const u=Da(r.rtl,this.x,this.width);for(e.x=Sd(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=an(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=an(i.bodyFont),f=Sd(this,"left",i),h=s.x(f),m=l<d.lineHeight?(d.lineHeight-l)/2:0,v=n.y+m;if(i.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=s.leftForLtr(h,u)+u/2,y=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ry(e,p,x,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ry(e,p,x,y)}else{e.lineWidth=$e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=s.leftForLtr(h,u),x=s.leftForLtr(s.xPlus(h,1),u-2),y=Ma(o.borderRadius);Object.values(y).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,nh(e,{x:p,y:v,w:u,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),nh(e,{x,y:v+1,w:u-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,v,u,l),e.strokeRect(p,v,u,l),e.fillStyle=o.backgroundColor,e.fillRect(x,v+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:d}=r,f=an(r.bodyFont);let h=f.lineHeight,m=0;const v=Da(r.rtl,this.x,this.width),p=function(T){n.fillText(T,v.x(e.x+m),e.y+h/2),e.y+=h+i},x=v.textAlign(o);let y,g,w,_,S,N,C;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Sd(this,x,r),n.fillStyle=r.bodyColor,Xe(this.beforeBody,p),m=a&&x!=="right"?o==="center"?u/2+d:u+2+d:0,_=0,N=s.length;_<N;++_){for(y=s[_],g=this.labelTextColors[_],n.fillStyle=g,Xe(y.before,p),w=y.lines,a&&w.length&&(this._drawColorBox(n,e,_,v,r),h=Math.max(f.lineHeight,l)),S=0,C=w.length;S<C;++S)p(w[S]),h=f.lineHeight;Xe(y.after,p)}m=0,h=f.lineHeight,Xe(this.afterBody,p),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Da(r.rtl,this.x,this.width);for(e.x=Sd(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=an(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:v}=Ma(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+u-h,l),n.quadraticCurveTo(a+u,l,a+u,l+h),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+u,l+d-v),n.quadraticCurveTo(a+u,l+d,a+u-v,l+d),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+m,l+d),n.quadraticCurveTo(a,l+d,a,l+d-m),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=ic[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=f_(this,e),l=Object.assign({},o,this._size),u=h_(n,e,l),d=m_(e,l,u,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=ir(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),yO(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),xO(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),i=!Jf(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!Jf(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=ic[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}k(ay,"positioners",ic);var $O={id:"tooltip",_element:ay,positioners:ic,afterInit(t,e,n){n&&(t.tooltip=new ay({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:VO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const tq=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function nq(t,e,n,r){const s=t.indexOf(e);if(s===-1)return tq(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const rq=(t,e)=>t===null?null:on(Math.round(t),0,e);function y_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class oh extends Tl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ye(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:nq(r,e,je(n,e),this._addedLabels),rq(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return y_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}k(oh,"id","category"),k(oh,"defaults",{ticks:{callback:y_}});function sq(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,m=i||1,v=d-1,{min:p,max:x}=e,y=!Ye(o),g=!Ye(a),w=!Ye(u),_=(x-p)/(f+1);let S=vw((x-p)/v/m)*m,N,C,T,P;if(S<1e-14&&!y&&!g)return[{value:p},{value:x}];P=Math.ceil(x/S)-Math.floor(p/S),P>v&&(S=vw(P*S/v/m)*m),Ye(l)||(N=Math.pow(10,l),S=Math.ceil(S*N)/N),s==="ticks"?(C=Math.floor(p/S)*S,T=Math.ceil(x/S)*S):(C=p,T=x),y&&g&&i&&jH((a-o)/i,S/1e3)?(P=Math.round(Math.min((a-o)/S,d)),S=(a-o)/P,C=o,T=a):w?(C=y?o:C,T=g?a:T,P=u-1,S=(T-C)/P):(P=(T-C)/S,wc(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(bw(S),bw(C));N=Math.pow(10,Ye(l)?O:l),C=Math.round(C*N)/N,T=Math.round(T*N)/N;let F=0;for(y&&(h&&C!==o?(n.push({value:o}),C<o&&F++,wc(Math.round((C+F*S)*N)/N,o,x_(o,_,t))&&F++):C<o&&F++);F<P;++F){const A=Math.round((C+F*S)*N)/N;if(g&&A>a)break;n.push({value:A})}return g&&h&&T!==a?n.length&&wc(n[n.length-1].value,a,x_(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!g||T===a)&&n.push({value:T}),n}function x_(t,e,{horizontal:n,minRotation:r}){const s=ps(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class iq extends Tl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=qr(s),u=qr(i);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=sq(s,i);return e.bounds==="ticks"&&PH(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return uv(e,this.chart.options.locale,this.options.ticks.format)}}class ah extends iq{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=sr(e)?e:0,this.max=sr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ps(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}k(ah,"id","linear"),k(ah,"defaults",{ticks:{callback:cO.formatters.numeric}});const Zh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tn=Object.keys(Zh);function v_(t,e){return t-e}function b_(t,e){if(Ye(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),sr(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(lu(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function w_(t,e,n,r){const s=Tn.length;for(let i=Tn.indexOf(t);i<s-1;++i){const o=Zh[Tn[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Tn[i]}return Tn[s-1]}function oq(t,e,n,r,s){for(let i=Tn.length-1;i>=Tn.indexOf(n);i--){const o=Tn[i];if(Zh[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Tn[n?Tn.indexOf(n):0]}function aq(t){for(let e=Tn.indexOf(t)+1,n=Tn.length;e<n;++e)if(Zh[Tn[e]].common)return Tn[e]}function __(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=av(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function lq(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function S_(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:lq(t,r,s,n)}class fl extends Tl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new SO._date(e.adapters.date);s.init(n),bc(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:b_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=sr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=sr(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=AH(s,i,o);return this._unit=n.unit||(r.autoSkip?w_(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):oq(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:aq(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),S_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=on(n,0,o),r=on(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||w_(i.minUnit,n,r,this._getLabelCapacity(n)),a=je(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,u=lu(l)||l===!0,d={};let f=n,h,m;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<r;h=+e.add(h,a,o),m++)__(d,h,v);return(h===r||s.bounds==="ticks"||m===1)&&__(d,h,v),Object.keys(d).sort(v_).map(p=>+p)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return at(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&a[l],f=u&&a[u],h=r[n],m=u&&f&&h&&h.major;return this._adapter.format(e,s||(m?f:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ps(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,S_(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(b_(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oO(e.sort(v_))}}k(fl,"id","time"),k(fl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nd(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=ao(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=ao(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const u=o-i;return u?a+(l-a)*(e-i)/u:a}class N_ extends fl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Nd(n,this.min),this._tableRange=Nd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&s.push(u);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],u=s[o],Math.round((d+l)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Nd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Nd(this._table,r*this._tableRange+this._minPos,!0)}}k(N_,"id","timeseries"),k(N_,"defaults",fl.defaults);const BO="label";function k_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function cq(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function UO(t,e){t.labels=e}function WO(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BO;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function uq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BO;const n={labels:[],datasets:[]};return UO(n,t.labels),WO(n,t.datasets,e),n}function dq(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:u=[],fallbackContent:d,updateMode:f,...h}=t,m=b.useRef(null),v=b.useRef(null),p=()=>{m.current&&(v.current=new Au(m.current,{type:o,data:uq(a,i),options:l&&{...l},plugins:u}),k_(e,v.current))},x=()=>{k_(e,null),v.current&&(v.current.destroy(),v.current=null)};return b.useEffect(()=>{!s&&v.current&&l&&cq(v.current,l)},[s,l]),b.useEffect(()=>{!s&&v.current&&UO(v.current.config.data,a.labels)},[s,a.labels]),b.useEffect(()=>{!s&&v.current&&a.datasets&&WO(v.current.config.data,a.datasets,i)},[s,a.datasets]),b.useEffect(()=>{v.current&&(s?(x(),setTimeout(p)):v.current.update(f))},[s,l,a.labels,a.datasets,f]),b.useEffect(()=>{v.current&&(x(),setTimeout(p))},[o]),b.useEffect(()=>(p(),()=>x()),[]),ye.createElement("canvas",{ref:m,role:"img",height:n,width:r,...h},d)}const fq=b.forwardRef(dq);function bv(t,e){return Au.register(e),b.forwardRef((n,r)=>ye.createElement(fq,{...n,ref:r,type:t}))}const HO=bv("line",Qd),hq=bv("bar",qd),xp=bv("doughnut",nc);/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const mq={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};SO._date.override({_id:"date-fns",formats:function(){return mq},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=de(t):n==="string"&&(typeof e=="string"?t=yU(t,e,new Date,this.options):t=Uh(t,this.options)),_D(t)?t.getTime():null},format:function(t,e){return Ee(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return $h(t,e);case"second":return cB(t,e);case"minute":return aB(t,e);case"hour":return sB(t,e);case"day":return Nl(t,e);case"week":return uB(t,e);case"month":return Pu(t,e);case"quarter":return lB(t,e);case"year":return dB(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return Bh(t,e);case"second":return bB(t,e);case"minute":return yB(t,e);case"hour":return gB(t,e);case"day":return SD(t,e);case"week":return wB(t,e);case"month":return kD(t,e);case"quarter":return vB(t,e);case"year":return _B(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return wU(t);case"minute":return NB(t);case"hour":return vU(t);case"day":return ll(t);case"week":return Xr(t);case"isoWeek":return Xr(t,{weekStartsOn:+n});case"month":return CD(t);case"quarter":return kB(t);case"year":return TD(t);default:return t}},endOf:function(t,e){switch(e){case"second":return MB(t);case"minute":return PB(t);case"hour":return TB(t);case"day":return ND(t);case"week":return jB(t);case"month":return Qx(t);case"quarter":return EB(t);case"year":return CB(t);default:return t}}});Au.register(oh,ah,Nc,ya,Xd,zO,$O,FO,fl);const C_=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}],T_=(t,e)=>{const n=t/e*100;if(n<=0)return"#ef4444";if(n>=100)return"#22c55e";if(n<=50){const r=n/50,s=239,i=Math.round(68+166*r);return`rgb(${s}, ${i}, 68)`}else{const r=(n-50)/50,s=Math.round(234-200*r),i=Math.round(234-37*r),o=Math.round(68+26*r);return`rgb(${s}, ${i}, ${o})`}};function wv({title:t,data:e,lineColor:n="#3b82f6",backgroundColor:r="rgba(59, 130, 246, 0.1)",yAxisLabel:s="Y Axis",chartType:i="line",goalValue:o=8}){const[a,l]=b.useState("7d"),u=y=>{var g;return((g=C_.find(w=>w.value===y))==null?void 0:g.days)||7},f=(()=>{const y=u(a),g=new Date,w=cl(g,y-1);return e.filter(_=>{const S=new Date(_.date);return S>=ll(w)&&S<=g})})(),m=(()=>{const y=u(a),g=[],w=new Date;for(let _=y-1;_>=0;_--)g.push(Ee(cl(w,_),"yyyy-MM-dd"));return g})(),v=m.map(y=>{const g=f.find(w=>Ee(new Date(w.date),"yyyy-MM-dd")===y);return g?g.value:null}),p={labels:m,datasets:[{label:t,data:v,...i==="bar"?{backgroundColor:v.map(y=>y!==null?T_(y,o):"transparent"),borderColor:v.map(y=>y!==null?T_(y,o):"transparent"),borderWidth:1,barThickness:20,maxBarThickness:30}:{borderColor:n,backgroundColor:r,borderWidth:2,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,spanGaps:!1}}]},x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:n,borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:s,color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:t}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:C_.map(y=>c.jsx(Q,{variant:a===y.value?"default":"ghost",size:"sm",onClick:()=>l(y.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${a===y.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:y.label},y.value))})]})}),c.jsx(ue,{className:"pt-0",children:c.jsx("div",{className:"h-64 w-full",children:i==="bar"?c.jsx(hq,{data:p,options:x}):c.jsx(HO,{data:p,options:x})})})]})}function pq(){const[,t]=wt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Progress",showBackButton:!1,onBack:e,showHomeButton:!0}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(wv,{title:"Progress Tracking",data:[{date:"2024-01-01",value:75},{date:"2024-01-02",value:78},{date:"2024-01-03",value:82},{date:"2024-01-04",value:80},{date:"2024-01-05",value:85},{date:"2024-01-06",value:88},{date:"2024-01-07",value:90}],lineColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",yAxisLabel:"Progress Score"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-trophy text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Achievements"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Streak"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx($i,{})]})})]})}function gq(){const[,t]=wt(),{data:e=[],isLoading:n}=Dt({queryKey:["/api/goals"],queryFn:()=>Ae("GET","/api/goals")}),r=()=>{window.history.length>1?window.history.back():t("/")},s=a=>a.targetValueSecondary&&a.targetUnitSecondary?`${a.targetValuePrimary} ${a.targetUnitPrimary} ${a.targetValueSecondary} ${a.targetUnitSecondary}`:`${a.targetValuePrimary} ${a.targetUnitPrimary}`,i=a=>{switch(a){case"sleep":return"fa-bed";case"nutrition":return"fa-utensils";case"daily_move":return"fa-running";default:return"fa-bullseye"}},o=a=>{switch(a){case"sleep":return"text-purple-500";case"nutrition":return"text-green-500";case"daily_move":return"text-blue-500";default:return"text-gray-500"}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Goals",showBackButton:!1,onBack:r,showHomeButton:!0}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(ue,{className:"p-4",children:c.jsxs(Q,{onClick:()=>t("/add-goal"),className:"w-full bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg h-14",children:[c.jsx("i",{className:"fas fa-plus mr-3 text-lg"}),c.jsx("span",{className:"text-lg font-medium",children:"Add New Goal"})]})})}),n?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsxs(ue,{className:"p-8 text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading goals..."})]})}):e.length>0?c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-xl font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-bullseye text-green-500 mr-3"}),"Your Goals (",e.length,")"]})}),c.jsx(ue,{className:"space-y-4",children:e.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center",children:c.jsx("i",{className:`fas ${i(a.goalType)} ${o(a.goalType)} text-xl`})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:a.goalName}),c.jsx("p",{className:"text-sm text-gray-600 capitalize",children:a.goalType.replace("_"," ")})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:s(a)}),c.jsx("p",{className:"text-sm text-gray-500",children:"Target"})]})]},a.id))})]}):c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(ue,{children:c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-bullseye text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Goals Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first goal to start tracking your progress and staying motivated."}),c.jsxs(Q,{onClick:()=>t("/add-goal"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Your First Goal"]})]})})})}),c.jsx($i,{})]})})]})}const kd=[{id:"sleep",label:"Sleep",icon:"fa-bed",color:"text-purple-500",description:"Track your daily sleep duration",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"8",secondary:"30"}},{id:"nutrition",label:"Nutrition",icon:"fa-utensils",color:"text-green-500",description:"Track your daily calorie intake",primaryUnit:"calories",secondaryUnit:null,placeholder:{primary:"2000",secondary:null}},{id:"daily_move",label:"Daily Move",icon:"fa-running",color:"text-blue-500",description:"Track your daily movement/exercise time",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"1",secondary:"30"}}],yq=js({goalType:we().min(1,"Please select a goal type"),goalName:we().min(1,"Goal name is required"),targetValuePrimary:we().min(1,"Target value is required"),targetValueSecondary:we().optional(),customGoalType:we().optional()});function xq(){const[,t]=wt(),[e,n]=b.useState(""),[r,s]=b.useState(!1),i=Dn(),{toast:o}=Bt(),a=wl({resolver:_l(yq),defaultValues:{goalType:"",goalName:"",targetValuePrimary:"",targetValueSecondary:"",customGoalType:""}}),l=Mt({mutationFn:async m=>Ae("POST","/api/goals",m),onSuccess:()=>{o({title:"Success",description:"Goal created successfully!"}),i.invalidateQueries({queryKey:["/api/goals"]}),t("/goals")},onError:()=>{o({title:"Error",description:"Failed to create goal. Please try again.",variant:"destructive"})}}),u=()=>{window.history.length>1?window.history.back():t("/goals")},d=m=>{if(m==="custom")s(!0),n("custom"),a.setValue("goalType","custom"),a.setValue("goalName","");else{s(!1),n(m),a.setValue("goalType",m);const v=kd.find(p=>p.id===m);v&&(a.setValue("goalName",v.label+" Goal"),a.setValue("targetValuePrimary",v.placeholder.primary),a.setValue("targetValueSecondary",v.placeholder.secondary||""))}},f=m=>{const v=kd.find(y=>y.id===m.goalType),x={goalType:r?m.customGoalType||"custom":m.goalType,goalName:m.goalName,targetValuePrimary:parseFloat(m.targetValuePrimary),targetUnitPrimary:(v==null?void 0:v.primaryUnit)||"units",targetValueSecondary:m.targetValueSecondary?parseFloat(m.targetValueSecondary):null,targetUnitSecondary:(v==null?void 0:v.secondaryUnit)||null};l.mutate(x)},h=kd.find(m=>m.id===e);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Add Goal",showBackButton:!0,onBack:u}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[!e&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Choose Goal Type"})}),c.jsxs(ue,{className:"space-y-4",children:[c.jsx("div",{className:"grid gap-3",children:kd.map(m=>c.jsx(Q,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d(m.id),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:`fas ${m.icon} ${m.color} text-xl`}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:m.label}),c.jsx("div",{className:"text-sm text-gray-500",children:m.description})]})]})},m.id))}),c.jsx("div",{className:"border-t pt-4 mt-4",children:c.jsx(Q,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d("custom"),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:"fas fa-plus text-gray-500 text-xl"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Custom Goal"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Create your own goal type"})]})]})})})]})]}),e&&c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsxs($t,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[h&&c.jsx("i",{className:`fas ${h.icon} ${h.color} mr-3`}),r?"Custom Goal":h==null?void 0:h.label,c.jsx(Q,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>{n(""),s(!1),a.reset()},children:c.jsx("i",{className:"fas fa-arrow-left"})})]})}),c.jsx(ue,{children:c.jsx(VD,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(f),className:"space-y-6",children:[r&&c.jsx(io,{control:a.control,name:"customGoalType",render:({field:m})=>c.jsxs(ni,{children:[c.jsx(ri,{children:"Goal Category"}),c.jsx(si,{children:c.jsx(Ce,{placeholder:"e.g., water_intake, steps, meditation",...m})}),c.jsx(ii,{})]})}),c.jsx(io,{control:a.control,name:"goalName",render:({field:m})=>c.jsxs(ni,{children:[c.jsx(ri,{children:"Goal Name"}),c.jsx(si,{children:c.jsx(Ce,{placeholder:"Enter a name for this goal",...m})}),c.jsx(ii,{})]})}),c.jsx(io,{control:a.control,name:"targetValuePrimary",render:({field:m})=>c.jsxs(ni,{children:[c.jsxs(ri,{children:["Target ",(h==null?void 0:h.primaryUnit)||"Value",(h==null?void 0:h.primaryUnit)&&c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.primaryUnit,")"]})]}),c.jsx(si,{children:c.jsx(Ce,{type:"number",step:"0.1",placeholder:(h==null?void 0:h.placeholder.primary)||"0",...m})}),c.jsx(ii,{})]})}),(h==null?void 0:h.secondaryUnit)&&c.jsx(io,{control:a.control,name:"targetValueSecondary",render:({field:m})=>c.jsxs(ni,{children:[c.jsxs(ri,{children:["Additional ",h.secondaryUnit,c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.secondaryUnit,") - optional"]})]}),c.jsx(si,{children:c.jsx(Ce,{type:"number",step:"1",min:"0",max:"59",placeholder:(h==null?void 0:h.placeholder.secondary)||"0",...m})}),c.jsx(ii,{})]})}),c.jsx(Q,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating Goal..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Goal"]})})]})})})]})]})})]})}function vq(){const[,t]=wt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Workouts",showBackButton:!1,showHomeButton:!0,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(wv,{title:"Workout Intensity",data:[{date:"2024-01-01",value:6},{date:"2024-01-02",value:8},{date:"2024-01-03",value:7},{date:"2024-01-04",value:9},{date:"2024-01-05",value:6},{date:"2024-01-06",value:8},{date:"2024-01-07",value:7}],lineColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",yAxisLabel:"Intensity (1-10)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fist-raised text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Strength"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-heartbeat text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Cardio"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-leaf text-green-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Flexibility"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-stopwatch text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"HIIT"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx($i,{})]})})]})}Au.register(oh,ah,Nc,ya,zO,$O,FO,fl,sc);const j_=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}];function bq(){const[t,e]=b.useState("7d"),{data:n=[],error:r,isLoading:s}=Dt({queryKey:["/api/macros"]}),{data:i,error:o,isLoading:a}=Dt({queryKey:["/api/macro-targets"]});console.log("NutritionChart Debug:",{allMacros:n,macroTargets:i,macrosError:r,targetsError:o,macrosLoading:s,targetsLoading:a}),n.length>0&&console.log("Sample macro dates:",n.slice(0,3).map(P=>({id:P.id,date:P.date,dateType:typeof P.date})));const l=P=>{var O;return((O=j_.find(F=>F.value===P))==null?void 0:O.days)||7},d=(()=>{const P=l(t),O=new Date,F=cl(O,P-1),A={};return n.filter($=>{try{if(!$.date)return console.warn("Macro entry missing date:",$),!1;const V=new Date($.date);return isNaN(V.getTime())?(console.warn("Invalid date in macro entry:",$.date,$),!1):V>=F&&V<=O}catch(V){return console.error("Error processing macro date:",$.date,V),!1}}).forEach($=>{try{const V=new Date($.date),I=Ee(V,"yyyy-MM-dd");A[I]||(A[I]=[]),A[I].push($)}catch(V){console.error("Error formatting macro date:",$.date,V)}}),A})();let f=[];try{f=BU(d,l(t))}catch(P){console.error("Error generating calorie data:",P),f=[]}const h=Ee(new Date,"yyyy-MM-dd"),m=d[h]||[],v=WD(m),p={proteinTarget:150,fatsTarget:80,carbsTarget:200},x=i&&typeof i.proteinTarget=="number"&&typeof i.fatsTarget=="number"&&typeof i.carbsTarget=="number"&&i.proteinTarget>0&&i.fatsTarget>0&&i.carbsTarget>0,y=x?i:p;console.log("Macro targets debug:",{macroTargets:i,hasValidTargets:x,effectiveTargets:y});let g={protein:0,fats:0,carbs:0};try{const P=UU(v,y);g={protein:isFinite(P.protein)?Math.max(0,P.protein):0,fats:isFinite(P.fats)?Math.max(0,P.fats):0,carbs:isFinite(P.carbs)?Math.max(0,P.carbs):0},console.log("Macro percentages debug:",{todaySummary:v,effectiveTargets:y,rawPercentages:P,macroPercentages:g})}catch(P){console.error("Error calculating macro percentages:",P)}const w={datasets:[{label:"Daily Calories",data:f.map(P=>({x:P.date,y:isFinite(P.value)?P.value:null})),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:1,fill:!1,tension:.4,pointRadius:3,pointHoverRadius:5,spanGaps:!1}]},_={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"#10b981",borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},min:Ee(cl(new Date,l(t)-1),"yyyy-MM-dd"),max:Ee(new Date,"yyyy-MM-dd"),grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280",display:!0,font:{size:11}},border:{display:!0,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:"Calories",color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},S=(P,O,F)=>({data:{datasets:[{data:[P,Math.max(0,100-P)],backgroundColor:[O,"#f3f4f6"],borderWidth:0,cutout:"70%"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}),N=S(g.protein,"#ef4444"),C=S(g.fats,"#eab308"),T=S(g.carbs,"#22c55e");return s||a?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(ue,{className:"pt-6",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-600",children:"Loading nutrition data..."})})})}):r||o?c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(ue,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-red-600",children:"Error loading nutrition data"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(r==null?void 0:r.message)||(o==null?void 0:o.message)}),c.jsxs("details",{className:"mt-4 text-left",children:[c.jsx("summary",{className:"text-xs text-gray-400 cursor-pointer",children:"Debug Info"}),c.jsx("pre",{className:"text-xs text-gray-400 mt-2 overflow-auto max-h-32",children:JSON.stringify({macrosError:r==null?void 0:r.message,targetsError:o==null?void 0:o.message,macrosCount:(n==null?void 0:n.length)||0,sampleMacro:(n==null?void 0:n[0])||null},null,2)})]})]})})}):c.jsxs(c.Fragment,{children:[c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Daily Calories"}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:j_.map(P=>c.jsx(Q,{variant:t===P.value?"default":"ghost",size:"sm",onClick:()=>e(P.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${t===P.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:P.label},P.value))})]})}),c.jsxs(ue,{className:"pt-0 space-y-6",children:[c.jsx("div",{className:"h-64 w-full",children:c.jsx(HO,{data:w,options:_})}),c.jsxs("div",{className:"text-center pt-4 border-t border-gray-200",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Today's Total"}),c.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[Math.round(v.totalCalories)||0," calories"]}),!x&&c.jsx("p",{className:"text-xs text-amber-600 mt-2",children:"Using default macro targets. Set your personal targets in settings for better tracking."})]})]})]}),c.jsxs("div",{className:"flex justify-center gap-8 px-4 mt-6",children:[c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(xp,{data:N.data,options:N.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.protein)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Protein"}),c.jsxs("p",{className:"text-xs text-red-500 font-medium",children:[Math.round(v.protein)||0,"g / ",y.proteinTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(xp,{data:C.data,options:C.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.fats)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Fats"}),c.jsxs("p",{className:"text-xs text-yellow-500 font-medium",children:[Math.round(v.fats)||0,"g / ",y.fatsTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(xp,{data:T.data,options:T.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.carbs)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Carbs"}),c.jsxs("p",{className:"text-xs text-green-500 font-medium",children:[Math.round(v.carbs)||0,"g / ",y.carbsTarget,"g"]})]})]})]})}function wq(){const[,t]=wt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Nutrition",showBackButton:!1,showHomeButton:!0,onBack:e}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(bq,{}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Calories"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-drumstick-bite text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Protein"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-bread-slice text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Carbs"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-tint text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Hydration"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx($i,{})]})})]})}function _q(){const[,t]=wt(),{data:e=[],isLoading:n,error:r}=Dt({queryKey:["/api/activities/sleep/chart"],queryFn:()=>Ae("GET","/api/activities/sleep/chart")}),s=ye.useMemo(()=>{var f;if(!e.length)return{avgSleep:0,lastNight:0,weekTotal:0,daysWithData:0};const o=e.map(h=>h.value),a=o.length>0?o.reduce((h,m)=>h+m,0)/o.length:0,l=((f=e[e.length-1])==null?void 0:f.value)||0,u=o.reduce((h,m)=>h+m,0),d=o.length;return{avgSleep:a,lastNight:l,weekTotal:u,daysWithData:d}},[e]),i=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Sleep",showBackButton:!1,showHomeButton:!0,onBack:i}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(wv,{title:"Sleep Hours",data:n?[]:e,chartType:"bar",goalValue:8,yAxisLabel:"Hours"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-clock text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Last Night"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":s.lastNight>0?`${s.lastNight.toFixed(1)}h`:"--"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-chart-line text-green-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Weekly Avg"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":s.avgSleep>0?`${s.avgSleep.toFixed(1)}h`:"--"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-calendar-week text-purple-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Week Total"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":s.weekTotal>0?`${s.weekTotal.toFixed(1)}h`:"--"})]})}),c.jsx(ce,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ue,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-target text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Sleep Goal"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"8.0h"})]})})]}),c.jsx($i,{})]})})]})}function Sq(){const[t,e]=b.useState(""),[n,r]=b.useState(!1),{toast:s}=Bt(),[,i]=wt(),o=async()=>{if(!t){s({title:"Missing Email",description:"Please enter your email address.",variant:"destructive"});return}r(!0);try{await Ae("POST","/api/auth/request-password-reset",{email:t}),s({title:"Reset Link Sent",description:"If your email is registered, a reset link was sent."}),setTimeout(()=>i("/"),2e3)}catch(a){s({title:"Reset Failed",description:(a==null?void 0:a.message)||"Something went wrong.",variant:"destructive"})}finally{r(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-envelope-open-text text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Forgot Password?"}),c.jsx("p",{className:"text-gray-600",children:"Well email you a link to reset it."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"forgot-email",children:"Email Address"}),c.jsx(Ce,{id:"forgot-email",type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"your@email.com",autoComplete:"email",className:"mt-2"})]}),c.jsx(Q,{onClick:o,disabled:n,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:n?"Sending...":"Send Reset Link"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remembered your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go back to login"})]})]})]})})})}function Nq(){const{toast:t}=Bt(),[,e]=wt(),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),l=async()=>{if(!n||!s){t({title:"Missing Fields",description:"Please fill in both fields.",variant:"destructive"});return}a(!0);try{await Ae("POST","/api/auth/change-password",{currentPassword:n,newPassword:s}),t({title:"Password Updated",description:"Your password was successfully changed."}),e("/profile")}catch{t({title:"Update Failed",description:"Current password may be incorrect.",variant:"destructive"})}finally{a(!1)}};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Jt,{title:"Change Password",showBackButton:!0,onBack:()=>e("/profile")}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Vt,{children:c.jsx($t,{className:"text-lg font-semibold text-gray-800",children:"Update Your Password"})}),c.jsxs(ue,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),c.jsx(Ce,{type:"password",value:n,onChange:u=>r(u.target.value),placeholder:"Enter your current password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsx(Ce,{type:"password",value:s,onChange:u=>i(u.target.value),placeholder:"Enter your new password"})]}),c.jsx(Q,{onClick:l,disabled:o,className:"w-full shadow-md hover:shadow-lg transition-shadow",children:o?"Updating...":"Change Password"})]})]})})]})}function kq(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(!1),[o,a]=b.useState(""),{toast:l}=Bt(),[,u]=wt();b.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("token");if(!h){l({title:"Invalid Link",description:"This password reset link is invalid or missing the token.",variant:"destructive"}),setTimeout(()=>u("/forgot-password"),3e3);return}a(h)},[l,u]);const d=async()=>{if(!t||!n){l({title:"Missing Fields",description:"Please fill in both password fields.",variant:"destructive"});return}if(t!==n){l({title:"Passwords Don't Match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<6){l({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i(!0);try{await Ae("POST","/api/auth/reset-password",{token:o,newPassword:t}),l({title:"Password Reset Successful",description:"Your password has been updated. You can now log in with your new password."}),setTimeout(()=>u("/"),2e3)}catch(f){l({title:"Reset Failed",description:(f==null?void 0:f.message)||"Failed to reset password. The link may have expired.",variant:"destructive"})}finally{i(!1)}};return o?c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsxs(ue,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-key text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Reset Your Password"}),c.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"new-password",children:"New Password"}),c.jsx(Ce,{id:"new-password",type:"password",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your new password",className:"mt-2",minLength:6})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"confirm-password",children:"Confirm Password"}),c.jsx(Ce,{id:"confirm-password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Confirm your new password",className:"mt-2",minLength:6})]}),c.jsx(Q,{onClick:d,disabled:s,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:s?"Resetting...":"Reset Password"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remember your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go to login"})]})]})]})})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(ce,{className:"w-full max-w-md card-shadow",children:c.jsx(ue,{className:"p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-exclamation-triangle text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Invalid Link"}),c.jsx("p",{className:"text-gray-600",children:"This password reset link is invalid or has expired."})]})})})})}function Cq(){const[,t]=wt(),[e,n]=b.useState(""),[r,s]=b.useState(!1),[i,o]=b.useState(""),{toast:a}=Bt(),l=Dn();b.useEffect(()=>{X2()},[]);const f=new URLSearchParams(window.location.search).get("date")||M8();D8();const h=`journal_entry_${f}`,{data:m,isLoading:v,error:p}=Dt({queryKey:["/api/journal-entries/date",f],queryFn:async()=>{try{const _=uw(f);return await Ae("GET",`/api/journal-entries/date/${_.toISOString()}`)}catch(_){if(_.status===404||_.status===500)return null;throw _}},staleTime:5*60*1e3,cacheTime:30*60*1e3,retry:(_,S)=>(S==null?void 0:S.status)===404?!1:_<2});b.useEffect(()=>{const _=localStorage.getItem(h);if(_&&!m&&!v)try{const S=JSON.parse(_);n(S.content||""),o(S.content||""),console.log(" Loaded journal entry from cache")}catch(S){console.error("Error parsing cached journal entry:",S),localStorage.removeItem(h)}},[h,m,v]),b.useEffect(()=>{m&&(n(m.content||""),o(m.content||""),localStorage.setItem(h,JSON.stringify(m)),console.log(" Updated cache with server data"))},[m,h]),b.useEffect(()=>{if(s(e.trim()!==i.trim()),e!==i){const _={content:e,date:f,lastModified:new Date().toISOString(),isDraft:!0};localStorage.setItem(h,JSON.stringify(_)),console.log(" Updated cache with draft content")}},[e,i,h,f]);const x=Mt({mutationFn:async _=>{const S=uw(f);return await Ae("POST","/api/journal-entries",{content:_,date:S.toISOString(),timezone:Yo()})},onSuccess:_=>{o(e),s(!1),localStorage.setItem(h,JSON.stringify(_));const S=localStorage.getItem("journal_previews_cache");if(S)try{const N=JSON.parse(S),C=e.split(" ").slice(0,20).join(" ")+(e.split(" ").length>20?"...":"");N[f]={preview:C,updated_at:_.updated_at},localStorage.setItem("journal_previews_cache",JSON.stringify(N)),console.log(" Updated journal history cache")}catch(N){console.error("Error updating journal history cache:",N)}l.invalidateQueries({queryKey:["/api/journal-entries/date",f]}),l.invalidateQueries({queryKey:["/api/journal-entries"]}),a({title:"Success",description:"Journal entry saved successfully!"}),console.log(" Journal entry saved to database")},onError:_=>{console.error(" Error saving journal entry:",_),a({title:"Error",description:(_==null?void 0:_.message)||"Failed to save journal entry. Please try again.",variant:"destructive"})}}),y=()=>{window.history.length>1?window.history.back():t("/")},g=()=>{if(!e.trim()){a({title:"Error",description:"Please enter some content before saving.",variant:"destructive"});return}x.mutate(e)},w=_=>{n(_.target.value)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Journal",showBackButton:!1,showHomeButton:!0,onBack:y}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Vt,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs($t,{className:"text-lg font-semibold text-gray-800",children:["Entry - ",oo(f+"T00:00:00","EEEE, MMMM d, yyyy")]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[r&&c.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Unsaved changes"}),v&&c.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Loading..."})]})]})}),c.jsx(ue,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:e,onChange:w,disabled:v||x.isPending,style:{border:"2px solid black",width:"100%",height:"50vh",resize:"vertical",backgroundColor:"transparent",padding:"12px",borderRadius:"8px"},placeholder:v?"Loading your journal entry...":"What's on your mind today?",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 font-normal text-gray-800"}),c.jsx(Q,{onClick:g,disabled:!e.trim()||!r||x.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:x.isPending?"SAVING...":"SAVE"}),c.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[m&&c.jsxs("div",{children:["Last updated: ",oo(m.updated_at,"PPP p")]}),p&&c.jsx("div",{className:"text-red-500",children:"Error loading entry (using cached version)"}),c.jsx("div",{className:"text-gray-400",children:"Changes are automatically saved locally as you type"})]}),!1]})})]}),c.jsx($i,{})]})})]})}function Tq(){const[,t]=wt(),[e,n]=b.useState("newest"),{user:r}=Ii();b.useEffect(()=>{X2()},[]);const s="journal_previews_cache",{data:i=[],isLoading:o}=Dt({queryKey:["/api/journal-entries"],queryFn:async()=>await Ae("GET","/api/journal-entries"),staleTime:1*60*1e3,cacheTime:30*60*1e3,refetchOnWindowFocus:!0}),{data:a=[]}=Dt({queryKey:["/api/photos/dates"],queryFn:async()=>await Ae("GET","/api/photos/dates"),enabled:!!r,staleTime:5*60*1e3,cacheTime:30*60*1e3});b.useEffect(()=>{if(i.length>0){const p=i.reduce((x,y)=>{const g=y.date.split("T")[0];return x[g]={preview:y.preview,updated_at:y.updated_at},x},{});localStorage.setItem(s,JSON.stringify(p)),console.log(" Cached journal previews for",Object.keys(p).length,"entries")}},[i,s]),b.useEffect(()=>{const p=localStorage.getItem(s);if(p&&i.length===0)try{const x=JSON.parse(p);console.log(" Loaded cached previews for",Object.keys(x).length,"entries")}catch(x){console.error("Error loading cached previews:",x),localStorage.removeItem(s)}},[s,i.length]);const l=()=>{window.history.length>1?window.history.back():t("/")},u=p=>{const x=p.split("T")[0];t(`/journal-entry?date=${x}`)},d=i.reduce((p,x)=>{const y=x.date.split("T")[0];return p[y]=x,p},{}),f=Object.keys(d).sort((p,x)=>e==="newest"?new Date(x).getTime()-new Date(p).getTime():new Date(p).getTime()-new Date(x).getTime()),h=p=>{try{return oo(p+"T00:00:00","EEEE, MMMM d, yyyy")}catch{return p}},m=p=>p.trim().split(/\s+/).filter(x=>x.length>0).length,v=p=>p.length;return o?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:l}),c.jsx("div",{className:"flex items-center justify-center pt-[calc(env(safe-area-inset-top)+6rem)]",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}):c.jsx(c.Fragment,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Jt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:l}),c.jsxs("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:[c.jsx("div",{className:"flex justify-end items-center mb-6",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:[c.jsxs(Q,{variant:e==="newest"?"default":"ghost",size:"sm",onClick:()=>n("newest"),className:"rounded-r-none",children:[c.jsx("i",{className:"fas fa-arrow-down mr-2"}),"Newest"]}),c.jsxs(Q,{variant:e==="oldest"?"default":"ghost",size:"sm",onClick:()=>n("oldest"),className:"rounded-l-none border-l",children:[c.jsx("i",{className:"fas fa-arrow-up mr-2"}),"Oldest"]})]})}),f.length>0?c.jsx("div",{className:"space-y-6",children:f.map(p=>{const x=d[p],y=m(x.content),g=v(x.content);let w=!1;for(const _ of a){const S=Ee(new Date(_.date),"yyyy-MM-dd");if(p===S){w=!0;break}}return console.log(" Debug timezone for entry:",{dateStr:p,updated_at:x.updated_at,formatted_time:oo(x.updated_at,"h:mm a"),user_timezone:Yo(),raw_date:new Date(x.updated_at).toString()}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex justify-end items-center",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:h(p)}),c.jsxs("p",{className:"text-sm text-gray-600",children:[y," words  ",g," characters"]})]})}),c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-6 shadow-xl cursor-pointer hover:bg-white/85 transition-all duration-200 hover:scale-[1.02] hover:shadow-2xl relative",onClick:()=>u(x.date),children:[w&&c.jsx("button",{className:"absolute top-4 right-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg transition-colors duration-200",onClick:_=>{_.stopPropagation(),alert("Button clicked")},children:c.jsx("i",{className:"fas fa-images text-xs"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-gray-800 leading-relaxed",children:c.jsx("p",{className:"text-base",children:x.preview})}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{children:[c.jsx("i",{className:"fas fa-clock mr-1"}),oo(x.updated_at,"h:mm a")]}),c.jsxs("span",{children:[c.jsx("i",{className:"fas fa-edit mr-1"}),"Last edited ",oo(x.updated_at,"MMM d")]})]}),c.jsxs("div",{className:"flex items-center text-blue-600",children:[c.jsx("span",{className:"mr-2",children:"Read more"}),c.jsx("i",{className:"fas fa-chevron-right"})]})]})]})]})]},p)})}):c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-book-open text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Journal Entries Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start documenting your thoughts and experiences. Your first journal entry is just a click away."}),c.jsxs(Q,{onClick:()=>t("/journal-entry"),className:"bg-blue-600 hover:bg-blue-700 text-white mr-3",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Start Writing"]}),c.jsxs(Q,{onClick:()=>t("/"),variant:"outline",className:"bg-white/50 hover:bg-white/75",children:[c.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),c.jsx($i,{})]})]})})}function jq(){const{user:t,isAuthenticated:e,isLoading:n}=Ii();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):c.jsxs(c.Fragment,{children:[c.jsx(iz,{}),c.jsxs(JR,{children:[c.jsx(gt,{path:"/forgot-password",component:Sq}),c.jsx(gt,{path:"/reset-password",component:kq}),e?c.jsx(c.Fragment,{children:t!=null&&t.onboardingCompleted?c.jsxs(c.Fragment,{children:[c.jsx(gt,{path:"/",component:jW}),c.jsx(gt,{path:"/profile",component:I8}),c.jsx(gt,{path:"/edit-profile",component:F8}),c.jsx(gt,{path:"/feedback",component:L8}),c.jsx(gt,{path:"/photos",component:Q8}),c.jsx(gt,{path:"/progress",component:pq}),c.jsx(gt,{path:"/goals",component:gq}),c.jsx(gt,{path:"/add-goal",component:xq}),c.jsx(gt,{path:"/workouts",component:vq}),c.jsx(gt,{path:"/nutrition",component:wq}),c.jsx(gt,{path:"/sleep",component:_q}),c.jsx(gt,{path:"/add-activity",component:V8}),c.jsx(gt,{path:"/select-activity",component:H8}),c.jsx(gt,{path:"/add-macros",component:Y8}),c.jsx(gt,{path:"/change-password",component:Nq}),c.jsx(gt,{path:"/journal-entry",component:Cq}),c.jsx(gt,{path:"/journal-history",component:Tq})," "," "]}):c.jsx(gt,{path:"/",component:n8})}):c.jsx(gt,{path:"/",component:WV}),c.jsx(gt,{component:dz})]})]})}function Pq(){return c.jsx(bF,{client:Gi,children:c.jsxs(rz,{children:[c.jsx(x4,{}),c.jsx(cz,{}),c.jsx(jq,{})]})})}AT(document.getElementById("root")).render(c.jsx(Pq,{}));
