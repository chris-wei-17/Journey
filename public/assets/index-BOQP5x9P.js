var XO=Object.defineProperty;var kv=t=>{throw TypeError(t)};var ZO=(t,e,n)=>e in t?XO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>ZO(t,typeof e!="symbol"?e+"":e,n),tm=(t,e,n)=>e.has(t)||kv("Cannot "+n);var E=(t,e,n)=>(tm(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>e.has(t)?kv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),se=(t,e,n,s)=>(tm(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ke=(t,e,n)=>(tm(t,e,"access private method"),n);var Ru=(t,e,n,s)=>({set _(r){se(t,e,r,n)},get _(){return E(t,e,s)}});function JO(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Sk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _k={exports:{}},ch={},Nk={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.element"),eA=Symbol.for("react.portal"),tA=Symbol.for("react.fragment"),nA=Symbol.for("react.strict_mode"),sA=Symbol.for("react.profiler"),rA=Symbol.for("react.provider"),iA=Symbol.for("react.context"),aA=Symbol.for("react.forward_ref"),oA=Symbol.for("react.suspense"),lA=Symbol.for("react.memo"),cA=Symbol.for("react.lazy"),jv=Symbol.iterator;function uA(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var kk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jk=Object.assign,Ck={};function hl(t,e,n){this.props=t,this.context=e,this.refs=Ck,this.updater=n||kk}hl.prototype.isReactComponent={};hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tk(){}Tk.prototype=hl.prototype;function ly(t,e,n){this.props=t,this.context=e,this.refs=Ck,this.updater=n||kk}var cy=ly.prototype=new Tk;cy.constructor=ly;jk(cy,hl.prototype);cy.isPureReactComponent=!0;var Cv=Array.isArray,Pk=Object.prototype.hasOwnProperty,uy={current:null},Ek={key:!0,ref:!0,__self:!0,__source:!0};function Mk(t,e,n){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Pk.call(e,s)&&!Ek.hasOwnProperty(s)&&(r[s]=e[s]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in o=t.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return{$$typeof:yu,type:t,key:i,ref:a,props:r,_owner:uy.current}}function dA(t,e){return{$$typeof:yu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dy(t){return typeof t=="object"&&t!==null&&t.$$typeof===yu}function fA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tv=/\/+/g;function nm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fA(""+t.key):e.toString(36)}function Cd(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case yu:case eA:a=!0}}if(a)return a=t,r=r(a),t=s===""?"."+nm(a,0):s,Cv(r)?(n="",t!=null&&(n=t.replace(Tv,"$&/")+"/"),Cd(r,e,n,"",function(u){return u})):r!=null&&(dy(r)&&(r=dA(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(Tv,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=s===""?".":s+":",Cv(t))for(var o=0;o<t.length;o++){i=t[o];var l=s+nm(i,o);a+=Cd(i,e,n,l,r)}else if(l=uA(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=s+nm(i,o++),a+=Cd(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Fu(t,e,n){if(t==null)return t;var s=[],r=0;return Cd(t,s,"","",function(i){return e.call(n,i,r++)}),s}function hA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Td={transition:null},mA={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Td,ReactCurrentOwner:uy};function Dk(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Fu,forEach:function(t,e,n){Fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fu(t,function(){e++}),e},toArray:function(t){return Fu(t,function(e){return e})||[]},only:function(t){if(!dy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=hl;Oe.Fragment=tA;Oe.Profiler=sA;Oe.PureComponent=ly;Oe.StrictMode=nA;Oe.Suspense=oA;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mA;Oe.act=Dk;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=jk({},t.props),r=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=uy.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Pk.call(e,l)&&!Ek.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:yu,type:t.type,key:r,ref:i,props:s,_owner:a}};Oe.createContext=function(t){return t={$$typeof:iA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rA,_context:t},t.Consumer=t};Oe.createElement=Mk;Oe.createFactory=function(t){var e=Mk.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:aA,render:t}};Oe.isValidElement=dy;Oe.lazy=function(t){return{$$typeof:cA,_payload:{_status:-1,_result:t},_init:hA}};Oe.memo=function(t,e){return{$$typeof:lA,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Td.transition;Td.transition={};try{t()}finally{Td.transition=e}};Oe.unstable_act=Dk;Oe.useCallback=function(t,e){return vn.current.useCallback(t,e)};Oe.useContext=function(t){return vn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return vn.current.useEffect(t,e)};Oe.useId=function(){return vn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return vn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Oe.useRef=function(t){return vn.current.useRef(t)};Oe.useState=function(t){return vn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return vn.current.useTransition()};Oe.version="18.3.1";Nk.exports=Oe;var v=Nk.exports;const ye=Sk(v),fy=JO({__proto__:null,default:ye},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA=v,gA=Symbol.for("react.element"),yA=Symbol.for("react.fragment"),xA=Object.prototype.hasOwnProperty,vA=pA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bA={key:!0,ref:!0,__self:!0,__source:!0};function Ok(t,e,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)xA.call(e,s)&&!bA.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:gA,type:t,key:i,ref:a,props:r,_owner:vA.current}}ch.Fragment=yA;ch.jsx=Ok;ch.jsxs=Ok;_k.exports=ch;var c=_k.exports,Ak={exports:{}},Un={},Ik={exports:{}},Rk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,F){var D=T.length;T.push(F);e:for(;0<D;){var W=D-1>>>1,G=T[W];if(0<r(G,F))T[W]=F,T[D]=G,D=W;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var F=T[0],D=T.pop();if(D!==F){T[0]=D;e:for(var W=0,G=T.length,ne=G>>>1;W<ne;){var re=2*(W+1)-1,ge=T[re],ve=re+1,H=T[ve];if(0>r(ge,D))ve<G&&0>r(H,ge)?(T[W]=H,T[ve]=D,W=ve):(T[W]=ge,T[re]=D,W=re);else if(ve<G&&0>r(H,D))T[W]=H,T[ve]=D,W=ve;else break e}}return F}function r(T,F){var D=T.sortIndex-F.sortIndex;return D!==0?D:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,y=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=T)s(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function S(T){if(p=!1,w(T),!y)if(n(l)!==null)y=!0,$(_);else{var F=n(u);F!==null&&B(S,F.startTime-T)}}function _(T,F){y=!1,p&&(p=!1,x(C),C=-1),m=!0;var D=h;try{for(w(F),f=n(l);f!==null&&(!(f.expirationTime>F)||T&&!z());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=F);F=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&s(l),w(F)}else s(l);f=n(l)}if(f!==null)var ne=!0;else{var re=n(u);re!==null&&B(S,re.startTime-F),ne=!1}return ne}finally{f=null,h=D,m=!1}}var N=!1,j=null,C=-1,P=5,O=-1;function z(){return!(t.unstable_now()-O<P)}function R(){if(j!==null){var T=t.unstable_now();O=T;var F=!0;try{F=j(!0,T)}finally{F?L():(N=!1,j=null)}}else N=!1}var L;if(typeof g=="function")L=function(){g(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,A=I.port2;I.port1.onmessage=R,L=function(){A.postMessage(null)}}else L=function(){b(R,0)};function $(T){j=T,N||(N=!0,L())}function B(T,F){C=b(function(){T(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,$(_))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var D=h;h=F;try{return T()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var D=h;h=T;try{return F()}finally{h=D}},t.unstable_scheduleCallback=function(T,F,D){var W=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,T={id:d++,callback:F,priorityLevel:T,startTime:D,expirationTime:G,sortIndex:-1},D>W?(T.sortIndex=D,e(u,T),n(l)===null&&T===n(u)&&(p?(x(C),C=-1):p=!0,B(S,D-W))):(T.sortIndex=G,e(l,T),y||m||(y=!0,$(_))),T},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(T){var F=h;return function(){var D=h;h=F;try{return T.apply(this,arguments)}finally{h=D}}}})(Rk);Ik.exports=Rk;var wA=Ik.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=v,Bn=wA;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fk=new Set,kc={};function Va(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(kc[t]=e,t=0;t<e.length;t++)Fk.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vp=Object.prototype.hasOwnProperty,_A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pv={},Ev={};function NA(t){return vp.call(Ev,t)?!0:vp.call(Pv,t)?!1:_A.test(t)?Ev[t]=!0:(Pv[t]=!0,!1)}function kA(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jA(t,e,n,s){if(e===null||typeof e>"u"||kA(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,n,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hy=/[\-:]([a-z])/g;function my(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hy,my);Zt[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hy,my);Zt[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hy,my);Zt[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,n,s){var r=Zt.hasOwnProperty(e)?Zt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jA(e,n,r,s)&&(n=null),s||r===null?NA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Pr=SA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),so=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),Lk=Symbol.for("react.provider"),zk=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Vk=Symbol.for("react.offscreen"),Mv=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,sm;function Kl(t){if(sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sm=e&&e[1]||""}return`
`+sm+t}var rm=!1;function im(t,e){if(!t||rm)return"";rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==i[o]){var l=`
`+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{rm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kl(t):""}function CA(t){switch(t.tag){case 5:return Kl(t.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return t=im(t.type,!1),t;case 11:return t=im(t.type.render,!1),t;case 1:return t=im(t.type,!0),t;default:return""}}function _p(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case so:return"Portal";case bp:return"Profiler";case gy:return"StrictMode";case wp:return"Suspense";case Sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zk:return(t.displayName||"Context")+".Consumer";case Lk:return(t._context.displayName||"Context")+".Provider";case yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xy:return e=t.displayName||null,e!==null?e:_p(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return _p(t(e))}catch{}}return null}function TA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _p(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $k(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PA(t){var e=$k(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=PA(t))}function Bk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=$k(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Np(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uk(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function kp(t,e){Uk(t,e);var n=Ni(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jp(t,e.type,n):e.hasOwnProperty("defaultValue")&&jp(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ov(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jp(t,e,n){(e!=="number"||Zd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function xo(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Cp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Av(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Gl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function Wk(t,e){var n=Ni(e.value),s=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vu,Yk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vu=Vu||document.createElement("div"),Vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EA=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){EA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function qk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function Qk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=qk(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var MA=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pp(t,e){if(e){if(MA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=null;function vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dp=null,vo=null,bo=null;function Rv(t){if(t=bu(t)){if(typeof Dp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=mh(e),Dp(t.stateNode,t.type,e))}}function Kk(t){vo?bo?bo.push(t):bo=[t]:vo=t}function Gk(){if(vo){var t=vo,e=bo;if(bo=vo=null,Rv(t),e)for(t=0;t<e.length;t++)Rv(e[t])}}function Xk(t,e){return t(e)}function Zk(){}var am=!1;function Jk(t,e,n){if(am)return t(e,n);am=!0;try{return Xk(t,e,n)}finally{am=!1,(vo!==null||bo!==null)&&(Zk(),Gk())}}function Cc(t,e){var n=t.stateNode;if(n===null)return null;var s=mh(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Op=!1;if(Sr)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Op=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Op=!1}function DA(t,e,n,s,r,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var oc=!1,Jd=null,ef=!1,Ap=null,OA={onError:function(t){oc=!0,Jd=t}};function AA(t,e,n,s,r,i,a,o,l){oc=!1,Jd=null,DA.apply(OA,arguments)}function IA(t,e,n,s,r,i,a,o,l){if(AA.apply(this,arguments),oc){if(oc){var u=Jd;oc=!1,Jd=null}else throw Error(K(198));ef||(ef=!0,Ap=u)}}function $a(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ej(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fv(t){if($a(t)!==t)throw Error(K(188))}function RA(t){var e=t.alternate;if(!e){if(e=$a(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Fv(r),t;if(i===s)return Fv(r),e;i=i.sibling}throw Error(K(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==s)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function tj(t){return t=RA(t),t!==null?nj(t):null}function nj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nj(t);if(e!==null)return e;t=t.sibling}return null}var sj=Bn.unstable_scheduleCallback,Lv=Bn.unstable_cancelCallback,FA=Bn.unstable_shouldYield,LA=Bn.unstable_requestPaint,Nt=Bn.unstable_now,zA=Bn.unstable_getCurrentPriorityLevel,by=Bn.unstable_ImmediatePriority,rj=Bn.unstable_UserBlockingPriority,tf=Bn.unstable_NormalPriority,VA=Bn.unstable_LowPriority,ij=Bn.unstable_IdlePriority,uh=null,Bs=null;function $A(t){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:WA,BA=Math.log,UA=Math.LN2;function WA(t){return t>>>=0,t===0?32:31-(BA(t)/UA|0)|0}var $u=64,Bu=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?s=Xl(o):(i&=a,i!==0&&(s=Xl(i)))}else a=n&~r,a!==0?s=Xl(a):i!==0&&(s=Xl(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-xs(e),r=1<<n,s|=t[n],e&=~r;return s}function HA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YA(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-xs(i),o=1<<a,l=r[a];l===-1?(!(o&n)||o&s)&&(r[a]=HA(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aj(){var t=$u;return $u<<=1,!($u&4194240)&&($u=64),t}function om(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xs(e),t[e]=n}function qA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-xs(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-xs(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Je=0;function oj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lj,Sy,cj,uj,dj,Rp=!1,Uu=[],mi=null,pi=null,gi=null,Tc=new Map,Pc=new Map,qr=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zv(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Tc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function El(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=bu(e),e!==null&&Sy(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function KA(t,e,n,s,r){switch(e){case"focusin":return mi=El(mi,t,e,n,s,r),!0;case"dragenter":return pi=El(pi,t,e,n,s,r),!0;case"mouseover":return gi=El(gi,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Tc.set(i,El(Tc.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Pc.set(i,El(Pc.get(i)||null,t,e,n,s,r)),!0}return!1}function fj(t){var e=ta(t.target);if(e!==null){var n=$a(e);if(n!==null){if(e=n.tag,e===13){if(e=ej(n),e!==null){t.blockedOn=e,dj(t.priority,function(){cj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Mp=s,n.target.dispatchEvent(s),Mp=null}else return e=bu(n),e!==null&&Sy(e),t.blockedOn=n,!1;e.shift()}return!0}function Vv(t,e,n){Pd(t)&&n.delete(e)}function GA(){Rp=!1,mi!==null&&Pd(mi)&&(mi=null),pi!==null&&Pd(pi)&&(pi=null),gi!==null&&Pd(gi)&&(gi=null),Tc.forEach(Vv),Pc.forEach(Vv)}function Ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,GA)))}function Ec(t){function e(r){return Ml(r,t)}if(0<Uu.length){Ml(Uu[0],t);for(var n=1;n<Uu.length;n++){var s=Uu[n];s.blockedOn===t&&(s.blockedOn=null)}}for(mi!==null&&Ml(mi,t),pi!==null&&Ml(pi,t),gi!==null&&Ml(gi,t),Tc.forEach(e),Pc.forEach(e),n=0;n<qr.length;n++)s=qr[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)fj(n),n.blockedOn===null&&qr.shift()}var wo=Pr.ReactCurrentBatchConfig,sf=!0;function XA(t,e,n,s){var r=Je,i=wo.transition;wo.transition=null;try{Je=1,_y(t,e,n,s)}finally{Je=r,wo.transition=i}}function ZA(t,e,n,s){var r=Je,i=wo.transition;wo.transition=null;try{Je=4,_y(t,e,n,s)}finally{Je=r,wo.transition=i}}function _y(t,e,n,s){if(sf){var r=Fp(t,e,n,s);if(r===null)ym(t,e,s,rf,n),zv(t,s);else if(KA(r,t,e,n,s))s.stopPropagation();else if(zv(t,s),e&4&&-1<QA.indexOf(t)){for(;r!==null;){var i=bu(r);if(i!==null&&lj(i),i=Fp(t,e,n,s),i===null&&ym(t,e,s,rf,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else ym(t,e,s,null,n)}}var rf=null;function Fp(t,e,n,s){if(rf=null,t=vy(s),t=ta(t),t!==null)if(e=$a(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ej(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rf=t,null}function hj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zA()){case by:return 1;case rj:return 4;case tf:case VA:return 16;case ij:return 536870912;default:return 16}default:return 16}}var ii=null,Ny=null,Ed=null;function mj(){if(Ed)return Ed;var t,e=Ny,n=e.length,s,r="value"in ii?ii.value:ii.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Ed=r.slice(t,1<s?1-s:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wu(){return!0}function $v(){return!1}function Wn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wu:$v,this.isPropagationStopped=$v,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=Wn(ml),vu=yt({},ml,{view:0,detail:0}),JA=Wn(vu),lm,cm,Dl,dh=yt({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(lm=t.screenX-Dl.screenX,cm=t.screenY-Dl.screenY):cm=lm=0,Dl=t),lm)},movementY:function(t){return"movementY"in t?t.movementY:cm}}),Bv=Wn(dh),eI=yt({},dh,{dataTransfer:0}),tI=Wn(eI),nI=yt({},vu,{relatedTarget:0}),um=Wn(nI),sI=yt({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),rI=Wn(sI),iI=yt({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aI=Wn(iI),oI=yt({},ml,{data:0}),Uv=Wn(oI),lI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uI[t])?!!e[t]:!1}function jy(){return dI}var fI=yt({},vu,{key:function(t){if(t.key){var e=lI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jy,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hI=Wn(fI),mI=yt({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wv=Wn(mI),pI=yt({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jy}),gI=Wn(pI),yI=yt({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),xI=Wn(yI),vI=yt({},dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bI=Wn(vI),wI=[9,13,27,32],Cy=Sr&&"CompositionEvent"in window,lc=null;Sr&&"documentMode"in document&&(lc=document.documentMode);var SI=Sr&&"TextEvent"in window&&!lc,pj=Sr&&(!Cy||lc&&8<lc&&11>=lc),Hv=" ",Yv=!1;function gj(t,e){switch(t){case"keyup":return wI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function _I(t,e){switch(t){case"compositionend":return yj(e);case"keypress":return e.which!==32?null:(Yv=!0,Hv);case"textInput":return t=e.data,t===Hv&&Yv?null:t;default:return null}}function NI(t,e){if(io)return t==="compositionend"||!Cy&&gj(t,e)?(t=mj(),Ed=Ny=ii=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pj&&e.locale!=="ko"?null:e.data;default:return null}}var kI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kI[t.type]:e==="textarea"}function xj(t,e,n,s){Kk(s),e=af(e,"onChange"),0<e.length&&(n=new ky("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var cc=null,Mc=null;function jI(t){Pj(t,0)}function fh(t){var e=lo(t);if(Bk(e))return t}function CI(t,e){if(t==="change")return e}var vj=!1;if(Sr){var dm;if(Sr){var fm="oninput"in document;if(!fm){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),fm=typeof Qv.oninput=="function"}dm=fm}else dm=!1;vj=dm&&(!document.documentMode||9<document.documentMode)}function Kv(){cc&&(cc.detachEvent("onpropertychange",bj),Mc=cc=null)}function bj(t){if(t.propertyName==="value"&&fh(Mc)){var e=[];xj(e,Mc,t,vy(t)),Jk(jI,e)}}function TI(t,e,n){t==="focusin"?(Kv(),cc=e,Mc=n,cc.attachEvent("onpropertychange",bj)):t==="focusout"&&Kv()}function PI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fh(Mc)}function EI(t,e){if(t==="click")return fh(e)}function MI(t,e){if(t==="input"||t==="change")return fh(e)}function DI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ws=typeof Object.is=="function"?Object.is:DI;function Dc(t,e){if(ws(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!vp.call(e,r)||!ws(t[r],e[r]))return!1}return!0}function Gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xv(t,e){var n=Gv(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gv(n)}}function wj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sj(){for(var t=window,e=Zd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zd(t.document)}return e}function Ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OI(t){var e=Sj(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wj(n.ownerDocument.documentElement,n)){if(s!==null&&Ty(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Xv(n,i);var a=Xv(n,s);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AI=Sr&&"documentMode"in document&&11>=document.documentMode,ao=null,Lp=null,uc=null,zp=!1;function Zv(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zp||ao==null||ao!==Zd(s)||(s=ao,"selectionStart"in s&&Ty(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),uc&&Dc(uc,s)||(uc=s,s=af(Lp,"onSelect"),0<s.length&&(e=new ky("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ao)))}function Hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},hm={},_j={};Sr&&(_j=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function hh(t){if(hm[t])return hm[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _j)return hm[t]=e[n];return t}var Nj=hh("animationend"),kj=hh("animationiteration"),jj=hh("animationstart"),Cj=hh("transitionend"),Tj=new Map,Jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){Tj.set(t,e),Va(e,[t])}for(var mm=0;mm<Jv.length;mm++){var pm=Jv[mm],II=pm.toLowerCase(),RI=pm[0].toUpperCase()+pm.slice(1);Ri(II,"on"+RI)}Ri(Nj,"onAnimationEnd");Ri(kj,"onAnimationIteration");Ri(jj,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(Cj,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function e0(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,IA(s,e,void 0,t),t.currentTarget=null}function Pj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;e0(r,o,u),i=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;e0(r,o,u),i=l}}}if(ef)throw t=Ap,ef=!1,Ap=null,t}function at(t,e){var n=e[Wp];n===void 0&&(n=e[Wp]=new Set);var s=t+"__bubble";n.has(s)||(Ej(e,t,2,!1),n.add(s))}function gm(t,e,n){var s=0;e&&(s|=4),Ej(n,t,s,e)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[Yu]){t[Yu]=!0,Fk.forEach(function(n){n!=="selectionchange"&&(FI.has(n)||gm(n,!1,t),gm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yu]||(e[Yu]=!0,gm("selectionchange",!1,e))}}function Ej(t,e,n,s){switch(hj(e)){case 1:var r=XA;break;case 4:r=ZA;break;default:r=_y}n=r.bind(null,e,n,t),r=void 0,!Op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ym(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=ta(o),a===null)return;if(l=a.tag,l===5||l===6){s=i=a;continue e}o=o.parentNode}}s=s.return}Jk(function(){var u=i,d=vy(n),f=[];e:{var h=Tj.get(t);if(h!==void 0){var m=ky,y=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":m=hI;break;case"focusin":y="focus",m=um;break;case"focusout":y="blur",m=um;break;case"beforeblur":case"afterblur":m=um;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gI;break;case Nj:case kj:case jj:m=rI;break;case Cj:m=xI;break;case"scroll":m=JA;break;case"wheel":m=bI;break;case"copy":case"cut":case"paste":m=aI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wv}var p=(e&4)!==0,b=!p&&t==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Cc(g,x),S!=null&&p.push(Ac(g,S,w)))),b)break;g=g.return}0<p.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Mp&&(y=n.relatedTarget||n.fromElement)&&(ta(y)||y[_r]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?ta(y):null,y!==null&&(b=$a(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(p=Bv,S="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(p=Wv,S="onPointerLeave",x="onPointerEnter",g="pointer"),b=m==null?h:lo(m),w=y==null?h:lo(y),h=new p(S,g+"leave",m,n,d),h.target=b,h.relatedTarget=w,S=null,ta(d)===u&&(p=new p(x,g+"enter",y,n,d),p.target=w,p.relatedTarget=b,S=p),b=S,m&&y)t:{for(p=m,x=y,g=0,w=p;w;w=qa(w))g++;for(w=0,S=x;S;S=qa(S))w++;for(;0<g-w;)p=qa(p),g--;for(;0<w-g;)x=qa(x),w--;for(;g--;){if(p===x||x!==null&&p===x.alternate)break t;p=qa(p),x=qa(x)}p=null}else p=null;m!==null&&t0(f,h,m,p,!1),y!==null&&b!==null&&t0(f,b,y,p,!0)}}e:{if(h=u?lo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=CI;else if(qv(h))if(vj)_=MI;else{_=PI;var N=TI}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=EI);if(_&&(_=_(t,u))){xj(f,_,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&jp(h,"number",h.value)}switch(N=u?lo(u):window,t){case"focusin":(qv(N)||N.contentEditable==="true")&&(ao=N,Lp=u,uc=null);break;case"focusout":uc=Lp=ao=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,Zv(f,n,d);break;case"selectionchange":if(AI)break;case"keydown":case"keyup":Zv(f,n,d)}var j;if(Cy)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else io?gj(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(pj&&n.locale!=="ko"&&(io||C!=="onCompositionStart"?C==="onCompositionEnd"&&io&&(j=mj()):(ii=d,Ny="value"in ii?ii.value:ii.textContent,io=!0)),N=af(u,C),0<N.length&&(C=new Uv(C,t,null,n,d),f.push({event:C,listeners:N}),j?C.data=j:(j=yj(n),j!==null&&(C.data=j)))),(j=SI?_I(t,n):NI(t,n))&&(u=af(u,"onBeforeInput"),0<u.length&&(d=new Uv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}Pj(f,e)})}function Ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function af(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Cc(t,n),i!=null&&s.unshift(Ac(t,i,r)),i=Cc(t,e),i!=null&&s.push(Ac(t,i,r))),t=t.return}return s}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t0(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&u!==null&&(o=u,r?(l=Cc(n,i),l!=null&&a.unshift(Ac(n,l,o))):r||(l=Cc(n,i),l!=null&&a.push(Ac(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var LI=/\r\n?/g,zI=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(LI,`
`).replace(zI,"")}function qu(t,e,n){if(e=n0(e),n0(t)!==e&&n)throw Error(K(425))}function of(){}var Vp=null,$p=null;function Bp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,$I=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(t){return s0.resolve(null).then(t).catch(BI)}:Up;function BI(t){setTimeout(function(){throw t})}function xm(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Ec(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Ec(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function r0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pl=Math.random().toString(36).slice(2),Is="__reactFiber$"+pl,Ic="__reactProps$"+pl,_r="__reactContainer$"+pl,Wp="__reactEvents$"+pl,UI="__reactListeners$"+pl,WI="__reactHandles$"+pl;function ta(t){var e=t[Is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=r0(t);t!==null;){if(n=t[Is])return n;t=r0(t)}return e}t=n,n=t.parentNode}return null}function bu(t){return t=t[Is]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function mh(t){return t[Ic]||null}var Hp=[],co=-1;function Fi(t){return{current:t}}function lt(t){0>co||(t.current=Hp[co],Hp[co]=null,co--)}function rt(t,e){co++,Hp[co]=t.current,t.current=e}var ki={},ln=Fi(ki),Pn=Fi(!1),Sa=ki;function Yo(t,e){var n=t.type.contextTypes;if(!n)return ki;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function En(t){return t=t.childContextTypes,t!=null}function lf(){lt(Pn),lt(ln)}function i0(t,e,n){if(ln.current!==ki)throw Error(K(168));rt(ln,e),rt(Pn,n)}function Mj(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(K(108,TA(t)||"Unknown",r));return yt({},n,s)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,Sa=ln.current,rt(ln,t),rt(Pn,Pn.current),!0}function a0(t,e,n){var s=t.stateNode;if(!s)throw Error(K(169));n?(t=Mj(t,e,Sa),s.__reactInternalMemoizedMergedChildContext=t,lt(Pn),lt(ln),rt(ln,t)):lt(Pn),rt(Pn,n)}var cr=null,ph=!1,vm=!1;function Dj(t){cr===null?cr=[t]:cr.push(t)}function HI(t){ph=!0,Dj(t)}function Li(){if(!vm&&cr!==null){vm=!0;var t=0,e=Je;try{var n=cr;for(Je=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}cr=null,ph=!1}catch(r){throw cr!==null&&(cr=cr.slice(t+1)),sj(by,Li),r}finally{Je=e,vm=!1}}return null}var uo=[],fo=0,uf=null,df=0,Xn=[],Zn=0,_a=null,pr=1,gr="";function Qi(t,e){uo[fo++]=df,uo[fo++]=uf,uf=t,df=e}function Oj(t,e,n){Xn[Zn++]=pr,Xn[Zn++]=gr,Xn[Zn++]=_a,_a=t;var s=pr;t=gr;var r=32-xs(s)-1;s&=~(1<<r),n+=1;var i=32-xs(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,pr=1<<32-xs(e)+r|n<<r|s,gr=i+t}else pr=1<<i|n<<r|s,gr=t}function Py(t){t.return!==null&&(Qi(t,1),Oj(t,1,0))}function Ey(t){for(;t===uf;)uf=uo[--fo],uo[fo]=null,df=uo[--fo],uo[fo]=null;for(;t===_a;)_a=Xn[--Zn],Xn[Zn]=null,gr=Xn[--Zn],Xn[Zn]=null,pr=Xn[--Zn],Xn[Zn]=null}var zn=null,Ln=null,ut=!1,ms=null;function Aj(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Ln=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_a!==null?{id:pr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Ln=null,!0):!1;default:return!1}}function Yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qp(t){if(ut){var e=Ln;if(e){var n=e;if(!o0(t,e)){if(Yp(t))throw Error(K(418));e=yi(n.nextSibling);var s=zn;e&&o0(t,e)?Aj(s,n):(t.flags=t.flags&-4097|2,ut=!1,zn=t)}}else{if(Yp(t))throw Error(K(418));t.flags=t.flags&-4097|2,ut=!1,zn=t}}}function l0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Qu(t){if(t!==zn)return!1;if(!ut)return l0(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bp(t.type,t.memoizedProps)),e&&(e=Ln)){if(Yp(t))throw Ij(),Error(K(418));for(;e;)Aj(t,e),e=yi(e.nextSibling)}if(l0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=zn?yi(t.stateNode.nextSibling):null;return!0}function Ij(){for(var t=Ln;t;)t=yi(t.nextSibling)}function qo(){Ln=zn=null,ut=!1}function My(t){ms===null?ms=[t]:ms.push(t)}var YI=Pr.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var s=n.stateNode}if(!s)throw Error(K(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=r.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Ku(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c0(t){var e=t._init;return e(t._payload)}function Rj(t){function e(x,g){if(t){var w=x.deletions;w===null?(x.deletions=[g],x.flags|=16):w.push(g)}}function n(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function s(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function r(x,g){return x=wi(x,g),x.index=0,x.sibling=null,x}function i(x,g,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<g?(x.flags|=2,g):w):(x.flags|=2,g)):(x.flags|=1048576,g)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,g,w,S){return g===null||g.tag!==6?(g=jm(w,x.mode,S),g.return=x,g):(g=r(g,w),g.return=x,g)}function l(x,g,w,S){var _=w.type;return _===ro?d(x,g,w.props.children,S,w.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hr&&c0(_)===g.type)?(S=r(g,w.props),S.ref=Ol(x,g,w),S.return=x,S):(S=Ld(w.type,w.key,w.props,null,x.mode,S),S.ref=Ol(x,g,w),S.return=x,S)}function u(x,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Cm(w,x.mode,S),g.return=x,g):(g=r(g,w.children||[]),g.return=x,g)}function d(x,g,w,S,_){return g===null||g.tag!==7?(g=xa(w,x.mode,S,_),g.return=x,g):(g=r(g,w),g.return=x,g)}function f(x,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=jm(""+g,x.mode,w),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lu:return w=Ld(g.type,g.key,g.props,null,x.mode,w),w.ref=Ol(x,null,g),w.return=x,w;case so:return g=Cm(g,x.mode,w),g.return=x,g;case Hr:var S=g._init;return f(x,S(g._payload),w)}if(Gl(g)||Tl(g))return g=xa(g,x.mode,w,null),g.return=x,g;Ku(x,g)}return null}function h(x,g,w,S){var _=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(x,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lu:return w.key===_?l(x,g,w,S):null;case so:return w.key===_?u(x,g,w,S):null;case Hr:return _=w._init,h(x,g,_(w._payload),S)}if(Gl(w)||Tl(w))return _!==null?null:d(x,g,w,S,null);Ku(x,w)}return null}function m(x,g,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,o(g,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lu:return x=x.get(S.key===null?w:S.key)||null,l(g,x,S,_);case so:return x=x.get(S.key===null?w:S.key)||null,u(g,x,S,_);case Hr:var N=S._init;return m(x,g,w,N(S._payload),_)}if(Gl(S)||Tl(S))return x=x.get(w)||null,d(g,x,S,_,null);Ku(g,S)}return null}function y(x,g,w,S){for(var _=null,N=null,j=g,C=g=0,P=null;j!==null&&C<w.length;C++){j.index>C?(P=j,j=null):P=j.sibling;var O=h(x,j,w[C],S);if(O===null){j===null&&(j=P);break}t&&j&&O.alternate===null&&e(x,j),g=i(O,g,C),N===null?_=O:N.sibling=O,N=O,j=P}if(C===w.length)return n(x,j),ut&&Qi(x,C),_;if(j===null){for(;C<w.length;C++)j=f(x,w[C],S),j!==null&&(g=i(j,g,C),N===null?_=j:N.sibling=j,N=j);return ut&&Qi(x,C),_}for(j=s(x,j);C<w.length;C++)P=m(j,x,C,w[C],S),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?C:P.key),g=i(P,g,C),N===null?_=P:N.sibling=P,N=P);return t&&j.forEach(function(z){return e(x,z)}),ut&&Qi(x,C),_}function p(x,g,w,S){var _=Tl(w);if(typeof _!="function")throw Error(K(150));if(w=_.call(w),w==null)throw Error(K(151));for(var N=_=null,j=g,C=g=0,P=null,O=w.next();j!==null&&!O.done;C++,O=w.next()){j.index>C?(P=j,j=null):P=j.sibling;var z=h(x,j,O.value,S);if(z===null){j===null&&(j=P);break}t&&j&&z.alternate===null&&e(x,j),g=i(z,g,C),N===null?_=z:N.sibling=z,N=z,j=P}if(O.done)return n(x,j),ut&&Qi(x,C),_;if(j===null){for(;!O.done;C++,O=w.next())O=f(x,O.value,S),O!==null&&(g=i(O,g,C),N===null?_=O:N.sibling=O,N=O);return ut&&Qi(x,C),_}for(j=s(x,j);!O.done;C++,O=w.next())O=m(j,x,C,O.value,S),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?C:O.key),g=i(O,g,C),N===null?_=O:N.sibling=O,N=O);return t&&j.forEach(function(R){return e(x,R)}),ut&&Qi(x,C),_}function b(x,g,w,S){if(typeof w=="object"&&w!==null&&w.type===ro&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Lu:e:{for(var _=w.key,N=g;N!==null;){if(N.key===_){if(_=w.type,_===ro){if(N.tag===7){n(x,N.sibling),g=r(N,w.props.children),g.return=x,x=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hr&&c0(_)===N.type){n(x,N.sibling),g=r(N,w.props),g.ref=Ol(x,N,w),g.return=x,x=g;break e}n(x,N);break}else e(x,N);N=N.sibling}w.type===ro?(g=xa(w.props.children,x.mode,S,w.key),g.return=x,x=g):(S=Ld(w.type,w.key,w.props,null,x.mode,S),S.ref=Ol(x,g,w),S.return=x,x=S)}return a(x);case so:e:{for(N=w.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(x,g.sibling),g=r(g,w.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else e(x,g);g=g.sibling}g=Cm(w,x.mode,S),g.return=x,x=g}return a(x);case Hr:return N=w._init,b(x,g,N(w._payload),S)}if(Gl(w))return y(x,g,w,S);if(Tl(w))return p(x,g,w,S);Ku(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(x,g.sibling),g=r(g,w),g.return=x,x=g):(n(x,g),g=jm(w,x.mode,S),g.return=x,x=g),a(x)):n(x,g)}return b}var Qo=Rj(!0),Fj=Rj(!1),ff=Fi(null),hf=null,ho=null,Dy=null;function Oy(){Dy=ho=hf=null}function Ay(t){var e=ff.current;lt(ff),t._currentValue=e}function Qp(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function So(t,e){hf=t,Dy=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function ns(t){var e=t._currentValue;if(Dy!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(hf===null)throw Error(K(308));ho=t,hf.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var na=null;function Iy(t){na===null?na=[t]:na.push(t)}function Lj(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Iy(e)):(n.next=r.next,r.next=n),e.interleaved=n,Nr(t,s)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xi(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ve&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Nr(t,n)}return r=s.interleaved,r===null?(e.next=e,Iy(s)):(e.next=r.next,r.next=e),s.interleaved=e,Nr(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,wy(t,n)}}function u0(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mf(t,e,n,s){var r=t.updateQueue;Yr=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=r.baseState;a=0,d=u=l=null,o=i;do{var h=o.lane,m=o.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,p=o;switch(h=e,m=n,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=yt({},f,h);break e;case 2:Yr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,a|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ka|=a,t.lanes=a,t.memoizedState=f}}function d0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(K(191,r));r.call(s)}}}var wu={},Us=Fi(wu),Rc=Fi(wu),Fc=Fi(wu);function sa(t){if(t===wu)throw Error(K(174));return t}function Fy(t,e){switch(rt(Fc,e),rt(Rc,t),rt(Us,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}lt(Us),rt(Us,e)}function Ko(){lt(Us),lt(Rc),lt(Fc)}function Vj(t){sa(Fc.current);var e=sa(Us.current),n=Tp(e,t.type);e!==n&&(rt(Rc,t),rt(Us,n))}function Ly(t){Rc.current===t&&(lt(Us),lt(Rc))}var mt=Fi(0);function pf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bm=[];function zy(){for(var t=0;t<bm.length;t++)bm[t]._workInProgressVersionPrimary=null;bm.length=0}var Od=Pr.ReactCurrentDispatcher,wm=Pr.ReactCurrentBatchConfig,Na=0,gt=null,Ft=null,Wt=null,gf=!1,dc=!1,Lc=0,qI=0;function en(){throw Error(K(321))}function Vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ws(t[n],e[n]))return!1;return!0}function $y(t,e,n,s,r,i){if(Na=i,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Od.current=t===null||t.memoizedState===null?XI:ZI,t=n(s,r),dc){i=0;do{if(dc=!1,Lc=0,25<=i)throw Error(K(301));i+=1,Wt=Ft=null,e.updateQueue=null,Od.current=JI,t=n(s,r)}while(dc)}if(Od.current=yf,e=Ft!==null&&Ft.next!==null,Na=0,Wt=Ft=gt=null,gf=!1,e)throw Error(K(300));return t}function By(){var t=Lc!==0;return Lc=0,t}function Es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?gt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function ss(){if(Ft===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Wt===null?gt.memoizedState:Wt.next;if(e!==null)Wt=e,Ft=t;else{if(t===null)throw Error(K(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?gt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function zc(t,e){return typeof e=="function"?e(t):e}function Sm(t){var e=ss(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=Ft,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var o=a=null,l=null,u=i;do{var d=u.lane;if((Na&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=s):l=l.next=f,gt.lanes|=d,ka|=d}u=u.next}while(u!==null&&u!==i);l===null?a=s:l.next=o,ws(s,e.memoizedState)||(Tn=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,gt.lanes|=i,ka|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _m(t){var e=ss(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);ws(i,e.memoizedState)||(Tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function $j(){}function Bj(t,e){var n=gt,s=ss(),r=e(),i=!ws(s.memoizedState,r);if(i&&(s.memoizedState=r,Tn=!0),s=s.queue,Uy(Hj.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Vc(9,Wj.bind(null,n,s,r,e),void 0,null),Ht===null)throw Error(K(349));Na&30||Uj(n,e,r)}return r}function Uj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wj(t,e,n,s){e.value=n,e.getSnapshot=s,Yj(e)&&qj(t)}function Hj(t,e,n){return n(function(){Yj(e)&&qj(t)})}function Yj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ws(t,n)}catch{return!0}}function qj(t){var e=Nr(t,1);e!==null&&vs(e,t,1,-1)}function f0(t){var e=Es();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=GI.bind(null,gt,t),[e.memoizedState,t]}function Vc(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Qj(){return ss().memoizedState}function Ad(t,e,n,s){var r=Es();gt.flags|=t,r.memoizedState=Vc(1|e,n,void 0,s===void 0?null:s)}function gh(t,e,n,s){var r=ss();s=s===void 0?null:s;var i=void 0;if(Ft!==null){var a=Ft.memoizedState;if(i=a.destroy,s!==null&&Vy(s,a.deps)){r.memoizedState=Vc(e,n,i,s);return}}gt.flags|=t,r.memoizedState=Vc(1|e,n,i,s)}function h0(t,e){return Ad(8390656,8,t,e)}function Uy(t,e){return gh(2048,8,t,e)}function Kj(t,e){return gh(4,2,t,e)}function Gj(t,e){return gh(4,4,t,e)}function Xj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zj(t,e,n){return n=n!=null?n.concat([t]):null,gh(4,4,Xj.bind(null,e,t),n)}function Wy(){}function Jj(t,e){var n=ss();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Vy(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function eC(t,e){var n=ss();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Vy(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function tC(t,e,n){return Na&21?(ws(n,e)||(n=aj(),gt.lanes|=n,ka|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function QI(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var s=wm.transition;wm.transition={};try{t(!1),e()}finally{Je=n,wm.transition=s}}function nC(){return ss().memoizedState}function KI(t,e,n){var s=bi(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},sC(t))rC(e,n);else if(n=Lj(t,e,n,s),n!==null){var r=yn();vs(n,t,s,r),iC(n,e,s)}}function GI(t,e,n){var s=bi(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(sC(t))rC(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,ws(o,a)){var l=e.interleaved;l===null?(r.next=r,Iy(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Lj(t,e,r,s),n!==null&&(r=yn(),vs(n,t,s,r),iC(n,e,s))}}function sC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function rC(t,e){dc=gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iC(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,wy(t,n)}}var yf={readContext:ns,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},XI={readContext:ns,useCallback:function(t,e){return Es().memoizedState=[t,e===void 0?null:e],t},useContext:ns,useEffect:h0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ad(4194308,4,Xj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ad(4,2,t,e)},useMemo:function(t,e){var n=Es();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Es();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=KI.bind(null,gt,t),[s.memoizedState,t]},useRef:function(t){var e=Es();return t={current:t},e.memoizedState=t},useState:f0,useDebugValue:Wy,useDeferredValue:function(t){return Es().memoizedState=t},useTransition:function(){var t=f0(!1),e=t[0];return t=QI.bind(null,t[1]),Es().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=gt,r=Es();if(ut){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ht===null)throw Error(K(349));Na&30||Uj(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,h0(Hj.bind(null,s,i,t),[t]),s.flags|=2048,Vc(9,Wj.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Es(),e=Ht.identifierPrefix;if(ut){var n=gr,s=pr;n=(s&~(1<<32-xs(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZI={readContext:ns,useCallback:Jj,useContext:ns,useEffect:Uy,useImperativeHandle:Zj,useInsertionEffect:Kj,useLayoutEffect:Gj,useMemo:eC,useReducer:Sm,useRef:Qj,useState:function(){return Sm(zc)},useDebugValue:Wy,useDeferredValue:function(t){var e=ss();return tC(e,Ft.memoizedState,t)},useTransition:function(){var t=Sm(zc)[0],e=ss().memoizedState;return[t,e]},useMutableSource:$j,useSyncExternalStore:Bj,useId:nC,unstable_isNewReconciler:!1},JI={readContext:ns,useCallback:Jj,useContext:ns,useEffect:Uy,useImperativeHandle:Zj,useInsertionEffect:Kj,useLayoutEffect:Gj,useMemo:eC,useReducer:_m,useRef:Qj,useState:function(){return _m(zc)},useDebugValue:Wy,useDeferredValue:function(t){var e=ss();return Ft===null?e.memoizedState=t:tC(e,Ft.memoizedState,t)},useTransition:function(){var t=_m(zc)[0],e=ss().memoizedState;return[t,e]},useMutableSource:$j,useSyncExternalStore:Bj,useId:nC,unstable_isNewReconciler:!1};function cs(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kp(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yh={isMounted:function(t){return(t=t._reactInternals)?$a(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=yn(),r=bi(t),i=xr(s,r);i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,r),e!==null&&(vs(e,t,r,s),Dd(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=yn(),r=bi(t),i=xr(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xi(t,i,r),e!==null&&(vs(e,t,r,s),Dd(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),s=bi(t),r=xr(n,s);r.tag=2,e!=null&&(r.callback=e),e=xi(t,r,s),e!==null&&(vs(e,t,s,n),Dd(e,t,s))}};function m0(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!Dc(n,s)||!Dc(r,i):!0}function aC(t,e,n){var s=!1,r=ki,i=e.contextType;return typeof i=="object"&&i!==null?i=ns(i):(r=En(e)?Sa:ln.current,s=e.contextTypes,i=(s=s!=null)?Yo(t,r):ki),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function p0(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function Gp(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ry(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ns(i):(i=En(e)?Sa:ln.current,r.context=Yo(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Kp(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&yh.enqueueReplaceState(r,r.state,null),mf(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e){try{var n="",s=e;do n+=CA(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Nm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eR=typeof WeakMap=="function"?WeakMap:Map;function oC(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){vf||(vf=!0,og=s),Xp(t,e)},n}function lC(t,e,n){n=xr(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Xp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xp(t,e),typeof s!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function g0(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new eR;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=mR.bind(null,t,e,n),e.then(t,t))}function y0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x0(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,xi(n,e,1))),n.lanes|=1),t)}var tR=Pr.ReactCurrentOwner,Tn=!1;function fn(t,e,n,s){e.child=t===null?Fj(e,null,n,s):Qo(e,t.child,n,s)}function v0(t,e,n,s,r){n=n.render;var i=e.ref;return So(e,r),s=$y(t,e,n,s,i,r),n=By(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,kr(t,e,r)):(ut&&n&&Py(e),e.flags|=1,fn(t,e,s,r),e.child)}function b0(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Zy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,cC(t,e,i,s,r)):(t=Ld(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Dc,n(a,s)&&t.ref===e.ref)return kr(t,e,r)}return e.flags|=1,t=wi(i,s),t.ref=e.ref,t.return=e,e.child=t}function cC(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Dc(i,s)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,kr(t,e,r)}return Zp(t,e,n,s,r)}function uC(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(po,In),In|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(po,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,rt(po,In),In|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,rt(po,In),In|=s;return fn(t,e,r,n),e.child}function dC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zp(t,e,n,s,r){var i=En(n)?Sa:ln.current;return i=Yo(e,i),So(e,r),n=$y(t,e,n,s,i,r),s=By(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,kr(t,e,r)):(ut&&s&&Py(e),e.flags|=1,fn(t,e,n,r),e.child)}function w0(t,e,n,s,r){if(En(n)){var i=!0;cf(e)}else i=!1;if(So(e,r),e.stateNode===null)Id(t,e),aC(e,n,s),Gp(e,n,s,r),s=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=En(n)?Sa:ln.current,u=Yo(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==u)&&p0(e,a,s,u),Yr=!1;var h=e.memoizedState;a.state=h,mf(e,s,a,r),l=e.memoizedState,o!==s||h!==l||Pn.current||Yr?(typeof d=="function"&&(Kp(e,n,d,s),l=e.memoizedState),(o=Yr||m0(e,n,o,s,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),a.props=s,a.state=l,a.context=u,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,zj(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:cs(e.type,o),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=En(n)?Sa:ln.current,l=Yo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&p0(e,a,s,l),Yr=!1,h=e.memoizedState,a.state=h,mf(e,s,a,r);var y=e.memoizedState;o!==f||h!==y||Pn.current||Yr?(typeof m=="function"&&(Kp(e,n,m,s),y=e.memoizedState),(u=Yr||m0(e,n,u,s,h,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),a.props=s,a.state=y,a.context=l,s=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),s=!1)}return Jp(t,e,n,s,i,r)}function Jp(t,e,n,s,r,i){dC(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&a0(e,n,!1),kr(t,e,i);s=e.stateNode,tR.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=Qo(e,t.child,null,i),e.child=Qo(e,null,o,i)):fn(t,e,o,i),e.memoizedState=s.state,r&&a0(e,n,!0),e.child}function fC(t){var e=t.stateNode;e.pendingContext?i0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i0(t,e.context,!1),Fy(t,e.containerInfo)}function S0(t,e,n,s,r){return qo(),My(r),e.flags|=256,fn(t,e,n,s),e.child}var eg={dehydrated:null,treeContext:null,retryLane:0};function tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function hC(t,e,n){var s=e.pendingProps,r=mt.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),rt(mt,r&1),t===null)return qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=bh(a,s,0,null),t=xa(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tg(n),e.memoizedState=eg,t):Hy(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return nR(t,e,a,s,o,r,n);if(i){i=s.fallback,a=e.mode,r=t.child,o=r.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=wi(r,l),s.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=wi(o,i):(i=xa(i,a,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=t.child.memoizedState,a=a===null?tg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=eg,s}return i=t.child,t=i.sibling,s=wi(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Hy(t,e){return e=bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gu(t,e,n,s){return s!==null&&My(s),Qo(e,t.child,null,n),t=Hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nR(t,e,n,s,r,i,a){if(n)return e.flags&256?(e.flags&=-257,s=Nm(Error(K(422))),Gu(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=bh({mode:"visible",children:s.children},r,0,null),i=xa(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Qo(e,t.child,null,a),e.child.memoizedState=tg(a),e.memoizedState=eg,i);if(!(e.mode&1))return Gu(t,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(K(419)),s=Nm(i,s,void 0),Gu(t,e,a,s)}if(o=(a&t.childLanes)!==0,Tn||o){if(s=Ht,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Nr(t,r),vs(s,t,r,-1))}return Xy(),s=Nm(Error(K(421))),Gu(t,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=pR.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Ln=yi(r.nextSibling),zn=e,ut=!0,ms=null,t!==null&&(Xn[Zn++]=pr,Xn[Zn++]=gr,Xn[Zn++]=_a,pr=t.id,gr=t.overflow,_a=e),e=Hy(e,s.children),e.flags|=4096,e)}function _0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Qp(t.return,e,n)}function km(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function mC(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(fn(t,e,s.children,n),s=mt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_0(t,n,e);else if(t.tag===19)_0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(rt(mt,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&pf(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),km(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&pf(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}km(e,!0,n,null,i);break;case"together":km(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ka|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sR(t,e,n){switch(e.tag){case 3:fC(e),qo();break;case 5:Vj(e);break;case 1:En(e.type)&&cf(e);break;case 4:Fy(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;rt(ff,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(rt(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?hC(t,e,n):(rt(mt,mt.current&1),t=kr(t,e,n),t!==null?t.sibling:null);rt(mt,mt.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return mC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),rt(mt,mt.current),s)break;return null;case 22:case 23:return e.lanes=0,uC(t,e,n)}return kr(t,e,n)}var pC,ng,gC,yC;pC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ng=function(){};gC=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,sa(Us.current);var i=null;switch(n){case"input":r=Np(t,r),s=Np(t,s),i=[];break;case"select":r=yt({},r,{value:void 0}),s=yt({},s,{value:void 0}),i=[];break;case"textarea":r=Cp(t,r),s=Cp(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=of)}Pp(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(o=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&at("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yC=function(t,e,n,s){n!==s&&(e.flags|=4)};function Al(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function rR(t,e,n){var s=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return En(e.type)&&lf(),tn(e),null;case 3:return s=e.stateNode,Ko(),lt(Pn),lt(ln),zy(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ms!==null&&(ug(ms),ms=null))),ng(t,e),tn(e),null;case 5:Ly(e);var r=sa(Fc.current);if(n=e.type,t!==null&&e.stateNode!=null)gC(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(K(166));return tn(e),null}if(t=sa(Us.current),Qu(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Is]=e,s[Ic]=i,t=(e.mode&1)!==0,n){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(r=0;r<Zl.length;r++)at(Zl[r],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":Dv(s,i),at("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},at("invalid",s);break;case"textarea":Av(s,i),at("invalid",s)}Pp(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&qu(s.textContent,o,t),r=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&qu(s.textContent,o,t),r=["children",""+o]):kc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&at("scroll",s)}switch(n){case"input":zu(s),Ov(s,i,!0);break;case"textarea":zu(s),Iv(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=of)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[Is]=e,t[Ic]=s,pC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ep(n,s),n){case"dialog":at("cancel",t),at("close",t),r=s;break;case"iframe":case"object":case"embed":at("load",t),r=s;break;case"video":case"audio":for(r=0;r<Zl.length;r++)at(Zl[r],t);r=s;break;case"source":at("error",t),r=s;break;case"img":case"image":case"link":at("error",t),at("load",t),r=s;break;case"details":at("toggle",t),r=s;break;case"input":Dv(t,s),r=Np(t,s),at("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=yt({},s,{value:void 0}),at("invalid",t);break;case"textarea":Av(t,s),r=Cp(t,s),at("invalid",t);break;default:r=s}Pp(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Qk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jc(t,l):typeof l=="number"&&jc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&at("scroll",t):l!=null&&py(t,i,l,a))}switch(n){case"input":zu(t),Ov(t,s,!1);break;case"textarea":zu(t),Iv(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Ni(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?xo(t,!!s.multiple,i,!1):s.defaultValue!=null&&xo(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=of)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)yC(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(K(166));if(n=sa(Fc.current),sa(Us.current),Qu(e)){if(s=e.stateNode,n=e.memoizedProps,s[Is]=e,(i=s.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:qu(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qu(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Is]=e,e.stateNode=s}return tn(e),null;case 13:if(lt(mt),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Ln!==null&&e.mode&1&&!(e.flags&128))Ij(),qo(),e.flags|=98560,i=!1;else if(i=Qu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Is]=e}else qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),i=!1}else ms!==null&&(ug(ms),ms=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Vt===0&&(Vt=3):Xy())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return Ko(),ng(t,e),t===null&&Oc(e.stateNode.containerInfo),tn(e),null;case 10:return Ay(e.type._context),tn(e),null;case 17:return En(e.type)&&lf(),tn(e),null;case 19:if(lt(mt),i=e.memoizedState,i===null)return tn(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Al(i,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=pf(t),a!==null){for(e.flags|=128,Al(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(mt,mt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Nt()>Xo&&(e.flags|=128,s=!0,Al(i,!1),e.lanes=4194304)}else{if(!s)if(t=pf(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ut)return tn(e),null}else 2*Nt()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,s=!0,Al(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Nt(),e.sibling=null,n=mt.current,rt(mt,s?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return Gy(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?In&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function iR(t,e){switch(Ey(e),e.tag){case 1:return En(e.type)&&lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ko(),lt(Pn),lt(ln),zy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ly(e),null;case 13:if(lt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(mt),null;case 4:return Ko(),null;case 10:return Ay(e.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var Xu=!1,rn=!1,aR=typeof WeakSet=="function"?WeakSet:Set,oe=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){vt(t,e,s)}else n.current=null}function sg(t,e,n){try{n()}catch(s){vt(t,e,s)}}var N0=!1;function oR(t,e){if(Vp=sf,t=Sj(),Ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(o=a+r),f!==i||s!==0&&f.nodeType!==3||(l=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===r&&(o=a),h===i&&++d===s&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($p={focusedElem:t,selectionRange:n},sf=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,b=y.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?p:cs(e.type,p),b);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(S){vt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return y=N0,N0=!1,y}function fc(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&sg(e,n,i)}r=r.next}while(r!==s)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function rg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xC(t){var e=t.alternate;e!==null&&(t.alternate=null,xC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Is],delete e[Ic],delete e[Wp],delete e[UI],delete e[WI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vC(t){return t.tag===5||t.tag===3||t.tag===4}function k0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ig(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=of));else if(s!==4&&(t=t.child,t!==null))for(ig(t,e,n),t=t.sibling;t!==null;)ig(t,e,n),t=t.sibling}function ag(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}var Kt=null,fs=!1;function Lr(t,e,n){for(n=n.child;n!==null;)bC(t,e,n),n=n.sibling}function bC(t,e,n){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:rn||mo(n,e);case 6:var s=Kt,r=fs;Kt=null,Lr(t,e,n),Kt=s,fs=r,Kt!==null&&(fs?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(fs?(t=Kt,n=n.stateNode,t.nodeType===8?xm(t.parentNode,n):t.nodeType===1&&xm(t,n),Ec(t)):xm(Kt,n.stateNode));break;case 4:s=Kt,r=fs,Kt=n.stateNode.containerInfo,fs=!0,Lr(t,e,n),Kt=s,fs=r;break;case 0:case 11:case 14:case 15:if(!rn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&sg(n,e,a),r=r.next}while(r!==s)}Lr(t,e,n);break;case 1:if(!rn&&(mo(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){vt(n,e,o)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(rn=(s=rn)||n.memoizedState!==null,Lr(t,e,n),rn=s):Lr(t,e,n);break;default:Lr(t,e,n)}}function j0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aR),e.forEach(function(s){var r=gR.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function os(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Kt=o.stateNode,fs=!1;break e;case 3:Kt=o.stateNode.containerInfo,fs=!0;break e;case 4:Kt=o.stateNode.containerInfo,fs=!0;break e}o=o.return}if(Kt===null)throw Error(K(160));bC(i,a,r),Kt=null,fs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){vt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wC(e,t),e=e.sibling}function wC(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(os(e,t),Cs(t),s&4){try{fc(3,t,t.return),xh(3,t)}catch(p){vt(t,t.return,p)}try{fc(5,t,t.return)}catch(p){vt(t,t.return,p)}}break;case 1:os(e,t),Cs(t),s&512&&n!==null&&mo(n,n.return);break;case 5:if(os(e,t),Cs(t),s&512&&n!==null&&mo(n,n.return),t.flags&32){var r=t.stateNode;try{jc(r,"")}catch(p){vt(t,t.return,p)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Uk(r,i),Ep(o,a);var u=Ep(o,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Qk(r,f):d==="dangerouslySetInnerHTML"?Yk(r,f):d==="children"?jc(r,f):py(r,d,f,u)}switch(o){case"input":kp(r,i);break;case"textarea":Wk(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xo(r,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?xo(r,!!i.multiple,i.defaultValue,!0):xo(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ic]=i}catch(p){vt(t,t.return,p)}}break;case 6:if(os(e,t),Cs(t),s&4){if(t.stateNode===null)throw Error(K(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(p){vt(t,t.return,p)}}break;case 3:if(os(e,t),Cs(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ec(e.containerInfo)}catch(p){vt(t,t.return,p)}break;case 4:os(e,t),Cs(t);break;case 13:os(e,t),Cs(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Qy=Nt())),s&4&&j0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(u=rn)||d,os(e,t),rn=u):os(e,t),Cs(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:fc(4,h,h.return);break;case 1:mo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){s=h,n=h.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(p){vt(s,n,p)}}break;case 5:mo(h,h.return);break;case 22:if(h.memoizedState!==null){T0(f);continue}}m!==null?(m.return=h,oe=m):T0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=qk("display",a))}catch(p){vt(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){vt(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:os(e,t),Cs(t),s&4&&j0(t);break;case 21:break;default:os(e,t),Cs(t)}}function Cs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vC(n)){var s=n;break e}n=n.return}throw Error(K(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(jc(r,""),s.flags&=-33);var i=k0(t);ag(t,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,o=k0(t);ig(t,o,a);break;default:throw Error(K(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lR(t,e,n){oe=t,SC(t)}function SC(t,e,n){for(var s=(t.mode&1)!==0;oe!==null;){var r=oe,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||Xu;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||rn;o=Xu;var u=rn;if(Xu=a,(rn=l)&&!u)for(oe=r;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?P0(r):l!==null?(l.return=a,oe=l):P0(r);for(;i!==null;)oe=i,SC(i),i=i.sibling;oe=r,Xu=o,rn=u}C0(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,oe=i):C0(t)}}function C0(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||xh(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!rn)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:cs(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&d0(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}d0(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ec(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}rn||e.flags&512&&rg(e)}catch(h){vt(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function T0(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function P0(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(l){vt(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){vt(e,r,l)}}var i=e.return;try{rg(e)}catch(l){vt(e,i,l)}break;case 5:var a=e.return;try{rg(e)}catch(l){vt(e,a,l)}}}catch(l){vt(e,e.return,l)}if(e===t){oe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,oe=o;break}oe=e.return}}var cR=Math.ceil,xf=Pr.ReactCurrentDispatcher,Yy=Pr.ReactCurrentOwner,ts=Pr.ReactCurrentBatchConfig,Ve=0,Ht=null,Ot=null,Xt=0,In=0,po=Fi(0),Vt=0,$c=null,ka=0,vh=0,qy=0,hc=null,jn=null,Qy=0,Xo=1/0,lr=null,vf=!1,og=null,vi=null,Zu=!1,ai=null,bf=0,mc=0,lg=null,Rd=-1,Fd=0;function yn(){return Ve&6?Nt():Rd!==-1?Rd:Rd=Nt()}function bi(t){return t.mode&1?Ve&2&&Xt!==0?Xt&-Xt:YI.transition!==null?(Fd===0&&(Fd=aj()),Fd):(t=Je,t!==0||(t=window.event,t=t===void 0?16:hj(t.type)),t):1}function vs(t,e,n,s){if(50<mc)throw mc=0,lg=null,Error(K(185));xu(t,n,s),(!(Ve&2)||t!==Ht)&&(t===Ht&&(!(Ve&2)&&(vh|=n),Vt===4&&Qr(t,Xt)),Mn(t,s),n===1&&Ve===0&&!(e.mode&1)&&(Xo=Nt()+500,ph&&Li()))}function Mn(t,e){var n=t.callbackNode;YA(t,e);var s=nf(t,t===Ht?Xt:0);if(s===0)n!==null&&Lv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Lv(n),e===1)t.tag===0?HI(E0.bind(null,t)):Dj(E0.bind(null,t)),$I(function(){!(Ve&6)&&Li()}),n=null;else{switch(oj(s)){case 1:n=by;break;case 4:n=rj;break;case 16:n=tf;break;case 536870912:n=ij;break;default:n=tf}n=EC(n,_C.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _C(t,e){if(Rd=-1,Fd=0,Ve&6)throw Error(K(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var s=nf(t,t===Ht?Xt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=wf(t,s);else{e=s;var r=Ve;Ve|=2;var i=kC();(Ht!==t||Xt!==e)&&(lr=null,Xo=Nt()+500,ya(t,e));do try{fR();break}catch(o){NC(t,o)}while(!0);Oy(),xf.current=i,Ve=r,Ot!==null?e=0:(Ht=null,Xt=0,e=Vt)}if(e!==0){if(e===2&&(r=Ip(t),r!==0&&(s=r,e=cg(t,r))),e===1)throw n=$c,ya(t,0),Qr(t,s),Mn(t,Nt()),n;if(e===6)Qr(t,s);else{if(r=t.current.alternate,!(s&30)&&!uR(r)&&(e=wf(t,s),e===2&&(i=Ip(t),i!==0&&(s=i,e=cg(t,i))),e===1))throw n=$c,ya(t,0),Qr(t,s),Mn(t,Nt()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(K(345));case 2:Ki(t,jn,lr);break;case 3:if(Qr(t,s),(s&130023424)===s&&(e=Qy+500-Nt(),10<e)){if(nf(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){yn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Up(Ki.bind(null,t,jn,lr),e);break}Ki(t,jn,lr);break;case 4:if(Qr(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var a=31-xs(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=Nt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*cR(s/1960))-s,10<s){t.timeoutHandle=Up(Ki.bind(null,t,jn,lr),s);break}Ki(t,jn,lr);break;case 5:Ki(t,jn,lr);break;default:throw Error(K(329))}}}return Mn(t,Nt()),t.callbackNode===n?_C.bind(null,t):null}function cg(t,e){var n=hc;return t.current.memoizedState.isDehydrated&&(ya(t,e).flags|=256),t=wf(t,e),t!==2&&(e=jn,jn=n,e!==null&&ug(e)),t}function ug(t){jn===null?jn=t:jn.push.apply(jn,t)}function uR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!ws(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~qy,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xs(e),s=1<<n;t[n]=-1,e&=~s}}function E0(t){if(Ve&6)throw Error(K(327));_o();var e=nf(t,0);if(!(e&1))return Mn(t,Nt()),null;var n=wf(t,e);if(t.tag!==0&&n===2){var s=Ip(t);s!==0&&(e=s,n=cg(t,s))}if(n===1)throw n=$c,ya(t,0),Qr(t,e),Mn(t,Nt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ki(t,jn,lr),Mn(t,Nt()),null}function Ky(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Xo=Nt()+500,ph&&Li())}}function ja(t){ai!==null&&ai.tag===0&&!(Ve&6)&&_o();var e=Ve;Ve|=1;var n=ts.transition,s=Je;try{if(ts.transition=null,Je=1,t)return t()}finally{Je=s,ts.transition=n,Ve=e,!(Ve&6)&&Li()}}function Gy(){In=po.current,lt(po)}function ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VI(n)),Ot!==null)for(n=Ot.return;n!==null;){var s=n;switch(Ey(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&lf();break;case 3:Ko(),lt(Pn),lt(ln),zy();break;case 5:Ly(s);break;case 4:Ko();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:Ay(s.type._context);break;case 22:case 23:Gy()}n=n.return}if(Ht=t,Ot=t=wi(t.current,null),Xt=In=e,Vt=0,$c=null,qy=vh=ka=0,jn=hc=null,na!==null){for(e=0;e<na.length;e++)if(n=na[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}na=null}return t}function NC(t,e){do{var n=Ot;try{if(Oy(),Od.current=yf,gf){for(var s=gt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}gf=!1}if(Na=0,Wt=Ft=gt=null,dc=!1,Lc=0,Yy.current=null,n===null||n.return===null){Vt=1,$c=e,Ot=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=Xt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=y0(a);if(m!==null){m.flags&=-257,x0(m,a,o,i,e),m.mode&1&&g0(i,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var p=new Set;p.add(l),e.updateQueue=p}else y.add(l);break e}else{if(!(e&1)){g0(i,u,e),Xy();break e}l=Error(K(426))}}else if(ut&&o.mode&1){var b=y0(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),x0(b,a,o,i,e),My(Go(l,o));break e}}i=l=Go(l,o),Vt!==4&&(Vt=2),hc===null?hc=[i]:hc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=oC(i,l,e);u0(i,x);break e;case 1:o=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vi===null||!vi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=lC(i,o,e);u0(i,S);break e}}i=i.return}while(i!==null)}CC(n)}catch(_){e=_,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function kC(){var t=xf.current;return xf.current=yf,t===null?yf:t}function Xy(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ht===null||!(ka&268435455)&&!(vh&268435455)||Qr(Ht,Xt)}function wf(t,e){var n=Ve;Ve|=2;var s=kC();(Ht!==t||Xt!==e)&&(lr=null,ya(t,e));do try{dR();break}catch(r){NC(t,r)}while(!0);if(Oy(),Ve=n,xf.current=s,Ot!==null)throw Error(K(261));return Ht=null,Xt=0,Vt}function dR(){for(;Ot!==null;)jC(Ot)}function fR(){for(;Ot!==null&&!FA();)jC(Ot)}function jC(t){var e=PC(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?CC(t):Ot=e,Yy.current=null}function CC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iR(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Ot=null;return}}else if(n=rR(n,e,In),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Vt===0&&(Vt=5)}function Ki(t,e,n){var s=Je,r=ts.transition;try{ts.transition=null,Je=1,hR(t,e,n,s)}finally{ts.transition=r,Je=s}return null}function hR(t,e,n,s){do _o();while(ai!==null);if(Ve&6)throw Error(K(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(qA(t,i),t===Ht&&(Ot=Ht=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zu||(Zu=!0,EC(tf,function(){return _o(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ts.transition,ts.transition=null;var a=Je;Je=1;var o=Ve;Ve|=4,Yy.current=null,oR(t,n),wC(n,t),OI($p),sf=!!Vp,$p=Vp=null,t.current=n,lR(n),LA(),Ve=o,Je=a,ts.transition=i}else t.current=n;if(Zu&&(Zu=!1,ai=t,bf=r),i=t.pendingLanes,i===0&&(vi=null),$A(n.stateNode),Mn(t,Nt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(vf)throw vf=!1,t=og,og=null,t;return bf&1&&t.tag!==0&&_o(),i=t.pendingLanes,i&1?t===lg?mc++:(mc=0,lg=t):mc=0,Li(),null}function _o(){if(ai!==null){var t=oj(bf),e=ts.transition,n=Je;try{if(ts.transition=null,Je=16>t?16:t,ai===null)var s=!1;else{if(t=ai,ai=null,bf=0,Ve&6)throw Error(K(331));var r=Ve;for(Ve|=4,oe=t.current;oe!==null;){var i=oe,a=i.child;if(oe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:fc(8,d,i)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,m=d.return;if(xC(d),d===u){oe=null;break}if(h!==null){h.return=m,oe=h;break}oe=m}}}var y=i.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}oe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,oe=a;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,oe=x;break e}oe=i.return}}var g=t.current;for(oe=g;oe!==null;){a=oe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,oe=w;else e:for(a=g;oe!==null;){if(o=oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xh(9,o)}}catch(_){vt(o,o.return,_)}if(o===a){oe=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,oe=S;break e}oe=o.return}}if(Ve=r,Li(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(uh,t)}catch{}s=!0}return s}finally{Je=n,ts.transition=e}}return!1}function M0(t,e,n){e=Go(n,e),e=oC(t,e,1),t=xi(t,e,1),e=yn(),t!==null&&(xu(t,1,e),Mn(t,e))}function vt(t,e,n){if(t.tag===3)M0(t,t,n);else for(;e!==null;){if(e.tag===3){M0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(vi===null||!vi.has(s))){t=Go(n,t),t=lC(e,t,1),e=xi(e,t,1),t=yn(),e!==null&&(xu(e,1,t),Mn(e,t));break}}e=e.return}}function mR(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(Xt&n)===n&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>Nt()-Qy?ya(t,0):qy|=n),Mn(t,e)}function TC(t,e){e===0&&(t.mode&1?(e=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):e=1);var n=yn();t=Nr(t,e),t!==null&&(xu(t,e,n),Mn(t,n))}function pR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TC(t,n)}function gR(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(K(314))}s!==null&&s.delete(e),TC(t,n)}var PC;PC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,sR(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,ut&&e.flags&1048576&&Oj(e,df,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Id(t,e),t=e.pendingProps;var r=Yo(e,ln.current);So(e,n),r=$y(null,e,s,t,r,n);var i=By();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(s)?(i=!0,cf(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ry(e),r.updater=yh,e.stateNode=r,r._reactInternals=e,Gp(e,s,t,n),e=Jp(null,e,s,!0,i,n)):(e.tag=0,ut&&i&&Py(e),fn(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Id(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=xR(s),t=cs(s,t),r){case 0:e=Zp(null,e,s,t,n);break e;case 1:e=w0(null,e,s,t,n);break e;case 11:e=v0(null,e,s,t,n);break e;case 14:e=b0(null,e,s,cs(s.type,t),n);break e}throw Error(K(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:cs(s,r),Zp(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:cs(s,r),w0(t,e,s,r,n);case 3:e:{if(fC(e),t===null)throw Error(K(387));s=e.pendingProps,i=e.memoizedState,r=i.element,zj(t,e),mf(e,s,null,n);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Go(Error(K(423)),e),e=S0(t,e,s,n,r);break e}else if(s!==r){r=Go(Error(K(424)),e),e=S0(t,e,s,n,r);break e}else for(Ln=yi(e.stateNode.containerInfo.firstChild),zn=e,ut=!0,ms=null,n=Fj(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qo(),s===r){e=kr(t,e,n);break e}fn(t,e,s,n)}e=e.child}return e;case 5:return Vj(e),t===null&&qp(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,a=r.children,Bp(s,r)?a=null:i!==null&&Bp(s,i)&&(e.flags|=32),dC(t,e),fn(t,e,a,n),e.child;case 6:return t===null&&qp(e),null;case 13:return hC(t,e,n);case 4:return Fy(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Qo(e,null,s,n):fn(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:cs(s,r),v0(t,e,s,r,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,rt(ff,s._currentValue),s._currentValue=a,i!==null)if(ws(i.value,a)){if(i.children===r.children&&!Pn.current){e=kr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=xr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Qp(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(K(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Qp(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}fn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,So(e,n),r=ns(r),s=s(r),e.flags|=1,fn(t,e,s,n),e.child;case 14:return s=e.type,r=cs(s,e.pendingProps),r=cs(s.type,r),b0(t,e,s,r,n);case 15:return cC(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:cs(s,r),Id(t,e),e.tag=1,En(s)?(t=!0,cf(e)):t=!1,So(e,n),aC(e,s,r),Gp(e,s,r,n),Jp(null,e,s,!0,t,n);case 19:return mC(t,e,n);case 22:return uC(t,e,n)}throw Error(K(156,e.tag))};function EC(t,e){return sj(t,e)}function yR(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,s){return new yR(t,e,n,s)}function Zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xR(t){if(typeof t=="function")return Zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yy)return 11;if(t===xy)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ld(t,e,n,s,r,i){var a=2;if(s=t,typeof t=="function")Zy(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ro:return xa(n.children,r,i,e);case gy:a=8,r|=8;break;case bp:return t=Jn(12,n,e,r|2),t.elementType=bp,t.lanes=i,t;case wp:return t=Jn(13,n,e,r),t.elementType=wp,t.lanes=i,t;case Sp:return t=Jn(19,n,e,r),t.elementType=Sp,t.lanes=i,t;case Vk:return bh(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lk:a=10;break e;case zk:a=9;break e;case yy:a=11;break e;case xy:a=14;break e;case Hr:a=16,s=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Jn(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function xa(t,e,n,s){return t=Jn(7,t,s,e),t.lanes=n,t}function bh(t,e,n,s){return t=Jn(22,t,s,e),t.elementType=Vk,t.lanes=n,t.stateNode={isHidden:!1},t}function jm(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function Cm(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vR(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Jy(t,e,n,s,r,i,a,o,l){return t=new vR(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(i),t}function bR(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function MC(t){if(!t)return ki;t=t._reactInternals;e:{if($a(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(En(n))return Mj(t,n,e)}return e}function DC(t,e,n,s,r,i,a,o,l){return t=Jy(n,s,!0,t,r,i,a,o,l),t.context=MC(null),n=t.current,s=yn(),r=bi(n),i=xr(s,r),i.callback=e??null,xi(n,i,r),t.current.lanes=r,xu(t,r,s),Mn(t,s),t}function wh(t,e,n,s){var r=e.current,i=yn(),a=bi(r);return n=MC(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(i,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=xi(r,e,a),t!==null&&(vs(t,r,a,i),Dd(t,r,a)),a}function Sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ex(t,e){D0(t,e),(t=t.alternate)&&D0(t,e)}function wR(){return null}var OC=typeof reportError=="function"?reportError:function(t){console.error(t)};function tx(t){this._internalRoot=t}Sh.prototype.render=tx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));wh(t,e,null,null)};Sh.prototype.unmount=tx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ja(function(){wh(null,t,null,null)}),e[_r]=null}};function Sh(t){this._internalRoot=t}Sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=uj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&fj(t)}};function nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O0(){}function SR(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Sf(a);i.call(u)}}var a=DC(e,s,t,0,null,!1,!1,"",O0);return t._reactRootContainer=a,t[_r]=a.current,Oc(t.nodeType===8?t.parentNode:t),ja(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var o=s;s=function(){var u=Sf(l);o.call(u)}}var l=Jy(t,0,!1,null,null,!1,!1,"",O0);return t._reactRootContainer=l,t[_r]=l.current,Oc(t.nodeType===8?t.parentNode:t),ja(function(){wh(e,l,n,s)}),l}function Nh(t,e,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var o=r;r=function(){var l=Sf(a);o.call(l)}}wh(e,a,t,r)}else a=SR(n,e,t,r,s);return Sf(a)}lj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(wy(e,n|1),Mn(e,Nt()),!(Ve&6)&&(Xo=Nt()+500,Li()))}break;case 13:ja(function(){var s=Nr(t,1);if(s!==null){var r=yn();vs(s,t,1,r)}}),ex(t,1)}};Sy=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=yn();vs(e,t,134217728,n)}ex(t,134217728)}};cj=function(t){if(t.tag===13){var e=bi(t),n=Nr(t,e);if(n!==null){var s=yn();vs(n,t,e,s)}ex(t,e)}};uj=function(){return Je};dj=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Dp=function(t,e,n){switch(e){case"input":if(kp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=mh(s);if(!r)throw Error(K(90));Bk(s),kp(s,r)}}}break;case"textarea":Wk(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};Xk=Ky;Zk=ja;var _R={usingClientEntryPoint:!1,Events:[bu,lo,mh,Kk,Gk,Ky]},Il={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NR={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tj(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||wR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{uh=Ju.inject(NR),Bs=Ju}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_R;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nx(e))throw Error(K(200));return bR(t,e,null,n)};Un.createRoot=function(t,e){if(!nx(t))throw Error(K(299));var n=!1,s="",r=OC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Jy(t,1,!1,null,null,n,!1,s,r),t[_r]=e.current,Oc(t.nodeType===8?t.parentNode:t),new tx(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=tj(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return ja(t)};Un.hydrate=function(t,e,n){if(!_h(e))throw Error(K(200));return Nh(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!nx(t))throw Error(K(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=OC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=DC(e,null,t,1,n??null,r,!1,i,a),t[_r]=e.current,Oc(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Sh(e)};Un.render=function(t,e,n){if(!_h(e))throw Error(K(200));return Nh(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!_h(t))throw Error(K(40));return t._reactRootContainer?(ja(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};Un.unstable_batchedUpdates=Ky;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!_h(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Nh(t,e,n,!1,s)};Un.version="18.3.1-next-f1338f8080-20240426";function AC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AC)}catch(t){console.error(t)}}AC(),Ak.exports=Un;var Ba=Ak.exports;const kR=Sk(Ba);var IC,A0=Ba;IC=A0.createRoot,A0.hydrateRoot;function jR(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,r,i,a=[],o="",l=t.split("/");for(l[0]||l.shift();r=l.shift();)n=r[0],n==="*"?(a.push(n),o+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=r.indexOf("?",1),i=r.indexOf(".",1),a.push(r.substring(1,~s?s:~i?i:r.length)),o+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~s?"?":"")+"\\"+r.substring(i))):o+="/"+r;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var RC={exports:{}},FC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=v;function CR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TR=typeof Object.is=="function"?Object.is:CR,PR=Zo.useState,ER=Zo.useEffect,MR=Zo.useLayoutEffect,DR=Zo.useDebugValue;function OR(t,e){var n=e(),s=PR({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return MR(function(){r.value=n,r.getSnapshot=e,Tm(r)&&i({inst:r})},[t,n,e]),ER(function(){return Tm(r)&&i({inst:r}),t(function(){Tm(r)&&i({inst:r})})},[t]),DR(n),n}function Tm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!TR(t,n)}catch{return!0}}function AR(t,e){return e()}var IR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AR:OR;FC.useSyncExternalStore=Zo.useSyncExternalStore!==void 0?Zo.useSyncExternalStore:IR;RC.exports=FC;var RR=RC.exports;const FR=fy.useInsertionEffect,LR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zR=LR?v.useLayoutEffect:v.useEffect,VR=FR||zR,LC=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return VR(()=>{e[0]=t}),e[1]},$R="popstate",sx="pushState",rx="replaceState",BR="hashchange",I0=[$R,sx,rx,BR],UR=t=>{for(const e of I0)addEventListener(e,t);return()=>{for(const e of I0)removeEventListener(e,t)}},zC=(t,e)=>RR.useSyncExternalStore(UR,t,e),WR=()=>location.search,HR=({ssrSearch:t=""}={})=>zC(WR,()=>t),R0=()=>location.pathname,YR=({ssrPath:t}={})=>zC(R0,t?()=>t:R0),qR=(t,{replace:e=!1,state:n=null}={})=>history[e?rx:sx](n,"",t),QR=(t={})=>[YR(t),qR],F0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[F0]>"u"){for(const t of[sx,rx]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,F0,{value:!0})}const KR=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",VC=(t="")=>t==="/"?"":t,GR=(t,e)=>t[0]==="~"?t.slice(1):VC(e)+t,XR=(t="",e)=>KR(L0(VC(t)),L0(e)),L0=t=>{try{return decodeURI(t)}catch{return t}},$C={hook:QR,searchHook:HR,parser:jR,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},BC=v.createContext($C),Su=()=>v.useContext(BC),UC={},WC=v.createContext(UC),ZR=()=>v.useContext(WC),kh=t=>{const[e,n]=t.hook(t);return[XR(t.base,e),LC((s,r)=>n(GR(s,t.base),r))]},dt=()=>kh(Su()),HC=(t,e,n,s)=>{const{pattern:r,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),a=r.exec(n)||[],[o,...l]=a;return o!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):a.groups;let d={...l};return u&&Object.assign(d,u),d})(),...s?[o]:[]]:[!1,null]},JR=({children:t,...e})=>{var d,f;const n=Su(),s=e.hook?$C:n;let r=s;const[i,a]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let o=v.useRef({}),l=o.current,u=l;for(let h in s){const m=h==="base"?s[h]+(e[h]||""):e[h]||s[h];l===u&&m!==u[h]&&(o.current=u={...u}),u[h]=m,(m!==s[h]||m!==r[h])&&(r=u)}return v.createElement(BC.Provider,{value:r,children:t})},z0=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,eF=t=>{let e=v.useRef(UC);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([s,r])=>r!==n[s])?t:n},ct=({path:t,nest:e,match:n,...s})=>{const r=Su(),[i]=kh(r),[a,o,l]=n??HC(r.parser,t,i,e),u=eF({...ZR(),...o});if(!a)return null;const d=l?v.createElement(JR,{base:l},z0(s,u)):z0(s,u);return v.createElement(WC.Provider,{value:u,children:d})},zs=v.forwardRef((t,e)=>{const n=Su(),[s,r]=kh(n),{to:i="",href:a=i,onClick:o,asChild:l,children:u,className:d,replace:f,state:h,...m}=t,y=LC(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(o==null||o(b),b.defaultPrevented||(b.preventDefault(),r(a,t)))}),p=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return l&&v.isValidElement(u)?v.cloneElement(u,{onClick:y,href:p}):v.createElement("a",{...m,onClick:y,href:p,className:d!=null&&d.call?d(s===a):d,children:u,ref:e})}),YC=t=>Array.isArray(t)?t.flatMap(e=>YC(e&&e.type===v.Fragment?e.props.children:e)):[t],tF=({children:t,location:e})=>{const n=Su(),[s]=kh(n);for(const r of YC(t)){let i=0;if(v.isValidElement(r)&&(i=HC(n.parser,r.props.path,e||s,r.props.nest))[0])return v.cloneElement(r,{match:i})}return null};var gl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ca=typeof window>"u"||"Deno"in globalThis;function hn(){}function nF(t,e){return typeof t=="function"?t(e):t}function dg(t){return typeof t=="number"&&t>=0&&t!==1/0}function qC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Si(t,e){return typeof t=="function"?t(e):t}function Gn(t,e){return typeof t=="function"?t(e):t}function V0(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:o}=t;if(a){if(s){if(e.queryHash!==ix(a,e.options))return!1}else if(!Bc(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||r&&r!==e.state.fetchStatus||i&&!i(e))}function $0(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ta(e.options.mutationKey)!==Ta(i))return!1}else if(!Bc(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function ix(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ta)(t)}function Ta(t){return JSON.stringify(t,(e,n)=>fg(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Bc(t[n],e[n])):!1}function QC(t,e){if(t===e)return t;const n=B0(t)&&B0(e);if(n||fg(t)&&fg(e)){const s=n?t:Object.keys(t),r=s.length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{},l=new Set(s);let u=0;for(let d=0;d<a;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,u++):(o[f]=QC(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&u++)}return r===a&&u===r?t:o}return e}function _f(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function B0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fg(t){if(!U0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!U0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function U0(t){return Object.prototype.toString.call(t)==="[object Object]"}function sF(t){return new Promise(e=>{setTimeout(e,t)})}function hg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?QC(t,e):e}function rF(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function iF(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var ax=Symbol();function KC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ax?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function GC(t,e){return typeof t=="function"?t(...e):!!t}var la,Kr,Oo,ES,aF=(ES=class extends gl{constructor(){super();he(this,la);he(this,Kr);he(this,Oo);se(this,Oo,e=>{if(!Ca&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,Kr)||this.setEventListener(E(this,Oo))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Kr))==null||e.call(this),se(this,Kr,void 0))}setEventListener(e){var n;se(this,Oo,e),(n=E(this,Kr))==null||n.call(this),se(this,Kr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){E(this,la)!==e&&(se(this,la,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof E(this,la)=="boolean"?E(this,la):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},la=new WeakMap,Kr=new WeakMap,Oo=new WeakMap,ES),ox=new aF,Ao,Gr,Io,MS,oF=(MS=class extends gl{constructor(){super();he(this,Ao,!0);he(this,Gr);he(this,Io);se(this,Io,e=>{if(!Ca&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){E(this,Gr)||this.setEventListener(E(this,Io))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Gr))==null||e.call(this),se(this,Gr,void 0))}setEventListener(e){var n;se(this,Io,e),(n=E(this,Gr))==null||n.call(this),se(this,Gr,e(this.setOnline.bind(this)))}setOnline(e){E(this,Ao)!==e&&(se(this,Ao,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return E(this,Ao)}},Ao=new WeakMap,Gr=new WeakMap,Io=new WeakMap,MS),Nf=new oF;function mg(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function lF(t){return Math.min(1e3*2**t,3e4)}function XC(t){return(t??"online")==="online"?Nf.isOnline():!0}var ZC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Pm(t){return t instanceof ZC}function JC(t){let e=!1,n=0,s=!1,r;const i=mg(),a=p=>{var b;s||(h(new ZC(p)),(b=t.abort)==null||b.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>ox.isFocused()&&(t.networkMode==="always"||Nf.isOnline())&&t.canRun(),d=()=>XC(t.networkMode)&&t.canRun(),f=p=>{var b;s||(s=!0,(b=t.onSuccess)==null||b.call(t,p),r==null||r(),i.resolve(p))},h=p=>{var b;s||(s=!0,(b=t.onError)==null||b.call(t,p),r==null||r(),i.reject(p))},m=()=>new Promise(p=>{var b;r=x=>{(s||u())&&p(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var p;r=void 0,s||(p=t.onContinue)==null||p.call(t)}),y=()=>{if(s)return;let p;const b=n===0?t.initialPromise:void 0;try{p=b??t.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var N;if(s)return;const g=t.retry??(Ca?0:3),w=t.retryDelay??lF,S=typeof w=="function"?w(n,x):w,_=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(e||!_){h(x);return}n++,(N=t.onFail)==null||N.call(t,n,x),sF(S).then(()=>u()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),i)}}var cF=t=>setTimeout(t,0);function uF(){let t=[],e=0,n=o=>{o()},s=o=>{o()},r=cF;const i=o=>{e?t.push(o):r(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&r(()=>{s(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{r=o}}}var Lt=uF(),ca,DS,eT=(DS=class{constructor(){he(this,ca)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dg(this.gcTime)&&se(this,ca,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ca?1/0:5*60*1e3))}clearGcTimeout(){E(this,ca)&&(clearTimeout(E(this,ca)),se(this,ca,void 0))}},ca=new WeakMap,DS),Ro,ua,Qn,da,nn,hu,fa,us,rr,OS,dF=(OS=class extends eT{constructor(e){super();he(this,us);he(this,Ro);he(this,ua);he(this,Qn);he(this,da);he(this,nn);he(this,hu);he(this,fa);se(this,fa,!1),se(this,hu,e.defaultOptions),this.setOptions(e.options),this.observers=[],se(this,da,e.client),se(this,Qn,E(this,da).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,se(this,Ro,fF(this.options)),this.state=e.state??E(this,Ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,nn))==null?void 0:e.promise}setOptions(e){this.options={...E(this,hu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Qn).remove(this)}setData(e,n){const s=hg(this.state.data,e,this.options);return ke(this,us,rr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){ke(this,us,rr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=E(this,nn))==null?void 0:s.promise;return(r=E(this,nn))==null||r.cancel(e),n?n.then(hn).catch(hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Ro))}isActive(){return this.observers.some(e=>Gn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ax||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Si(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!qC(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,nn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,nn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,Qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(E(this,nn)&&(E(this,fa)?E(this,nn).cancel({revert:!0}):E(this,nn).cancelRetry()),this.scheduleGc()),E(this,Qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,us,rr).call(this,{type:"invalidate"})}fetch(e,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,nn))return E(this,nn).continueRetry(),E(this,nn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(se(this,fa,!0),s.signal)})},i=()=>{const h=KC(this.options,n),y=(()=>{const p={client:E(this,da),queryKey:this.queryKey,meta:this.meta};return r(p),p})();return se(this,fa,!1),this.options.persister?this.options.persister(h,y,this):h(y)},o=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,da),state:this.state,fetchFn:i};return r(h),h})();(u=this.options.behavior)==null||u.onFetch(o,this),se(this,ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ke(this,us,rr).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,y,p,b;Pm(h)&&h.silent||ke(this,us,rr).call(this,{type:"error",error:h}),Pm(h)||((y=(m=E(this,Qn).config).onError)==null||y.call(m,h,this),(b=(p=E(this,Qn).config).onSettled)==null||b.call(p,this.state.data,h,this)),this.scheduleGc()};return se(this,nn,JC({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var m,y,p,b;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(y=(m=E(this,Qn).config).onSuccess)==null||y.call(m,h,this),(b=(p=E(this,Qn).config).onSettled)==null||b.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{ke(this,us,rr).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ke(this,us,rr).call(this,{type:"pause"})},onContinue:()=>{ke(this,us,rr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),E(this,nn).start()}},Ro=new WeakMap,ua=new WeakMap,Qn=new WeakMap,da=new WeakMap,nn=new WeakMap,hu=new WeakMap,fa=new WeakMap,us=new WeakSet,rr=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...tT(s.data,this.options),fetchMeta:e.meta??null};case"success":return se(this,ua,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Pm(r)&&r.revert&&E(this,ua)?{...E(this,ua),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),Lt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),E(this,Qn).notify({query:this,type:"updated",action:e})})},OS);function tT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ds,AS,hF=(AS=class extends gl{constructor(e={}){super();he(this,Ds);this.config=e,se(this,Ds,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??ix(r,n);let a=this.get(i);return a||(a=new dF({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){E(this,Ds).has(e.queryHash)||(E(this,Ds).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=E(this,Ds).get(e.queryHash);n&&(e.destroy(),n===e&&E(this,Ds).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,Ds).get(e)}getAll(){return[...E(this,Ds).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>V0(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>V0(e,s)):n}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ds=new WeakMap,AS),Os,un,ha,As,Ur,IS,mF=(IS=class extends eT{constructor(e){super();he(this,As);he(this,Os);he(this,un);he(this,ha);this.mutationId=e.mutationId,se(this,un,e.mutationCache),se(this,Os,[]),this.state=e.state||nT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Os).includes(e)||(E(this,Os).push(e),this.clearGcTimeout(),E(this,un).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){se(this,Os,E(this,Os).filter(n=>n!==e)),this.scheduleGc(),E(this,un).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Os).length||(this.state.status==="pending"?this.scheduleGc():E(this,un).remove(this))}continue(){var e;return((e=E(this,ha))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,u,d,f,h,m,y,p,b,x,g,w,S,_,N,j,C;const n=()=>{ke(this,As,Ur).call(this,{type:"continue"})};se(this,ha,JC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{ke(this,As,Ur).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{ke(this,As,Ur).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,un).canRun(this)}));const s=this.state.status==="pending",r=!E(this,ha).canStart();try{if(s)n();else{ke(this,As,Ur).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=E(this,un).config).onMutate)==null?void 0:a.call(i,e,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));O!==this.state.context&&ke(this,As,Ur).call(this,{type:"pending",context:O,variables:e,isPaused:r})}const P=await E(this,ha).start();return await((d=(u=E(this,un).config).onSuccess)==null?void 0:d.call(u,P,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,P,e,this.state.context)),await((y=(m=E(this,un).config).onSettled)==null?void 0:y.call(m,P,null,this.state.variables,this.state.context,this)),await((b=(p=this.options).onSettled)==null?void 0:b.call(p,P,null,e,this.state.context)),ke(this,As,Ur).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(x=E(this,un).config).onError)==null?void 0:g.call(x,P,e,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,P,e,this.state.context)),await((N=(_=E(this,un).config).onSettled)==null?void 0:N.call(_,void 0,P,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,P,e,this.state.context)),P}finally{ke(this,As,Ur).call(this,{type:"error",error:P})}}finally{E(this,un).runNext(this)}}},Os=new WeakMap,un=new WeakMap,ha=new WeakMap,As=new WeakSet,Ur=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Lt.batch(()=>{E(this,Os).forEach(s=>{s.onMutationUpdate(e)}),E(this,un).notify({mutation:this,type:"updated",action:e})})},IS);function nT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,ds,mu,RS,pF=(RS=class extends gl{constructor(e={}){super();he(this,fr);he(this,ds);he(this,mu);this.config=e,se(this,fr,new Set),se(this,ds,new Map),se(this,mu,0)}build(e,n,s){const r=new mF({mutationCache:this,mutationId:++Ru(this,mu)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){E(this,fr).add(e);const n=ed(e);if(typeof n=="string"){const s=E(this,ds).get(n);s?s.push(e):E(this,ds).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(E(this,fr).delete(e)){const n=ed(e);if(typeof n=="string"){const s=E(this,ds).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&E(this,ds).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ed(e);if(typeof n=="string"){const s=E(this,ds).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=ed(e);if(typeof n=="string"){const r=(s=E(this,ds).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{E(this,fr).forEach(e=>{this.notify({type:"removed",mutation:e})}),E(this,fr).clear(),E(this,ds).clear()})}getAll(){return Array.from(E(this,fr))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>$0(n,s))}findAll(e={}){return this.getAll().filter(n=>$0(e,n))}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(e.map(n=>n.continue().catch(hn))))}},fr=new WeakMap,ds=new WeakMap,mu=new WeakMap,RS);function ed(t){var e;return(e=t.options.scope)==null?void 0:e.id}function W0(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const s=e.options,r=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},x=KC(e.options,e.fetchOptions),g=async(w,S,_)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const j=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:S,direction:_?"backward":"forward",meta:e.options.meta};return b(z),z})(),C=await x(j),{maxPages:P}=e.options,O=_?iF:rF;return{pages:O(w.pages,C,P),pageParams:O(w.pageParams,S,P)}};if(r&&i.length){const w=r==="backward",S=w?gF:H0,_={pages:i,pageParams:a},N=S(s,_);o=await g(_,N,w)}else{const w=t??i.length;do{const S=l===0?a[0]??s.initialPageParam:H0(s,o);if(l>0&&S==null)break;o=await g(o,S),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var p,b;return(b=(p=e.options).persister)==null?void 0:b.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function H0(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function gF(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var xt,Xr,Zr,Fo,Lo,Jr,zo,Vo,FS,yF=(FS=class{constructor(t={}){he(this,xt);he(this,Xr);he(this,Zr);he(this,Fo);he(this,Lo);he(this,Jr);he(this,zo);he(this,Vo);se(this,xt,t.queryCache||new hF),se(this,Xr,t.mutationCache||new pF),se(this,Zr,t.defaultOptions||{}),se(this,Fo,new Map),se(this,Lo,new Map),se(this,Jr,0)}mount(){Ru(this,Jr)._++,E(this,Jr)===1&&(se(this,zo,ox.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,xt).onFocus())})),se(this,Vo,Nf.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,xt).onOnline())})))}unmount(){var t,e;Ru(this,Jr)._--,E(this,Jr)===0&&((t=E(this,zo))==null||t.call(this),se(this,zo,void 0),(e=E(this,Vo))==null||e.call(this),se(this,Vo,void 0))}isFetching(t){return E(this,xt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,Xr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,xt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=E(this,xt).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Si(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return E(this,xt).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=E(this,xt).get(s.queryHash),i=r==null?void 0:r.state.data,a=nF(e,i);if(a!==void 0)return E(this,xt).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Lt.batch(()=>E(this,xt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=E(this,xt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=E(this,xt);Lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=E(this,xt);return Lt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Lt.batch(()=>E(this,xt).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(hn).catch(hn)}invalidateQueries(t,e={}){return Lt.batch(()=>(E(this,xt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Lt.batch(()=>E(this,xt).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(hn)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=E(this,xt).build(this,e);return n.isStaleByTime(Si(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hn).catch(hn)}fetchInfiniteQuery(t){return t.behavior=W0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hn).catch(hn)}ensureInfiniteQueryData(t){return t.behavior=W0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nf.isOnline()?E(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,xt)}getMutationCache(){return E(this,Xr)}getDefaultOptions(){return E(this,Zr)}setDefaultOptions(t){se(this,Zr,t)}setQueryDefaults(t,e){E(this,Fo).set(Ta(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,Fo).values()],n={};return e.forEach(s=>{Bc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){E(this,Lo).set(Ta(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,Lo).values()],n={};return e.forEach(s=>{Bc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,Zr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ix(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ax&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,Zr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,xt).clear(),E(this,Xr).clear()}},xt=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,Fo=new WeakMap,Lo=new WeakMap,Jr=new WeakMap,zo=new WeakMap,Vo=new WeakMap,FS),_n,Ie,pu,dn,ma,$o,ei,ti,gu,Bo,Uo,pa,ga,ni,Wo,qe,Jl,pg,gg,yg,xg,vg,bg,wg,sT,LS,xF=(LS=class extends gl{constructor(e,n){super();he(this,qe);he(this,_n);he(this,Ie);he(this,pu);he(this,dn);he(this,ma);he(this,$o);he(this,ei);he(this,ti);he(this,gu);he(this,Bo);he(this,Uo);he(this,pa);he(this,ga);he(this,ni);he(this,Wo,new Set);this.options=n,se(this,_n,e),se(this,ti,null),se(this,ei,mg()),this.options.experimental_prefetchInRender||E(this,ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Ie).addObserver(this),Y0(E(this,Ie),this.options)?ke(this,qe,Jl).call(this):this.updateResult(),ke(this,qe,xg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sg(E(this,Ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sg(E(this,Ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,qe,vg).call(this),ke(this,qe,bg).call(this),E(this,Ie).removeObserver(this)}setOptions(e){const n=this.options,s=E(this,Ie);if(this.options=E(this,_n).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gn(this.options.enabled,E(this,Ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,qe,wg).call(this),E(this,Ie).setOptions(this.options),n._defaulted&&!_f(this.options,n)&&E(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Ie),observer:this});const r=this.hasListeners();r&&q0(E(this,Ie),s,this.options,n)&&ke(this,qe,Jl).call(this),this.updateResult(),r&&(E(this,Ie)!==s||Gn(this.options.enabled,E(this,Ie))!==Gn(n.enabled,E(this,Ie))||Si(this.options.staleTime,E(this,Ie))!==Si(n.staleTime,E(this,Ie)))&&ke(this,qe,pg).call(this);const i=ke(this,qe,gg).call(this);r&&(E(this,Ie)!==s||Gn(this.options.enabled,E(this,Ie))!==Gn(n.enabled,E(this,Ie))||i!==E(this,ni))&&ke(this,qe,yg).call(this,i)}getOptimisticResult(e){const n=E(this,_n).getQueryCache().build(E(this,_n),e),s=this.createResult(n,e);return bF(this,s)&&(se(this,dn,s),se(this,$o,this.options),se(this,ma,E(this,Ie).state)),s}getCurrentResult(){return E(this,dn)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(s,r))})}trackProp(e){E(this,Wo).add(e)}getCurrentQuery(){return E(this,Ie)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=E(this,_n).defaultQueryOptions(e),s=E(this,_n).getQueryCache().build(E(this,_n),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return ke(this,qe,Jl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,dn)))}createResult(e,n){var P;const s=E(this,Ie),r=this.options,i=E(this,dn),a=E(this,ma),o=E(this,$o),u=e!==s?e.state:E(this,pu),{state:d}=e;let f={...d},h=!1,m;if(n._optimisticResults){const O=this.hasListeners(),z=!O&&Y0(e,n),R=O&&q0(e,s,n,r);(z||R)&&(f={...f,...tT(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:b}=f;m=f.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&b==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(O=i.data,x=!0):O=typeof n.placeholderData=="function"?n.placeholderData((P=E(this,Uo))==null?void 0:P.state.data,E(this,Uo)):n.placeholderData,O!==void 0&&(b="success",m=hg(i==null?void 0:i.data,O,n),h=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(a==null?void 0:a.data)&&n.select===E(this,gu))m=E(this,Bo);else try{se(this,gu,n.select),m=n.select(m),m=hg(i==null?void 0:i.data,m,n),se(this,Bo,m),se(this,ti,null)}catch(O){se(this,ti,O)}E(this,ti)&&(y=E(this,ti),m=E(this,Bo),p=Date.now(),b="error");const g=f.fetchStatus==="fetching",w=b==="pending",S=b==="error",_=w&&g,N=m!==void 0,C={status:b,fetchStatus:f.fetchStatus,isPending:w,isSuccess:b==="success",isError:S,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:S&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&N,isStale:lx(e,n),refetch:this.refetch,promise:E(this,ei),isEnabled:Gn(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=L=>{C.status==="error"?L.reject(C.error):C.data!==void 0&&L.resolve(C.data)},z=()=>{const L=se(this,ei,C.promise=mg());O(L)},R=E(this,ei);switch(R.status){case"pending":e.queryHash===s.queryHash&&O(R);break;case"fulfilled":(C.status==="error"||C.data!==R.value)&&z();break;case"rejected":(C.status!=="error"||C.error!==R.reason)&&z();break}}return C}updateResult(){const e=E(this,dn),n=this.createResult(E(this,Ie),this.options);if(se(this,ma,E(this,Ie).state),se(this,$o,this.options),E(this,ma).data!==void 0&&se(this,Uo,E(this,Ie)),_f(n,e))return;se(this,dn,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!E(this,Wo).size)return!0;const a=new Set(i??E(this,Wo));return this.options.throwOnError&&a.add("error"),Object.keys(E(this,dn)).some(o=>{const l=o;return E(this,dn)[l]!==e[l]&&a.has(l)})};ke(this,qe,sT).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,qe,xg).call(this)}},_n=new WeakMap,Ie=new WeakMap,pu=new WeakMap,dn=new WeakMap,ma=new WeakMap,$o=new WeakMap,ei=new WeakMap,ti=new WeakMap,gu=new WeakMap,Bo=new WeakMap,Uo=new WeakMap,pa=new WeakMap,ga=new WeakMap,ni=new WeakMap,Wo=new WeakMap,qe=new WeakSet,Jl=function(e){ke(this,qe,wg).call(this);let n=E(this,Ie).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(hn)),n},pg=function(){ke(this,qe,vg).call(this);const e=Si(this.options.staleTime,E(this,Ie));if(Ca||E(this,dn).isStale||!dg(e))return;const s=qC(E(this,dn).dataUpdatedAt,e)+1;se(this,pa,setTimeout(()=>{E(this,dn).isStale||this.updateResult()},s))},gg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Ie)):this.options.refetchInterval)??!1},yg=function(e){ke(this,qe,bg).call(this),se(this,ni,e),!(Ca||Gn(this.options.enabled,E(this,Ie))===!1||!dg(E(this,ni))||E(this,ni)===0)&&se(this,ga,setInterval(()=>{(this.options.refetchIntervalInBackground||ox.isFocused())&&ke(this,qe,Jl).call(this)},E(this,ni)))},xg=function(){ke(this,qe,pg).call(this),ke(this,qe,yg).call(this,ke(this,qe,gg).call(this))},vg=function(){E(this,pa)&&(clearTimeout(E(this,pa)),se(this,pa,void 0))},bg=function(){E(this,ga)&&(clearInterval(E(this,ga)),se(this,ga,void 0))},wg=function(){const e=E(this,_n).getQueryCache().build(E(this,_n),this.options);if(e===E(this,Ie))return;const n=E(this,Ie);se(this,Ie,e),se(this,pu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},sT=function(e){Lt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(E(this,dn))}),E(this,_n).getQueryCache().notify({query:E(this,Ie),type:"observerResultsUpdated"})})},LS);function vF(t,e){return Gn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Y0(t,e){return vF(t,e)||t.state.data!==void 0&&Sg(t,e,e.refetchOnMount)}function Sg(t,e,n){if(Gn(e.enabled,t)!==!1&&Si(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&lx(t,e)}return!1}function q0(t,e,n,s){return(t!==e||Gn(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&lx(t,n)}function lx(t,e){return Gn(e.enabled,t)!==!1&&t.isStaleByTime(Si(e.staleTime,t))}function bF(t,e){return!_f(t.getCurrentResult(),e)}var si,ri,Nn,hr,wr,zd,_g,zS,wF=(zS=class extends gl{constructor(n,s){super();he(this,wr);he(this,si);he(this,ri);he(this,Nn);he(this,hr);se(this,si,n),this.setOptions(s),this.bindMethods(),ke(this,wr,zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=E(this,si).defaultMutationOptions(n),_f(this.options,s)||E(this,si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Nn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ta(s.mutationKey)!==Ta(this.options.mutationKey)?this.reset():((r=E(this,Nn))==null?void 0:r.state.status)==="pending"&&E(this,Nn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,Nn))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,wr,zd).call(this),ke(this,wr,_g).call(this,n)}getCurrentResult(){return E(this,ri)}reset(){var n;(n=E(this,Nn))==null||n.removeObserver(this),se(this,Nn,void 0),ke(this,wr,zd).call(this),ke(this,wr,_g).call(this)}mutate(n,s){var r;return se(this,hr,s),(r=E(this,Nn))==null||r.removeObserver(this),se(this,Nn,E(this,si).getMutationCache().build(E(this,si),this.options)),E(this,Nn).addObserver(this),E(this,Nn).execute(n)}},si=new WeakMap,ri=new WeakMap,Nn=new WeakMap,hr=new WeakMap,wr=new WeakSet,zd=function(){var s;const n=((s=E(this,Nn))==null?void 0:s.state)??nT();se(this,ri,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},_g=function(n){Lt.batch(()=>{var s,r,i,a,o,l,u,d;if(E(this,hr)&&this.hasListeners()){const f=E(this,ri).variables,h=E(this,ri).context;(n==null?void 0:n.type)==="success"?((r=(s=E(this,hr)).onSuccess)==null||r.call(s,n.data,f,h),(a=(i=E(this,hr)).onSettled)==null||a.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((l=(o=E(this,hr)).onError)==null||l.call(o,n.error,f,h),(d=(u=E(this,hr)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(E(this,ri))})})},zS),rT=v.createContext(void 0),Dn=t=>{const e=v.useContext(rT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SF=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(rT.Provider,{value:t,children:e})),iT=v.createContext(!1),_F=()=>v.useContext(iT);iT.Provider;function NF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kF=v.createContext(NF()),jF=()=>v.useContext(kF),CF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},TF=t=>{v.useEffect(()=>{t.clearReset()},[t])},PF=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||GC(n,[t.error,s])),EF=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},MF=(t,e)=>t.isLoading&&t.isFetching&&!e,DF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Q0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function OF(t,e,n){var f,h,m,y,p;const s=_F(),r=jF(),i=Dn(),a=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=s?"isRestoring":"optimistic",EF(a),CF(a,r),TF(r);const o=!i.getQueryCache().get(a.queryHash),[l]=v.useState(()=>new e(i,a)),u=l.getOptimisticResult(a),d=!s&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const x=d?l.subscribe(Lt.batchCalls(b)):hn;return l.updateResult(),x},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(a)},[a,l]),DF(a,u))throw Q0(a,l,r);if(PF({result:u,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,u),a.experimental_prefetchInRender&&!Ca&&MF(u,s)){const b=o?Q0(a,l,r):(p=i.getQueryCache().get(a.queryHash))==null?void 0:p.promise;b==null||b.catch(hn).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?u:l.trackResult(u)}function It(t,e){return OF(t,xF)}function At(t,e){const n=Dn(),[s]=v.useState(()=>new wF(n,t));v.useEffect(()=>{s.setOptions(t)},[s,t]);const r=v.useSyncExternalStore(v.useCallback(a=>s.subscribe(Lt.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((a,o)=>{s.mutate(a,o).catch(hn)},[s]);if(r.error&&GC(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}async function AF(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}function aT(){return window.location.origin}async function De(t,e,n){const s=localStorage.getItem("authToken"),r={};let i;n instanceof FormData?i=n:n&&(r["Content-Type"]="application/json",i=JSON.stringify(n)),s&&(r.Authorization=`Bearer ${s}`);const a=aT(),o=e.startsWith("http")?e:`${a}${e}`,l=await fetch(o,{method:t,headers:r,body:i,credentials:"include"});if(!l.ok){const d=await l.text()||l.statusText;throw console.error("API Error:",l.status,d),l.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),new Error(`${l.status}: ${d}`)}if(l.status===204)return null;const u=l.headers.get("Content-Type");return u&&u.includes("application/json")?l.json():l.text()}const oT=({on401:t})=>async({queryKey:e})=>{const n=localStorage.getItem("authToken"),s={};n&&(s.Authorization=`Bearer ${n}`);const r=aT(),i=e.join("/"),a=i.startsWith("http")?i:`${r}${i}`,o=await fetch(a,{headers:s,credentials:"include"});return t==="returnNull"&&o.status===401?(localStorage.removeItem("authToken"),null):(o.status===401&&(localStorage.removeItem("authToken"),window.location.pathname.includes("/auth")||window.location.reload()),await AF(o),await o.json())},Gi=new yF({defaultOptions:{queries:{queryFn:oT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),IF=1,RF=1e6;let Em=0;function FF(){return Em=(Em+1)%Number.MAX_SAFE_INTEGER,Em.toString()}const Mm=new Map,K0=t=>{if(Mm.has(t))return;const e=setTimeout(()=>{Mm.delete(t),pc({type:"REMOVE_TOAST",toastId:t})},RF);Mm.set(t,e)},LF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,IF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?K0(n):t.toasts.forEach(s=>{K0(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vd=[];let $d={toasts:[]};function pc(t){$d=LF($d,t),Vd.forEach(e=>{e($d)})}function zF({...t}){const e=FF(),n=r=>pc({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>pc({type:"DISMISS_TOAST",toastId:e});return pc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function Ut(){const[t,e]=v.useState($d);return v.useEffect(()=>(Vd.push(e),()=>{const n=Vd.indexOf(e);n>-1&&Vd.splice(n,1)}),[t]),{...t,toast:zF,dismiss:n=>pc({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function G0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lT(...t){return e=>{let n=!1;const s=t.map(r=>{const i=G0(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():G0(t[r],null)}}}}function We(...t){return v.useCallback(lT(...t),t)}function VF(t,e){const n=v.createContext(e),s=i=>{const{children:a,...o}=i,l=v.useMemo(()=>o,Object.values(o));return c.jsx(n.Provider,{value:l,children:a})};s.displayName=t+"Provider";function r(i){const a=v.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function Ua(t,e=[]){let n=[];function s(i,a){const o=v.createContext(a),l=n.length;n=[...n,a];const u=f=>{var x;const{scope:h,children:m,...y}=f,p=((x=h==null?void 0:h[t])==null?void 0:x[l])||o,b=v.useMemo(()=>y,Object.values(y));return c.jsx(p.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[t])==null?void 0:p[l])||o,y=v.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>v.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return r.scopeName=t,[s,$F(r,...e)]}function $F(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((o,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...o,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Jo(t){const e=BF(t),n=v.forwardRef((s,r)=>{const{children:i,...a}=s,o=v.Children.toArray(i),l=o.find(WF);if(l){const u=l.props.children,d=o.map(f=>f===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...a,ref:r,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var cT=Jo("Slot");function BF(t){const e=v.forwardRef((n,s)=>{const{children:r,...i}=n;if(v.isValidElement(r)){const a=YF(r),o=HF(i,r.props);return r.type!==v.Fragment&&(o.ref=s?lT(s,a):a),v.cloneElement(r,o)}return v.Children.count(r)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uT=Symbol("radix.slottable");function UF(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=uT,e}function WF(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uT}function HF(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...o)=>{const l=i(...o);return r(...o),l}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function YF(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cx(t){const e=t+"CollectionProvider",[n,s]=Ua(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:b,children:x}=p,g=ye.useRef(null),w=ye.useRef(new Map).current;return c.jsx(r,{scope:b,itemMap:w,collectionRef:g,children:x})};a.displayName=e;const o=t+"CollectionSlot",l=Jo(o),u=ye.forwardRef((p,b)=>{const{scope:x,children:g}=p,w=i(o,x),S=We(b,w.collectionRef);return c.jsx(l,{ref:S,children:g})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Jo(d),m=ye.forwardRef((p,b)=>{const{scope:x,children:g,...w}=p,S=ye.useRef(null),_=We(b,S),N=i(d,x);return ye.useEffect(()=>(N.itemMap.set(S,{ref:S,...w}),()=>void N.itemMap.delete(S))),c.jsx(h,{[f]:"",ref:_,children:g})});m.displayName=d;function y(p){const b=i(t+"CollectionConsumer",p);return ye.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((N,j)=>w.indexOf(N.ref.current)-w.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},y,s]}var qF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=qF.reduce((t,e)=>{const n=Jo(`Primitive.${e}`),s=v.forwardRef((r,i)=>{const{asChild:a,...o}=r,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function dT(t,e){t&&Ba.flushSync(()=>t.dispatchEvent(e))}function Ss(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function QF(t,e=globalThis==null?void 0:globalThis.document){const n=Ss(t);v.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var KF="DismissableLayer",Ng="dismissableLayer.update",GF="dismissableLayer.pointerDownOutside",XF="dismissableLayer.focusOutside",X0,fT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_u=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=t,u=v.useContext(fT),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),y=We(e,j=>f(j)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(b),g=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,_=JF(j=>{const C=j.target,P=[...u.branches].some(O=>O.contains(C));!S||P||(r==null||r(j),a==null||a(j),j.defaultPrevented||o==null||o())},h),N=eL(j=>{const C=j.target;[...u.branches].some(O=>O.contains(C))||(i==null||i(j),a==null||a(j),j.defaultPrevented||o==null||o())},h);return QF(j=>{g===u.layers.size-1&&(s==null||s(j),!j.defaultPrevented&&o&&(j.preventDefault(),o()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(X0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Z0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=X0)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Z0())},[d,u]),v.useEffect(()=>{const j=()=>m({});return document.addEventListener(Ng,j),()=>document.removeEventListener(Ng,j)},[]),c.jsx(Pe.div,{...l,ref:y,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,N.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,_.onPointerDownCapture)})});_u.displayName=KF;var ZF="DismissableLayerBranch",hT=v.forwardRef((t,e)=>{const n=v.useContext(fT),s=v.useRef(null),r=We(e,s);return v.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Pe.div,{...t,ref:r})});hT.displayName=ZF;function JF(t,e=globalThis==null?void 0:globalThis.document){const n=Ss(t),s=v.useRef(!1),r=v.useRef(()=>{});return v.useEffect(()=>{const i=o=>{if(o.target&&!s.current){let l=function(){mT(GF,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function eL(t,e=globalThis==null?void 0:globalThis.document){const n=Ss(t),s=v.useRef(!1);return v.useEffect(()=>{const r=i=>{i.target&&!s.current&&mT(XF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Z0(){const t=new CustomEvent(Ng);document.dispatchEvent(t)}function mT(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?dT(r,i):r.dispatchEvent(i)}var tL=_u,nL=hT,Jt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},sL="Portal",jh=v.forwardRef((t,e)=>{var o;const{container:n,...s}=t,[r,i]=v.useState(!1);Jt(()=>i(!0),[]);const a=n||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?kR.createPortal(c.jsx(Pe.div,{...s,ref:e}),a):null});jh.displayName=sL;function rL(t,e){return v.useReducer((n,s)=>e[n][s]??n,t)}var yl=t=>{const{present:e,children:n}=t,s=iL(e),r=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),i=We(s.ref,aL(r));return typeof n=="function"||s.isPresent?v.cloneElement(r,{ref:i}):null};yl.displayName="Presence";function iL(t){const[e,n]=v.useState(),s=v.useRef(null),r=v.useRef(t),i=v.useRef("none"),a=t?"mounted":"unmounted",[o,l]=rL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=td(s.current);i.current=o==="mounted"?u:"none"},[o]),Jt(()=>{const u=s.current,d=r.current;if(d!==t){const h=i.current,m=td(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),Jt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const p=td(s.current).includes(m.animationName);if(m.target===e&&p&&(l("ANIMATION_END"),!r.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},h=m=>{m.target===e&&(i.current=td(s.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:v.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function td(t){return(t==null?void 0:t.animationName)||"none"}function aL(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var oL=fy[" useInsertionEffect ".trim().toString()]||Jt;function Uc({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,a]=lL({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:r;{const d=v.useRef(t!==void 0);v.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,s])}const u=v.useCallback(d=>{var f;if(o){const h=cL(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else i(d)},[o,t,i,a]);return[l,u]}function lL({defaultProp:t,onChange:e}){const[n,s]=v.useState(t),r=v.useRef(n),i=v.useRef(e);return oL(()=>{i.current=e},[e]),v.useEffect(()=>{var a;r.current!==n&&((a=i.current)==null||a.call(i,n),r.current=n)},[n,r]),[n,s,i]}function cL(t){return typeof t=="function"}var pT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uL="VisuallyHidden",Ch=v.forwardRef((t,e)=>c.jsx(Pe.span,{...t,ref:e,style:{...pT,...t.style}}));Ch.displayName=uL;var dL=Ch,ux="ToastProvider",[dx,fL,hL]=cx("Toast"),[gT,Lq]=Ua("Toast",[hL]),[mL,Th]=gT(ux),yT=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=t,[o,l]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ux}\`. Expected non-empty \`string\`.`),c.jsx(dx.Provider,{scope:e,children:c.jsx(mL,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};yT.displayName=ux;var xT="ToastViewport",pL=["F8"],kg="toast.viewportPause",jg="toast.viewportResume",vT=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=pL,label:r="Notifications ({hotkey})",...i}=t,a=Th(xT,n),o=fL(n),l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=We(e,f,a.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;v.useEffect(()=>{const b=x=>{var w;s.length!==0&&s.every(S=>x[S]||x.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),v.useEffect(()=>{const b=l.current,x=f.current;if(y&&b&&x){const g=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(kg);x.dispatchEvent(N),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(jg);x.dispatchEvent(N),a.isClosePausedRef.current=!1}},S=N=>{!b.contains(N.relatedTarget)&&w()},_=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",g),b.addEventListener("focusout",S),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",_),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[y,a.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:b})=>{const g=o().map(w=>{const S=w.ref.current,_=[S,...TL(S)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?g.reverse():g).flat()},[o]);return v.useEffect(()=>{const b=f.current;if(b){const x=g=>{var _,N,j;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const C=document.activeElement,P=g.shiftKey;if(g.target===b&&P){(_=u.current)==null||_.focus();return}const R=p({tabbingDirection:P?"backwards":"forwards"}),L=R.findIndex(I=>I===C);Dm(R.slice(L+1))?g.preventDefault():P?(N=u.current)==null||N.focus():(j=d.current)==null||j.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[o,p]),c.jsxs(nL,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(Cg,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});Dm(b)}}),c.jsx(dx.Slot,{scope:n,children:c.jsx(Pe.ol,{tabIndex:-1,...i,ref:h})}),y&&c.jsx(Cg,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});Dm(b)}})]})});vT.displayName=xT;var bT="ToastFocusProxy",Cg=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=Th(bT,n);return c.jsx(Ch,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&s()}})});Cg.displayName=bT;var Nu="Toast",gL="toast.swipeStart",yL="toast.swipeMove",xL="toast.swipeCancel",vL="toast.swipeEnd",wT=v.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...a}=t,[o,l]=Uc({prop:s,defaultProp:r??!0,onChange:i,caller:Nu});return c.jsx(yl,{present:n||o,children:c.jsx(SL,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Ss(t.onPause),onResume:Ss(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});wT.displayName=Nu;var[bL,wL]=gT(Nu,{onClose(){}}),SL=v.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,p=Th(Nu,n),[b,x]=v.useState(null),g=We(e,I=>x(I)),w=v.useRef(null),S=v.useRef(null),_=r||p.duration,N=v.useRef(0),j=v.useRef(_),C=v.useRef(0),{onToastAdd:P,onToastRemove:O}=p,z=Ss(()=>{var A;(b==null?void 0:b.contains(document.activeElement))&&((A=p.viewport)==null||A.focus()),a()}),R=v.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(z,I))},[z]);v.useEffect(()=>{const I=p.viewport;if(I){const A=()=>{R(j.current),u==null||u()},$=()=>{const B=new Date().getTime()-N.current;j.current=j.current-B,window.clearTimeout(C.current),l==null||l()};return I.addEventListener(kg,$),I.addEventListener(jg,A),()=>{I.removeEventListener(kg,$),I.removeEventListener(jg,A)}}},[p.viewport,_,l,u,R]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&R(_)},[i,_,p.isClosePausedRef,R]),v.useEffect(()=>(P(),()=>O()),[P,O]);const L=v.useMemo(()=>b?TT(b):null,[b]);return p.viewport?c.jsxs(c.Fragment,{children:[L&&c.jsx(_L,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),c.jsx(bL,{scope:n,onClose:z,children:Ba.createPortal(c.jsx(dx.ItemSlot,{scope:n,children:c.jsx(tL,{asChild:!0,onEscapeKeyDown:xe(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||z(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,I=>{I.key==="Escape"&&(o==null||o(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:xe(t.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:xe(t.onPointerMove,I=>{if(!w.current)return;const A=I.clientX-w.current.x,$=I.clientY-w.current.y,B=!!S.current,T=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,D=T?F(0,A):0,W=T?0:F(0,$),G=I.pointerType==="touch"?10:2,ne={x:D,y:W},re={originalEvent:I,delta:ne};B?(S.current=ne,nd(yL,f,re,{discrete:!1})):J0(ne,p.swipeDirection,G)?(S.current=ne,nd(gL,d,re,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(A)>G||Math.abs($)>G)&&(w.current=null)}),onPointerUp:xe(t.onPointerUp,I=>{const A=S.current,$=I.target;if($.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),S.current=null,w.current=null,A){const B=I.currentTarget,T={originalEvent:I,delta:A};J0(A,p.swipeDirection,p.swipeThreshold)?nd(vL,m,T,{discrete:!0}):nd(xL,h,T,{discrete:!0}),B.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),_L=t=>{const{__scopeToast:e,children:n,...s}=t,r=Th(Nu,e),[i,a]=v.useState(!1),[o,l]=v.useState(!1);return jL(()=>a(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(jh,{asChild:!0,children:c.jsx(Ch,{...s,children:i&&c.jsxs(c.Fragment,{children:[r.label," ",n]})})})},NL="ToastTitle",ST=v.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return c.jsx(Pe.div,{...s,ref:e})});ST.displayName=NL;var kL="ToastDescription",_T=v.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return c.jsx(Pe.div,{...s,ref:e})});_T.displayName=kL;var NT="ToastAction",kT=v.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?c.jsx(CT,{altText:n,asChild:!0,children:c.jsx(fx,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NT}\`. Expected non-empty \`string\`.`),null)});kT.displayName=NT;var jT="ToastClose",fx=v.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=wL(jT,n);return c.jsx(CT,{asChild:!0,children:c.jsx(Pe.button,{type:"button",...s,ref:e,onClick:xe(t.onClick,r.onClose)})})});fx.displayName=jT;var CT=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return c.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function TT(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),CL(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...TT(s))}}),e}function nd(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?dT(r,i):r.dispatchEvent(i)}var J0=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function jL(t=()=>{}){const e=Ss(t);Jt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function CL(t){return t.nodeType===t.ELEMENT_NODE}function TL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Dm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var PL=yT,PT=vT,ET=wT,MT=ST,DT=_T,OT=kT,AT=fx;function IT(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=IT(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function RT(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=IT(t))&&(s&&(s+=" "),s+=e);return s}const eb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tb=RT,hx=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return tb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=eb(d)||eb(f);return r[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[p,b]=y;return Array.isArray(b)?b.includes({...i,...o}[p]):{...i,...o}[p]===b})?[...u,f,h]:u},[]);return tb(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FT=(...t)=>t.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ML={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...o},l)=>v.createElement("svg",{ref:l,...ML,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:FT("lucide",r),...o},[...a.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=(t,e)=>{const n=v.forwardRef(({className:s,...r},i)=>v.createElement(DL,{ref:i,iconNode:e,className:FT(`lucide-${EL(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=zi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=zi("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=zi("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=zi("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=zi("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=zi("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=zi("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=zi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),px="-",FL=t=>{const e=zL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const o=a.split(px);return o[0]===""&&o.length!==1&&o.shift(),VT(o,e)||LL(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&s[a]?[...l,...s[a]]:l}}},VT=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?VT(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(px);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},nb=/^\[(.+)\]$/,LL=t=>{if(nb.test(t)){const e=nb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zL=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return $L(Object.entries(t.classGroups),n).forEach(([i,a])=>{Pg(a,s,i,e)}),s},Pg=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:sb(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(VL(r)){Pg(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{Pg(a,sb(e,i),n,s)})})},sb=(t,e)=>{let n=t;return e.split(px).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},VL=t=>t.isThemeGetter,$L=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,r]}):t,BL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},$T="!",UL=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=o=>{const l=[];let u=0,d=0,f;for(let b=0;b<o.length;b++){let x=o[b];if(u===0){if(x===r&&(s||o.slice(b,b+i)===e)){l.push(o.slice(d,b)),d=b+i;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?o:o.substring(d),m=h.startsWith($T),y=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}};return n?o=>n({className:o,parseClassName:a}):a},WL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},HL=t=>({cache:BL(t.cacheSize),parseClassName:UL(t),...FL(t)}),YL=/\s+/,qL=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(YL);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,p=s(y?h.substring(0,m):h);if(!p){if(!y){o=u+(o.length>0?" "+o:o);continue}if(p=s(h),!p){o=u+(o.length>0?" "+o:o);continue}y=!1}const b=WL(d).join(":"),x=f?b+$T:b,g=x+p;if(i.includes(g))continue;i.push(g);const w=r(p,y);for(let S=0;S<w.length;++S){const _=w[S];i.push(x+_)}o=u+(o.length>0?" "+o:o)}return o};function QL(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=BT(e))&&(s&&(s+=" "),s+=n);return s}const BT=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=BT(t[s]))&&(n&&(n+=" "),n+=e);return n};function KL(t,...e){let n,s,r,i=a;function a(l){const u=e.reduce((d,f)=>f(d),t());return n=HL(u),s=n.cache.get,r=n.cache.set,i=o,o(l)}function o(l){const u=s(l);if(u)return u;const d=qL(l,n);return r(l,d),d}return function(){return i(QL.apply(null,arguments))}}const it=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},UT=/^\[(?:([a-z-]+):)?(.+)\]$/i,GL=/^\d+\/\d+$/,XL=new Set(["px","full","screen"]),ZL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tr=t=>No(t)||XL.has(t)||GL.test(t),zr=t=>xl(t,"length",u4),No=t=>!!t&&!Number.isNaN(Number(t)),Om=t=>xl(t,"number",No),Rl=t=>!!t&&Number.isInteger(Number(t)),s4=t=>t.endsWith("%")&&No(t.slice(0,-1)),Ne=t=>UT.test(t),Vr=t=>ZL.test(t),r4=new Set(["length","size","percentage"]),i4=t=>xl(t,r4,WT),a4=t=>xl(t,"position",WT),o4=new Set(["image","url"]),l4=t=>xl(t,o4,f4),c4=t=>xl(t,"",d4),Fl=()=>!0,xl=(t,e,n)=>{const s=UT.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},u4=t=>JL.test(t)&&!e4.test(t),WT=()=>!1,d4=t=>t4.test(t),f4=t=>n4.test(t),h4=()=>{const t=it("colors"),e=it("spacing"),n=it("blur"),s=it("brightness"),r=it("borderColor"),i=it("borderRadius"),a=it("borderSpacing"),o=it("borderWidth"),l=it("contrast"),u=it("grayscale"),d=it("hueRotate"),f=it("invert"),h=it("gap"),m=it("gradientColorStops"),y=it("gradientColorStopPositions"),p=it("inset"),b=it("margin"),x=it("opacity"),g=it("padding"),w=it("saturate"),S=it("scale"),_=it("sepia"),N=it("skew"),j=it("space"),C=it("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Ne,e],R=()=>[Ne,e],L=()=>["",tr,zr],I=()=>["auto",No,Ne],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ne],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[No,Ne];return{cacheSize:500,separator:":",theme:{colors:[Fl],spacing:[tr,zr],blur:["none","",Vr,Ne],brightness:W(),borderColor:[t],borderRadius:["none","","full",Vr,Ne],borderSpacing:R(),borderWidth:L(),contrast:W(),grayscale:F(),hueRotate:W(),invert:F(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[s4,zr],inset:z(),margin:z(),opacity:W(),padding:R(),saturate:W(),scale:W(),sepia:F(),skew:W(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[Vr]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),Ne]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,Ne]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Rl,Ne]}],"grid-cols":[{"grid-cols":[Fl]}],"col-start-end":[{col:["auto",{span:["full",Rl,Ne]},Ne]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Fl]}],"row-start-end":[{row:["auto",{span:[Rl,Ne]},Ne]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[Vr]},Vr]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Vr,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Om]}],"font-family":[{font:[Fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",No,Om]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tr,zr]}],"underline-offset":[{"underline-offset":["auto",tr,Ne]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),a4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[tr,Ne]}],"outline-w":[{outline:[tr,zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[tr,zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vr,c4]}],"shadow-color":[{shadow:[Fl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Vr,Ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Rl,Ne]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tr,zr,Om]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},m4=KL(h4);function Re(...t){return m4(RT(t))}function p4(t){return t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Activity"}function HT(t,e,n){if(!t||!e)return null;const[s,r]=t.split(":").map(Number),[i,a]=e.split(":").map(Number);let o=new Date;o.setHours(s,r,0,0);let l=new Date;if(l.setHours(i,a,0,0),n==="sleep"&&l<=o)l.setDate(l.getDate()+1);else if(n!=="sleep"&&l<=o)return null;const u=l.getTime()-o.getTime(),d=Math.floor(u/(1e3*60)),f=Math.floor(d/60),h=d%60;return{hours:f,minutes:h}}function g4(t){if(!t)return"";const e=[];return t.hours>0&&e.push(`${t.hours} hr`),t.minutes>0&&e.push(`${t.minutes} min`),e.join(" ")||"0 min"}const y4=PL,YT=v.forwardRef(({className:t,...e},n)=>c.jsx(PT,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YT.displayName=PT.displayName;const x4=hx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qT=v.forwardRef(({className:t,variant:e,...n},s)=>c.jsx(ET,{ref:s,className:Re(x4({variant:e}),t),...n}));qT.displayName=ET.displayName;const v4=v.forwardRef(({className:t,...e},n)=>c.jsx(OT,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));v4.displayName=OT.displayName;const QT=v.forwardRef(({className:t,...e},n)=>c.jsx(AT,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(mx,{className:"h-4 w-4"})}));QT.displayName=AT.displayName;const KT=v.forwardRef(({className:t,...e},n)=>c.jsx(MT,{ref:n,className:Re("text-sm font-semibold",t),...e}));KT.displayName=MT.displayName;const GT=v.forwardRef(({className:t,...e},n)=>c.jsx(DT,{ref:n,className:Re("text-sm opacity-90",t),...e}));GT.displayName=DT.displayName;function b4(){const{toasts:t}=Ut();return c.jsxs(y4,{children:[t.map(function({id:e,title:n,description:s,action:r,...i}){return c.jsxs(qT,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(KT,{children:n}),s&&c.jsx(GT,{children:s})]}),r,c.jsx(QT,{})]},e)}),c.jsx(YT,{})]})}var w4=fy[" useId ".trim().toString()]||(()=>{}),S4=0;function ko(t){const[e,n]=v.useState(w4());return Jt(()=>{n(s=>s??String(S4++))},[t]),e?`radix-${e}`:""}const _4=["top","right","bottom","left"],ji=Math.min,Fn=Math.max,kf=Math.round,sd=Math.floor,Ws=t=>({x:t,y:t}),N4={left:"right",right:"left",bottom:"top",top:"bottom"},k4={start:"end",end:"start"};function Eg(t,e,n){return Fn(t,ji(e,n))}function jr(t,e){return typeof t=="function"?t(e):t}function Cr(t){return t.split("-")[0]}function vl(t){return t.split("-")[1]}function gx(t){return t==="x"?"y":"x"}function yx(t){return t==="y"?"height":"width"}const j4=new Set(["top","bottom"]);function Vs(t){return j4.has(Cr(t))?"y":"x"}function xx(t){return gx(Vs(t))}function C4(t,e,n){n===void 0&&(n=!1);const s=vl(t),r=xx(t),i=yx(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=jf(a)),[a,jf(a)]}function T4(t){const e=jf(t);return[Mg(t),e,Mg(e)]}function Mg(t){return t.replace(/start|end/g,e=>k4[e])}const rb=["left","right"],ib=["right","left"],P4=["top","bottom"],E4=["bottom","top"];function M4(t,e,n){switch(t){case"top":case"bottom":return n?e?ib:rb:e?rb:ib;case"left":case"right":return e?P4:E4;default:return[]}}function D4(t,e,n,s){const r=vl(t);let i=M4(Cr(t),n==="start",s);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(Mg)))),i}function jf(t){return t.replace(/left|right|bottom|top/g,e=>N4[e])}function O4(t){return{top:0,right:0,bottom:0,left:0,...t}}function XT(t){return typeof t!="number"?O4(t):{top:t,right:t,bottom:t,left:t}}function Cf(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function ab(t,e,n){let{reference:s,floating:r}=t;const i=Vs(e),a=xx(e),o=yx(a),l=Cr(e),u=i==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,h=s[o]/2-r[o]/2;let m;switch(l){case"top":m={x:d,y:s.y-r.height};break;case"bottom":m={x:d,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:f};break;case"left":m={x:s.x-r.width,y:f};break;default:m={x:s.x,y:s.y}}switch(vl(e)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const A4=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:f}=ab(u,s,l),h=s,m={},y=0;for(let p=0;p<o.length;p++){const{name:b,fn:x}=o[p],{x:g,y:w,data:S,reset:_}=await x({x:d,y:f,initialPlacement:s,placement:h,strategy:r,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=g??d,f=w??f,m={...m,[b]:{...m[b],...S}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):_.rects),{x:d,y:f}=ab(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:r,middlewareData:m}};async function Wc(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=jr(e,t),y=XT(m),b=o[h?f==="floating"?"reference":"floating":f],x=Cf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),g=f==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Cf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:w,strategy:l}):g);return{top:(x.top-_.top+y.top)/S.y,bottom:(_.bottom-x.bottom+y.bottom)/S.y,left:(x.left-_.left+y.left)/S.x,right:(_.right-x.right+y.right)/S.x}}const I4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=jr(t,e)||{};if(u==null)return{};const f=XT(d),h={x:n,y:s},m=xx(r),y=yx(m),p=await a.getDimensions(u),b=m==="y",x=b?"top":"left",g=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[m]-h[m]-i.floating[y],_=h[m]-i.reference[m],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let j=N?N[w]:0;(!j||!await(a.isElement==null?void 0:a.isElement(N)))&&(j=o.floating[w]||i.floating[y]);const C=S/2-_/2,P=j/2-p[y]/2-1,O=ji(f[x],P),z=ji(f[g],P),R=O,L=j-p[y]-z,I=j/2-p[y]/2+C,A=Eg(R,I,L),$=!l.arrow&&vl(r)!=null&&I!==A&&i.reference[y]/2-(I<R?O:z)-p[y]/2<0,B=$?I<R?I-R:I-L:0;return{[m]:h[m]+B,data:{[m]:A,centerOffset:I-A-B,...$&&{alignmentOffset:B}},reset:$}}}),R4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...b}=jr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Cr(r),g=Vs(o),w=Cr(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=h||(w||!p?[jf(o)]:T4(o)),N=y!=="none";!h&&N&&_.push(...D4(o,p,y,S));const j=[o,..._],C=await Wc(e,b),P=[];let O=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&P.push(C[x]),f){const I=C4(r,a,S);P.push(C[I[0]],C[I[1]])}if(O=[...O,{placement:r,overflows:P}],!P.every(I=>I<=0)){var z,R;const I=(((z=i.flip)==null?void 0:z.index)||0)+1,A=j[I];if(A&&(!(f==="alignment"?g!==Vs(A):!1)||O.every(T=>T.overflows[0]>0&&Vs(T.placement)===g)))return{data:{index:I,overflows:O},reset:{placement:A}};let $=(R=O.filter(B=>B.overflows[0]<=0).sort((B,T)=>B.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(m){case"bestFit":{var L;const B=(L=O.filter(T=>{if(N){const F=Vs(T.placement);return F===g||F==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(F=>F>0).reduce((F,D)=>F+D,0)]).sort((T,F)=>T[1]-F[1])[0])==null?void 0:L[0];B&&($=B);break}case"initialPlacement":$=o;break}if(r!==$)return{reset:{placement:$}}}return{}}}};function ob(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lb(t){return _4.some(e=>t[e]>=0)}const F4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=jr(t,e);switch(s){case"referenceHidden":{const i=await Wc(e,{...r,elementContext:"reference"}),a=ob(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:lb(a)}}}case"escaped":{const i=await Wc(e,{...r,altBoundary:!0}),a=ob(i,n.floating);return{data:{escapedOffsets:a,escaped:lb(a)}}}default:return{}}}}},ZT=new Set(["left","top"]);async function L4(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=Cr(n),o=vl(n),l=Vs(n)==="y",u=ZT.has(a)?-1:1,d=i&&l?-1:1,f=jr(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const z4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:a,middlewareData:o}=e,l=await L4(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:a}}}}},V4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x,y:g}=b;return{x,y:g}}},...l}=jr(t,e),u={x:n,y:s},d=await Wc(e,l),f=Vs(Cr(r)),h=gx(f);let m=u[h],y=u[f];if(i){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=m+d[b],w=m-d[x];m=Eg(g,m,w)}if(a){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=y+d[b],w=y-d[x];y=Eg(g,y,w)}const p=o.fn({...e,[h]:m,[f]:y});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[h]:i,[f]:a}}}}}},$4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=jr(t,e),d={x:n,y:s},f=Vs(r),h=gx(f);let m=d[h],y=d[f];const p=jr(o,e),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=h==="y"?"height":"width",S=i.reference[h]-i.floating[w]+b.mainAxis,_=i.reference[h]+i.reference[w]-b.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var x,g;const w=h==="y"?"width":"height",S=ZT.has(Cr(r)),_=i.reference[f]-i.floating[w]+(S&&((x=a.offset)==null?void 0:x[f])||0)+(S?0:b.crossAxis),N=i.reference[f]+i.reference[w]+(S?0:((g=a.offset)==null?void 0:g[f])||0)-(S?b.crossAxis:0);y<_?y=_:y>N&&(y=N)}return{[h]:m,[f]:y}}}},B4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:a,elements:o}=e,{apply:l=()=>{},...u}=jr(t,e),d=await Wc(e,u),f=Cr(r),h=vl(r),m=Vs(r)==="y",{width:y,height:p}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const g=p-d.top-d.bottom,w=y-d.left-d.right,S=ji(p-d[b],g),_=ji(y-d[x],w),N=!e.middlewareData.shift;let j=S,C=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(j=g),N&&!h){const O=Fn(d.left,0),z=Fn(d.right,0),R=Fn(d.top,0),L=Fn(d.bottom,0);m?C=y-2*(O!==0||z!==0?O+z:Fn(d.left,d.right)):j=p-2*(R!==0||L!==0?R+L:Fn(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:j});const P=await a.getDimensions(o.floating);return y!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Ph(){return typeof window<"u"}function bl(t){return JT(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(JT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JT(t){return Ph()?t instanceof Node||t instanceof Vn(t).Node:!1}function _s(t){return Ph()?t instanceof Element||t instanceof Vn(t).Element:!1}function Qs(t){return Ph()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function cb(t){return!Ph()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const U4=new Set(["inline","contents"]);function ku(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!U4.has(r)}const W4=new Set(["table","td","th"]);function H4(t){return W4.has(bl(t))}const Y4=[":popover-open",":modal"];function Eh(t){return Y4.some(e=>{try{return t.matches(e)}catch{return!1}})}const q4=["transform","translate","scale","rotate","perspective"],Q4=["transform","translate","scale","rotate","perspective","filter"],K4=["paint","layout","strict","content"];function vx(t){const e=bx(),n=_s(t)?Ns(t):t;return q4.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Q4.some(s=>(n.willChange||"").includes(s))||K4.some(s=>(n.contain||"").includes(s))}function G4(t){let e=Ci(t);for(;Qs(e)&&!el(e);){if(vx(e))return e;if(Eh(e))return null;e=Ci(e)}return null}function bx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const X4=new Set(["html","body","#document"]);function el(t){return X4.has(bl(t))}function Ns(t){return Vn(t).getComputedStyle(t)}function Mh(t){return _s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ci(t){if(bl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cb(t)&&t.host||Zs(t);return cb(e)?e.host:e}function eP(t){const e=Ci(t);return el(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qs(e)&&ku(e)?e:eP(e)}function Hc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=eP(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),a=Vn(r);if(i){const o=Dg(a);return e.concat(a,a.visualViewport||[],ku(r)?r:[],o&&n?Hc(o):[])}return e.concat(r,Hc(r,[],n))}function Dg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tP(t){const e=Ns(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Qs(t),i=r?t.offsetWidth:n,a=r?t.offsetHeight:s,o=kf(n)!==i||kf(s)!==a;return o&&(n=i,s=a),{width:n,height:s,$:o}}function wx(t){return _s(t)?t:t.contextElement}function jo(t){const e=wx(t);if(!Qs(e))return Ws(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=tP(e);let a=(i?kf(n.width):n.width)/s,o=(i?kf(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Z4=Ws(0);function nP(t){const e=Vn(t);return!bx()||!e.visualViewport?Z4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function J4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function Pa(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=wx(t);let a=Ws(1);e&&(s?_s(s)&&(a=jo(s)):a=jo(t));const o=J4(i,n,s)?nP(i):Ws(0);let l=(r.left+o.x)/a.x,u=(r.top+o.y)/a.y,d=r.width/a.x,f=r.height/a.y;if(i){const h=Vn(i),m=s&&_s(s)?Vn(s):s;let y=h,p=Dg(y);for(;p&&s&&m!==y;){const b=jo(p),x=p.getBoundingClientRect(),g=Ns(p),w=x.left+(p.clientLeft+parseFloat(g.paddingLeft))*b.x,S=x.top+(p.clientTop+parseFloat(g.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,f*=b.y,l+=w,u+=S,y=Vn(p),p=Dg(y)}}return Cf({width:d,height:f,x:l,y:u})}function Sx(t,e){const n=Mh(t).scrollLeft;return e?e.left+n:Pa(Zs(t)).left+n}function sP(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=s.left+e.scrollLeft-(n?0:Sx(t,s)),i=s.top+e.scrollTop;return{x:r,y:i}}function e5(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",a=Zs(s),o=e?Eh(e.floating):!1;if(s===a||o&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Ws(1);const d=Ws(0),f=Qs(s);if((f||!f&&!i)&&((bl(s)!=="body"||ku(a))&&(l=Mh(s)),Qs(s))){const m=Pa(s);u=jo(s),d.x=m.x+s.clientLeft,d.y=m.y+s.clientTop}const h=a&&!f&&!i?sP(a,l,!0):Ws(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function t5(t){return Array.from(t.getClientRects())}function n5(t){const e=Zs(t),n=Mh(t),s=t.ownerDocument.body,r=Fn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Fn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+Sx(t);const o=-n.scrollTop;return Ns(s).direction==="rtl"&&(a+=Fn(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:o}}function s5(t,e){const n=Vn(t),s=Zs(t),r=n.visualViewport;let i=s.clientWidth,a=s.clientHeight,o=0,l=0;if(r){i=r.width,a=r.height;const u=bx();(!u||u&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:i,height:a,x:o,y:l}}const r5=new Set(["absolute","fixed"]);function i5(t,e){const n=Pa(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=Qs(t)?jo(t):Ws(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,l=r*i.x,u=s*i.y;return{width:a,height:o,x:l,y:u}}function ub(t,e,n){let s;if(e==="viewport")s=s5(t,n);else if(e==="document")s=n5(Zs(t));else if(_s(e))s=i5(e,n);else{const r=nP(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Cf(s)}function rP(t,e){const n=Ci(t);return n===e||!_s(n)||el(n)?!1:Ns(n).position==="fixed"||rP(n,e)}function a5(t,e){const n=e.get(t);if(n)return n;let s=Hc(t,[],!1).filter(o=>_s(o)&&bl(o)!=="body"),r=null;const i=Ns(t).position==="fixed";let a=i?Ci(t):t;for(;_s(a)&&!el(a);){const o=Ns(a),l=vx(a);!l&&o.position==="fixed"&&(r=null),(i?!l&&!r:!l&&o.position==="static"&&!!r&&r5.has(r.position)||ku(a)&&!l&&rP(t,a))?s=s.filter(d=>d!==a):r=o,a=Ci(a)}return e.set(t,s),s}function o5(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?Eh(e)?[]:a5(e,this._c):[].concat(n),s],o=a[0],l=a.reduce((u,d)=>{const f=ub(e,d,r);return u.top=Fn(f.top,u.top),u.right=ji(f.right,u.right),u.bottom=ji(f.bottom,u.bottom),u.left=Fn(f.left,u.left),u},ub(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function l5(t){const{width:e,height:n}=tP(t);return{width:e,height:n}}function c5(t,e,n){const s=Qs(e),r=Zs(e),i=n==="fixed",a=Pa(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=Ws(0);function u(){l.x=Sx(r)}if(s||!s&&!i)if((bl(e)!=="body"||ku(r))&&(o=Mh(e)),s){const m=Pa(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?sP(r,o):Ws(0),f=a.left+o.scrollLeft-l.x-d.x,h=a.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function Am(t){return Ns(t).position==="static"}function db(t,e){if(!Qs(t)||Ns(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function iP(t,e){const n=Vn(t);if(Eh(t))return n;if(!Qs(t)){let r=Ci(t);for(;r&&!el(r);){if(_s(r)&&!Am(r))return r;r=Ci(r)}return n}let s=db(t,e);for(;s&&H4(s)&&Am(s);)s=db(s,e);return s&&el(s)&&Am(s)&&!vx(s)?n:s||G4(t)||n}const u5=async function(t){const e=this.getOffsetParent||iP,n=this.getDimensions,s=await n(t.floating);return{reference:c5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function d5(t){return Ns(t).direction==="rtl"}const f5={convertOffsetParentRelativeRectToViewportRelativeRect:e5,getDocumentElement:Zs,getClippingRect:o5,getOffsetParent:iP,getElementRects:u5,getClientRects:t5,getDimensions:l5,getScale:jo,isElement:_s,isRTL:d5};function aP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function h5(t,e){let n=null,s;const r=Zs(t);function i(){var o;clearTimeout(s),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||e(),!h||!m)return;const y=sd(f),p=sd(r.clientWidth-(d+h)),b=sd(r.clientHeight-(f+m)),x=sd(d),w={rootMargin:-y+"px "+-p+"px "+-b+"px "+-x+"px",threshold:Fn(0,ji(1,l))||1};let S=!0;function _(N){const j=N[0].intersectionRatio;if(j!==l){if(!S)return a();j?a(!1,j):s=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!aP(u,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(_,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(t)}return a(!0),i}function m5(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,u=wx(t),d=r||i?[...u?Hc(u):[],...Hc(e)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&o?h5(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,p=l?Pa(t):null;l&&b();function b(){const x=Pa(t);p&&!aP(p,x)&&n(),p=x,y=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(g=>{r&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const p5=z4,g5=V4,y5=R4,x5=B4,v5=F4,fb=I4,b5=$4,w5=(t,e,n)=>{const s=new Map,r={platform:f5,...n},i={...r.platform,_c:s};return A4(t,e,{...r,platform:i})};var S5=typeof document<"u",_5=function(){},Bd=S5?v.useLayoutEffect:_5;function Tf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Tf(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!Tf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function oP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hb(t,e){const n=oP(t);return Math.round(e*n)/n}function Im(t){const e=v.useRef(t);return Bd(()=>{e.current=t}),e}function N5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(s);Tf(h,s)||m(s);const[y,p]=v.useState(null),[b,x]=v.useState(null),g=v.useCallback(T=>{T!==N.current&&(N.current=T,p(T))},[]),w=v.useCallback(T=>{T!==j.current&&(j.current=T,x(T))},[]),S=i||y,_=a||b,N=v.useRef(null),j=v.useRef(null),C=v.useRef(d),P=l!=null,O=Im(l),z=Im(r),R=Im(u),L=v.useCallback(()=>{if(!N.current||!j.current)return;const T={placement:e,strategy:n,middleware:h};z.current&&(T.platform=z.current),w5(N.current,j.current,T).then(F=>{const D={...F,isPositioned:R.current!==!1};I.current&&!Tf(C.current,D)&&(C.current=D,Ba.flushSync(()=>{f(D)}))})},[h,e,n,z,R]);Bd(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const I=v.useRef(!1);Bd(()=>(I.current=!0,()=>{I.current=!1}),[]),Bd(()=>{if(S&&(N.current=S),_&&(j.current=_),S&&_){if(O.current)return O.current(S,_,L);L()}},[S,_,L,O,P]);const A=v.useMemo(()=>({reference:N,floating:j,setReference:g,setFloating:w}),[g,w]),$=v.useMemo(()=>({reference:S,floating:_}),[S,_]),B=v.useMemo(()=>{const T={position:n,left:0,top:0};if(!$.floating)return T;const F=hb($.floating,d.x),D=hb($.floating,d.y);return o?{...T,transform:"translate("+F+"px, "+D+"px)",...oP($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:D}},[n,o,$.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:L,refs:A,elements:$,floatingStyles:B}),[d,L,A,$,B])}const k5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?fb({element:s.current,padding:r}).fn(n):{}:s?fb({element:s,padding:r}).fn(n):{}}}},j5=(t,e)=>({...p5(t),options:[t,e]}),C5=(t,e)=>({...g5(t),options:[t,e]}),T5=(t,e)=>({...b5(t),options:[t,e]}),P5=(t,e)=>({...y5(t),options:[t,e]}),E5=(t,e)=>({...x5(t),options:[t,e]}),M5=(t,e)=>({...v5(t),options:[t,e]}),D5=(t,e)=>({...k5(t),options:[t,e]});var O5="Arrow",lP=v.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return c.jsx(Pe.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});lP.displayName=O5;var A5=lP;function cP(t){const[e,n]=v.useState(void 0);return Jt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var _x="Popper",[uP,Dh]=Ua(_x),[I5,dP]=uP(_x),fP=t=>{const{__scopePopper:e,children:n}=t,[s,r]=v.useState(null);return c.jsx(I5,{scope:e,anchor:s,onAnchorChange:r,children:n})};fP.displayName=_x;var hP="PopperAnchor",mP=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=dP(hP,n),a=v.useRef(null),o=We(e,a);return v.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:c.jsx(Pe.div,{...r,ref:o})});mP.displayName=hP;var Nx="PopperContent",[R5,F5]=uP(Nx),pP=v.forwardRef((t,e)=>{var H,Z,ze,Ee,be,Ae;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...p}=t,b=dP(Nx,n),[x,g]=v.useState(null),w=We(e,Qt=>g(Qt)),[S,_]=v.useState(null),N=cP(S),j=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,P=s+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],R=z.length>0,L={padding:O,boundary:z.filter(z5),altBoundary:R},{refs:I,floatingStyles:A,placement:$,isPositioned:B,middlewareData:T}=N5({strategy:"fixed",placement:P,whileElementsMounted:(...Qt)=>m5(...Qt,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[j5({mainAxis:r+C,alignmentAxis:a}),l&&C5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?T5():void 0,...L}),l&&P5({...L}),E5({...L,apply:({elements:Qt,rects:An,availableWidth:Rr,availableHeight:Bi})=>{const{width:Ui,height:Sv}=An.reference,Wi=Qt.floating.style;Wi.setProperty("--radix-popper-available-width",`${Rr}px`),Wi.setProperty("--radix-popper-available-height",`${Bi}px`),Wi.setProperty("--radix-popper-anchor-width",`${Ui}px`),Wi.setProperty("--radix-popper-anchor-height",`${Sv}px`)}}),S&&D5({element:S,padding:o}),V5({arrowWidth:j,arrowHeight:C}),h&&M5({strategy:"referenceHidden",...L})]}),[F,D]=xP($),W=Ss(y);Jt(()=>{B&&(W==null||W())},[B,W]);const G=(H=T.arrow)==null?void 0:H.x,ne=(Z=T.arrow)==null?void 0:Z.y,re=((ze=T.arrow)==null?void 0:ze.centerOffset)!==0,[ge,ve]=v.useState();return Jt(()=>{x&&ve(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:B?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ee=T.transformOrigin)==null?void 0:Ee.x,(be=T.transformOrigin)==null?void 0:be.y].join(" "),...((Ae=T.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(R5,{scope:n,placedSide:F,onArrowChange:_,arrowX:G,arrowY:ne,shouldHideArrow:re,children:c.jsx(Pe.div,{"data-side":F,"data-align":D,...p,ref:w,style:{...p.style,animation:B?void 0:"none"}})})})});pP.displayName=Nx;var gP="PopperArrow",L5={top:"bottom",right:"left",bottom:"top",left:"right"},yP=v.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=F5(gP,s),a=L5[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(A5,{...r,ref:n,style:{...r.style,display:"block"}})})});yP.displayName=gP;function z5(t){return t!==null}var V5=t=>({name:"transformOrigin",options:t,fn(e){var b,x,g;const{placement:n,rects:s,middlewareData:r}=e,a=((b=r.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=xP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=r.arrow)==null?void 0:x.x)??0)+o/2,m=(((g=r.arrow)==null?void 0:g.y)??0)+l/2;let y="",p="";return u==="bottom"?(y=a?f:`${h}px`,p=`${-l}px`):u==="top"?(y=a?f:`${h}px`,p=`${s.floating.height+l}px`):u==="right"?(y=`${-l}px`,p=a?f:`${m}px`):u==="left"&&(y=`${s.floating.width+l}px`,p=a?f:`${m}px`),{data:{x:y,y:p}}}});function xP(t){const[e,n="center"]=t.split("-");return[e,n]}var $5=fP,vP=mP,bP=pP,wP=yP,[Oh,zq]=Ua("Tooltip",[Dh]),kx=Dh(),SP="TooltipProvider",B5=700,mb="tooltip.open",[U5,_P]=Oh(SP),NP=t=>{const{__scopeTooltip:e,delayDuration:n=B5,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,a=v.useRef(!0),o=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(U5,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:o,onPointerInTransitChange:v.useCallback(u=>{o.current=u},[]),disableHoverableContent:r,children:i})};NP.displayName=SP;var kP="Tooltip",[Vq,Ah]=Oh(kP),Og="TooltipTrigger",W5=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Ah(Og,n),i=_P(Og,n),a=kx(n),o=v.useRef(null),l=We(e,o,r.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(vP,{asChild:!0,...a,children:c.jsx(Pe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:l,onPointerMove:xe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:xe(t.onBlur,r.onClose),onClick:xe(t.onClick,r.onClose)})})});W5.displayName=Og;var H5="TooltipPortal",[$q,Y5]=Oh(H5,{forceMount:void 0}),tl="TooltipContent",jP=v.forwardRef((t,e)=>{const n=Y5(tl,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,a=Ah(tl,t.__scopeTooltip);return c.jsx(yl,{present:s||a.open,children:a.disableHoverableContent?c.jsx(CP,{side:r,...i,ref:e}):c.jsx(q5,{side:r,...i,ref:e})})}),q5=v.forwardRef((t,e)=>{const n=Ah(tl,t.__scopeTooltip),s=_P(tl,t.__scopeTooltip),r=v.useRef(null),i=We(e,r),[a,o]=v.useState(null),{trigger:l,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,h=v.useCallback(()=>{o(null),f(!1)},[f]),m=v.useCallback((y,p)=>{const b=y.currentTarget,x={x:y.clientX,y:y.clientY},g=Z5(x,b.getBoundingClientRect()),w=J5(x,g),S=ez(p.getBoundingClientRect()),_=nz([...w,...S]);o(_),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const y=b=>m(b,d),p=b=>m(b,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),v.useEffect(()=>{if(a){const y=p=>{const b=p.target,x={x:p.clientX,y:p.clientY},g=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),w=!tz(x,a);g?h():w&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,a,u,h]),c.jsx(CP,{...t,ref:i})}),[Q5,K5]=Oh(kP,{isInside:!1}),G5=UF("TooltipContent"),CP=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=t,l=Ah(tl,n),u=kx(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(mb,d),()=>document.removeEventListener(mb,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(_u,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(bP,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(G5,{children:s}),c.jsx(Q5,{scope:n,isInside:!0,children:c.jsx(dL,{id:l.contentId,role:"tooltip",children:r||s})})]})})});jP.displayName=tl;var TP="TooltipArrow",X5=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=kx(n);return K5(TP,n).isInside?null:c.jsx(wP,{...r,...s,ref:e})});X5.displayName=TP;function Z5(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function J5(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function ez(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function tz(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],l=e[a],u=o.x,d=o.y,f=l.x,h=l.y;d>s!=h>s&&n<(f-u)*(s-d)/(h-d)+u&&(r=!r)}return r}function nz(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),sz(e)}function sz(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var rz=NP,PP=jP;const iz=rz,az=v.forwardRef(({className:t,sideOffset:e=4,...n},s)=>c.jsx(PP,{ref:s,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));az.displayName=PP.displayName;function oz(){const[t]=dt();return v.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const lz=hx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=v.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?cT:"button";return c.jsx(a,{className:Re(lz({variant:e,size:n,className:t})),ref:i,...r})});q.displayName="Button";const le=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));le.displayName="Card";const Et=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 pb-2 pt-4 p-6",t),...e}));Et.displayName="CardHeader";const Mt=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mt.displayName="CardTitle";const cz=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));cz.displayName="CardDescription";const ce=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("p-6 pb-2 pt-0",t),...e}));ce.displayName="CardContent";const uz=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:Re("flex items-center p-6 pb-2 pt-0",t),...e}));uz.displayName="CardFooter";function dz(){const[t,e]=v.useState(!1),[n,s]=v.useState(null),[r,i]=v.useState(!1),[a,o]=v.useState(!1);v.useEffect(()=>{(()=>{const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");o(m)})();const f=m=>{const y=m;m.preventDefault(),s(y),a||setTimeout(()=>{e(!0)},3e3)},h=()=>{e(!1),s(null),o(!0)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",h),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",h)}},[a]);const l=async()=>{if(n){i(!0);try{await n.prompt();const{outcome:d}=await n.userChoice;console.log(d==="accepted"?" PWA install accepted":" PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{i(!1),e(!1),s(null)}}},u=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return!t||!n||a||sessionStorage.getItem("pwa-install-dismissed")?null:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 transition-opacity duration-300",onClick:u}),c.jsx("div",{className:"fixed top-4 left-4 right-4 z-50 flex justify-center animate-in slide-in-from-top-4 duration-500",children:c.jsxs(le,{className:"w-full max-w-md bg-white shadow-2xl border-0 overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-purple-600 p-4",children:c.jsxs("div",{className:"flex items-center justify-between text-white",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:c.jsx(Tg,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Install Journey"}),c.jsx("p",{className:"text-white/90 text-sm",children:"Get the full app experience"})]})]}),c.jsx(q,{variant:"ghost",size:"sm",onClick:u,className:"text-white hover:bg-white/20 h-8 w-8 p-0",children:c.jsx(mx,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(IL,{className:"w-4 h-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Native Experience"}),c.jsx("div",{className:"text-gray-500",children:"No browser bars"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:c.jsx(RL,{className:"w-4 h-4 text-green-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Offline Access"}),c.jsx("div",{className:"text-gray-500",children:"Works anywhere"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-rocket text-purple-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Faster Loading"}),c.jsx("div",{className:"text-gray-500",children:"Instant startup"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:c.jsx("i",{className:"fas fa-home text-orange-600 text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Home Screen"}),c.jsx("div",{className:"text-gray-500",children:"Easy access"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" ",c.jsx("strong",{children:"Installation takes seconds:"})]}),c.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[c.jsx("li",{children:'1. Click "Install App" below'}),c.jsx("li",{children:"2. Confirm installation"}),c.jsx("li",{children:"3. Find Journey on your home screen"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx(q,{onClick:l,disabled:r,className:"flex-1 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg",size:"lg",children:r?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Tg,{className:"w-4 h-4 mr-2"}),"Install App"]})}),c.jsx(q,{variant:"outline",onClick:u,className:"px-6",size:"lg",children:"Later"})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Free  No app store required  Uninstall anytime"})]})]})})]})}function fz(){const[t,e]=v.useState(!1),[n,s]=v.useState(!1);return v.useEffect(()=>{(()=>{const o=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");s(o)})();const i=o=>{o.preventDefault(),n||e(!0)},a=()=>{e(!1),s(!0)};return window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",a),()=>{window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",a)}},[n]),{canInstall:t,isInstalled:n}}function Js(){const{data:t,isLoading:e}=It({queryKey:["/api/user"],queryFn:oT({on401:"returnNull"}),retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}function hz(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(le,{className:"w-full max-w-md mx-4",children:c.jsxs(ce,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(AL,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var ju=t=>t.type==="checkbox",ra=t=>t instanceof Date,mn=t=>t==null;const EP=t=>typeof t=="object";var Tt=t=>!mn(t)&&!Array.isArray(t)&&EP(t)&&!ra(t),MP=t=>Tt(t)&&t.target?ju(t.target)?t.target.checked:t.target.value:t,mz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DP=(t,e)=>t.has(mz(e)),pz=t=>{const e=t.constructor&&t.constructor.prototype;return Tt(e)&&e.hasOwnProperty("isPrototypeOf")},jx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rt(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(jx&&(t instanceof Blob||s))&&(n||Tt(t)))if(e=n?[]:{},!n&&!pz(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Rt(t[r]));else return t;return e}var Ih=t=>/^\w*$/.test(t),_t=t=>t===void 0,Cx=t=>Array.isArray(t)?t.filter(Boolean):[],Tx=t=>Cx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ee=(t,e,n)=>{if(!e||!Tt(t))return n;const s=(Ih(e)?[e]:Tx(e)).reduce((r,i)=>mn(r)?r:r[i],t);return _t(s)||s===t?_t(t[e])?n:t[e]:s},Rn=t=>typeof t=="boolean",Ke=(t,e,n)=>{let s=-1;const r=Ih(e)?[e]:Tx(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let l=n;if(s!==a){const u=t[o];l=Tt(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Pf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},nr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Px=ye.createContext(null);Px.displayName="HookFormContext";const Rh=()=>ye.useContext(Px),gz=t=>{const{children:e,...n}=t;return ye.createElement(Px.Provider,{value:n},e)};var OP=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ps.all&&(e._proxyFormState[a]=!s||ps.all),n&&(n[a]=!0),t[a]}});return r};const Ex=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function yz(t){const e=Rh(),{control:n=e.control,disabled:s,name:r,exact:i}=t||{},[a,o]=ye.useState(n._formState),l=ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ex(()=>n._subscribe({name:r,formState:l.current,exact:i,callback:u=>{!s&&o({...n._formState,...u})}}),[r,s,i]),ye.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),ye.useMemo(()=>OP(a,n,l.current,!1),[a,n])}var $s=t=>typeof t=="string",AP=(t,e,n,s,r)=>$s(t)?(s&&e.watch.add(t),ee(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),ee(n,i))):(s&&(e.watchAll=!0),n),Ag=t=>mn(t)||!EP(t);function mr(t,e,n=new WeakSet){if(Ag(t)||Ag(e))return t===e;if(ra(t)&&ra(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ra(a)&&ra(o)||Tt(a)&&Tt(o)||Array.isArray(a)&&Array.isArray(o)?!mr(a,o,n):a!==o)return!1}}return!0}function xz(t){const e=Rh(),{control:n=e.control,name:s,defaultValue:r,disabled:i,exact:a,compute:o}=t||{},l=ye.useRef(r),u=ye.useRef(o),d=ye.useRef(void 0);u.current=o;const f=ye.useMemo(()=>n._getWatch(s,l.current),[n,s]),[h,m]=ye.useState(u.current?u.current(f):f);return Ex(()=>n._subscribe({name:s,formState:{values:!0},exact:a,callback:y=>{if(!i){const p=AP(s,n._names,y.values||n._formValues,!1,l.current);if(u.current){const b=u.current(p);mr(b,d.current)||(m(b),d.current=b)}else m(p)}}}),[n,i,s,a]),ye.useEffect(()=>n._removeUnmounted()),h}function vz(t){const e=Rh(),{name:n,disabled:s,control:r=e.control,shouldUnregister:i,defaultValue:a}=t,o=DP(r._names.array,n),l=ye.useMemo(()=>ee(r._formValues,n,ee(r._defaultValues,n,a)),[r,n,a]),u=xz({control:r,name:n,defaultValue:l,exact:!0}),d=yz({control:r,name:n,exact:!0}),f=ye.useRef(t),h=ye.useRef(r.register(n,{...t.rules,value:u,...Rn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const m=ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ee(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ee(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ee(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ee(d.validatingFields,n)},error:{enumerable:!0,get:()=>ee(d.errors,n)}}),[d,n]),y=ye.useCallback(g=>h.current.onChange({target:{value:MP(g),name:n},type:Pf.CHANGE}),[n]),p=ye.useCallback(()=>h.current.onBlur({target:{value:ee(r._formValues,n),name:n},type:Pf.BLUR}),[n,r._formValues]),b=ye.useCallback(g=>{const w=ee(r._fields,n);w&&g&&(w._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:S=>g.setCustomValidity(S),reportValidity:()=>g.reportValidity()})},[r._fields,n]),x=ye.useMemo(()=>({name:n,value:u,...Rn(s)||d.disabled?{disabled:d.disabled||s}:{},onChange:y,onBlur:p,ref:b}),[n,s,d.disabled,y,p,b,u]);return ye.useEffect(()=>{const g=r._options.shouldUnregister||i;r.register(n,{...f.current.rules,...Rn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(S,_)=>{const N=ee(r._fields,S);N&&N._f&&(N._f.mount=_)};if(w(n,!0),g){const S=Rt(ee(r._options.defaultValues,n));Ke(r._defaultValues,n,S),_t(ee(r._formValues,n))&&Ke(r._formValues,n,S)}return!o&&r.register(n),()=>{(o?g&&!r._state.action:g)?r.unregister(n):w(n,!1)}},[n,r,o,i]),ye.useEffect(()=>{r._setDisabledField({disabled:s,name:n})},[s,n,r]),ye.useMemo(()=>({field:x,formState:d,fieldState:m}),[x,d,m])}const bz=t=>t.render(vz(t));var IP=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},gc=t=>Array.isArray(t)?t:[t],pb=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},kn=t=>Tt(t)&&!Object.keys(t).length,Mx=t=>t.type==="file",gs=t=>typeof t=="function",Ef=t=>{if(!jx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},RP=t=>t.type==="select-multiple",Dx=t=>t.type==="radio",wz=t=>Dx(t)||ju(t),Rm=t=>Ef(t)&&t.isConnected;function Sz(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=_t(t)?s++:t[e[s++]];return t}function _z(t){for(const e in t)if(t.hasOwnProperty(e)&&!_t(t[e]))return!1;return!0}function Dt(t,e){const n=Array.isArray(e)?e:Ih(e)?[e]:Tx(e),s=n.length===1?t:Sz(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(Tt(s)&&kn(s)||Array.isArray(s)&&_z(s))&&Dt(t,n.slice(0,-1)),t}var FP=t=>{for(const e in t)if(gs(t[e]))return!0;return!1};function Mf(t,e={}){const n=Array.isArray(t);if(Tt(t)||n)for(const s in t)Array.isArray(t[s])||Tt(t[s])&&!FP(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Mf(t[s],e[s])):mn(t[s])||(e[s]=!0);return e}function LP(t,e,n){const s=Array.isArray(t);if(Tt(t)||s)for(const r in t)Array.isArray(t[r])||Tt(t[r])&&!FP(t[r])?_t(e)||Ag(n[r])?n[r]=Array.isArray(t[r])?Mf(t[r],[]):{...Mf(t[r])}:LP(t[r],mn(e)?{}:e[r],n[r]):n[r]=!mr(t[r],e[r]);return n}var Ll=(t,e)=>LP(t,e,Mf(e));const gb={value:!1,isValid:!1},yb={value:!0,isValid:!0};var zP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_t(t[0].attributes.value)?_t(t[0].value)||t[0].value===""?yb:{value:t[0].value,isValid:!0}:yb:gb}return gb},VP=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>_t(t)?t:e?t===""?NaN:t&&+t:n&&$s(t)?new Date(t):s?s(t):t;const xb={isValid:!1,value:null};var $P=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,xb):xb;function vb(t){const e=t.ref;return Mx(e)?e.files:Dx(e)?$P(t.refs).value:RP(e)?[...e.selectedOptions].map(({value:n})=>n):ju(e)?zP(t.refs).value:VP(_t(e.value)?t.ref.value:e.value,t)}var Nz=(t,e,n,s)=>{const r={};for(const i of t){const a=ee(e,i);a&&Ke(r,i,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Df=t=>t instanceof RegExp,zl=t=>_t(t)?t:Df(t)?t.source:Tt(t)?Df(t.value)?t.value.source:t.value:t,bb=t=>({isOnSubmit:!t||t===ps.onSubmit,isOnBlur:t===ps.onBlur,isOnChange:t===ps.onChange,isOnAll:t===ps.all,isOnTouch:t===ps.onTouched});const wb="AsyncFunction";var kz=t=>!!t&&!!t.validate&&!!(gs(t.validate)&&t.validate.constructor.name===wb||Tt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===wb)),jz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Sb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const yc=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=ee(t,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(yc(o,e))break}else if(Tt(o)&&yc(o,e))break}}};function _b(t,e,n){const s=ee(t,n);if(s||Ih(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),a=ee(e,i),o=ee(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:n}}var Cz=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return kn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||ps.all))},Tz=(t,e,n)=>!t||!e||t===e||gc(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),Pz=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,Ez=(t,e)=>!Cx(ee(t,e)).length&&Dt(t,e),Mz=(t,e,n)=>{const s=gc(ee(t,n));return Ke(s,"root",e[n]),Ke(t,n,s),t},Ud=t=>$s(t);function Nb(t,e,n="validate"){if(Ud(t)||Array.isArray(t)&&t.every(Ud)||Rn(t)&&!t)return{type:n,message:Ud(t)?t:"",ref:e}}var Qa=t=>Tt(t)&&!Df(t)?t:{value:t,message:""},kb=async(t,e,n,s,r,i)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:p,valueAsNumber:b,mount:x}=t._f,g=ee(n,p);if(!x||e.has(p))return{};const w=o?o[0]:a,S=R=>{r&&w.reportValidity&&(w.setCustomValidity(Rn(R)?"":R||""),w.reportValidity())},_={},N=Dx(a),j=ju(a),C=N||j,P=(b||Mx(a))&&_t(a.value)&&_t(g)||Ef(a)&&a.value===""||g===""||Array.isArray(g)&&!g.length,O=IP.bind(null,p,s,_),z=(R,L,I,A=nr.maxLength,$=nr.minLength)=>{const B=R?L:I;_[p]={type:R?A:$,message:B,ref:a,...O(R?A:$,B)}};if(i?!Array.isArray(g)||!g.length:l&&(!C&&(P||mn(g))||Rn(g)&&!g||j&&!zP(o).isValid||N&&!$P(o).isValid)){const{value:R,message:L}=Ud(l)?{value:!!l,message:l}:Qa(l);if(R&&(_[p]={type:nr.required,message:L,ref:w,...O(nr.required,L)},!s))return S(L),_}if(!P&&(!mn(f)||!mn(h))){let R,L;const I=Qa(h),A=Qa(f);if(!mn(g)&&!isNaN(g)){const $=a.valueAsNumber||g&&+g;mn(I.value)||(R=$>I.value),mn(A.value)||(L=$<A.value)}else{const $=a.valueAsDate||new Date(g),B=D=>new Date(new Date().toDateString()+" "+D),T=a.type=="time",F=a.type=="week";$s(I.value)&&g&&(R=T?B(g)>B(I.value):F?g>I.value:$>new Date(I.value)),$s(A.value)&&g&&(L=T?B(g)<B(A.value):F?g<A.value:$<new Date(A.value))}if((R||L)&&(z(!!R,I.message,A.message,nr.max,nr.min),!s))return S(_[p].message),_}if((u||d)&&!P&&($s(g)||i&&Array.isArray(g))){const R=Qa(u),L=Qa(d),I=!mn(R.value)&&g.length>+R.value,A=!mn(L.value)&&g.length<+L.value;if((I||A)&&(z(I,R.message,L.message),!s))return S(_[p].message),_}if(m&&!P&&$s(g)){const{value:R,message:L}=Qa(m);if(Df(R)&&!g.match(R)&&(_[p]={type:nr.pattern,message:L,ref:a,...O(nr.pattern,L)},!s))return S(L),_}if(y){if(gs(y)){const R=await y(g,n),L=Nb(R,w);if(L&&(_[p]={...L,...O(nr.validate,L.message)},!s))return S(L.message),_}else if(Tt(y)){let R={};for(const L in y){if(!kn(R)&&!s)break;const I=Nb(await y[L](g,n),w,L);I&&(R={...I,...O(L,I.message)},S(I.message),s&&(_[p]=R))}if(!kn(R)&&(_[p]={ref:w,...R},!s))return _}}return S(!0),_};const Dz={mode:ps.onSubmit,reValidateMode:ps.onChange,shouldFocusError:!0};function Oz(t={}){let e={...Dz,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:gs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=Tt(e.defaultValues)||Tt(e.values)?Rt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Rt(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:pb(),state:pb()},m=e.criteriaMode===ps.all,y=M=>V=>{clearTimeout(u),u=setTimeout(M,V)},p=async M=>{if(!e.disabled&&(d.isValid||f.isValid||M)){const V=e.resolver?kn((await j()).errors):await P(s,!0);V!==n.isValid&&h.state.next({isValid:V})}},b=(M,V)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(o.mount)).forEach(U=>{U&&(V?Ke(n.validatingFields,U,V):Dt(n.validatingFields,U))}),h.state.next({validatingFields:n.validatingFields,isValidating:!kn(n.validatingFields)}))},x=(M,V=[],U,ie,J=!0,X=!0)=>{if(ie&&U&&!e.disabled){if(a.action=!0,X&&Array.isArray(ee(s,M))){const fe=U(ee(s,M),ie.argA,ie.argB);J&&Ke(s,M,fe)}if(X&&Array.isArray(ee(n.errors,M))){const fe=U(ee(n.errors,M),ie.argA,ie.argB);J&&Ke(n.errors,M,fe),Ez(n.errors,M)}if((d.touchedFields||f.touchedFields)&&X&&Array.isArray(ee(n.touchedFields,M))){const fe=U(ee(n.touchedFields,M),ie.argA,ie.argB);J&&Ke(n.touchedFields,M,fe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Ll(r,i)),h.state.next({name:M,isDirty:z(M,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ke(i,M,V)},g=(M,V)=>{Ke(n.errors,M,V),h.state.next({errors:n.errors})},w=M=>{n.errors=M,h.state.next({errors:n.errors,isValid:!1})},S=(M,V,U,ie)=>{const J=ee(s,M);if(J){const X=ee(i,M,_t(U)?ee(r,M):U);_t(X)||ie&&ie.defaultChecked||V?Ke(i,M,V?X:vb(J._f)):I(M,X),a.mount&&p()}},_=(M,V,U,ie,J)=>{let X=!1,fe=!1;const Qe={name:M};if(!e.disabled){if(!U||ie){(d.isDirty||f.isDirty)&&(fe=n.isDirty,n.isDirty=Qe.isDirty=z(),X=fe!==Qe.isDirty);const tt=mr(ee(r,M),V);fe=!!ee(n.dirtyFields,M),tt?Dt(n.dirtyFields,M):Ke(n.dirtyFields,M,!0),Qe.dirtyFields=n.dirtyFields,X=X||(d.dirtyFields||f.dirtyFields)&&fe!==!tt}if(U){const tt=ee(n.touchedFields,M);tt||(Ke(n.touchedFields,M,U),Qe.touchedFields=n.touchedFields,X=X||(d.touchedFields||f.touchedFields)&&tt!==U)}X&&J&&h.state.next(Qe)}return X?Qe:{}},N=(M,V,U,ie)=>{const J=ee(n.errors,M),X=(d.isValid||f.isValid)&&Rn(V)&&n.isValid!==V;if(e.delayError&&U?(l=y(()=>g(M,U)),l(e.delayError)):(clearTimeout(u),l=null,U?Ke(n.errors,M,U):Dt(n.errors,M)),(U?!mr(J,U):J)||!kn(ie)||X){const fe={...ie,...X&&Rn(V)?{isValid:V}:{},errors:n.errors,name:M};n={...n,...fe},h.state.next(fe)}},j=async M=>{b(M,!0);const V=await e.resolver(i,e.context,Nz(M||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return b(M),V},C=async M=>{const{errors:V}=await j(M);if(M)for(const U of M){const ie=ee(V,U);ie?Ke(n.errors,U,ie):Dt(n.errors,U)}else n.errors=V;return V},P=async(M,V,U={valid:!0})=>{for(const ie in M){const J=M[ie];if(J){const{_f:X,...fe}=J;if(X){const Qe=o.array.has(X.name),tt=J._f&&kz(J._f);tt&&d.validatingFields&&b([ie],!0);const Yn=await kb(J,o.disabled,i,m,e.shouldUseNativeValidation&&!V,Qe);if(tt&&d.validatingFields&&b([ie]),Yn[X.name]&&(U.valid=!1,V))break;!V&&(ee(Yn,X.name)?Qe?Mz(n.errors,Yn,X.name):Ke(n.errors,X.name,Yn[X.name]):Dt(n.errors,X.name))}!kn(fe)&&await P(fe,V,U)}}return U.valid},O=()=>{for(const M of o.unMount){const V=ee(s,M);V&&(V._f.refs?V._f.refs.every(U=>!Rm(U)):!Rm(V._f.ref))&&H(M)}o.unMount=new Set},z=(M,V)=>!e.disabled&&(M&&V&&Ke(i,M,V),!mr(D(),r)),R=(M,V,U)=>AP(M,o,{...a.mount?i:_t(V)?r:$s(M)?{[M]:V}:V},U,V),L=M=>Cx(ee(a.mount?i:r,M,e.shouldUnregister?ee(r,M,[]):[])),I=(M,V,U={})=>{const ie=ee(s,M);let J=V;if(ie){const X=ie._f;X&&(!X.disabled&&Ke(i,M,VP(V,X)),J=Ef(X.ref)&&mn(V)?"":V,RP(X.ref)?[...X.ref.options].forEach(fe=>fe.selected=J.includes(fe.value)):X.refs?ju(X.ref)?X.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(J)?fe.checked=!!J.find(Qe=>Qe===fe.value):fe.checked=J===fe.value||!!J)}):X.refs.forEach(fe=>fe.checked=fe.value===J):Mx(X.ref)?X.ref.value="":(X.ref.value=J,X.ref.type||h.state.next({name:M,values:Rt(i)})))}(U.shouldDirty||U.shouldTouch)&&_(M,J,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&F(M)},A=(M,V,U)=>{for(const ie in V){if(!V.hasOwnProperty(ie))return;const J=V[ie],X=M+"."+ie,fe=ee(s,X);(o.array.has(M)||Tt(J)||fe&&!fe._f)&&!ra(J)?A(X,J,U):I(X,J,U)}},$=(M,V,U={})=>{const ie=ee(s,M),J=o.array.has(M),X=Rt(V);Ke(i,M,X),J?(h.array.next({name:M,values:Rt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:M,dirtyFields:Ll(r,i),isDirty:z(M,X)})):ie&&!ie._f&&!mn(X)?A(M,X,U):I(M,X,U),Sb(M,o)&&h.state.next({...n,name:M}),h.state.next({name:a.mount?M:void 0,values:Rt(i)})},B=async M=>{a.mount=!0;const V=M.target;let U=V.name,ie=!0;const J=ee(s,U),X=tt=>{ie=Number.isNaN(tt)||ra(tt)&&isNaN(tt.getTime())||mr(tt,ee(i,U,tt))},fe=bb(e.mode),Qe=bb(e.reValidateMode);if(J){let tt,Yn;const Iu=V.type?vb(J._f):MP(M),Fr=M.type===Pf.BLUR||M.type===Pf.FOCUS_OUT,QO=!jz(J._f)&&!e.resolver&&!ee(n.errors,U)&&!J._f.deps||Pz(Fr,ee(n.touchedFields,U),n.isSubmitted,Qe,fe),Jh=Sb(U,o,Fr);Ke(i,U,Iu),Fr?(J._f.onBlur&&J._f.onBlur(M),l&&l(0)):J._f.onChange&&J._f.onChange(M);const em=_(U,Iu,Fr),KO=!kn(em)||Jh;if(!Fr&&h.state.next({name:U,type:M.type,values:Rt(i)}),QO)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Fr&&p():Fr||p()),KO&&h.state.next({name:U,...Jh?{}:em});if(!Fr&&Jh&&h.state.next({...n}),e.resolver){const{errors:_v}=await j([U]);if(X(Iu),ie){const GO=_b(n.errors,s,U),Nv=_b(_v,s,GO.name||U);tt=Nv.error,U=Nv.name,Yn=kn(_v)}}else b([U],!0),tt=(await kb(J,o.disabled,i,m,e.shouldUseNativeValidation))[U],b([U]),X(Iu),ie&&(tt?Yn=!1:(d.isValid||f.isValid)&&(Yn=await P(s,!0)));ie&&(J._f.deps&&F(J._f.deps),N(U,Yn,tt,em))}},T=(M,V)=>{if(ee(n.errors,V)&&M.focus)return M.focus(),1},F=async(M,V={})=>{let U,ie;const J=gc(M);if(e.resolver){const X=await C(_t(M)?M:J);U=kn(X),ie=M?!J.some(fe=>ee(X,fe)):U}else M?(ie=(await Promise.all(J.map(async X=>{const fe=ee(s,X);return await P(fe&&fe._f?{[X]:fe}:fe)}))).every(Boolean),!(!ie&&!n.isValid)&&p()):ie=U=await P(s);return h.state.next({...!$s(M)||(d.isValid||f.isValid)&&U!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:U}:{},errors:n.errors}),V.shouldFocus&&!ie&&yc(s,T,M?J:o.mount),ie},D=M=>{const V={...a.mount?i:r};return _t(M)?V:$s(M)?ee(V,M):M.map(U=>ee(V,U))},W=(M,V)=>({invalid:!!ee((V||n).errors,M),isDirty:!!ee((V||n).dirtyFields,M),error:ee((V||n).errors,M),isValidating:!!ee(n.validatingFields,M),isTouched:!!ee((V||n).touchedFields,M)}),G=M=>{M&&gc(M).forEach(V=>Dt(n.errors,V)),h.state.next({errors:M?n.errors:{}})},ne=(M,V,U)=>{const ie=(ee(s,M,{_f:{}})._f||{}).ref,J=ee(n.errors,M)||{},{ref:X,message:fe,type:Qe,...tt}=J;Ke(n.errors,M,{...tt,...V,ref:ie}),h.state.next({name:M,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&ie&&ie.focus&&ie.focus()},re=(M,V)=>gs(M)?h.state.subscribe({next:U=>"values"in U&&M(R(void 0,V),U)}):R(M,V,!0),ge=M=>h.state.subscribe({next:V=>{Tz(M.name,V.name,M.exact)&&Cz(V,M.formState||d,Ui,M.reRenderRoot)&&M.callback({values:{...i},...n,...V,defaultValues:r})}}).unsubscribe,ve=M=>(a.mount=!0,f={...f,...M.formState},ge({...M,formState:f})),H=(M,V={})=>{for(const U of M?gc(M):o.mount)o.mount.delete(U),o.array.delete(U),V.keepValue||(Dt(s,U),Dt(i,U)),!V.keepError&&Dt(n.errors,U),!V.keepDirty&&Dt(n.dirtyFields,U),!V.keepTouched&&Dt(n.touchedFields,U),!V.keepIsValidating&&Dt(n.validatingFields,U),!e.shouldUnregister&&!V.keepDefaultValue&&Dt(r,U);h.state.next({values:Rt(i)}),h.state.next({...n,...V.keepDirty?{isDirty:z()}:{}}),!V.keepIsValid&&p()},Z=({disabled:M,name:V})=>{(Rn(M)&&a.mount||M||o.disabled.has(V))&&(M?o.disabled.add(V):o.disabled.delete(V))},ze=(M,V={})=>{let U=ee(s,M);const ie=Rn(V.disabled)||Rn(e.disabled);return Ke(s,M,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:M}},name:M,mount:!0,...V}}),o.mount.add(M),U?Z({disabled:Rn(V.disabled)?V.disabled:e.disabled,name:M}):S(M,!0,V.value),{...ie?{disabled:V.disabled||e.disabled}:{},...e.progressive?{required:!!V.required,min:zl(V.min),max:zl(V.max),minLength:zl(V.minLength),maxLength:zl(V.maxLength),pattern:zl(V.pattern)}:{},name:M,onChange:B,onBlur:B,ref:J=>{if(J){ze(M,V),U=ee(s,M);const X=_t(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,fe=wz(X),Qe=U._f.refs||[];if(fe?Qe.find(tt=>tt===X):X===U._f.ref)return;Ke(s,M,{_f:{...U._f,...fe?{refs:[...Qe.filter(Rm),X,...Array.isArray(ee(r,M))?[{}]:[]],ref:{type:X.type,name:M}}:{ref:X}}}),S(M,!1,void 0,X)}else U=ee(s,M,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(DP(o.array,M)&&a.action)&&o.unMount.add(M)}}},Ee=()=>e.shouldFocusError&&yc(s,T,o.mount),be=M=>{Rn(M)&&(h.state.next({disabled:M}),yc(s,(V,U)=>{const ie=ee(s,U);ie&&(V.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(J=>{J.disabled=ie._f.disabled||M}))},0,!1))},Ae=(M,V)=>async U=>{let ie;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let J=Rt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:fe}=await j();n.errors=X,J=Rt(fe)}else await P(s);if(o.disabled.size)for(const X of o.disabled)Dt(J,X);if(Dt(n.errors,"root"),kn(n.errors)){h.state.next({errors:{}});try{await M(J,U)}catch(X){ie=X}}else V&&await V({...n.errors},U),Ee(),setTimeout(Ee);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:kn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Qt=(M,V={})=>{ee(s,M)&&(_t(V.defaultValue)?$(M,Rt(ee(r,M))):($(M,V.defaultValue),Ke(r,M,Rt(V.defaultValue))),V.keepTouched||Dt(n.touchedFields,M),V.keepDirty||(Dt(n.dirtyFields,M),n.isDirty=V.defaultValue?z(M,Rt(ee(r,M))):z()),V.keepError||(Dt(n.errors,M),d.isValid&&p()),h.state.next({...n}))},An=(M,V={})=>{const U=M?Rt(M):r,ie=Rt(U),J=kn(M),X=J?r:ie;if(V.keepDefaultValues||(r=U),!V.keepValues){if(V.keepDirtyValues){const fe=new Set([...o.mount,...Object.keys(Ll(r,i))]);for(const Qe of Array.from(fe))ee(n.dirtyFields,Qe)?Ke(X,Qe,ee(i,Qe)):$(Qe,ee(X,Qe))}else{if(jx&&_t(M))for(const fe of o.mount){const Qe=ee(s,fe);if(Qe&&Qe._f){const tt=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(Ef(tt)){const Yn=tt.closest("form");if(Yn){Yn.reset();break}}}}if(V.keepFieldsRef)for(const fe of o.mount)$(fe,ee(X,fe));else s={}}i=e.shouldUnregister?V.keepDefaultValues?Rt(r):{}:Rt(X),h.array.next({values:{...X}}),h.state.next({values:{...X}})}o={mount:V.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!V.keepIsValid||!!V.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:J?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!mr(M,r)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:V.keepDirtyValues?V.keepDefaultValues&&i?Ll(r,i):n.dirtyFields:V.keepDefaultValues&&M?Ll(r,M):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Rr=(M,V)=>An(gs(M)?M(i):M,V),Bi=(M,V={})=>{const U=ee(s,M),ie=U&&U._f;if(ie){const J=ie.refs?ie.refs[0]:ie.ref;J.focus&&(J.focus(),V.shouldSelect&&gs(J.select)&&J.select())}},Ui=M=>{n={...n,...M}},Wi={control:{register:ze,unregister:H,getFieldState:W,handleSubmit:Ae,setError:ne,_subscribe:ge,_runSchema:j,_focusError:Ee,_getWatch:R,_getDirty:z,_setValid:p,_setFieldArray:x,_setDisabledField:Z,_setErrors:w,_getFieldArray:L,_reset:An,_resetDefaultValues:()=>gs(e.defaultValues)&&e.defaultValues().then(M=>{Rr(M,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:be,_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return r},get _names(){return o},set _names(M){o=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:ve,trigger:F,register:ze,handleSubmit:Ae,watch:re,setValue:$,getValues:D,reset:Rr,resetField:Qt,clearErrors:G,unregister:H,setError:ne,setFocus:Bi,getFieldState:W};return{...Wi,formControl:Wi}}function wl(t={}){const e=ye.useRef(void 0),n=ye.useRef(void 0),[s,r]=ye.useState({isDirty:!1,isValidating:!1,isLoading:gs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:gs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!gs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Oz(t);e.current={...o,formState:s}}const i=e.current.control;return i._options=t,Ex(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ye.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ye.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ye.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ye.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),ye.useEffect(()=>{t.values&&!mr(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),ye.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=OP(s,i),e.current}const jb=(t,e,n)=>{if(t&&"reportValidity"in t){const s=ee(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},BP=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?jb(s.ref,n,t):s.refs&&s.refs.forEach(r=>jb(r,n,t))}},Az=(t,e)=>{e.shouldUseNativeValidation&&BP(t,e);const n={};for(const s in t){const r=ee(e.fields,s),i=Object.assign(t[s]||{},{ref:r&&r.ref});if(Iz(e.names||Object.keys(t),s)){const a=Object.assign({},ee(n,s));Ke(a,"root",i),Ke(n,s,a)}else Ke(n,s,i)}return n},Iz=(t,e)=>t.some(n=>n.startsWith(e+"."));var Rz=function(t,e){for(var n={};t.length;){var s=t[0],r=s.code,i=s.message,a=s.path.join(".");if(!n[a])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[a].types,u=l&&l[s.code];n[a]=IP(a,e,n,r,u?[].concat(u,s.message):s.message)}t.shift()}return n},Sl=function(t,e,n){return n===void 0&&(n={}),function(s,r,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(u){return i.shouldUseNativeValidation&&BP({},i),{errors:{},values:n.raw?s:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:Az(Rz(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};const je=v.forwardRef(({className:t,type:e,...n},s)=>c.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));je.displayName="Input";var Fz="Label",UP=v.forwardRef((t,e)=>c.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));UP.displayName=Fz;var WP=UP;const Lz=hx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=v.forwardRef(({className:t,...e},n)=>c.jsx(WP,{ref:n,className:Re(Lz(),t),...e}));Be.displayName=WP.displayName;const Y=Symbol.for("drizzle:entityKind");function Gt(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Y))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(Y in n&&n[Y]===e[Y])return!0;n=Object.getPrototypeOf(n)}return!1}var VS;VS=Y;class nl{constructor(e,n){k(this,"name");k(this,"keyAsName");k(this,"primary");k(this,"notNull");k(this,"default");k(this,"defaultFn");k(this,"onUpdateFn");k(this,"hasDefault");k(this,"isUnique");k(this,"uniqueName");k(this,"uniqueType");k(this,"dataType");k(this,"columnType");k(this,"enumValues");k(this,"generated");k(this,"generatedIdentity");k(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}k(nl,VS,"Column");var $S;$S=Y;class HP{constructor(e,n,s){k(this,"config");k(this,"$default",this.$defaultFn);k(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}k(HP,$S,"ColumnBuilder");const Co=Symbol.for("drizzle:Name");var BS;BS=Y;class YP{constructor(e,n){k(this,"reference");k(this,"_onUpdate","no action");k(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:r,foreignColumns:i}=e();return{name:s,columns:r,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new qP(e,this)}}k(YP,BS,"PgForeignKeyBuilder");var US;US=Y;class qP{constructor(e,n){k(this,"reference");k(this,"onUpdate");k(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:s}=this.reference(),r=n.map(o=>o.name),i=s.map(o=>o.name),a=[this.table[Co],...r,s[0].table[Co],...i];return e??`${a.join("_")}_fk`}}k(qP,US,"PgForeignKey");function zz(t,...e){return t(...e)}function Vz(t,e){return`${t[Co]}_${e.join("_")}_unique`}function Cb(t,e,n){for(let s=e;s<t.length;s++){const r=t[s];if(r==="\\"){s++;continue}if(r==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!n&&(r===","||r==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function QP(t,e=0){const n=[];let s=e,r=!1;for(;s<t.length;){const i=t[s];if(i===","){(r||s===e)&&n.push(""),r=!0,s++;continue}if(r=!1,i==="\\"){s+=2;continue}if(i==='"'){const[l,u]=Cb(t,s+1,!0);n.push(l),s=u;continue}if(i==="}")return[n,s+1];if(i==="{"){const[l,u]=QP(t,s+1);n.push(l),s=u;continue}const[a,o]=Cb(t,s,!1);n.push(a),s=o}return[n,s]}function $z(t){const[e]=QP(t,1);return e}function KP(t){return`{${t.map(e=>Array.isArray(e)?KP(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var WS,HS;class Le extends(HS=HP,WS=Y,HS){constructor(){super(...arguments);k(this,"foreignKeyConfigs",[])}array(n){return new XP(this.config.name,this,n)}references(n,s={}){return this.foreignKeyConfigs.push({ref:n,actions:s}),this}unique(n,s){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,s){return this.foreignKeyConfigs.map(({ref:r,actions:i})=>zz((a,o)=>{const l=new YP(()=>{const u=a();return{columns:[n],foreignColumns:[u]}});return o.onUpdate&&l.onUpdate(o.onUpdate),o.onDelete&&l.onDelete(o.onDelete),l.build(s)},r,i))}buildExtraConfigColumn(n){return new GP(n,this.config)}}k(Le,WS,"PgColumnBuilder");var YS,qS;class _e extends(qS=nl,YS=Y,qS){constructor(e,n){n.uniqueName||(n.uniqueName=Vz(e,[n.name])),super(e,n),this.table=e}}k(_e,YS,"PgColumn");var QS,KS;class GP extends(KS=_e,QS=Y,KS){constructor(){super(...arguments);k(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});k(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}k(GP,QS,"ExtraConfigColumn");var GS,XS;class XP extends(XS=Le,GS=Y,XS){constructor(e,n,s){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(e){const n=this.config.baseBuilder.build(e);return new Ig(e,this.config,n)}}k(XP,GS,"PgArrayBuilder");var ZS,JS;const lh=class lh extends(JS=_e,ZS=Y,JS){constructor(n,s,r,i){super(n,s);k(this,"size");this.baseColumn=r,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=$z(n)),n.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(n,s=!1){const r=n.map(i=>i===null?null:Gt(this.baseColumn,lh)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?r:KP(r)}};k(lh,ZS,"PgArray");let Ig=lh;const Tb=Symbol.for("drizzle:isPgEnum");function Bz(t){return!!t&&typeof t=="function"&&Tb in t&&t[Tb]===!0}var e_;e_=Y;class Ox{constructor(e,n,s,r=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:s,isWith:r}}}k(Ox,e_,"Subquery");const Uz={startActiveSpan(t,e){return e()}},To=Symbol.for("drizzle:ViewBaseConfig"),Fm=Symbol.for("drizzle:Schema"),Pb=Symbol.for("drizzle:Columns"),Eb=Symbol.for("drizzle:ExtraConfigColumns"),Lm=Symbol.for("drizzle:OriginalName"),zm=Symbol.for("drizzle:BaseName"),Of=Symbol.for("drizzle:IsAlias"),Mb=Symbol.for("drizzle:ExtraConfigBuilder"),ZP=Symbol.for("drizzle:IsDrizzleTable");var t_,n_,s_,r_,i_,a_,o_,l_,c_,u_;u_=Y,c_=Co,l_=Lm,o_=Fm,a_=Pb,i_=Eb,r_=zm,s_=Of,n_=ZP,t_=Mb;class pn{constructor(e,n,s){k(this,c_);k(this,l_);k(this,o_);k(this,a_);k(this,i_);k(this,r_);k(this,s_,!1);k(this,n_,!0);k(this,t_);this[Co]=this[Lm]=e,this[Fm]=n,this[zm]=s}}k(pn,u_,"Table"),k(pn,"Symbol",{Name:Co,Schema:Fm,OriginalName:Lm,Columns:Pb,ExtraConfigColumns:Eb,BaseName:zm,IsAlias:Of,ExtraConfigBuilder:Mb});function JP(t){return typeof t=="object"&&t!==null&&ZP in t}function Wz(t){return t!=null&&typeof t.getSQL=="function"}function Hz(t){var n;const e={sql:"",params:[]};for(const s of t)e.sql+=s.sql,e.params.push(...s.params),(n=s.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...s.typings));return e}var d_;d_=Y;class Kn{constructor(e){k(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new $t([this])}}k(Kn,d_,"StringChunk");var f_;f_=Y;const ea=class ea{constructor(e){k(this,"decoder",eE);k(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Uz.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:r,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:l,paramStartIndex:u}=s;return Hz(e.map(d=>{var f;if(Gt(d,Kn))return{sql:d.value.join(""),params:[]};if(Gt(d,Af))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Kn("(")];for(const[m,y]of d.entries())h.push(y),m<d.length-1&&h.push(new Kn(", "));return h.push(new Kn(")")),this.buildQueryFromSourceParams(h,s)}if(Gt(d,ea))return this.buildQueryFromSourceParams(d.queryChunks,{...s,inlineParams:l||d.shouldInlineParams});if(Gt(d,pn)){const h=d[pn.Symbol.Schema],m=d[pn.Symbol.Name];return{sql:h===void 0||d[Of]?i(m):i(h)+"."+i(m),params:[]}}if(Gt(d,nl)){const h=r.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:i(h),params:[]};const m=d.table[pn.Symbol.Schema];return{sql:d.table[Of]||m===void 0?i(d.table[pn.Symbol.Name])+"."+i(h):i(m)+"."+i(d.table[pn.Symbol.Name])+"."+i(h),params:[]}}if(Gt(d,sE)){const h=d[To].schema,m=d[To].name;return{sql:h===void 0||d[To].isAlias?i(m):i(h)+"."+i(m),params:[]}}if(Gt(d,Ax)){if(Gt(d.value,Rf))return{sql:a(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Gt(h,ea))return this.buildQueryFromSourceParams([h],s);if(l)return{sql:this.mapInlineParam(h,s),params:[]};let m=["none"];return o&&(m=[o(d.encoder)]),{sql:a(u.value++,h),params:[h],typings:m}}return Gt(d,Rf)?{sql:a(u.value++,d),params:[d],typings:["none"]}:Gt(d,ea.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Gt(d,Ox)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Kn("("),d._.sql,new Kn(") "),new Af(d._.alias)],s):Bz(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:Wz(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],s):this.buildQueryFromSourceParams([new Kn("("),d.getSQL(),new Kn(")")],s):l?{sql:this.mapInlineParam(d,s),params:[]}:{sql:a(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const s=e.toString();return n(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new ea.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};k(ea,f_,"SQL");let $t=ea;var h_;h_=Y;class Af{constructor(e){k(this,"brand");this.value=e}getSQL(){return new $t([this])}}k(Af,h_,"Name");const eE={mapFromDriverValue:t=>t},tE={mapToDriverValue:t=>t};({...eE,...tE});var m_;m_=Y;class Ax{constructor(e,n=tE){k(this,"brand");this.value=e,this.encoder=n}getSQL(){return new $t([this])}}k(Ax,m_,"Param");function If(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Kn(t[0]));for(const[s,r]of e.entries())n.push(r,new Kn(t[s+1]));return new $t(n)}(t=>{function e(){return new $t([])}t.empty=e;function n(l){return new $t(l)}t.fromList=n;function s(l){return new $t([new Kn(l)])}t.raw=s;function r(l,u){const d=[];for(const[f,h]of l.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new $t(d)}t.join=r;function i(l){return new Af(l)}t.identifier=i;function a(l){return new Rf(l)}t.placeholder=a;function o(l,u){return new Ax(l,u)}t.param=o})(If||(If={}));(t=>{var n;n=Y;const s=class s{constructor(i,a){k(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};k(s,n,"SQL.Aliased");let e=s;t.Aliased=e})($t||($t={}));var p_;p_=Y;class Rf{constructor(e){this.name=e}getSQL(){return new $t([this])}}k(Rf,p_,"Placeholder");const nE=Symbol.for("drizzle:IsDrizzleView");var g_,y_,x_;x_=Y,y_=To,g_=nE;class sE{constructor({name:e,schema:n,selectedFields:s,query:r}){k(this,y_);k(this,g_,!0);this[To]={name:e,originalName:e,schema:n,selectedFields:s,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new $t([this])}}k(sE,x_,"View");function Yz(t){return typeof t=="object"&&t!==null&&nE in t}nl.prototype.getSQL=function(){return new $t([this])};pn.prototype.getSQL=function(){return new $t([this])};Ox.prototype.getSQL=function(){return new $t([this])};function qz(t){return t[pn.Symbol.Columns]}function Qz(t){return t[To].selectedFields}function qt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var v_,b_;class Cu extends(b_=Le,v_=Y,b_){generatedAlwaysAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}k(Cu,v_,"PgIntColumnBaseBuilder");var w_,S_;class rE extends(S_=Cu,w_=Y,S_){constructor(e){super(e,"number","PgBigInt53")}build(e){return new iE(e,this.config)}}k(rE,w_,"PgBigInt53Builder");var __,N_;class iE extends(N_=_e,__=Y,N_){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}k(iE,__,"PgBigInt53");var k_,j_;class aE extends(j_=Cu,k_=Y,j_){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new oE(e,this.config)}}k(aE,k_,"PgBigInt64Builder");var C_,T_;class oE extends(T_=_e,C_=Y,T_){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}k(oE,C_,"PgBigInt64");function Kz(t,e){const{name:n,config:s}=qt(t,e);return s.mode==="number"?new rE(n):new aE(n)}var P_,E_;class lE extends(E_=Le,P_=Y,E_){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new cE(e,this.config)}}k(lE,P_,"PgBigSerial53Builder");var M_,D_;class cE extends(D_=_e,M_=Y,D_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}k(cE,M_,"PgBigSerial53");var O_,A_;class uE extends(A_=Le,O_=Y,A_){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new dE(e,this.config)}}k(uE,O_,"PgBigSerial64Builder");var I_,R_;class dE extends(R_=_e,I_=Y,R_){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}k(dE,I_,"PgBigSerial64");function Gz(t,e){const{name:n,config:s}=qt(t,e);return s.mode==="number"?new lE(n):new uE(n)}var F_,L_;class fE extends(L_=Le,F_=Y,L_){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new hE(e,this.config)}}k(fE,F_,"PgBooleanBuilder");var z_,V_;class hE extends(V_=_e,z_=Y,V_){getSQLType(){return"boolean"}}k(hE,z_,"PgBoolean");function sl(t){return new fE(t??"")}var $_,B_;class mE extends(B_=Le,$_=Y,B_){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new pE(e,this.config)}}k(mE,$_,"PgCharBuilder");var U_,W_;class pE extends(W_=_e,U_=Y,W_){constructor(){super(...arguments);k(this,"length",this.config.length);k(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}k(pE,U_,"PgChar");function Xz(t,e={}){const{name:n,config:s}=qt(t,e);return new mE(n,s)}var H_,Y_;class gE extends(Y_=Le,H_=Y,Y_){constructor(e){super(e,"string","PgCidr")}build(e){return new yE(e,this.config)}}k(gE,H_,"PgCidrBuilder");var q_,Q_;class yE extends(Q_=_e,q_=Y,Q_){getSQLType(){return"cidr"}}k(yE,q_,"PgCidr");function Zz(t){return new gE(t??"")}var K_,G_;class xE extends(G_=Le,K_=Y,G_){constructor(e,n,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(e){return new vE(e,this.config)}}k(xE,K_,"PgCustomColumnBuilder");var X_,Z_;class vE extends(Z_=_e,X_=Y,Z_){constructor(n,s){super(n,s);k(this,"sqlName");k(this,"mapTo");k(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}k(vE,X_,"PgCustomColumn");function Jz(t){return(e,n)=>{const{name:s,config:r}=qt(e,n);return new xE(s,r,t)}}var J_,eN;class _l extends(eN=Le,J_=Y,eN){defaultNow(){return this.default(If`now()`)}}k(_l,J_,"PgDateColumnBaseBuilder");var tN,nN;class bE extends(nN=_l,tN=Y,nN){constructor(e){super(e,"date","PgDate")}build(e){return new wE(e,this.config)}}k(bE,tN,"PgDateBuilder");var sN,rN;class wE extends(rN=_e,sN=Y,rN){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}k(wE,sN,"PgDate");var iN,aN;class SE extends(aN=_l,iN=Y,aN){constructor(e){super(e,"string","PgDateString")}build(e){return new _E(e,this.config)}}k(SE,iN,"PgDateStringBuilder");var oN,lN;class _E extends(lN=_e,oN=Y,lN){getSQLType(){return"date"}}k(_E,oN,"PgDateString");function Ix(t,e){const{name:n,config:s}=qt(t,e);return(s==null?void 0:s.mode)==="date"?new bE(n):new SE(n)}var cN,uN;class NE extends(uN=Le,cN=Y,uN){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new kE(e,this.config)}}k(NE,cN,"PgDoublePrecisionBuilder");var dN,fN;class kE extends(fN=_e,dN=Y,fN){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}k(kE,dN,"PgDoublePrecision");function e3(t){return new NE(t??"")}var hN,mN;class jE extends(mN=Le,hN=Y,mN){constructor(e){super(e,"string","PgInet")}build(e){return new CE(e,this.config)}}k(jE,hN,"PgInetBuilder");var pN,gN;class CE extends(gN=_e,pN=Y,gN){getSQLType(){return"inet"}}k(CE,pN,"PgInet");function t3(t){return new jE(t??"")}var yN,xN;class TE extends(xN=Cu,yN=Y,xN){constructor(e){super(e,"number","PgInteger")}build(e){return new PE(e,this.config)}}k(TE,yN,"PgIntegerBuilder");var vN,bN;class PE extends(bN=_e,vN=Y,bN){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}k(PE,vN,"PgInteger");function Yt(t){return new TE(t??"")}var wN,SN;class EE extends(SN=Le,wN=Y,SN){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new ME(e,this.config)}}k(EE,wN,"PgIntervalBuilder");var _N,NN;class ME extends(NN=_e,_N=Y,NN){constructor(){super(...arguments);k(this,"fields",this.config.intervalConfig.fields);k(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${n}${s}`}}k(ME,_N,"PgInterval");function n3(t,e={}){const{name:n,config:s}=qt(t,e);return new EE(n,s)}var kN,jN;class DE extends(jN=Le,kN=Y,jN){constructor(e){super(e,"json","PgJson")}build(e){return new OE(e,this.config)}}k(DE,kN,"PgJsonBuilder");var CN,TN;class OE extends(TN=_e,CN=Y,TN){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}k(OE,CN,"PgJson");function s3(t){return new DE(t??"")}var PN,EN;class AE extends(EN=Le,PN=Y,EN){constructor(e){super(e,"json","PgJsonb")}build(e){return new IE(e,this.config)}}k(AE,PN,"PgJsonbBuilder");var MN,DN;class IE extends(DN=_e,MN=Y,DN){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}k(IE,MN,"PgJsonb");function RE(t){return new AE(t??"")}var ON,AN;class FE extends(AN=Le,ON=Y,AN){constructor(e){super(e,"array","PgLine")}build(e){return new LE(e,this.config)}}k(FE,ON,"PgLineBuilder");var IN,RN;class LE extends(RN=_e,IN=Y,RN){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(r)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}k(LE,IN,"PgLine");var FN,LN;class zE extends(LN=Le,FN=Y,LN){constructor(e){super(e,"json","PgLineABC")}build(e){return new VE(e,this.config)}}k(zE,FN,"PgLineABCBuilder");var zN,VN;class VE extends(VN=_e,zN=Y,VN){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,r]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(r)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}k(VE,zN,"PgLineABC");function r3(t,e){const{name:n,config:s}=qt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new FE(n):new zE(n)}var $N,BN;class $E extends(BN=Le,$N=Y,BN){constructor(e){super(e,"string","PgMacaddr")}build(e){return new BE(e,this.config)}}k($E,$N,"PgMacaddrBuilder");var UN,WN;class BE extends(WN=_e,UN=Y,WN){getSQLType(){return"macaddr"}}k(BE,UN,"PgMacaddr");function i3(t){return new $E(t??"")}var HN,YN;class UE extends(YN=Le,HN=Y,YN){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new WE(e,this.config)}}k(UE,HN,"PgMacaddr8Builder");var qN,QN;class WE extends(QN=_e,qN=Y,QN){getSQLType(){return"macaddr8"}}k(WE,qN,"PgMacaddr8");function a3(t){return new UE(t??"")}var KN,GN;class HE extends(GN=Le,KN=Y,GN){constructor(e,n,s){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(e){return new YE(e,this.config)}}k(HE,KN,"PgNumericBuilder");var XN,ZN;class YE extends(ZN=_e,XN=Y,ZN){constructor(n,s){super(n,s);k(this,"precision");k(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}k(YE,XN,"PgNumeric");function vr(t,e){const{name:n,config:s}=qt(t,e);return new HE(n,s==null?void 0:s.precision,s==null?void 0:s.scale)}const xc=vr;var JN,e1;class qE extends(e1=Le,JN=Y,e1){constructor(e){super(e,"array","PgPointTuple")}build(e){return new QE(e,this.config)}}k(qE,JN,"PgPointTupleBuilder");var t1,n1;class QE extends(n1=_e,t1=Y,n1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}k(QE,t1,"PgPointTuple");var s1,r1;class KE extends(r1=Le,s1=Y,r1){constructor(e){super(e,"json","PgPointObject")}build(e){return new GE(e,this.config)}}k(KE,s1,"PgPointObjectBuilder");var i1,a1;class GE extends(a1=_e,i1=Y,a1){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}k(GE,i1,"PgPointObject");function o3(t,e){const{name:n,config:s}=qt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new qE(n):new KE(n)}function l3(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function Db(t,e){const n=new ArrayBuffer(8),s=new DataView(n);for(let r=0;r<8;r++)s.setUint8(r,t[e+r]);return s.getFloat64(0,!0)}function XE(t){const e=l3(t);let n=0;const s=e[n];n+=1;const r=new DataView(e.buffer),i=r.getUint32(n,s===1);if(n+=4,i&536870912&&(r.getUint32(n,s===1),n+=4),(i&65535)===1){const a=Db(e,n);n+=8;const o=Db(e,n);return n+=8,[a,o]}throw new Error("Unsupported geometry type")}var o1,l1;class ZE extends(l1=Le,o1=Y,l1){constructor(e){super(e,"array","PgGeometry")}build(e){return new JE(e,this.config)}}k(ZE,o1,"PgGeometryBuilder");var c1,u1;class JE extends(u1=_e,c1=Y,u1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return XE(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}k(JE,c1,"PgGeometry");var d1,f1;class eM extends(f1=Le,d1=Y,f1){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new tM(e,this.config)}}k(eM,d1,"PgGeometryObjectBuilder");var h1,m1;class tM extends(m1=_e,h1=Y,m1){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=XE(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}k(tM,h1,"PgGeometryObject");function c3(t,e){const{name:n,config:s}=qt(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new ZE(n):new eM(n)}var p1,g1;class nM extends(g1=Le,p1=Y,g1){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new sM(e,this.config)}}k(nM,p1,"PgRealBuilder");var y1,x1;class sM extends(x1=_e,y1=Y,x1){constructor(n,s){super(n,s);k(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}k(sM,y1,"PgReal");function u3(t){return new nM(t??"")}var v1,b1;class rM extends(b1=Le,v1=Y,b1){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new iM(e,this.config)}}k(rM,v1,"PgSerialBuilder");var w1,S1;class iM extends(S1=_e,w1=Y,S1){getSQLType(){return"serial"}}k(iM,w1,"PgSerial");function wn(t){return new rM(t??"")}var _1,N1;class aM extends(N1=Cu,_1=Y,N1){constructor(e){super(e,"number","PgSmallInt")}build(e){return new oM(e,this.config)}}k(aM,_1,"PgSmallIntBuilder");var k1,j1;class oM extends(j1=_e,k1=Y,j1){constructor(){super(...arguments);k(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}k(oM,k1,"PgSmallInt");function d3(t){return new aM(t??"")}var C1,T1;class lM extends(T1=Le,C1=Y,T1){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new cM(e,this.config)}}k(lM,C1,"PgSmallSerialBuilder");var P1,E1;class cM extends(E1=_e,P1=Y,E1){getSQLType(){return"smallserial"}}k(cM,P1,"PgSmallSerial");function f3(t){return new lM(t??"")}var M1,D1;class uM extends(D1=Le,M1=Y,D1){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new dM(e,this.config)}}k(uM,M1,"PgTextBuilder");var O1,A1;class dM extends(A1=_e,O1=Y,A1){constructor(){super(...arguments);k(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}k(dM,O1,"PgText");function Rx(t,e={}){const{name:n,config:s}=qt(t,e);return new uM(n,s)}var I1,R1;class fM extends(R1=_l,I1=Y,R1){constructor(e,n,s){super(e,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}build(e){return new hM(e,this.config)}}k(fM,I1,"PgTimeBuilder");var F1,L1;class hM extends(L1=_e,F1=Y,L1){constructor(n,s){super(n,s);k(this,"withTimezone");k(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(hM,F1,"PgTime");function h3(t,e={}){const{name:n,config:s}=qt(t,e);return new fM(n,s.withTimezone??!1,s.precision)}var z1,V1;class mM extends(V1=_l,z1=Y,V1){constructor(e,n,s){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(e){return new pM(e,this.config)}}k(mM,z1,"PgTimestampBuilder");var $1,B1;class pM extends(B1=_e,$1=Y,B1){constructor(n,s){super(n,s);k(this,"withTimezone");k(this,"precision");k(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));k(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(pM,$1,"PgTimestamp");var U1,W1;class gM extends(W1=_l,U1=Y,W1){constructor(e,n,s){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(e){return new yM(e,this.config)}}k(gM,U1,"PgTimestampStringBuilder");var H1,Y1;class yM extends(Y1=_e,H1=Y,Y1){constructor(n,s){super(n,s);k(this,"withTimezone");k(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}k(yM,H1,"PgTimestampString");function et(t,e={}){const{name:n,config:s}=qt(t,e);return(s==null?void 0:s.mode)==="string"?new gM(n,s.withTimezone??!1,s.precision):new mM(n,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var q1,Q1;class xM extends(Q1=Le,q1=Y,Q1){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(If`gen_random_uuid()`)}build(e){return new vM(e,this.config)}}k(xM,q1,"PgUUIDBuilder");var K1,G1;class vM extends(G1=_e,K1=Y,G1){getSQLType(){return"uuid"}}k(vM,K1,"PgUUID");function m3(t){return new xM(t??"")}var X1,Z1;class bM extends(Z1=Le,X1=Y,Z1){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new wM(e,this.config)}}k(bM,X1,"PgVarcharBuilder");var J1,ek;class wM extends(ek=_e,J1=Y,ek){constructor(){super(...arguments);k(this,"length",this.config.length);k(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}k(wM,J1,"PgVarchar");function Ue(t,e={}){const{name:n,config:s}=qt(t,e);return new bM(n,s)}var tk,nk;class SM extends(nk=Le,tk=Y,nk){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new _M(e,this.config)}}k(SM,tk,"PgBinaryVectorBuilder");var sk,rk;class _M extends(rk=_e,sk=Y,rk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}k(_M,sk,"PgBinaryVector");function p3(t,e){const{name:n,config:s}=qt(t,e);return new SM(n,s)}var ik,ak;class NM extends(ak=Le,ik=Y,ak){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new kM(e,this.config)}}k(NM,ik,"PgHalfVectorBuilder");var ok,lk;class kM extends(lk=_e,ok=Y,lk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}k(kM,ok,"PgHalfVector");function g3(t,e){const{name:n,config:s}=qt(t,e);return new NM(n,s)}var ck,uk;class jM extends(uk=Le,ck=Y,uk){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new CM(e,this.config)}}k(jM,ck,"PgSparseVectorBuilder");var dk,fk;class CM extends(fk=_e,dk=Y,fk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}k(CM,dk,"PgSparseVector");function y3(t,e){const{name:n,config:s}=qt(t,e);return new jM(n,s)}var hk,mk;class TM extends(mk=Le,hk=Y,mk){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new PM(e,this.config)}}k(TM,hk,"PgVectorBuilder");var pk,gk;class PM extends(gk=_e,pk=Y,gk){constructor(){super(...arguments);k(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}k(PM,pk,"PgVector");function x3(t,e){const{name:n,config:s}=qt(t,e);return new TM(n,s)}function v3(){return{bigint:Kz,bigserial:Gz,boolean:sl,char:Xz,cidr:Zz,customType:Jz,date:Ix,doublePrecision:e3,inet:t3,integer:Yt,interval:n3,json:s3,jsonb:RE,line:r3,macaddr:i3,macaddr8:a3,numeric:vr,point:o3,geometry:c3,real:u3,serial:wn,smallint:d3,smallserial:f3,text:Rx,time:h3,timestamp:et,uuid:m3,varchar:Ue,bit:p3,halfvec:g3,sparsevec:y3,vector:x3}}const Rg=Symbol.for("drizzle:PgInlineForeignKeys"),Ob=Symbol.for("drizzle:EnableRLS");var yk,xk,vk,bk,wk;class Ff extends(wk=pn,bk=Y,vk=Rg,xk=Ob,yk=pn.Symbol.ExtraConfigBuilder,wk){constructor(){super(...arguments);k(this,vk,[]);k(this,xk,!1);k(this,yk)}}k(Ff,bk,"PgTable"),k(Ff,"Symbol",Object.assign({},pn.Symbol,{InlineForeignKeys:Rg,EnableRLS:Ob}));function b3(t,e,n,s,r=t){const i=new Ff(t,s,r),a=typeof e=="function"?e(v3()):e,o=Object.fromEntries(Object.entries(a).map(([d,f])=>{const h=f;h.setName(d);const m=h.build(i);return i[Rg].push(...h.buildForeignKeys(m,i)),[d,m]})),l=Object.fromEntries(Object.entries(a).map(([d,f])=>{const h=f;h.setName(d);const m=h.buildExtraConfigColumn(i);return[d,m]})),u=Object.assign(i,o);return u[pn.Symbol.Columns]=o,u[pn.Symbol.ExtraConfigColumns]=l,Object.assign(u,{enableRLS:()=>(u[Ff.Symbol.EnableRLS]=!0,u)})}const On=(t,e,n)=>b3(t,e,n,void 0);var Fe;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const a of r)i[a]=a;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),a={};for(const o of i)a[o]=r[o];return t.objectValues(a)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.push(a);return i},t.find=(r,i)=>{for(const a of r)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Fe||(Fe={}));var Fg;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Fg||(Fg={}));const ae=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ur=t=>{switch(typeof t){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return Number.isNaN(t)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(t)?ae.array:t===null?ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ae.promise:typeof Map<"u"&&t instanceof Map?ae.map:typeof Set<"u"&&t instanceof Set?ae.set:typeof Date<"u"&&t instanceof Date?ae.date:ae.object;default:return ae.unknown}},Q=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),w3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class $n extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)s._errors.push(n(a));else{let o=s,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return r(this),s}static assert(e){if(!(e instanceof $n))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)if(r.path.length>0){const i=r.path[0];n[i]=n[i]||[],n[i].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}$n.create=t=>new $n(t);const rl=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Fe.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Fe.assertNever(t)}return{message:n}};let EM=rl;function S3(t){EM=t}function Lf(){return EM}const zf=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,i=[...n,...r.path||[]],a={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let o="";const l=s.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...r,path:i,message:o}},_3=[];function te(t,e){const n=Lf(),s=zf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===rl?void 0:rl].filter(r=>!!r)});t.common.issues.push(s)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return me;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const i=await r.key,a=await r.value;s.push({key:i,value:a})}return cn.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:i,value:a}=r;if(i.status==="aborted"||a.status==="aborted")return me;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(s[i.value]=a.value)}return{status:e.value,value:s}}}const me=Object.freeze({status:"aborted"}),go=t=>({status:"dirty",value:t}),xn=t=>({status:"valid",value:t}),Lg=t=>t.status==="aborted",zg=t=>t.status==="dirty",Ea=t=>t.status==="valid",Yc=t=>typeof Promise<"u"&&t instanceof Promise;var ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));class Ks{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ab=(t,e)=>{if(Ea(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $n(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:r}}class Ce{get description(){return this._def.description}_getType(e){return ur(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ur(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:ur(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Yc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ur(e)},r=this._parseSync({data:e,path:s.path,parent:s});return Ab(s,r)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ur(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ea(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(r=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ea(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ur(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(Yc(r)?r:Promise.resolve(r));return Ab(s,i)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const a=e(r),o=()=>i.addIssue({code:Q.custom,...s(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new ks({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hs.create(this,this._def)}nullable(){return Mi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bs.create(this)}promise(){return al.create(this,this._def)}or(e){return Gc.create([this,e],this._def)}and(e){return Xc.create(this,e,this._def)}transform(e){return new ks({...Se(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new nu({...Se(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new Fx({typeName:pe.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new su({...Se(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Tu.create(this,e)}readonly(){return ru.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const N3=/^c[^\s-]{8,}$/i,k3=/^[0-9a-z]+$/,j3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,C3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,T3=/^[a-z0-9_-]{21}$/i,P3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,E3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,D3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vm;const O3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,A3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,I3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,R3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,F3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",z3=new RegExp(`^${MM}$`);function DM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function V3(t){return new RegExp(`^${DM(t)}$`)}function OM(t){let e=`${MM}T${DM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function $3(t,e){return!!((e==="v4"||!e)&&O3.test(t)||(e==="v6"||!e)&&I3.test(t))}function B3(t,e){if(!P3.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function U3(t,e){return!!((e==="v4"||!e)&&A3.test(t)||(e==="v6"||!e)&&R3.test(t))}class ys extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ae.string){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_type,expected:ae.string,received:i.parsedType}),me}const s=new cn;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(r=this._getOrReturnCtx(e,r),a?te(r,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&te(r,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")M3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"email",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Vm||(Vm=new RegExp(D3,"u")),Vm.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"emoji",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")C3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"uuid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")T3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"nanoid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")N3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"cuid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")k3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"cuid2",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")j3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"ulid",code:Q.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),te(r,{validation:"url",code:Q.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"regex",code:Q.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?OM(i).test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?z3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?V3(i).test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:Q.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?E3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"duration",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?$3(e.data,i.version)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"ip",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?B3(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"jwt",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?U3(e.data,i.version)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"cidr",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?F3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"base64",code:Q.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?L3.test(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{validation:"base64url",code:Q.invalid_string,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:Q.invalid_string,...ue.errToObj(s)})}_addCheck(e){return new ys({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ue.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ue.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ue.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ue.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ue.errToObj(n)})}nonempty(e){return this.min(1,ue.errToObj(e))}trim(){return new ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ys.create=t=>new ys({checks:[],typeName:pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});function W3(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,i=Number.parseInt(t.toFixed(r).replace(".","")),a=Number.parseInt(e.toFixed(r).replace(".",""));return i%a/10**r}class Ti extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ae.number){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_type,expected:ae.number,received:i.parsedType}),me}let s;const r=new cn;for(const i of this._def.checks)i.kind==="int"?Fe.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?W3(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:Q.not_finite,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,s,r){return new Ti({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:ue.toString(r)}]})}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ti.create=t=>new Ti({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Pi extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ae.bigint)return this._getInvalidInput(e);let s;const r=new cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),te(s,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:Q.invalid_type,expected:ae.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,s,r){return new Pi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:ue.toString(r)}]})}_addCheck(e){return new Pi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Pi.create=t=>new Pi({checks:[],typeName:pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});class qc extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ae.boolean){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.boolean,received:s.parsedType}),me}return xn(e.data)}}qc.create=t=>new qc({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Ma extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ae.date){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_type,expected:ae.date,received:i.parsedType}),me}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return te(i,{code:Q.invalid_date}),me}const s=new cn;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),te(r,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ma({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ma.create=t=>new Ma({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,...Se(t)});class Vf extends Ce{_parse(e){if(this._getType(e)!==ae.symbol){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.symbol,received:s.parsedType}),me}return xn(e.data)}}Vf.create=t=>new Vf({typeName:pe.ZodSymbol,...Se(t)});class Qc extends Ce{_parse(e){if(this._getType(e)!==ae.undefined){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.undefined,received:s.parsedType}),me}return xn(e.data)}}Qc.create=t=>new Qc({typeName:pe.ZodUndefined,...Se(t)});class Kc extends Ce{_parse(e){if(this._getType(e)!==ae.null){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.null,received:s.parsedType}),me}return xn(e.data)}}Kc.create=t=>new Kc({typeName:pe.ZodNull,...Se(t)});class il extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return xn(e.data)}}il.create=t=>new il({typeName:pe.ZodAny,...Se(t)});class va extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xn(e.data)}}va.create=t=>new va({typeName:pe.ZodUnknown,...Se(t)});class Tr extends Ce{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:Q.invalid_type,expected:ae.never,received:n.parsedType}),me}}Tr.create=t=>new Tr({typeName:pe.ZodNever,...Se(t)});class $f extends Ce{_parse(e){if(this._getType(e)!==ae.undefined){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.void,received:s.parsedType}),me}return xn(e.data)}}$f.create=t=>new $f({typeName:pe.ZodVoid,...Se(t)});class bs extends Ce{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==ae.array)return te(n,{code:Q.invalid_type,expected:ae.array,received:n.parsedType}),me;if(r.exactLength!==null){const a=n.data.length>r.exactLength.value,o=n.data.length<r.exactLength.value;(a||o)&&(te(n,{code:a?Q.too_big:Q.too_small,minimum:o?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(te(n,{code:Q.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(te(n,{code:Q.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>r.type._parseAsync(new Ks(n,a,n.path,o)))).then(a=>cn.mergeArray(s,a));const i=[...n.data].map((a,o)=>r.type._parseSync(new Ks(n,a,n.path,o)));return cn.mergeArray(s,i)}get element(){return this._def.type}min(e,n){return new bs({...this._def,minLength:{value:e,message:ue.toString(n)}})}max(e,n){return new bs({...this._def,maxLength:{value:e,message:ue.toString(n)}})}length(e,n){return new bs({...this._def,exactLength:{value:e,message:ue.toString(n)}})}nonempty(e){return this.min(1,e)}}bs.create=(t,e)=>new bs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...Se(e)});function to(t){if(t instanceof ht){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=Hs.create(to(s))}return new ht({...t._def,shape:()=>e})}else return t instanceof bs?new bs({...t._def,type:to(t.element)}):t instanceof Hs?Hs.create(to(t.unwrap())):t instanceof Mi?Mi.create(to(t.unwrap())):t instanceof Gs?Gs.create(t.items.map(e=>to(e))):t}class ht extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Fe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ae.object){const u=this._getOrReturnCtx(e);return te(u,{code:Q.invalid_type,expected:ae.object,received:u.parsedType}),me}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Tr&&this._def.unknownKeys==="strip"))for(const u in r.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const d=i[u],f=r.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Ks(r,f,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Tr){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(u==="strict")o.length>0&&(te(r,{code:Q.unrecognized_keys,keys:o}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=r.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Ks(r,f,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>cn.mergeObjectSync(s,u)):cn.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new ht({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var i,a;const r=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:ue.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ht({...this._def,catchall:e})}pick(e){const n={};for(const s of Fe.objectKeys(e))e[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new ht({...this._def,shape:()=>n})}omit(e){const n={};for(const s of Fe.objectKeys(this.shape))e[s]||(n[s]=this.shape[s]);return new ht({...this._def,shape:()=>n})}deepPartial(){return to(this)}partial(e){const n={};for(const s of Fe.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}return new ht({...this._def,shape:()=>n})}required(e){const n={};for(const s of Fe.objectKeys(this.shape))if(e&&!e[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Hs;)i=i._def.innerType;n[s]=i}return new ht({...this._def,shape:()=>n})}keyof(){return AM(Fe.objectKeys(this.shape))}}ht.create=(t,e)=>new ht({shape:()=>t,unknownKeys:"strip",catchall:Tr.create(),typeName:pe.ZodObject,...Se(e)});ht.strictCreate=(t,e)=>new ht({shape:()=>t,unknownKeys:"strict",catchall:Tr.create(),typeName:pe.ZodObject,...Se(e)});ht.lazycreate=(t,e)=>new ht({shape:t,unknownKeys:"strip",catchall:Tr.create(),typeName:pe.ZodObject,...Se(e)});class Gc extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new $n(o.ctx.common.issues));return te(n,{code:Q.invalid_union,unionErrors:a}),me}if(n.common.async)return Promise.all(s.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(r);{let i;const a=[];for(const l of s){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new $n(l));return te(n,{code:Q.invalid_union,unionErrors:o}),me}}get options(){return this._def.options}}Gc.create=(t,e)=>new Gc({options:t,typeName:pe.ZodUnion,...Se(e)});const ir=t=>t instanceof Jc?ir(t.schema):t instanceof ks?ir(t.innerType()):t instanceof eu?[t.value]:t instanceof Ei?t.options:t instanceof tu?Fe.objectValues(t.enum):t instanceof nu?ir(t._def.innerType):t instanceof Qc?[void 0]:t instanceof Kc?[null]:t instanceof Hs?[void 0,...ir(t.unwrap())]:t instanceof Mi?[null,...ir(t.unwrap())]:t instanceof Fx||t instanceof ru?ir(t.unwrap()):t instanceof su?ir(t._def.innerType):[];class Fh extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.object)return te(n,{code:Q.invalid_type,expected:ae.object,received:n.parsedType}),me;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const r=new Map;for(const i of n){const a=ir(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,i)}}return new Fh({typeName:pe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...Se(s)})}}function Vg(t,e){const n=ur(t),s=ur(e);if(t===e)return{valid:!0,data:t};if(n===ae.object&&s===ae.object){const r=Fe.objectKeys(e),i=Fe.objectKeys(t).filter(o=>r.indexOf(o)!==-1),a={...t,...e};for(const o of i){const l=Vg(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===ae.array&&s===ae.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],l=Vg(a,o);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return n===ae.date&&s===ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xc extends Ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(i,a)=>{if(Lg(i)||Lg(a))return me;const o=Vg(i.value,a.value);return o.valid?((zg(i)||zg(a))&&n.dirty(),{status:n.value,value:o.data}):(te(s,{code:Q.invalid_intersection_types}),me)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>r(i,a)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Xc.create=(t,e,n)=>new Xc({left:t,right:e,typeName:pe.ZodIntersection,...Se(n)});class Gs extends Ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.array)return te(s,{code:Q.invalid_type,expected:ae.array,received:s.parsedType}),me;if(s.data.length<this._def.items.length)return te(s,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&s.data.length>this._def.items.length&&(te(s,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ks(s,a,s.path,o)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>cn.mergeArray(n,a)):cn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Gs({...this._def,rest:e})}}Gs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gs({items:t,typeName:pe.ZodTuple,rest:null,...Se(e)})};class Zc extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.object)return te(s,{code:Q.invalid_type,expected:ae.object,received:s.parsedType}),me;const r=[],i=this._def.keyType,a=this._def.valueType;for(const o in s.data)r.push({key:i._parse(new Ks(s,o,s.path,o)),value:a._parse(new Ks(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?cn.mergeObjectAsync(n,r):cn.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof Ce?new Zc({keyType:e,valueType:n,typeName:pe.ZodRecord,...Se(s)}):new Zc({keyType:ys.create(),valueType:e,typeName:pe.ZodRecord,...Se(n)})}}class Bf extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.map)return te(s,{code:Q.invalid_type,expected:ae.map,received:s.parsedType}),me;const r=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([o,l],u)=>({key:r._parse(new Ks(s,o,s.path,[u,"key"])),value:i._parse(new Ks(s,l,s.path,[u,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return me;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}Bf.create=(t,e,n)=>new Bf({valueType:e,keyType:t,typeName:pe.ZodMap,...Se(n)});class Da extends Ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==ae.set)return te(s,{code:Q.invalid_type,expected:ae.set,received:s.parsedType}),me;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(te(s,{code:Q.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(te(s,{code:Q.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function a(l){const u=new Set;for(const d of l){if(d.status==="aborted")return me;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...s.data.values()].map((l,u)=>i._parse(new Ks(s,l,s.path,u)));return s.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new Da({...this._def,minSize:{value:e,message:ue.toString(n)}})}max(e,n){return new Da({...this._def,maxSize:{value:e,message:ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Da.create=(t,e)=>new Da({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,...Se(e)});class Po extends Ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.function)return te(n,{code:Q.invalid_type,expected:ae.function,received:n.parsedType}),me;function s(o,l){return zf({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lf(),rl].filter(u=>!!u),issueData:{code:Q.invalid_arguments,argumentsError:l}})}function r(o,l){return zf({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lf(),rl].filter(u=>!!u),issueData:{code:Q.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof al){const o=this;return xn(async function(...l){const u=new $n([]),d=await o._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(s(l,m)),u}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(r(f,m)),u})})}else{const o=this;return xn(function(...l){const u=o._def.args.safeParse(l,i);if(!u.success)throw new $n([s(l,u.error)]);const d=Reflect.apply(a,this,u.data),f=o._def.returns.safeParse(d,i);if(!f.success)throw new $n([r(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Po({...this._def,args:Gs.create(e).rest(va.create())})}returns(e){return new Po({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new Po({args:e||Gs.create([]).rest(va.create()),returns:n||va.create(),typeName:pe.ZodFunction,...Se(s)})}}class Jc extends Ce{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jc.create=(t,e)=>new Jc({getter:t,typeName:pe.ZodLazy,...Se(e)});class eu extends Ce{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}eu.create=(t,e)=>new eu({value:t,typeName:pe.ZodLiteral,...Se(e)});function AM(t,e){return new Ei({values:t,typeName:pe.ZodEnum,...Se(e)})}class Ei extends Ce{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return te(n,{expected:Fe.joinValues(s),received:n.parsedType,code:Q.invalid_type}),me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return te(n,{received:n.data,code:Q.invalid_enum_value,options:s}),me}return xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ei.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ei.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Ei.create=AM;class tu extends Ce{_parse(e){const n=Fe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ae.string&&s.parsedType!==ae.number){const r=Fe.objectValues(n);return te(s,{expected:Fe.joinValues(r),received:s.parsedType,code:Q.invalid_type}),me}if(this._cache||(this._cache=new Set(Fe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Fe.objectValues(n);return te(s,{received:s.data,code:Q.invalid_enum_value,options:r}),me}return xn(e.data)}get enum(){return this._def.values}}tu.create=(t,e)=>new tu({values:t,typeName:pe.ZodNativeEnum,...Se(e)});class al extends Ce{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.promise&&n.common.async===!1)return te(n,{code:Q.invalid_type,expected:ae.promise,received:n.parsedType}),me;const s=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return xn(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}al.create=(t,e)=>new al({type:t,typeName:pe.ZodPromise,...Se(e)});class ks extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:a=>{te(s,a),a.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const a=r.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return me;const l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?me:l.status==="dirty"||n.value==="dirty"?go(l.value):l});{if(n.value==="aborted")return me;const o=this._def.schema._parseSync({data:a,path:s.path,parent:s});return o.status==="aborted"?me:o.status==="dirty"||n.value==="dirty"?go(o.value):o}}if(r.type==="refinement"){const a=o=>{const l=r.refinement(o,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?me:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?me:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ea(a))return me;const o=r.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>Ea(a)?Promise.resolve(r.transform(a.value,i)).then(o=>({status:n.value,value:o})):me);Fe.assertNever(r)}}ks.create=(t,e,n)=>new ks({schema:t,typeName:pe.ZodEffects,effect:e,...Se(n)});ks.createWithPreprocess=(t,e,n)=>new ks({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,...Se(n)});class Hs extends Ce{_parse(e){return this._getType(e)===ae.undefined?xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hs.create=(t,e)=>new Hs({innerType:t,typeName:pe.ZodOptional,...Se(e)});class Mi extends Ce{_parse(e){return this._getType(e)===ae.null?xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mi.create=(t,e)=>new Mi({innerType:t,typeName:pe.ZodNullable,...Se(e)});class nu extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===ae.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nu.create=(t,e)=>new nu({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class su extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Yc(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $n(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new $n(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}su.create=(t,e)=>new su({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class Uf extends Ce{_parse(e){if(this._getType(e)!==ae.nan){const s=this._getOrReturnCtx(e);return te(s,{code:Q.invalid_type,expected:ae.nan,received:s.parsedType}),me}return{status:"valid",value:e.data}}}Uf.create=t=>new Uf({typeName:pe.ZodNaN,...Se(t)});const H3=Symbol("zod_brand");class Fx extends Ce{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tu extends Ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),go(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?me:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new Tu({in:e,out:n,typeName:pe.ZodPipeline})}}class ru extends Ce{_parse(e){const n=this._def.innerType._parse(e),s=r=>(Ea(r)&&(r.value=Object.freeze(r.value)),r);return Yc(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}ru.create=(t,e)=>new ru({innerType:t,typeName:pe.ZodReadonly,...Se(e)});function Ib(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Lx(t,e={},n){return t?il.create().superRefine((s,r)=>{const i=t(s);if(i instanceof Promise)return i.then(a=>{if(!a){const o=Ib(e,s),l=o.fatal??n??!0;r.addIssue({code:"custom",...o,fatal:l})}});if(!i){const a=Ib(e,s),o=a.fatal??n??!0;r.addIssue({code:"custom",...a,fatal:o})}}):il.create()}const Y3={object:ht.lazycreate};var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const q3=(t,e={message:`Input not instance of ${t.name}`})=>Lx(n=>n instanceof t,e),we=ys.create,Ys=Ti.create,Q3=Uf.create,K3=Pi.create,zx=qc.create,G3=Ma.create,X3=Vf.create,Z3=Qc.create,IM=Kc.create,Wf=il.create,J3=va.create,eV=Tr.create,tV=$f.create,Vx=bs.create,Er=ht.create,nV=ht.strictCreate,br=Gc.create,sV=Fh.create,rV=Xc.create,iV=Gs.create,$x=Zc.create,aV=Bf.create,oV=Da.create,lV=Po.create,cV=Jc.create,uV=eu.create,dV=Ei.create,fV=tu.create,hV=al.create,Rb=ks.create,mV=Hs.create,pV=Mi.create,gV=ks.createWithPreprocess,yV=Tu.create,xV=()=>we().optional(),vV=()=>Ys().optional(),bV=()=>zx().optional(),Wd={string:t=>ys.create({...t,coerce:!0}),number:t=>Ti.create({...t,coerce:!0}),boolean:t=>qc.create({...t,coerce:!0}),bigint:t=>Pi.create({...t,coerce:!0}),date:t=>Ma.create({...t,coerce:!0})},wV=me,SV=Object.freeze(Object.defineProperty({__proto__:null,BRAND:H3,DIRTY:go,EMPTY_PATH:_3,INVALID:me,NEVER:wV,OK:xn,ParseStatus:cn,Schema:Ce,ZodAny:il,ZodArray:bs,ZodBigInt:Pi,ZodBoolean:qc,ZodBranded:Fx,ZodCatch:su,ZodDate:Ma,ZodDefault:nu,ZodDiscriminatedUnion:Fh,ZodEffects:ks,ZodEnum:Ei,ZodError:$n,get ZodFirstPartyTypeKind(){return pe},ZodFunction:Po,ZodIntersection:Xc,ZodIssueCode:Q,ZodLazy:Jc,ZodLiteral:eu,ZodMap:Bf,ZodNaN:Uf,ZodNativeEnum:tu,ZodNever:Tr,ZodNull:Kc,ZodNullable:Mi,ZodNumber:Ti,ZodObject:ht,ZodOptional:Hs,ZodParsedType:ae,ZodPipeline:Tu,ZodPromise:al,ZodReadonly:ru,ZodRecord:Zc,ZodSchema:Ce,ZodSet:Da,ZodString:ys,ZodSymbol:Vf,ZodTransformer:ks,ZodTuple:Gs,ZodType:Ce,ZodUndefined:Qc,ZodUnion:Gc,ZodUnknown:va,ZodVoid:$f,addIssueToContext:te,any:Wf,array:Vx,bigint:K3,boolean:zx,coerce:Wd,custom:Lx,date:G3,datetimeRegex:OM,defaultErrorMap:rl,discriminatedUnion:sV,effect:Rb,enum:dV,function:lV,getErrorMap:Lf,getParsedType:ur,instanceof:q3,intersection:rV,isAborted:Lg,isAsync:Yc,isDirty:zg,isValid:Ea,late:Y3,lazy:cV,literal:uV,makeIssue:zf,map:aV,nan:Q3,nativeEnum:fV,never:eV,null:IM,nullable:pV,number:Ys,object:Er,get objectUtil(){return Fg},oboolean:bV,onumber:vV,optional:mV,ostring:xV,pipeline:yV,preprocess:gV,promise:hV,quotelessJson:w3,record:$x,set:oV,setErrorMap:S3,strictObject:nV,string:we,symbol:X3,transformer:Rb,tuple:iV,undefined:Z3,union:br,unknown:J3,get util(){return Fe},void:tV},Symbol.toStringTag,{value:"Module"})),ft={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function St(t,e){return e.includes(t.columnType)}function _V(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const NV=br([we(),Ys(),zx(),IM()]),kV=br([NV,$x(Wf()),Vx(Wf())]),jV=Lx(t=>t instanceof Buffer);function RM(t,e){const n=(e==null?void 0:e.zodInstance)??SV,s=(e==null?void 0:e.coerce)??{};let r;return _V(t)&&(r=t.enumValues.length?n.enum(t.enumValues):n.string()),r||(St(t,["PgGeometry","PgPointTuple"])?r=n.tuple([n.number(),n.number()]):St(t,["PgGeometryObject","PgPointObject"])?r=n.object({x:n.number(),y:n.number()}):St(t,["PgHalfVector","PgVector"])?(r=n.array(n.number()),r=t.dimensions?r.length(t.dimensions):r):St(t,["PgLine"])?r=n.tuple([n.number(),n.number(),n.number()]):St(t,["PgLineABC"])?r=n.object({a:n.number(),b:n.number(),c:n.number()}):St(t,["PgArray"])?(r=n.array(RM(t.baseColumn,n)),r=t.size?r.length(t.size):r):t.dataType==="array"?r=n.array(n.any()):t.dataType==="number"?r=CV(t,n,s):t.dataType==="bigint"?r=TV(t,n,s):t.dataType==="boolean"?r=s===!0||s.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?r=s===!0||s.date?n.coerce.date():n.date():t.dataType==="string"?r=PV(t,n,s):t.dataType==="json"?r=kV:t.dataType==="custom"?r=n.any():t.dataType==="buffer"&&(r=jV)),r||(r=n.any()),r}function CV(t,e,n){let s=t.getSQLType().includes("unsigned"),r,i,a=!1;St(t,["MySqlTinyInt","SingleStoreTinyInt"])?(r=s?0:ft.INT8_MIN,i=s?ft.INT8_UNSIGNED_MAX:ft.INT8_MAX,a=!0):St(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(r=s?0:ft.INT16_MIN,i=s?ft.INT16_UNSIGNED_MAX:ft.INT16_MAX,a=!0):St(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(r=s?0:ft.INT24_MIN,i=s?ft.INT24_UNSIGNED_MAX:ft.INT24_MAX,a=St(t,["MySqlMediumInt","SingleStoreMediumInt"])):St(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(r=s?0:ft.INT32_MIN,i=s?ft.INT32_UNSIGNED_MAX:ft.INT32_MAX,a=!0):St(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(r=s?0:ft.INT48_MIN,i=s?ft.INT48_UNSIGNED_MAX:ft.INT48_MAX):St(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||St(t,["MySqlSerial","SingleStoreSerial"]),r=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):St(t,["MySqlYear","SingleStoreYear"])?(r=1901,i=2155,a=!0):(r=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=n===!0||n!=null&&n.number?e.coerce.number():e.number();return o=o.min(r).max(i),a?o.int():o}function TV(t,e,n){const s=t.getSQLType().includes("unsigned"),r=s?0n:ft.INT64_MIN,i=s?ft.INT64_UNSIGNED_MAX:ft.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(r).max(i)}function PV(t,e,n){if(St(t,["PgUUID"]))return e.string().uuid();let s,r,i=!1;St(t,["PgVarchar","SQLiteText"])?s=t.length:St(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??ft.INT16_UNSIGNED_MAX:St(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=ft.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=ft.INT24_UNSIGNED_MAX:t.textType==="text"?s=ft.INT16_UNSIGNED_MAX:s=ft.INT8_UNSIGNED_MAX),St(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,i=!0),St(t,["PgBinaryVector"])&&(r=/^[01]+$/,s=t.dimensions);let a=n===!0||n!=null&&n.string?e.coerce.string():e.string();return a=r?a.regex(r):a,s&&i?a.length(s):s?a.max(s):a}function FM(t){return JP(t)?qz(t):Qz(t)}function LM(t,e,n,s){const r={};for(const[i,a]of Object.entries(t)){if(!Gt(a,nl)&&!Gt(a,$t)&&!Gt(a,$t.Aliased)&&typeof a=="object"){const f=JP(a)||Yz(a)?FM(a):a;r[i]=LM(f,e[i]??{},n,s);continue}const o=e[i];if(o!==void 0&&typeof o!="function"){r[i]=o;continue}const l=Gt(a,nl)?a:void 0,u=l?RM(l,s):Wf(),d=typeof o=="function"?o(u):u;n.never(l)||(r[i]=d,l&&(n.nullable(l)&&(r[i]=r[i].nullable()),n.optional(l)&&(r[i]=r[i].optional())))}return Er(r)}const EV={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},as=(t,e)=>{const n=FM(t);return LM(n,{},EV)},Hn=On("users",{id:wn("id").primaryKey(),email:Ue("email").unique().notNull(),username:Ue("username").unique().notNull(),passwordHash:Ue("password_hash").notNull(),firstName:Ue("first_name"),lastName:Ue("last_name"),profileImageUrl:Ue("profile_image_url"),isEmailVerified:sl("is_email_verified").default(!1),photosPin:Ue("photos_pin"),photosPinEnabled:sl("photos_pin_enabled"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),MV=On("user_profiles",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),gender:Ue("gender"),birthday:Ix("birthday"),height:Ue("height"),weight:Ue("weight"),bodyType:Ue("body_type"),onboardingCompleted:sl("onboarding_completed").default(!1),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),DV=On("user_goals",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type").notNull(),isActive:sl("is_active").default(!0),createdAt:et("created_at").defaultNow()}),OV=On("progress_entries",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type").notNull(),progressValue:Yt("progress_value").notNull(),entryDate:et("entry_date").notNull().defaultNow(),createdAt:et("created_at").defaultNow()}),zM=On("goal_targets",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),goalType:Ue("goal_type",{length:100}).notNull(),goalName:Ue("goal_name",{length:255}).notNull(),targetValuePrimary:xc("target_value_primary",{precision:10,scale:2}).notNull(),targetUnitPrimary:Ue("target_unit_primary",{length:50}).notNull(),targetValueSecondary:xc("target_value_secondary",{precision:10,scale:2}),targetUnitSecondary:Ue("target_unit_secondary",{length:50}),isActive:sl("is_active").default(!0),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()}),AV=On("goal_progress",{id:wn("id").primaryKey(),goalTargetId:Yt("goal_target_id").notNull().references(()=>zM.id),userId:Yt("user_id").notNull().references(()=>Hn.id),progressDate:Ix("progress_date").notNull(),actualValuePrimary:xc("actual_value_primary",{precision:10,scale:2}).notNull(),actualValueSecondary:xc("actual_value_secondary",{precision:10,scale:2}),percentageAchieved:xc("percentage_achieved",{precision:5,scale:2}),createdAt:et("created_at").defaultNow()}),IV=On("photos",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),filename:Ue("filename").notNull(),originalName:Ue("original_name").notNull(),mimeType:Ue("mime_type").notNull(),size:Yt("size").notNull(),imagePath:Ue("image_path").notNull(),thumbnailPath:Ue("thumbnail_path").notNull(),bucketPath:Ue("bucket_path").notNull(),date:et("date").notNull(),uploadDate:et("upload_date").defaultNow()});On("user_sessions",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),tokenHash:Ue("token_hash").notNull(),expiresAt:et("expires_at").notNull(),createdAt:et("created_at").defaultNow()});const RV=On("metrics",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),date:et("date").notNull(),weight:vr("weight",{precision:5,scale:2}),customFields:RE("custom_fields").$type().default({}),createdAt:et("created_at").defaultNow()});as(RV).omit({id:!0,createdAt:!0});const FV=On("custom_metric_fields",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),fieldName:Ue("field_name").notNull(),unit:Ue("unit").notNull(),createdAt:et("created_at").defaultNow()});as(FV).omit({id:!0,createdAt:!0});const LV=On("activities",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),activityType:Ue("activity_type").notNull(),startTime:et("start_time").notNull(),endTime:et("end_time").notNull(),durationMinutes:Yt("duration_minutes"),date:et("date").notNull(),location:Ue("location"),notes:Rx("notes"),createdAt:et("created_at").defaultNow()});as(LV).omit({id:!0,createdAt:!0,location:!0,notes:!0});const zV=On("custom_activities",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),name:Ue("name").notNull(),category:Ue("category").notNull().default("STRAIN"),icon:Ue("icon").default("fa-dumbbell"),createdAt:et("created_at").defaultNow()});as(zV).omit({id:!0,createdAt:!0});const VV=On("macros",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id),description:Rx("description").notNull(),protein:vr("protein",{precision:5,scale:1}).notNull().$type(),fats:vr("fats",{precision:5,scale:1}).notNull().$type(),carbs:vr("carbs",{precision:5,scale:1}).notNull().$type(),date:et("date").notNull(),createdAt:et("created_at").defaultNow()});as(VV).omit({id:!0,createdAt:!0}).extend({protein:br([we(),Ys()]).transform(t=>String(t)),fats:br([we(),Ys()]).transform(t=>String(t)),carbs:br([we(),Ys()]).transform(t=>String(t))});const $V=On("macro_targets",{id:wn("id").primaryKey(),userId:Yt("user_id").notNull().references(()=>Hn.id).unique(),proteinTarget:vr("protein_target",{precision:5,scale:1}).notNull().default("0").$type(),fatsTarget:vr("fats_target",{precision:5,scale:1}).notNull().default("0").$type(),carbsTarget:vr("carbs_target",{precision:5,scale:1}).notNull().default("0").$type(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});as($V).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({proteinTarget:br([we(),Ys()]).transform(t=>String(t)),fatsTarget:br([we(),Ys()]).transform(t=>String(t)),carbsTarget:br([we(),Ys()]).transform(t=>String(t))});as(MV).omit({id:!0,createdAt:!0,updatedAt:!0});as(DV).omit({id:!0,createdAt:!0});as(OV).omit({id:!0,createdAt:!0});as(IV).omit({id:!0,uploadDate:!0});as(zM).omit({id:!0,createdAt:!0,updatedAt:!0});as(AV).omit({id:!0,createdAt:!0});const BV=Er({usernameOrEmail:we().min(1,"Username or email is required"),password:we().min(6,"Password must be at least 6 characters")}),UV=Er({username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),password:we().min(6,"Password must be at least 6 characters"),firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required")});Er({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional(),goals:Vx(we()).min(1,"Please select at least one goal"),progress:$x(we(),Ys().min(0).max(100))});function WV({onToggleMode:t}){const{toast:e}=Ut(),n=Dn(),s=v.useRef(null),[r,i]=v.useState("text"),{register:a,handleSubmit:o,formState:{errors:l}}=wl({resolver:Sl(BV)}),u=()=>{setTimeout(()=>{i("password")},100)},d=At({mutationFn:async m=>await De("POST","/api/login",m),onSuccess:async m=>{localStorage.setItem("authToken",m.token),e({title:"Welcome back!",description:"You have been logged in successfully."});try{const y=await De("GET","/api/user");n.setQueryData(["/api/user"],y),console.log("Login successful, user data updated:",y)}catch(y){console.error("Failed to fetch user data after login:",y),window.location.reload()}},onError:m=>{e({title:"Login Failed",description:m.message||"Invalid credentials. Please try again.",variant:"destructive"})}}),f=m=>{d.mutate(m)},[,h]=dt();return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(le,{className:"w-full max-w-md card-shadow",children:c.jsxs(ce,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Welcome back!"})]}),c.jsxs("form",{onSubmit:o(f),className:"space-y-6",autoComplete:"off","data-form-type":"login",noValidate:!0,"data-webkit-autofill":"off","data-password-manager":"off","data-1p-ignore":"true",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"login-username",children:"Username or Email"}),c.jsx(je,{id:"login-username",name:"username",type:"text",...a("usernameOrEmail"),placeholder:"Enter your username or email",className:"mt-2",autoComplete:"off",inputMode:"text","data-lpignore":"true","data-form-type":"other",spellCheck:"false",autoCapitalize:"none",autoCorrect:"off","data-webkit-autofill":"off","data-1p-ignore":"true"}),l.usernameOrEmail&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.usernameOrEmail.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"login-password",children:"Password"}),c.jsx("input",{type:"password",autoComplete:"new-password",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none"},tabIndex:-1,"aria-hidden":"true"}),c.jsx(je,{ref:s,id:"login-password",name:"password",type:r,placeholder:"Enter your password",className:"mt-2",spellCheck:"false",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off","data-lpignore":"true","data-form-type":"other","data-webkit-autofill":"off","data-1p-ignore":"true","data-password-generator":"off","data-password-manager":"off",onFocus:u,...a("password")}),l.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:l.password.message})]}),c.jsx(q,{type:"submit",disabled:d.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:d.isPending?"Signing In...":"Sign In"})]}),c.jsxs("div",{className:"mt-6 text-center space-y-3",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Create Account"})]}),c.jsx("p",{className:"text-sm",children:c.jsx("button",{onClick:()=>h("/forgot-password"),className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Forgot Password?"})})]})]})})})}function HV({onToggleMode:t}){const{toast:e}=Ut(),n=Dn(),{register:s,handleSubmit:r,formState:{errors:i}}=wl({resolver:Sl(UV)}),a=At({mutationFn:async l=>await De("POST","/api/register",l),onSuccess:async l=>{localStorage.setItem("authToken",l.token),e({title:"Account Created!",description:"Welcome to Journey! Let's set up your profile."});try{const u=await De("GET","/api/user");n.setQueryData(["/api/user"],u),console.log("Registration successful, user data updated:",u)}catch(u){console.error("Failed to fetch user data after registration:",u),window.location.reload()}},onError:l=>{e({title:"Registration Failed",description:l.message||"Failed to create account. Please try again.",variant:"destructive"})}}),o=l=>{a.mutate(l)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(le,{className:"w-full max-w-md card-shadow",children:c.jsxs(ce,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-dumbbell text-3xl text-white"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Journey"}),c.jsx("p",{className:"text-gray-600",children:"Create your account"})]}),c.jsxs("form",{onSubmit:r(o),className:"space-y-6",autoComplete:"on","data-form-type":"register",children:[c.jsx("input",{type:"hidden",name:"signup-form",value:"true"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"firstName",children:"First Name"}),c.jsx(je,{id:"firstName",name:"given-name",...s("firstName"),placeholder:"First name",className:"mt-2",autoComplete:"given-name","data-form-type":"register"}),i.firstName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.firstName.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"lastName",children:"Last Name"}),c.jsx(je,{id:"lastName",name:"family-name",...s("lastName"),placeholder:"Last name",className:"mt-2",autoComplete:"family-name","data-form-type":"register"}),i.lastName&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-username",children:"Username"}),c.jsx(je,{id:"register-username",name:"username",...s("username"),placeholder:"Choose a unique username",className:"mt-2",autoComplete:"username","data-form-type":"register"}),i.username&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.username.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-email",children:"Email"}),c.jsx(je,{id:"register-email",name:"email",type:"email",...s("email"),placeholder:"Enter your email address",className:"mt-2",autoComplete:"email","data-form-type":"register"}),i.email&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.email.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"register-password",children:"Password"}),c.jsx(je,{id:"register-password",name:"password",type:"password",...s("password"),placeholder:"Create a secure password",className:"mt-2",autoComplete:"new-password",autoCorrect:"off",spellCheck:"false",autoCapitalize:"none","data-form-type":"register","data-webkit-autofill":"off","data-1p-ignore":"true"}),i.password&&c.jsx("p",{className:"text-sm text-red-500 mt-1",children:i.password.message})]}),c.jsx(q,{type:"submit",disabled:a.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:a.isPending?"Creating Account...":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",c.jsx("button",{onClick:t,className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Sign In"})]})})]})})})}function YV(){const[t,e]=v.useState(!0),n=()=>{e(!t)};return t?c.jsx(WV,{onToggleMode:n}):c.jsx(HV,{onToggleMode:n})}var $m="focusScope.autoFocusOnMount",Bm="focusScope.autoFocusOnUnmount",Fb={bubbles:!1,cancelable:!0},qV="FocusScope",Bx=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=t,[o,l]=v.useState(null),u=Ss(r),d=Ss(i),f=v.useRef(null),h=We(e,p=>l(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let p=function(w){if(m.paused||!o)return;const S=w.target;o.contains(S)?f.current=S:Wr(f.current,{select:!0})},b=function(w){if(m.paused||!o)return;const S=w.relatedTarget;S!==null&&(o.contains(S)||Wr(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Wr(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const g=new MutationObserver(x);return o&&g.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),g.disconnect()}}},[s,o,m.paused]),v.useEffect(()=>{if(o){zb.add(m);const p=document.activeElement;if(!o.contains(p)){const x=new CustomEvent($m,Fb);o.addEventListener($m,u),o.dispatchEvent(x),x.defaultPrevented||(QV(JV(VM(o)),{select:!0}),document.activeElement===p&&Wr(o))}return()=>{o.removeEventListener($m,u),setTimeout(()=>{const x=new CustomEvent(Bm,Fb);o.addEventListener(Bm,d),o.dispatchEvent(x),x.defaultPrevented||Wr(p??document.body,{select:!0}),o.removeEventListener(Bm,d),zb.remove(m)},0)}}},[o,u,d,m]);const y=v.useCallback(p=>{if(!n&&!s||m.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(b&&x){const g=p.currentTarget,[w,S]=KV(g);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),n&&Wr(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),n&&Wr(S,{select:!0})):x===g&&p.preventDefault()}},[n,s,m.paused]);return c.jsx(Pe.div,{tabIndex:-1,...a,ref:h,onKeyDown:y})});Bx.displayName=qV;function QV(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Wr(s,{select:e}),document.activeElement!==n)return}function KV(t){const e=VM(t),n=Lb(e,t),s=Lb(e.reverse(),t);return[n,s]}function VM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lb(t,e){for(const n of t)if(!GV(n,{upTo:e}))return n}function GV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function XV(t){return t instanceof HTMLInputElement&&"select"in t}function Wr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&XV(t)&&e&&t.select()}}var zb=ZV();function ZV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Vb(t,e),t.unshift(e)},remove(e){var n;t=Vb(t,e),(n=t[0])==null||n.resume()}}}function Vb(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function JV(t){return t.filter(e=>e.tagName!=="A")}var Um=0;function $M(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$b()),document.body.insertAdjacentElement("beforeend",t[1]??$b()),Um++,()=>{Um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Um--}},[])}function $b(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rs=function(){return Rs=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rs.apply(this,arguments)};function BM(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function e$(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var Hd="right-scroll-bar-position",Yd="width-before-scroll-bar",t$="with-scroll-bars-hidden",n$="--removed-body-scroll-bar-size";function Wm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function s$(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var r$=typeof window<"u"?v.useLayoutEffect:v.useEffect,Bb=new WeakMap;function i$(t,e){var n=s$(null,function(s){return t.forEach(function(r){return Wm(r,s)})});return r$(function(){var s=Bb.get(n);if(s){var r=new Set(s),i=new Set(t),a=n.current;r.forEach(function(o){i.has(o)||Wm(o,null)}),i.forEach(function(o){r.has(o)||Wm(o,a)})}Bb.set(n,t)},[t]),n}function a$(t){return t}function o$(t,e){e===void 0&&(e=a$);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,s);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(s=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){s=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return r}function l$(t){t===void 0&&(t={});var e=o$(null);return e.options=Rs({async:!0,ssr:!1},t),e}var UM=function(t){var e=t.sideCar,n=BM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,Rs({},n))};UM.isSideCarExport=!0;function c$(t,e){return t.useMedium(e),UM}var WM=l$(),Hm=function(){},Lh=v.forwardRef(function(t,e){var n=v.useRef(null),s=v.useState({onScrollCapture:Hm,onWheelCapture:Hm,onTouchMoveCapture:Hm}),r=s[0],i=s[1],a=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,y=t.noIsolation,p=t.inert,b=t.allowPinchZoom,x=t.as,g=x===void 0?"div":x,w=t.gapMode,S=BM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=i$([n,e]),j=Rs(Rs({},S),r);return v.createElement(v.Fragment,null,d&&v.createElement(_,{sideCar:WM,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:p,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:w}),a?v.cloneElement(v.Children.only(o),Rs(Rs({},j),{ref:N})):v.createElement(g,Rs({},j,{className:l,ref:N}),o))});Lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lh.classNames={fullWidth:Yd,zeroRight:Hd};var u$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=u$();return e&&t.setAttribute("nonce",e),t}function f$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function h$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var m$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=d$())&&(f$(e,n),h$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},p$=function(){var t=m$();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},HM=function(){var t=p$(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},g$={left:0,top:0,right:0,gap:0},Ym=function(t){return parseInt(t||"",10)||0},y$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Ym(n),Ym(s),Ym(r)]},x$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return g$;var e=y$(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},v$=HM(),Eo="data-scroll-locked",b$=function(t,e,n,s){var r=t.left,i=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(t$,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(o,"px ").concat(s,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hd,` {
    right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Yd,` {
    margin-right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(n$,": ").concat(o,`px;
  }
`)},Ub=function(){var t=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(t)?t:0},w$=function(){v.useEffect(function(){return document.body.setAttribute(Eo,(Ub()+1).toString()),function(){var t=Ub()-1;t<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,t.toString())}},[])},S$=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;w$();var i=v.useMemo(function(){return x$(r)},[r]);return v.createElement(v$,{styles:b$(i,!e,r,n?"":"!important")})},$g=!1;if(typeof window<"u")try{var rd=Object.defineProperty({},"passive",{get:function(){return $g=!0,!0}});window.addEventListener("test",rd,rd),window.removeEventListener("test",rd,rd)}catch{$g=!1}var Ka=$g?{passive:!1}:!1,_$=function(t){return t.tagName==="TEXTAREA"},YM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_$(t)&&n[e]==="visible")},N$=function(t){return YM(t,"overflowY")},k$=function(t){return YM(t,"overflowX")},Wb=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=qM(t,s);if(r){var i=QM(t,s),a=i[1],o=i[2];if(a>o)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},j$=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},C$=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},qM=function(t,e){return t==="v"?N$(e):k$(e)},QM=function(t,e){return t==="v"?j$(e):C$(e)},T$=function(t,e){return t==="h"&&e==="rtl"?-1:1},P$=function(t,e,n,s,r){var i=T$(t,window.getComputedStyle(e).direction),a=i*s,o=n.target,l=e.contains(o),u=!1,d=a>0,f=0,h=0;do{if(!o)break;var m=QM(t,o),y=m[0],p=m[1],b=m[2],x=p-b-i*y;(y||x)&&qM(t,o)&&(f+=x,h+=y);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},id=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Hb=function(t){return[t.deltaX,t.deltaY]},Yb=function(t){return t&&"current"in t?t.current:t},E$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},M$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},D$=0,Ga=[];function O$(t){var e=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),r=v.useState(D$++)[0],i=v.useState(HM)[0],a=v.useRef(t);v.useEffect(function(){a.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var p=e$([t.lockRef.current],(t.shards||[]).map(Yb),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=v.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var x=id(p),g=n.current,w="deltaX"in p?p.deltaX:g[0]-x[0],S="deltaY"in p?p.deltaY:g[1]-x[1],_,N=p.target,j=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&j==="h"&&N.type==="range")return!1;var C=Wb(j,N);if(!C)return!0;if(C?_=j:(_=j==="v"?"h":"v",C=Wb(j,N)),!C)return!1;if(!s.current&&"changedTouches"in p&&(w||S)&&(s.current=_),!_)return!0;var P=s.current||_;return P$(P,b,p,P==="h"?w:S)},[]),l=v.useCallback(function(p){var b=p;if(!(!Ga.length||Ga[Ga.length-1]!==i)){var x="deltaY"in b?Hb(b):id(b),g=e.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&E$(_.delta,x)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var w=(a.current.shards||[]).map(Yb).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=w.length>0?o(b,w[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=v.useCallback(function(p,b,x,g){var w={name:p,delta:b,target:x,should:g,shadowParent:A$(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=v.useCallback(function(p){n.current=id(p),s.current=void 0},[]),f=v.useCallback(function(p){u(p.type,Hb(p),p.target,o(p,t.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,id(p),p.target,o(p,t.lockRef.current))},[]);v.useEffect(function(){return Ga.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ka),document.addEventListener("touchmove",l,Ka),document.addEventListener("touchstart",d,Ka),function(){Ga=Ga.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Ka),document.removeEventListener("touchmove",l,Ka),document.removeEventListener("touchstart",d,Ka)}},[]);var m=t.removeScrollBar,y=t.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:M$(r)}):null,m?v.createElement(S$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function A$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const I$=c$(WM,O$);var Ux=v.forwardRef(function(t,e){return v.createElement(Lh,Rs({},t,{ref:e,sideCar:I$}))});Ux.classNames=Lh.classNames;var R$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xa=new WeakMap,ad=new WeakMap,od={},qm=0,KM=function(t){return t&&(t.host||KM(t.parentNode))},F$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=KM(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},L$=function(t,e,n,s){var r=F$(e,Array.isArray(t)?t:[t]);od[n]||(od[n]=new WeakMap);var i=od[n],a=[],o=new Set,l=new Set(r),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(s),y=m!==null&&m!=="false",p=(Xa.get(h)||0)+1,b=(i.get(h)||0)+1;Xa.set(h,p),i.set(h,b),a.push(h),p===1&&y&&ad.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),o.clear(),qm++,function(){a.forEach(function(f){var h=Xa.get(f)-1,m=i.get(f)-1;Xa.set(f,h),i.set(f,m),h||(ad.has(f)||f.removeAttribute(s),ad.delete(f)),m||f.removeAttribute(n)}),qm--,qm||(Xa=new WeakMap,Xa=new WeakMap,ad=new WeakMap,od={})}},GM=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=R$(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),L$(s,r,n,"aria-hidden")):function(){return null}},zh="Dialog",[XM,Bq]=Ua(zh),[z$,js]=XM(zh),ZM=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=t,o=v.useRef(null),l=v.useRef(null),[u,d]=Uc({prop:s,defaultProp:r??!1,onChange:i,caller:zh});return c.jsx(z$,{scope:e,triggerRef:o,contentRef:l,contentId:ko(),titleId:ko(),descriptionId:ko(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};ZM.displayName=zh;var JM="DialogTrigger",eD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=js(JM,n),i=We(e,r.triggerRef);return c.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Yx(r.open),...s,ref:i,onClick:xe(t.onClick,r.onOpenToggle)})});eD.displayName=JM;var Wx="DialogPortal",[V$,tD]=XM(Wx,{forceMount:void 0}),nD=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=js(Wx,e);return c.jsx(V$,{scope:e,forceMount:n,children:v.Children.map(s,a=>c.jsx(yl,{present:n||i.open,children:c.jsx(jh,{asChild:!0,container:r,children:a})}))})};nD.displayName=Wx;var Hf="DialogOverlay",sD=v.forwardRef((t,e)=>{const n=tD(Hf,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=js(Hf,t.__scopeDialog);return i.modal?c.jsx(yl,{present:s||i.open,children:c.jsx(B$,{...r,ref:e})}):null});sD.displayName=Hf;var $$=Jo("DialogOverlay.RemoveScroll"),B$=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=js(Hf,n);return c.jsx(Ux,{as:$$,allowPinchZoom:!0,shards:[r.contentRef],children:c.jsx(Pe.div,{"data-state":Yx(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Oa="DialogContent",rD=v.forwardRef((t,e)=>{const n=tD(Oa,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=js(Oa,t.__scopeDialog);return c.jsx(yl,{present:s||i.open,children:i.modal?c.jsx(U$,{...r,ref:e}):c.jsx(W$,{...r,ref:e})})});rD.displayName=Oa;var U$=v.forwardRef((t,e)=>{const n=js(Oa,t.__scopeDialog),s=v.useRef(null),r=We(e,n.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return GM(i)},[]),c.jsx(iD,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,i=>i.preventDefault())})}),W$=v.forwardRef((t,e)=>{const n=js(Oa,t.__scopeDialog),s=v.useRef(!1),r=v.useRef(!1);return c.jsx(iD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(s.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),iD=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=t,o=js(Oa,n),l=v.useRef(null),u=We(e,l);return $M(),c.jsxs(c.Fragment,{children:[c.jsx(Bx,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:c.jsx(_u,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Yx(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(H$,{titleId:o.titleId}),c.jsx(q$,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Hx="DialogTitle",aD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=js(Hx,n);return c.jsx(Pe.h2,{id:r.titleId,...s,ref:e})});aD.displayName=Hx;var oD="DialogDescription",lD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=js(oD,n);return c.jsx(Pe.p,{id:r.descriptionId,...s,ref:e})});lD.displayName=oD;var cD="DialogClose",uD=v.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=js(cD,n);return c.jsx(Pe.button,{type:"button",...s,ref:e,onClick:xe(t.onClick,()=>r.onOpenChange(!1))})});uD.displayName=cD;function Yx(t){return t?"open":"closed"}var dD="DialogTitleWarning",[Uq,fD]=VF(dD,{contentName:Oa,titleName:Hx,docsSlug:"dialog"}),H$=({titleId:t})=>{const e=fD(dD),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Y$="DialogDescriptionWarning",q$=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fD(Y$).contentName}}.`;return v.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},Q$=ZM,K$=eD,G$=nD,hD=sD,mD=rD,pD=aD,gD=lD,X$=uD;const Mr=Q$,yD=K$,Z$=G$,xD=v.forwardRef(({className:t,...e},n)=>c.jsx(hD,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));xD.displayName=hD.displayName;const er=v.forwardRef(({className:t,children:e,...n},s)=>c.jsxs(Z$,{children:[c.jsx(xD,{}),c.jsxs(mD,{ref:s,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(X$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(mx,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));er.displayName=mD.displayName;const Dr=({className:t,...e})=>c.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dr.displayName="DialogHeader";const Or=v.forwardRef(({className:t,...e},n)=>c.jsx(pD,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));Or.displayName=pD.displayName;const qx=v.forwardRef(({className:t,...e},n)=>c.jsx(gD,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));qx.displayName=gD.displayName;const J$={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-20 h-20 text-xl",xl:"w-32 h-32 text-3xl"};function eB(t,e){var r,i;const n=((r=t==null?void 0:t.charAt(0))==null?void 0:r.toUpperCase())||"",s=((i=e==null?void 0:e.charAt(0))==null?void 0:i.toUpperCase())||"";return n+s||"U"}function Vh({firstName:t,lastName:e,profileImageUrl:n,size:s="md",onImageUpload:r,editable:i=!1}){const[a,o]=v.useState(null),[l,u]=v.useState({x:0,y:0}),[d,f]=v.useState(1),[h,m]=v.useState(!1),[y,p]=v.useState(!1),[b,x]=v.useState(!1),[g,w]=v.useState(null),[S,_]=v.useState(null),N=v.useRef(null),j=v.useRef(null),C=eB(t,e),P=J$[s],O=D=>{o(D),u({x:0,y:0}),f(1),m(!0)},z=()=>{a&&r&&(r(a),m(!1),o(null))},R=D=>{const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},L=D=>{D.preventDefault(),D.touches.length===1?(x(!0),w({x:D.touches[0].clientX,y:D.touches[0].clientY})):D.touches.length===2&&(x(!1),_(R(D.touches)))},I=D=>{if(D.preventDefault(),D.touches.length===1&&b&&g){const W=D.touches[0].clientX-g.x,G=D.touches[0].clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.touches[0].clientX,y:D.touches[0].clientY})}else if(D.touches.length===2&&S){const W=R(D.touches),G=W/S;f(ne=>Math.max(.5,Math.min(3,ne*G))),_(W)}},A=D=>{D.preventDefault(),x(!1),w(null),_(null)},$=D=>{x(!0),w({x:D.clientX,y:D.clientY})},B=D=>{if(b&&g){const W=D.clientX-g.x,G=D.clientY-g.y;u(ne=>({x:ne.x+W*.5,y:ne.y+G*.5})),w({x:D.clientX,y:D.clientY})}},T=()=>{x(!1),w(null)},F=D=>{D.preventDefault();const W=D.deltaY>0?.9:1.1;f(G=>Math.max(.5,Math.min(3,G*W)))};return c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:`${P} rounded-full flex items-center justify-center overflow-hidden`,children:n?c.jsx("img",{src:n,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary-700 to-accent-300 shadow-lg ring-2 ring-black/30",children:c.jsx("span",{className:"font-semibold text-black text-lg",children:C})})}),i&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx(q,{type:"button",variant:"outline",size:"md",onClick:()=>{var D;return(D=document.getElementById("avatar-photo-upload"))==null?void 0:D.click()},className:"text-sm text-center",children:"Choose a different picture"})}),c.jsx("input",{id:"avatar-photo-upload",type:"file",accept:"image/*",onChange:D=>{var G;const W=(G=D.target.files)==null?void 0:G[0];W&&O(W)},className:"hidden"}),c.jsx(Mr,{open:h,onOpenChange:m,children:c.jsxs(er,{className:"max-w-md",children:[c.jsxs(Dr,{children:[c.jsx(Or,{className:"text-center",children:"Adjust Your Photo"}),c.jsx(qx,{className:"sr-only",children:"Use touch gestures to adjust your profile photo"})]}),a&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{ref:j,className:"relative w-64 h-64 mx-auto bg-gray-100 rounded-lg overflow-hidden touch-none",onTouchStart:L,onTouchMove:I,onTouchEnd:A,onMouseDown:$,onMouseMove:B,onMouseUp:T,onMouseLeave:T,onWheel:F,children:[c.jsx("img",{ref:N,src:URL.createObjectURL(a),alt:"Preview",className:"w-full h-full object-cover select-none",style:{transform:`scale(${d}) translate(${l.x}px, ${l.y}px)`},draggable:!1}),c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsxs("svg",{className:"w-full h-full",children:[c.jsx("defs",{children:c.jsxs("mask",{id:"circleMask",children:[c.jsx("rect",{width:"100%",height:"100%",fill:"white"}),c.jsx("circle",{cx:"50%",cy:"50%",r:"100",fill:"black"})]})}),c.jsx("rect",{width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.5)",mask:"url(#circleMask)"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-[200px] h-[200px] rounded-full border-2 border-white shadow-lg"})})]})]}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Adjust image as needed"}),c.jsxs("div",{className:"flex space-x-2 pt-4",children:[c.jsx(q,{onClick:()=>m(!1),variant:"outline",className:"flex-1 text-center",children:"Cancel"}),c.jsx(q,{onClick:z,className:"flex-1 text-center bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500",children:"Save Photo"})]})]})]})})]})]})}function tB({trigger:t,children:e,className:n=""}){const[s,r]=v.useState(!1),i=v.useRef(null),a=v.useRef(null);return v.useEffect(()=>{function o(l){i.current&&!i.current.contains(l.target)&&a.current&&!a.current.contains(l.target)&&r(!1)}if(s)return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[s]),c.jsxs("div",{className:"relative",children:[c.jsx("div",{ref:a,onClick:()=>r(!s),children:t}),s&&c.jsx("div",{ref:i,className:`absolute top-full left-0 mt-2 z-50 bg-white rounded-md shadow-lg border min-w-[200px] ${n}`,style:{transform:"translateZ(0)",willChange:"auto"},children:e})]})}const nB=[{label:"Dashboard",path:"/",icon:"fas fa-home"},{label:"Blog",path:"/landing",icon:"fas fa-newspaper"},{label:"Goals",path:"/goals",icon:"fas fa-target"},{label:"Nutrition",path:"/nutrition",icon:"fas fa-apple-alt"},{label:"Workouts",path:"/workouts",icon:"fas fa-dumbbell"},{label:"Sleep",path:"/sleep",icon:"fas fa-calculator"},{label:"Photos",path:"/photos",icon:"fas fa-camera"},{label:"Journal",path:"/journal-history",icon:"fas fa-book-open"},{label:"Progress",path:"/progress",icon:"fas fa-chart-line"},{label:"Feedback",path:"/feedback",icon:"fas fa-comment"}];function sB(){const[t]=dt(),e=c.jsx(q,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"}),c.jsx("div",{className:"w-4 h-0.5 bg-gray-600"})]})});return c.jsx(tB,{trigger:e,className:"w-56",children:c.jsx("div",{className:"py-1",children:nB.map(n=>c.jsxs(zs,{href:n.path,className:`flex items-center space-x-3 px-3 py-2 text-sm cursor-pointer hover:bg-gray-100 transition-colors ${t===n.path?"bg-primary-50 text-primary-600":"text-gray-700"}`,children:[c.jsx("i",{className:`${n.icon} w-4 h-4`}),c.jsx("span",{children:n.label})]},n.path))})})}function rB(){return window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: window-controls-overlay)").matches||window.navigator.standalone===!0}function Pt({title:t,showBackButton:e=!1,onBack:n,showHomeButton:s=!1}={}){const{user:r}=Js(),[i,a]=v.useState(!1);return v.useEffect(()=>{a(rB())},[]),c.jsx("header",{className:`bg-white shadow-lg border-0 px-4 fixed top-0 left-0 right-0 z-50 
      pt-[calc(env(safe-area-inset-top)+0.75rem)] pb-3 min-h-[calc(env(safe-area-inset-top)+4rem)]
      ${i?"pwa-header-pinned":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[e?c.jsxs(q,{variant:"ghost",size:"sm",onClick:n||(()=>window.history.back()),className:"text-primary-600 hover:text-primary-700 hover:bg-primary-50/50 p-2 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-arrow-left text-lg"}),c.jsx("span",{children:"Back"})]}):c.jsx(sB,{}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("h1",{className:"text-xl font-bold text-gray-800",children:t||"Journey"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Your fitness journal for every step"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[s&&c.jsx(zs,{href:"/",children:c.jsx("div",{className:"w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-700 transition-colors",children:c.jsx("i",{className:"fas fa-home text-sm",style:{color:"#FFFFFF"}})})}),c.jsx(zs,{href:"/profile",children:c.jsx("div",{className:"w-8 h-8 flex items-center justify-center cursor-pointer",children:c.jsx(Vh,{firstName:(r==null?void 0:r.firstName)||void 0,lastName:(r==null?void 0:r.lastName)||void 0,profileImageUrl:(r==null?void 0:r.profileImageUrl)||void 0,size:"md"})})})]})]})})}function Ar(){return c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Et,{children:c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"Quick Actions"})}),c.jsx(ce,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(zs,{href:"/progress",children:c.jsxs(q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #ec4899, #db2777)",boxShadow:"0 10px 25px rgba(236, 72, 153, 0.3)"},children:[c.jsx("i",{className:"fas fa-plus text-lg"}),c.jsx("span",{className:"text-sm",children:"Log Progress"})]})}),c.jsx(zs,{href:"/photos",children:c.jsxs(q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #2dd4bf, #14b8a6)",boxShadow:"0 10px 25px rgba(45, 212, 191, 0.3)"},children:[c.jsx("i",{className:"fas fa-camera text-lg"}),c.jsx("span",{className:"text-sm",children:"Add Photos"})]})}),c.jsx(zs,{href:"/goals",children:c.jsxs(q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #fbbf24, #f59e0b)",boxShadow:"0 10px 25px rgba(251, 191, 36, 0.3)"},children:[c.jsx("i",{className:"fas fa-target text-lg"}),c.jsx("span",{className:"text-sm",children:"View Goals"})]})}),c.jsx(zs,{href:"/workouts",children:c.jsxs(q,{className:"w-full h-20 text-white flex flex-col items-center space-y-2 transition-all duration-300 shadow-lg hover:shadow-xl border-0",style:{background:"linear-gradient(135deg, #a855f7, #9333ea)",boxShadow:"0 10px 25px rgba(168, 85, 247, 0.3)"},children:[c.jsx("i",{className:"fas fa-dumbbell text-lg"}),c.jsx("span",{className:"text-sm",children:"Workouts"})]})})]})})]})}const iB=[{filename:"wearables.md",title:"How Wearable Tech is Revolutionizing Fitness and Recovery in 2025",excerpt:"Wearables are no longer just step counters. In 2025, they've become personalized wellness enginestracking recovery, heart rate variability, sleep, and even stress."},{filename:"nutrition-trends.md",title:"The Future of Personalized Nutrition: AI-Driven Meal Planning",excerpt:"Personalized nutrition is revolutionizing how we approach health and wellness. With AI-powered algorithms analyzing our unique genetic makeup, lifestyle, and goals."},{filename:"sleep-optimization.md",title:"Sleep Optimization: The Missing Link in Fitness Performance",excerpt:"Sleep is the foundation of all health and fitness goals. Yet, it's often the most overlooked aspect of wellness. Understanding how to optimize your sleep."}],vD=async()=>{try{const t=[];for(const e of iB)try{const n=await fetch(`/blog-posts/${e.filename}`);if(n.ok){const s=await n.text();t.push({...e,content:s})}else t.push({...e,content:""})}catch(n){console.warn(`Failed to load ${e.filename}:`,n),t.push({...e,content:""})}return t}catch(t){return console.error("Error loading blog posts:",t),[]}};function qb(){const[,t]=dt(),{isAuthenticated:e}=Js(),[n,s]=v.useState([]),[r,i]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const u=await vD();s(u)}catch(u){console.error("Error loading blog posts:",u)}finally{i(!1)}})()},[]);const a=()=>{e?t("/"):window.history.length>1?window.history.back():t("/")},o=l=>{t(`/blog-post?post=${encodeURIComponent(l)}`)};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"JOURNEY BLOG",showBackButton:e,onBack:a}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Latest Articles"}),c.jsx("p",{className:"text-white/80 text-sm",children:"Insights on fitness, nutrition, and wellness"})]}),r?c.jsx("div",{className:"space-y-4",children:[1,2,3].map(l=>c.jsx(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:c.jsx(ce,{className:"pt-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})})},l))}):c.jsx("div",{className:"space-y-4",children:n.map((l,u)=>c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-200 cursor-pointer transform hover:-translate-y-1",onClick:()=>o(l.filename),children:[c.jsx(Et,{className:"pb-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(Mt,{className:"text-xl font-bold text-gray-800 line-clamp-2 leading-tight",children:l.title})})}),c.jsx(ce,{className:"pt-0",children:c.jsxs("div",{className:"space-y-3 mb-4",children:[l.excerpt&&c.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 leading-relaxed",children:l.excerpt}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide font-medium",children:l.filename.replace(".md","")}),c.jsx("div",{className:"text-xs text-gray-400",children:"Read more "})]})]})})]},u))}),c.jsx(Ar,{})]})]})}function aB(){const[,t]=dt(),{isAuthenticated:e}=Js(),[n,s]=v.useState(null),[r,i]=v.useState(!0),[a,o]=v.useState(null);v.useEffect(()=>{(async()=>{try{const h=new URLSearchParams(window.location.search).get("post");if(!h){o("No blog post specified"),i(!1);return}const y=(await vD()).find(p=>p.filename===h);if(!y){o("Blog post not found"),i(!1);return}s(y)}catch(f){console.error("Error loading blog post:",f),o("Failed to load blog post")}finally{i(!1)}})()},[]);const l=()=>{t(e?"/landing":"/")},u=d=>{const f=d.split(`
`),h=[];let m=[],y=!1;return f.forEach((p,b)=>{if(p.startsWith("# ")){y&&m.length>0&&(h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${b}`)),m=[],y=!1),h.push(c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4 mt-6",children:p.substring(2)},b));return}if(p.startsWith("## ")){y&&m.length>0&&(h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${b}`)),m=[],y=!1),h.push(c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 mt-5",children:p.substring(3)},b));return}if(p.startsWith("### ")){y&&m.length>0&&(h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${b}`)),m=[],y=!1),h.push(c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 mt-4",children:p.substring(4)},b));return}if(p.startsWith("- ")){y||(y=!0),m.push(c.jsx("li",{className:"text-gray-700",children:p.substring(2)},b));return}if(p.startsWith("1. ")){y||(y=!0),m.push(c.jsx("li",{className:"text-gray-700",children:p.substring(3)},b));return}if(y&&p.trim()===""){m.length>0&&(h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${b}`)),m=[],y=!1);return}if(p.includes("**")){y&&m.length>0&&(h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${b}`)),m=[],y=!1);const x=p.split("**");h.push(c.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:x.map((g,w)=>w%2===1?c.jsx("strong",{className:"font-semibold",children:g},w):g)},b));return}if(p.trim()){y&&m.length>0&&(h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${b}`)),m=[],y=!1),h.push(c.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:p},b));return}p.trim()===""&&(y&&m.length>0&&(h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},`list-${b}`)),m=[],y=!1),h.push(c.jsx("div",{className:"mb-2"},b)))}),y&&m.length>0&&h.push(c.jsx("ul",{className:"list-disc list-inside mb-4 space-y-1",children:m},"final-list")),h};return r?c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Loading...",showBackButton:!0,onBack:l}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsx(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:c.jsx(ce,{className:"pt-6",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})})})})]}):a||!n?c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Error",showBackButton:!0,onBack:l}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsx(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:c.jsx(ce,{className:"pt-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Blog Post Not Found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:a||"The requested blog post could not be loaded."}),c.jsx("button",{onClick:l,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Back to Blog"})]})})})})]}):c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:n.title,showBackButton:!0,onBack:l}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsxs(Et,{className:"pb-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(Mt,{className:"text-2xl font-bold text-gray-800 leading-tight",children:n.title})}),c.jsx("div",{className:"text-sm text-gray-500 uppercase tracking-wide font-medium",children:n.filename.replace(".md","")})]}),c.jsx(ce,{className:"pt-0",children:c.jsx("div",{className:"prose prose-gray max-w-none",children:u(n.content)})})]})})]})}function de(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function st(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Nl(t,e){const n=de(t);return isNaN(e)?st(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Pu(t,e){const n=de(t);if(isNaN(e))return st(t,NaN);if(!e)return n;const s=n.getDate(),r=st(t,n.getTime());r.setMonth(n.getMonth()+e+1,0);const i=r.getDate();return s>=i?r:(n.setFullYear(r.getFullYear(),r.getMonth(),s),n)}function $h(t,e){const n=+de(t);return st(t,n+e)}const bD=6048e5,oB=864e5,Eu=6e4,Mu=36e5,lB=1e3;function cB(t,e){return $h(t,e*Mu)}let uB={};function Wa(){return uB}function Xs(t,e){var o,l,u,d;const n=Wa(),s=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=de(t),i=r.getDay(),a=(i<s?7:0)+i-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function ol(t){return Xs(t,{weekStartsOn:1})}function wD(t){const e=de(t),n=e.getFullYear(),s=st(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=ol(s),i=st(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=ol(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function ll(t){const e=de(t);return e.setHours(0,0,0,0),e}function Yf(t){const e=de(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function SD(t,e){const n=ll(t),s=ll(e),r=+n-Yf(n),i=+s-Yf(s);return Math.round((r-i)/oB)}function dB(t){const e=wD(t),n=st(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ol(n)}function fB(t,e){return $h(t,e*Eu)}function hB(t,e){const n=e*3;return Pu(t,n)}function mB(t,e){return $h(t,e*1e3)}function pB(t,e){const n=e*7;return Nl(t,n)}function gB(t,e){return Pu(t,e*12)}function vc(t,e){const n=de(t),s=de(e),r=n.getTime()-s.getTime();return r<0?-1:r>0?1:r}function yB(t){return st(t,Date.now())}function _D(t,e){const n=ll(t),s=ll(e);return+n==+s}function xB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ND(t){if(!xB(t)&&typeof t!="number")return!1;const e=de(t);return!isNaN(Number(e))}function vB(t,e){const n=de(t),s=de(e),r=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return r*12+i}function bB(t,e){const n=de(t),s=de(e);return n.getFullYear()-s.getFullYear()}function kD(t,e){const n=de(t),s=de(e),r=Qb(n,s),i=Math.abs(SD(n,s));n.setDate(n.getDate()-r*i);const a=+(Qb(n,s)===-r),o=r*(i-a);return o===0?0:o}function Qb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Du(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Bh(t,e){return+de(t)-+de(e)}function wB(t,e,n){const s=Bh(t,e)/Mu;return Du(n==null?void 0:n.roundingMethod)(s)}function SB(t,e,n){const s=Bh(t,e)/Eu;return Du(n==null?void 0:n.roundingMethod)(s)}function jD(t){const e=de(t);return e.setHours(23,59,59,999),e}function Qx(t){const e=de(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function _B(t){const e=de(t);return+jD(e)==+Qx(e)}function CD(t,e){const n=de(t),s=de(e),r=vc(n,s),i=Math.abs(vB(n,s));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);let o=vc(n,s)===-r;_B(de(t))&&i===1&&vc(t,s)===1&&(o=!1),a=r*(i-Number(o))}return a===0?0:a}function NB(t,e,n){const s=CD(t,e)/3;return Du(n==null?void 0:n.roundingMethod)(s)}function kB(t,e,n){const s=Bh(t,e)/1e3;return Du(n==null?void 0:n.roundingMethod)(s)}function jB(t,e,n){const s=kD(t,e)/7;return Du(n==null?void 0:n.roundingMethod)(s)}function CB(t,e){const n=de(t),s=de(e),r=vc(n,s),i=Math.abs(bB(n,s));n.setFullYear(1584),s.setFullYear(1584);const a=vc(n,s)===-r,o=r*(i-+a);return o===0?0:o}function TB(t,e){const n=de(t.start),s=de(t.end);let r=+n>+s;const i=r?+n:+s,a=r?s:n;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=i;)l.push(de(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return r?l.reverse():l}function PB(t){const e=de(t);return e.setSeconds(0,0),e}function EB(t){const e=de(t),n=e.getMonth(),s=n-n%3;return e.setMonth(s,1),e.setHours(0,0,0,0),e}function TD(t){const e=de(t);return e.setDate(1),e.setHours(0,0,0,0),e}function MB(t){const e=de(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function PD(t){const e=de(t),n=st(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function DB(t){const e=de(t);return e.setMinutes(59,59,999),e}function OB(t,e){var o,l;const n=Wa(),s=n.weekStartsOn??((l=(o=n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,r=de(t),i=r.getDay(),a=(i<s?-7:0)+6-(i-s);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function AB(t){const e=de(t);return e.setSeconds(59,999),e}function IB(t){const e=de(t),n=e.getMonth(),s=n-n%3+3;return e.setMonth(s,0),e.setHours(23,59,59,999),e}function RB(t){const e=de(t);return e.setMilliseconds(999),e}const FB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LB=(t,e,n)=>{let s;const r=FB[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Qm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$B={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BB={date:Qm({formats:zB,defaultWidth:"full"}),time:Qm({formats:VB,defaultWidth:"full"}),dateTime:Qm({formats:$B,defaultWidth:"full"})},UB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WB=(t,e,n,s)=>UB[t];function Vl(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;r=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const HB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XB=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ZB={ordinalNumber:XB,era:Vl({values:HB,defaultWidth:"wide"}),quarter:Vl({values:YB,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vl({values:qB,defaultWidth:"wide"}),day:Vl({values:QB,defaultWidth:"wide"}),dayPeriod:Vl({values:KB,defaultWidth:"wide",formattingValues:GB,defaultFormattingWidth:"wide"})};function $l(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const a=i[0],o=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?e6(o,f=>f.test(a)):JB(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function JB(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function e6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function t6(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(r.length);return{value:a,rest:o}}}const n6=/^(\d+)(th|st|nd|rd)?/i,s6=/\d+/i,r6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},i6={any:[/^b/i,/^(a|c)/i]},a6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},o6={any:[/1/i,/2/i,/3/i,/4/i]},l6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},f6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},h6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m6={ordinalNumber:t6({matchPattern:n6,parsePattern:s6,valueCallback:t=>parseInt(t,10)}),era:$l({matchPatterns:r6,defaultMatchWidth:"wide",parsePatterns:i6,defaultParseWidth:"any"}),quarter:$l({matchPatterns:a6,defaultMatchWidth:"wide",parsePatterns:o6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$l({matchPatterns:l6,defaultMatchWidth:"wide",parsePatterns:c6,defaultParseWidth:"any"}),day:$l({matchPatterns:u6,defaultMatchWidth:"wide",parsePatterns:d6,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:f6,defaultMatchWidth:"any",parsePatterns:h6,defaultParseWidth:"any"})},ED={code:"en-US",formatDistance:LB,formatLong:BB,formatRelative:WB,localize:ZB,match:m6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function p6(t){const e=de(t);return SD(e,PD(e))+1}function MD(t){const e=de(t),n=+ol(e)-+dB(e);return Math.round(n/bD)+1}function Kx(t,e){var d,f,h,m;const n=de(t),s=n.getFullYear(),r=Wa(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=st(t,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const o=Xs(a,e),l=st(t,0);l.setFullYear(s,0,i),l.setHours(0,0,0,0);const u=Xs(l,e);return n.getTime()>=o.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function g6(t,e){var o,l,u,d;const n=Wa(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=Kx(t,e),i=st(t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),Xs(i,e)}function DD(t,e){const n=de(t),s=+Xs(n,e)-+g6(n,e);return Math.round(s/bD)+1}function Ge(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const $r={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return Ge(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ge(n+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return Ge(r,e.length)}},Za={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kb={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return $r.y(t,e)},Y:function(t,e,n,s){const r=Kx(t,s),i=r>0?r:1-r;if(e==="YY"){const a=i%100;return Ge(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ge(i,e.length)},R:function(t,e){const n=wD(t);return Ge(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ge(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ge(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ge(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return $r.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ge(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=DD(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Ge(r,e.length)},I:function(t,e,n){const s=MD(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ge(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):$r.d(t,e)},D:function(t,e,n){const s=p6(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ge(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ge(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ge(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return Ge(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Za.noon:s===0?r=Za.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Za.evening:s>=12?r=Za.afternoon:s>=4?r=Za.morning:r=Za.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return $r.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):$r.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ge(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ge(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):$r.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):$r.s(t,e)},S:function(t,e){return $r.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Xb(s);case"XXXX":case"XX":return Xi(s);case"XXXXX":case"XXX":default:return Xi(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Xb(s);case"xxxx":case"xx":return Xi(s);case"xxxxx":case"xxx":default:return Xi(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Gb(s,":");case"OOOO":default:return"GMT"+Xi(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Gb(s,":");case"zzzz":default:return"GMT"+Xi(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return Ge(s,e.length)},T:function(t,e,n){const s=t.getTime();return Ge(s,e.length)}};function Gb(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+Ge(i,2)}function Xb(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):Xi(t,e)}function Xi(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Ge(Math.trunc(s/60),2),i=Ge(s%60,2);return n+r+e+i}const Zb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},OD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},y6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return Zb(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Zb(s,e)).replace("{{time}}",OD(r,e))},Bg={p:OD,P:y6},x6=/^D+$/,v6=/^Y+$/,b6=["D","DD","YY","YYYY"];function AD(t){return x6.test(t)}function ID(t){return v6.test(t)}function Ug(t,e,n){const s=w6(t,e,n);if(console.warn(s),b6.includes(t))throw new RangeError(s)}function w6(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const S6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N6=/^'([^]*?)'?$/,k6=/''/g,j6=/[a-zA-Z]/;function Me(t,e,n){var d,f,h,m,y,p,b,x;const s=Wa(),r=(n==null?void 0:n.locale)??s.locale??ED,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((p=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((x=(b=s.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,o=de(t);if(!ND(o))throw new RangeError("Invalid time value");let l=e.match(_6).map(g=>{const w=g[0];if(w==="p"||w==="P"){const S=Bg[w];return S(g,r.formatLong)}return g}).join("").match(S6).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:C6(g)};if(Kb[w])return{isToken:!0,value:g};if(w.match(j6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return l.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ID(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&AD(w))&&Ug(w,e,String(t));const S=Kb[w[0]];return S(o,w,r.localize,u)}).join("")}function C6(t){const e=t.match(N6);return e?e[1].replace(k6,"'"):t}function RD(){return Object.assign({},Wa())}function T6(t){let n=de(t).getDay();return n===0&&(n=7),n}function P6(t,e){const n=e instanceof Date?st(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const E6=10;class FD{constructor(){k(this,"subPriority",0)}validate(e,n){return!0}}class M6 extends FD{constructor(e,n,s,r,i){super(),this.value=e,this.validateValue=n,this.setValue=s,this.priority=r,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,s){return this.setValue(e,n,this.value,s)}}class D6 extends FD{constructor(){super(...arguments);k(this,"priority",E6);k(this,"subPriority",-1)}set(n,s){return s.timestampIsSet?n:st(n,P6(n,Date))}}class He{run(e,n,s,r){const i=this.parse(e,n,s,r);return i?{setter:new M6(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,s){return!0}}class O6 extends He{constructor(){super(...arguments);k(this,"priority",140);k(this,"incompatibleTokens",["R","u","t","T"])}parse(n,s,r){switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,s,r){return s.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const kt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Fs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function jt(t,e){return t&&{value:e(t.value),rest:t.rest}}function pt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ls(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const s=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:s*(r*Mu+i*Eu+a*lB),rest:e.slice(n[0].length)}}function LD(t){return pt(kt.anyDigitsSigned,t)}function wt(t,e){switch(t){case 1:return pt(kt.singleDigit,e);case 2:return pt(kt.twoDigits,e);case 3:return pt(kt.threeDigits,e);case 4:return pt(kt.fourDigits,e);default:return pt(new RegExp("^\\d{1,"+t+"}"),e)}}function qf(t,e){switch(t){case 1:return pt(kt.singleDigitSigned,e);case 2:return pt(kt.twoDigitsSigned,e);case 3:return pt(kt.threeDigitsSigned,e);case 4:return pt(kt.fourDigitsSigned,e);default:return pt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Gx(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zD(t,e){const n=e>0,s=n?e:1-e;let r;if(s<=50)r=t||100;else{const i=s+50,a=Math.trunc(i/100)*100,o=t>=i%100;r=t+a-(o?100:0)}return n?r:1-r}function VD(t){return t%400===0||t%4===0&&t%100!==0}class A6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,s,r){const i=a=>({year:a,isTwoDigitYear:s==="yy"});switch(s){case"y":return jt(wt(4,n),i);case"yo":return jt(r.ordinalNumber(n,{unit:"year"}),i);default:return jt(wt(s.length,n),i)}}validate(n,s){return s.isTwoDigitYear||s.year>0}set(n,s,r){const i=n.getFullYear();if(r.isTwoDigitYear){const o=zD(r.year,i);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const a=!("era"in s)||s.era===1?r.year:1-r.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class I6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,s,r){const i=a=>({year:a,isTwoDigitYear:s==="YY"});switch(s){case"Y":return jt(wt(4,n),i);case"Yo":return jt(r.ordinalNumber(n,{unit:"year"}),i);default:return jt(wt(s.length,n),i)}}validate(n,s){return s.isTwoDigitYear||s.year>0}set(n,s,r,i){const a=Kx(n,i);if(r.isTwoDigitYear){const l=zD(r.year,a);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xs(n,i)}const o=!("era"in s)||s.era===1?r.year:1-r.year;return n.setFullYear(o,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xs(n,i)}}class R6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,s){return qf(s==="R"?4:s.length,n)}set(n,s,r){const i=st(n,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),ol(i)}}class F6 extends He{constructor(){super(...arguments);k(this,"priority",130);k(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,s){return qf(s==="u"?4:s.length,n)}set(n,s,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class L6 extends He{constructor(){super(...arguments);k(this,"priority",120);k(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"Q":case"QQ":return wt(s.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=1&&s<=4}set(n,s,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class z6 extends He{constructor(){super(...arguments);k(this,"priority",120);k(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"q":case"qq":return wt(s.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,s){return s>=1&&s<=4}set(n,s,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class V6 extends He{constructor(){super(...arguments);k(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);k(this,"priority",110)}parse(n,s,r){const i=a=>a-1;switch(s){case"M":return jt(pt(kt.month,n),i);case"MM":return jt(wt(2,n),i);case"Mo":return jt(r.ordinalNumber(n,{unit:"month"}),i);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=0&&s<=11}set(n,s,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class $6 extends He{constructor(){super(...arguments);k(this,"priority",110);k(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,s,r){const i=a=>a-1;switch(s){case"L":return jt(pt(kt.month,n),i);case"LL":return jt(wt(2,n),i);case"Lo":return jt(r.ordinalNumber(n,{unit:"month"}),i);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,s){return s>=0&&s<=11}set(n,s,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function B6(t,e,n){const s=de(t),r=DD(s,n)-e;return s.setDate(s.getDate()-r*7),s}class U6 extends He{constructor(){super(...arguments);k(this,"priority",100);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,s,r){switch(s){case"w":return pt(kt.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return wt(s.length,n)}}validate(n,s){return s>=1&&s<=53}set(n,s,r,i){return Xs(B6(n,r,i),i)}}function W6(t,e){const n=de(t),s=MD(n)-e;return n.setDate(n.getDate()-s*7),n}class H6 extends He{constructor(){super(...arguments);k(this,"priority",100);k(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,s,r){switch(s){case"I":return pt(kt.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return wt(s.length,n)}}validate(n,s){return s>=1&&s<=53}set(n,s,r){return ol(W6(n,r))}}const Y6=[31,28,31,30,31,30,31,31,30,31,30,31],q6=[31,29,31,30,31,30,31,31,30,31,30,31];class Q6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"subPriority",1);k(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"d":return pt(kt.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return wt(s.length,n)}}validate(n,s){const r=n.getFullYear(),i=VD(r),a=n.getMonth();return i?s>=1&&s<=q6[a]:s>=1&&s<=Y6[a]}set(n,s,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class K6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"subpriority",1);k(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,s,r){switch(s){case"D":case"DD":return pt(kt.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return wt(s.length,n)}}validate(n,s){const r=n.getFullYear();return VD(r)?s>=1&&s<=366:s>=1&&s<=365}set(n,s,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function Xx(t,e,n){var f,h,m,y;const s=Wa(),r=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((y=(m=s.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,i=de(t),a=i.getDay(),l=(e%7+7)%7,u=7-r,d=e<0||e>6?e-(a+u)%7:(l+u)%7-(a+u)%7;return Nl(i,d)}class G6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,s,r){switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=0&&s<=6}set(n,s,r,i){return n=Xx(n,r,i),n.setHours(0,0,0,0),n}}class X6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,s,r,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(s){case"e":case"ee":return jt(wt(s.length,n),a);case"eo":return jt(r.ordinalNumber(n,{unit:"day"}),a);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,s){return s>=0&&s<=6}set(n,s,r,i){return n=Xx(n,r,i),n.setHours(0,0,0,0),n}}class Z6 extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,s,r,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(s){case"c":case"cc":return jt(wt(s.length,n),a);case"co":return jt(r.ordinalNumber(n,{unit:"day"}),a);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,s){return s>=0&&s<=6}set(n,s,r,i){return n=Xx(n,r,i),n.setHours(0,0,0,0),n}}function J6(t,e){const n=de(t),s=T6(n),r=e-s;return Nl(n,r)}class eU extends He{constructor(){super(...arguments);k(this,"priority",90);k(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,s,r){const i=a=>a===0?7:a;switch(s){case"i":case"ii":return wt(s.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return jt(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return jt(r.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return jt(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return jt(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,s){return s>=1&&s<=7}set(n,s,r){return n=J6(n,r),n.setHours(0,0,0,0),n}}class tU extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,s,r){switch(s){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,s,r){return n.setHours(Gx(r),0,0,0),n}}class nU extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,s,r){switch(s){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,s,r){return n.setHours(Gx(r),0,0,0),n}}class sU extends He{constructor(){super(...arguments);k(this,"priority",80);k(this,"incompatibleTokens",["a","b","t","T"])}parse(n,s,r){switch(s){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,s,r){return n.setHours(Gx(r),0,0,0),n}}class rU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,s,r){switch(s){case"h":return pt(kt.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return wt(s.length,n)}}validate(n,s){return s>=1&&s<=12}set(n,s,r){const i=n.getHours()>=12;return i&&r<12?n.setHours(r+12,0,0,0):!i&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class iU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,s,r){switch(s){case"H":return pt(kt.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return wt(s.length,n)}}validate(n,s){return s>=0&&s<=23}set(n,s,r){return n.setHours(r,0,0,0),n}}class aU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,s,r){switch(s){case"K":return pt(kt.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return wt(s.length,n)}}validate(n,s){return s>=0&&s<=11}set(n,s,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class oU extends He{constructor(){super(...arguments);k(this,"priority",70);k(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,s,r){switch(s){case"k":return pt(kt.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return wt(s.length,n)}}validate(n,s){return s>=1&&s<=24}set(n,s,r){const i=r<=24?r%24:r;return n.setHours(i,0,0,0),n}}class lU extends He{constructor(){super(...arguments);k(this,"priority",60);k(this,"incompatibleTokens",["t","T"])}parse(n,s,r){switch(s){case"m":return pt(kt.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return wt(s.length,n)}}validate(n,s){return s>=0&&s<=59}set(n,s,r){return n.setMinutes(r,0,0),n}}class cU extends He{constructor(){super(...arguments);k(this,"priority",50);k(this,"incompatibleTokens",["t","T"])}parse(n,s,r){switch(s){case"s":return pt(kt.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return wt(s.length,n)}}validate(n,s){return s>=0&&s<=59}set(n,s,r){return n.setSeconds(r,0),n}}class uU extends He{constructor(){super(...arguments);k(this,"priority",30);k(this,"incompatibleTokens",["t","T"])}parse(n,s){const r=i=>Math.trunc(i*Math.pow(10,-s.length+3));return jt(wt(s.length,n),r)}set(n,s,r){return n.setMilliseconds(r),n}}class dU extends He{constructor(){super(...arguments);k(this,"priority",10);k(this,"incompatibleTokens",["t","T","x"])}parse(n,s){switch(s){case"X":return Ls(Fs.basicOptionalMinutes,n);case"XX":return Ls(Fs.basic,n);case"XXXX":return Ls(Fs.basicOptionalSeconds,n);case"XXXXX":return Ls(Fs.extendedOptionalSeconds,n);case"XXX":default:return Ls(Fs.extended,n)}}set(n,s,r){return s.timestampIsSet?n:st(n,n.getTime()-Yf(n)-r)}}class fU extends He{constructor(){super(...arguments);k(this,"priority",10);k(this,"incompatibleTokens",["t","T","X"])}parse(n,s){switch(s){case"x":return Ls(Fs.basicOptionalMinutes,n);case"xx":return Ls(Fs.basic,n);case"xxxx":return Ls(Fs.basicOptionalSeconds,n);case"xxxxx":return Ls(Fs.extendedOptionalSeconds,n);case"xxx":default:return Ls(Fs.extended,n)}}set(n,s,r){return s.timestampIsSet?n:st(n,n.getTime()-Yf(n)-r)}}class hU extends He{constructor(){super(...arguments);k(this,"priority",40);k(this,"incompatibleTokens","*")}parse(n){return LD(n)}set(n,s,r){return[st(n,r*1e3),{timestampIsSet:!0}]}}class mU extends He{constructor(){super(...arguments);k(this,"priority",20);k(this,"incompatibleTokens","*")}parse(n){return LD(n)}set(n,s,r){return[st(n,r),{timestampIsSet:!0}]}}const pU={G:new O6,y:new A6,Y:new I6,R:new R6,u:new F6,Q:new L6,q:new z6,M:new V6,L:new $6,w:new U6,I:new H6,d:new Q6,D:new K6,E:new G6,e:new X6,c:new Z6,i:new eU,a:new tU,b:new nU,B:new sU,h:new rU,H:new iU,K:new aU,k:new oU,m:new lU,s:new cU,S:new uU,X:new dU,x:new fU,t:new hU,T:new mU},gU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xU=/^'([^]*?)'?$/,vU=/''/g,bU=/\S/,wU=/[a-zA-Z]/;function SU(t,e,n,s){var p,b,x,g,w,S,_,N;const r=RD(),i=(s==null?void 0:s.locale)??r.locale??ED,a=(s==null?void 0:s.firstWeekContainsDate)??((b=(p=s==null?void 0:s.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(x=r.locale)==null?void 0:x.options)==null?void 0:g.firstWeekContainsDate)??1,o=(s==null?void 0:s.weekStartsOn)??((S=(w=s==null?void 0:s.locale)==null?void 0:w.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((N=(_=r.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??0;if(e==="")return t===""?de(n):st(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:o,locale:i},u=[new D6],d=e.match(yU).map(j=>{const C=j[0];if(C in Bg){const P=Bg[C];return P(j,i.formatLong)}return j}).join("").match(gU),f=[];for(let j of d){!(s!=null&&s.useAdditionalWeekYearTokens)&&ID(j)&&Ug(j,e,t),!(s!=null&&s.useAdditionalDayOfYearTokens)&&AD(j)&&Ug(j,e,t);const C=j[0],P=pU[C];if(P){const{incompatibleTokens:O}=P;if(Array.isArray(O)){const R=f.find(L=>O.includes(L.token)||L.token===C);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${j}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);f.push({token:C,fullToken:j});const z=P.run(t,j,i.match,l);if(!z)return st(n,NaN);u.push(z.setter),t=z.rest}else{if(C.match(wU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(j==="''"?j="'":C==="'"&&(j=_U(j)),t.indexOf(j)===0)t=t.slice(j.length);else return st(n,NaN)}}if(t.length>0&&bU.test(t))return st(n,NaN);const h=u.map(j=>j.priority).sort((j,C)=>C-j).filter((j,C,P)=>P.indexOf(j)===C).map(j=>u.filter(C=>C.priority===j).sort((C,P)=>P.subPriority-C.subPriority)).map(j=>j[0]);let m=de(n);if(isNaN(m.getTime()))return st(n,NaN);const y={};for(const j of h){if(!j.validate(m,l))return st(n,NaN);const C=j.set(m,y,l);Array.isArray(C)?(m=C[0],Object.assign(y,C[1])):m=C}return st(n,m)}function _U(t){return t.match(xU)[1].replace(vU,"'")}function NU(t){const e=de(t);return e.setMinutes(0,0,0),e}function kU(t,e){const n=de(t),s=de(e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function jU(t){const e=de(t);return e.setMilliseconds(0),e}function Di(t){return _D(t,yB(t))}function cl(t,e){return Nl(t,-e)}function Uh(t,e){const n=(e==null?void 0:e.additionalDigits)??2,s=EU(t);let r;if(s.date){const l=MU(s.date,n);r=DU(l.restDateString,l.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);const i=r.getTime();let a=0,o;if(s.time&&(a=OU(s.time),isNaN(a)))return new Date(NaN);if(s.timezone){if(o=AU(s.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+a+o)}const ld={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,PU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function EU(t){const e={},n=t.split(ld.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],ld.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ld.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const r=ld.timezone.exec(s);r?(e.time=s.replace(r[1],""),e.timezone=r[1]):e.time=s}return e}function MU(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?r:i*100,restDateString:t.slice((s[1]||s[2]).length)}}function DU(t,e){if(e===null)return new Date(NaN);const n=t.match(CU);if(!n)return new Date(NaN);const s=!!n[4],r=Bl(n[1]),i=Bl(n[2])-1,a=Bl(n[3]),o=Bl(n[4]),l=Bl(n[5])-1;if(s)return zU(e,o,l)?IU(e,o,l):new Date(NaN);{const u=new Date(0);return!FU(e,i,a)||!LU(e,r)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(r,a)),u)}}function Bl(t){return t?parseInt(t):1}function OU(t){const e=t.match(TU);if(!e)return NaN;const n=Km(e[1]),s=Km(e[2]),r=Km(e[3]);return VU(n,s,r)?n*Mu+s*Eu+r*1e3:NaN}function Km(t){return t&&parseFloat(t.replace(",","."))||0}function AU(t){if(t==="Z")return 0;const e=t.match(PU);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return $U(s,r)?n*(s*Mu+r*Eu):NaN}function IU(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const r=s.getUTCDay()||7,i=(e-1)*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}const RU=[31,null,31,30,31,30,31,31,30,31,30,31];function $D(t){return t%400===0||t%4===0&&t%100!==0}function FU(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(RU[e]||($D(t)?29:28))}function LU(t,e){return e>=1&&e<=($D(t)?366:365)}function zU(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function VU(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function $U(t,e){return e>=0&&e<=59}function BU(t,e){return Pu(t,-1)}function UU({selectedDate:t,onDateSelect:e,onClose:n}){const[s,r]=v.useState(t),i=TD(s),a=Qx(s),o=TB({start:i,end:a}),l=()=>{r(BU(s))},u=()=>{r(Pu(s,1))},d=f=>{e(f),n==null||n()};return c.jsx(le,{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-white/95 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:c.jsxs(ce,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(q,{variant:"ghost",size:"sm",onClick:l,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-left text-sm"})}),c.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:Me(s,"MMMM yyyy").toUpperCase()}),c.jsx(q,{variant:"ghost",size:"sm",onClick:u,className:"p-2 h-8 w-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-chevron-right text-sm"})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(f=>c.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:f},f))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:o.map(f=>c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>d(f),className:`
                h-8 w-8 p-0 text-sm font-normal
                ${_D(f,t)?"bg-gray-800 text-white hover:bg-gray-700":Di(f)?"text-yellow-600 font-semibold hover:bg-yellow-50":kU(f,s)?"text-gray-700 hover:bg-gray-100":"text-gray-400 hover:bg-gray-50"}
              `,children:Me(f,"d")},f.toISOString()))})]})})}function WU({selectedDate:t,onDateChange:e}){const[n,s]=v.useState(!1),r=()=>{e(cl(t,1))},i=()=>{e(Nl(t,1))},a=()=>{s(!n)},o=l=>{e(l),s(!1)};return c.jsxs("div",{className:"relative mb-6",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[c.jsx(q,{variant:"outline",size:"sm",onClick:r,className:`bg-gray-800 text-white border-gray-800 
      hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center`,children:" prev "}),c.jsx(q,{variant:"outline",onClick:a,className:`
            px-6 py-2 font-semibold transition-all duration-200 min-w-[140px] h-10
            ${Di(t),"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg"}
          `,children:Di(t)?"TODAY":Me(t,"EEE, MMM d").toUpperCase()}),c.jsx(q,{variant:"outline",size:"sm",onClick:i,className:"bg-gray-800 text-white border-gray-800 hover:bg-gray-700 shadow-lg p-3 h-10 w-10 flex items-center justify-center",children:"next"})]}),n&&c.jsx(UU,{selectedDate:t,onDateSelect:o,onClose:()=>s(!1)})]})}function HU({selectedDate:t}){const[,e]=dt(),{data:n=[]}=It({queryKey:[`/api/activities/date/${Me(t,"yyyy-MM-dd")}`]}),s=[...n].sort((l,u)=>!l.startTime||!u.startTime?0:new Date(l.startTime).getTime()-new Date(u.startTime).getTime()),r=l=>{e(`/add-activity?edit=${l.id}&activityType=${encodeURIComponent(l.activityType||"")}&startTime=${encodeURIComponent(l.startTime||"")}&endTime=${encodeURIComponent(l.endTime||"")}&date=${encodeURIComponent(l.date||"")}`)},i=l=>{switch(l){case"walking":return"fa-walking";case"running":return"fa-running";case"cycling":return"fa-biking";case"sleep":return"fa-bed";default:return"fa-dumbbell"}},a=l=>{switch(l){case"walking":return"bg-blue-500";case"running":return"bg-green-500";case"cycling":return"bg-yellow-500";case"sleep":return"bg-purple-500";default:return"bg-gray-500"}},o=l=>{const u=typeof l=="string"?new Date(l):l;return Me(u,"h:mm a")};return c.jsxs(le,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Et,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Mt,{className:"text-xl font-bold text-gray-800",children:"My Day"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Tap activity to edit"})]})}),c.jsxs(ce,{className:"pt-0",children:[c.jsx("div",{className:"space-y-3 mb-4",children:s.length>0?s.map(l=>c.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3 cursor-pointer hover:bg-gray-700 transition-colors duration-200",onClick:()=>r(l),children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`${a(l.activityType||"")} rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12`,children:c.jsx("i",{className:`fas ${i(l.activityType||"")} text-white text-sm`})}),c.jsx("div",{children:c.jsx("div",{className:"text-white font-medium",children:p4(l.activityType||"")})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-gray-300 text-sm font-medium",children:l.startTime&&l.endTime&&g4(HT(Me(new Date(l.startTime),"HH:mm"),Me(new Date(l.endTime),"HH:mm"),l.activityType))}),c.jsxs("div",{className:"text-right text-gray-300 text-sm",children:[c.jsx("div",{children:l.startTime&&o(l.startTime)}),c.jsx("div",{children:l.endTime&&o(l.endTime)})]})]})]},l.id)):c.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No activities logged ",Di(t)?"today":"for this date"]})}),c.jsx(zs,{href:`/add-activity?date=${Me(t,"yyyy-MM-dd")}`,onClick:()=>{const l=Me(t,"yyyy-MM-dd");console.log(" MyDayBlock Link Debug - selectedDate:",t),console.log(" MyDayBlock Link Debug - formatted date param:",l),console.log(" MyDayBlock Link Debug - full URL:",`/add-activity?date=${l}`)},children:c.jsxs(q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD ACTIVITY"]})}),c.jsx(zs,{href:`/journal-entry?date=${Me(t,"yyyy-MM-dd")}`,onClick:()=>{Me(t,"yyyy-MM-dd")},children:c.jsxs(q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 mt-2 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"JOURNAL"]})})]})]})}const BD=gz,UD=v.createContext({}),ia=({...t})=>c.jsx(UD.Provider,{value:{name:t.name},children:c.jsx(bz,{...t})}),Wh=()=>{const t=v.useContext(UD),e=v.useContext(WD),{getFieldState:n,formState:s}=Rh(),r=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},WD=v.createContext({}),oi=v.forwardRef(({className:t,...e},n)=>{const s=v.useId();return c.jsx(WD.Provider,{value:{id:s},children:c.jsx("div",{ref:n,className:Re("space-y-2",t),...e})})});oi.displayName="FormItem";const li=v.forwardRef(({className:t,...e},n)=>{const{error:s,formItemId:r}=Wh();return c.jsx(Be,{ref:n,className:Re(s&&"text-destructive",t),htmlFor:r,...e})});li.displayName="FormLabel";const ci=v.forwardRef(({...t},e)=>{const{error:n,formItemId:s,formDescriptionId:r,formMessageId:i}=Wh();return c.jsx(cT,{ref:e,id:s,"aria-describedby":n?`${r} ${i}`:`${r}`,"aria-invalid":!!n,...t})});ci.displayName="FormControl";const YU=v.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:s}=Wh();return c.jsx("p",{ref:n,id:s,className:Re("text-sm text-muted-foreground",t),...e})});YU.displayName="FormDescription";const ui=v.forwardRef(({className:t,children:e,...n},s)=>{const{error:r,formMessageId:i}=Wh(),a=r?String((r==null?void 0:r.message)??""):e;return a?c.jsx("p",{ref:s,id:i,className:Re("text-sm font-medium text-destructive",t),...n,children:a}):null});ui.displayName="FormMessage";const Gm={fat:9,protein:4,carbs:4};function HD(t,e,n){return t*Gm.protein+e*Gm.fat+n*Gm.carbs}function YD(t){const e=t.reduce((n,s)=>({protein:n.protein+(Number(s.protein)||0),fats:n.fats+(Number(s.fats)||0),carbs:n.carbs+(Number(s.carbs)||0)}),{protein:0,fats:0,carbs:0});return{...e,totalCalories:HD(e.protein,e.fats,e.carbs)}}function qU(t,e=7){const n=new Date,s=[];for(let r=e-1;r>=0;r--){const i=cl(n,r),a=Me(i,"yyyy-MM-dd"),o=t[a]||[];if(o.length>0){const l=YD(o);s.push({date:a,value:l.totalCalories})}}return s}function QU(t,e){return{protein:e.proteinTarget>0?t.protein/e.proteinTarget*100:0,fats:e.fatsTarget>0?t.fats/e.fatsTarget*100:0,carbs:e.carbsTarget>0?t.carbs/e.carbsTarget*100:0}}const KU=Er({proteinTarget:Wd.number().min(0),fatsTarget:Wd.number().min(0),carbsTarget:Wd.number().min(0)});function GU({selectedDate:t}){const e=Dn(),{toast:n}=Ut(),[s,r]=v.useState(!1),{data:i=[]}=It({queryKey:[`/api/macros/date/${Me(t,"yyyy-MM-dd")}`]}),{data:a}=It({queryKey:["/api/macro-targets"]}),o=wl({resolver:Sl(KU),defaultValues:{proteinTarget:a!=null&&a.proteinTarget?parseFloat(a.proteinTarget.toString()):0,fatsTarget:a!=null&&a.fatsTarget?parseFloat(a.fatsTarget.toString()):0,carbsTarget:a!=null&&a.carbsTarget?parseFloat(a.carbsTarget.toString()):0}});v.useEffect(()=>{a&&o.reset({proteinTarget:parseFloat(a.proteinTarget.toString()),fatsTarget:parseFloat(a.fatsTarget.toString()),carbsTarget:parseFloat(a.carbsTarget.toString())})},[a,o]);const l=At({mutationFn:async h=>await De("POST","/api/macro-targets",h),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/macro-targets"]}),r(!1),n({title:"Success",description:"Macro targets updated successfully"})},onError:()=>{n({title:"Error",description:"Failed to update macro targets",variant:"destructive"})}}),d=i.reduce((h,m)=>({protein:h.protein+parseFloat(m.protein.toString()),fats:h.fats+parseFloat(m.fats.toString()),carbs:h.carbs+parseFloat(m.carbs.toString())}),{protein:0,fats:0,carbs:0}),f=h=>{l.mutate(h)};return c.jsxs(le,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",children:[c.jsx(Et,{className:"pb-0",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Mt,{className:"text-xl font-bold text-gray-800",children:"Nutrition"}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsxs(Mr,{open:s,onOpenChange:r,children:[c.jsx(yD,{asChild:!0,children:c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsxs("button",{className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:["Target: P:",a?parseFloat(a.proteinTarget.toString()):0,"g | F:",a?parseFloat(a.fatsTarget.toString()):0,"g | C:",a?parseFloat(a.carbsTarget.toString()):0,"g"]}),c.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Click to edit targets"})]})}),c.jsxs(er,{className:"sm:max-w-[425px] bg-white border-0 shadow-2xl",children:[c.jsx(Dr,{className:"pb-4",children:c.jsx(Or,{className:"text-xl font-bold text-gray-800 text-center",children:"Edit Macro Targets"})}),c.jsx(BD,{...o,children:c.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-6 px-1",children:[c.jsx(ia,{control:o.control,name:"proteinTarget",render:({field:h})=>c.jsxs(oi,{children:[c.jsx(li,{className:"text-gray-700 font-medium",children:"Protein Target (grams)"}),c.jsx(ci,{children:c.jsx(je,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ui,{})]})}),c.jsx(ia,{control:o.control,name:"fatsTarget",render:({field:h})=>c.jsxs(oi,{children:[c.jsx(li,{className:"text-gray-700 font-medium",children:"Fats Target (grams)"}),c.jsx(ci,{children:c.jsx(je,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ui,{})]})}),c.jsx(ia,{control:o.control,name:"carbsTarget",render:({field:h})=>c.jsxs(oi,{children:[c.jsx(li,{className:"text-gray-700 font-medium",children:"Carbs Target (grams)"}),c.jsx(ci,{children:c.jsx(je,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",...h})}),c.jsx(ui,{})]})}),c.jsx("div",{className:"pt-6 border-t border-gray-200 bg-gray-50 -mx-1 px-4 py-4 rounded-lg",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Total Calories"}),c.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Math.round(HD(parseFloat(o.watch("proteinTarget"))||0,parseFloat(o.watch("fatsTarget"))||0,parseFloat(o.watch("carbsTarget"))||0))}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["P: ",parseFloat(o.watch("proteinTarget"))||0,"g  4 + F: ",parseFloat(o.watch("fatsTarget"))||0,"g  9 + C: ",parseFloat(o.watch("carbsTarget"))||0,"g  4"]})]})}),c.jsx(q,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:l.isPending,children:l.isPending?"Updating...":"Update Targets"})]})})]})]})})]})}),c.jsxs(ce,{className:"pt-0",children:[c.jsxs("div",{className:"space-y-4 mb-2",children:[c.jsx("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 mb-3",children:i.length>0&&c.jsxs("span",{className:"text-xs text-right",children:["P: ",d.protein,"g | F: ",d.fats,"g | C: ",d.carbs,"g"]})}),i.length>0?i.map(h=>c.jsx("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-green-500 rounded-lg p-2 flex items-center justify-center min-w-[48px] h-12",children:c.jsx("i",{className:"fas fa-utensils text-white text-sm"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white font-medium",children:h.description}),c.jsxs("div",{className:"text-gray-300 text-xs",children:["P: ",h.protein,"g  F: ",h.fats,"g  C: ",h.carbs,"g"]})]})]})},h.id)):c.jsxs("div",{className:"text-gray-500 text-center py-2",children:["No macros logged ",Di(t)?"today":"for this date"]})]}),c.jsx(zs,{href:`/add-macros?date=${Me(t,"yyyy-MM-dd")}`,children:c.jsxs(q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD MACROS"]})})]})]})}function Qf(t,[e,n]){return Math.min(n,Math.max(e,t))}var XU=v.createContext(void 0);function qD(t){const e=v.useContext(XU);return t||e||"ltr"}function QD(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ZU=[" ","Enter","ArrowUp","ArrowDown"],JU=[" ","Enter"],Aa="Select",[Hh,Yh,eW]=cx(Aa),[kl,Wq]=Ua(Aa,[eW,Dh]),qh=Dh(),[tW,Vi]=kl(Aa),[nW,sW]=kl(Aa),KD=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,p=qh(e),[b,x]=v.useState(null),[g,w]=v.useState(null),[S,_]=v.useState(!1),N=qD(u),[j,C]=Uc({prop:s,defaultProp:r??!1,onChange:i,caller:Aa}),[P,O]=Uc({prop:a,defaultProp:o,onChange:l,caller:Aa}),z=v.useRef(null),R=b?y||!!b.closest("form"):!0,[L,I]=v.useState(new Set),A=Array.from(L).map($=>$.props.value).join(";");return c.jsx($5,{...p,children:c.jsxs(tW,{required:m,scope:e,trigger:b,onTriggerChange:x,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:ko(),value:P,onValueChange:O,open:j,onOpenChange:C,dir:N,triggerPointerDownPosRef:z,disabled:h,children:[c.jsx(Hh.Provider,{scope:e,children:c.jsx(nW,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback($=>{I(B=>new Set(B).add($))},[]),onNativeOptionRemove:v.useCallback($=>{I(B=>{const T=new Set(B);return T.delete($),T})},[]),children:n})}),R?c.jsxs(v2,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:$=>O($.target.value),disabled:h,form:y,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from(L)]},A):null]})})};KD.displayName=Aa;var GD="SelectTrigger",XD=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=qh(n),a=Vi(GD,n),o=a.disabled||s,l=We(e,a.onTriggerChange),u=Yh(n),d=v.useRef("touch"),[f,h,m]=w2(p=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===a.value),g=S2(b,p,x);g!==void 0&&a.onValueChange(g.value)}),y=p=>{o||(a.onOpenChange(!0),m()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx(vP,{asChild:!0,...i,children:c.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":b2(a.value)?"":void 0,...r,ref:l,onClick:xe(r.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:xe(r.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:xe(r.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(b&&p.key===" ")&&ZU.includes(p.key)&&(y(),p.preventDefault())})})})});XD.displayName=GD;var ZD="SelectValue",JD=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:a="",...o}=t,l=Vi(ZD,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=We(e,l.onValueNodeChange);return Jt(()=>{u(d)},[u,d]),c.jsx(Pe.span,{...o,ref:f,style:{pointerEvents:"none"},children:b2(l.value)?c.jsx(c.Fragment,{children:a}):i})});JD.displayName=ZD;var rW="SelectIcon",e2=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return c.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});e2.displayName=rW;var iW="SelectPortal",t2=t=>c.jsx(jh,{asChild:!0,...t});t2.displayName=iW;var Ia="SelectContent",n2=v.forwardRef((t,e)=>{const n=Vi(Ia,t.__scopeSelect),[s,r]=v.useState();if(Jt(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?Ba.createPortal(c.jsx(s2,{scope:t.__scopeSelect,children:c.jsx(Hh.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(r2,{...t,ref:e})});n2.displayName=Ia;var ls=10,[s2,$i]=kl(Ia),aW="SelectContentImpl",oW=Jo("SelectContent.RemoveScroll"),r2=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:b,...x}=t,g=Vi(Ia,n),[w,S]=v.useState(null),[_,N]=v.useState(null),j=We(e,H=>S(H)),[C,P]=v.useState(null),[O,z]=v.useState(null),R=Yh(n),[L,I]=v.useState(!1),A=v.useRef(!1);v.useEffect(()=>{if(w)return GM(w)},[w]),$M();const $=v.useCallback(H=>{const[Z,...ze]=R().map(Ae=>Ae.ref.current),[Ee]=ze.slice(-1),be=document.activeElement;for(const Ae of H)if(Ae===be||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===Z&&_&&(_.scrollTop=0),Ae===Ee&&_&&(_.scrollTop=_.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==be))return},[R,_]),B=v.useCallback(()=>$([C,w]),[$,C,w]);v.useEffect(()=>{L&&B()},[L,B]);const{onOpenChange:T,triggerPointerDownPosRef:F}=g;v.useEffect(()=>{if(w){let H={x:0,y:0};const Z=Ee=>{var be,Ae;H={x:Math.abs(Math.round(Ee.pageX)-(((be=F.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Ae=F.current)==null?void 0:Ae.y)??0))}},ze=Ee=>{H.x<=10&&H.y<=10?Ee.preventDefault():w.contains(Ee.target)||T(!1),document.removeEventListener("pointermove",Z),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ze,{capture:!0})}}},[w,T,F]),v.useEffect(()=>{const H=()=>T(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[T]);const[D,W]=w2(H=>{const Z=R().filter(be=>!be.disabled),ze=Z.find(be=>be.ref.current===document.activeElement),Ee=S2(Z,H,ze);Ee&&setTimeout(()=>Ee.ref.current.focus())}),G=v.useCallback((H,Z,ze)=>{const Ee=!A.current&&!ze;(g.value!==void 0&&g.value===Z||Ee)&&(P(H),Ee&&(A.current=!0))},[g.value]),ne=v.useCallback(()=>w==null?void 0:w.focus(),[w]),re=v.useCallback((H,Z,ze)=>{const Ee=!A.current&&!ze;(g.value!==void 0&&g.value===Z||Ee)&&z(H)},[g.value]),ge=s==="popper"?Wg:i2,ve=ge===Wg?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:b}:{};return c.jsx(s2,{scope:n,content:w,viewport:_,onViewportChange:N,itemRefCallback:G,selectedItem:C,onItemLeave:ne,itemTextRefCallback:re,focusSelectedItem:B,selectedItemText:O,position:s,isPositioned:L,searchRef:D,children:c.jsx(Ux,{as:oW,allowPinchZoom:!0,children:c.jsx(Bx,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:xe(r,H=>{var Z;(Z=g.trigger)==null||Z.focus({preventScroll:!0}),H.preventDefault()}),children:c.jsx(_u,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(ge,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...x,...ve,onPlaced:()=>I(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,H=>{const Z=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!Z&&H.key.length===1&&W(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let Ee=R().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(H.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const be=H.target,Ae=Ee.indexOf(be);Ee=Ee.slice(Ae+1)}setTimeout(()=>$(Ee)),H.preventDefault()}})})})})})})});r2.displayName=aW;var lW="SelectItemAlignedPosition",i2=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=Vi(Ia,n),a=$i(Ia,n),[o,l]=v.useState(null),[u,d]=v.useState(null),f=We(e,j=>d(j)),h=Yh(n),m=v.useRef(!1),y=v.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:x,focusSelectedItem:g}=a,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&p&&b&&x){const j=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),O=x.getBoundingClientRect();if(i.dir!=="rtl"){const be=O.left-C.left,Ae=P.left-be,Qt=j.left-Ae,An=j.width+Qt,Rr=Math.max(An,C.width),Bi=window.innerWidth-ls,Ui=Qf(Ae,[ls,Math.max(ls,Bi-Rr)]);o.style.minWidth=An+"px",o.style.left=Ui+"px"}else{const be=C.right-O.right,Ae=window.innerWidth-P.right-be,Qt=window.innerWidth-j.right-Ae,An=j.width+Qt,Rr=Math.max(An,C.width),Bi=window.innerWidth-ls,Ui=Qf(Ae,[ls,Math.max(ls,Bi-Rr)]);o.style.minWidth=An+"px",o.style.right=Ui+"px"}const z=h(),R=window.innerHeight-ls*2,L=p.scrollHeight,I=window.getComputedStyle(u),A=parseInt(I.borderTopWidth,10),$=parseInt(I.paddingTop,10),B=parseInt(I.borderBottomWidth,10),T=parseInt(I.paddingBottom,10),F=A+$+L+T+B,D=Math.min(b.offsetHeight*5,F),W=window.getComputedStyle(p),G=parseInt(W.paddingTop,10),ne=parseInt(W.paddingBottom,10),re=j.top+j.height/2-ls,ge=R-re,ve=b.offsetHeight/2,H=b.offsetTop+ve,Z=A+$+H,ze=F-Z;if(Z<=re){const be=z.length>0&&b===z[z.length-1].ref.current;o.style.bottom="0px";const Ae=u.clientHeight-p.offsetTop-p.offsetHeight,Qt=Math.max(ge,ve+(be?ne:0)+Ae+B),An=Z+Qt;o.style.height=An+"px"}else{const be=z.length>0&&b===z[0].ref.current;o.style.top="0px";const Qt=Math.max(re,A+p.offsetTop+(be?G:0)+ve)+ze;o.style.height=Qt+"px",p.scrollTop=Z-re+p.offsetTop}o.style.margin=`${ls}px 0`,o.style.minHeight=D+"px",o.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,o,u,p,b,x,i.dir,s]);Jt(()=>w(),[w]);const[S,_]=v.useState();Jt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(j=>{j&&y.current===!0&&(w(),g==null||g(),y.current=!1)},[w,g]);return c.jsx(uW,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(Pe.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});i2.displayName=lW;var cW="SelectPopperPosition",Wg=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=ls,...i}=t,a=qh(n);return c.jsx(bP,{...a,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wg.displayName=cW;var[uW,Zx]=kl(Ia,{}),Hg="SelectViewport",a2=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=$i(Hg,n),a=Zx(Hg,n),o=We(e,i.onViewportChange),l=v.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(Hh.Slot,{scope:n,children:c.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:xe(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-ls*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(p,b);if(x<y){const g=x+m,w=Math.min(y,g),S=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});a2.displayName=Hg;var o2="SelectGroup",[dW,fW]=kl(o2),hW=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=ko();return c.jsx(dW,{scope:n,id:r,children:c.jsx(Pe.div,{role:"group","aria-labelledby":r,...s,ref:e})})});hW.displayName=o2;var l2="SelectLabel",c2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=fW(l2,n);return c.jsx(Pe.div,{id:r.id,...s,ref:e})});c2.displayName=l2;var Kf="SelectItem",[mW,u2]=kl(Kf),d2=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...a}=t,o=Vi(Kf,n),l=$i(Kf,n),u=o.value===s,[d,f]=v.useState(i??""),[h,m]=v.useState(!1),y=We(e,g=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,g,s,r)}),p=ko(),b=v.useRef("touch"),x=()=>{r||(o.onValueChange(s),o.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(mW,{scope:n,value:s,disabled:r,textId:p,isSelected:u,onItemTextChange:v.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(Hh.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:c.jsx(Pe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:y,onFocus:xe(a.onFocus,()=>m(!0)),onBlur:xe(a.onBlur,()=>m(!1)),onClick:xe(a.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:xe(a.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:xe(a.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:xe(a.onPointerMove,g=>{var w;b.current=g.pointerType,r?(w=l.onItemLeave)==null||w.call(l):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:xe(a.onKeyDown,g=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(JU.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});d2.displayName=Kf;var ec="SelectItemText",f2=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,a=Vi(ec,n),o=$i(ec,n),l=u2(ec,n),u=sW(ec,n),[d,f]=v.useState(null),h=We(e,x=>f(x),l.onItemTextChange,x=>{var g;return(g=o.itemTextRefCallback)==null?void 0:g.call(o,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=v.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return Jt(()=>(p(y),()=>b(y)),[p,b,y]),c.jsxs(c.Fragment,{children:[c.jsx(Pe.span,{id:l.textId,...i,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ba.createPortal(i.children,a.valueNode):null]})});f2.displayName=ec;var h2="SelectItemIndicator",m2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return u2(h2,n).isSelected?c.jsx(Pe.span,{"aria-hidden":!0,...s,ref:e}):null});m2.displayName=h2;var Yg="SelectScrollUpButton",p2=v.forwardRef((t,e)=>{const n=$i(Yg,t.__scopeSelect),s=Zx(Yg,t.__scopeSelect),[r,i]=v.useState(!1),a=We(e,s.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?c.jsx(y2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});p2.displayName=Yg;var qg="SelectScrollDownButton",g2=v.forwardRef((t,e)=>{const n=$i(qg,t.__scopeSelect),s=Zx(qg,t.__scopeSelect),[r,i]=v.useState(!1),a=We(e,s.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?c.jsx(y2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});g2.displayName=qg;var y2=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=$i("SelectScrollButton",n),a=v.useRef(null),o=Yh(n),l=v.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Jt(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:xe(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:xe(r.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:xe(r.onPointerLeave,()=>{l()})})}),pW="SelectSeparator",x2=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return c.jsx(Pe.div,{"aria-hidden":!0,...s,ref:e})});x2.displayName=pW;var Qg="SelectArrow",gW=v.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=qh(n),i=Vi(Qg,n),a=$i(Qg,n);return i.open&&a.position==="popper"?c.jsx(wP,{...r,...s,ref:e}):null});gW.displayName=Qg;var yW="SelectBubbleInput",v2=v.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=v.useRef(null),i=We(s,r),a=QD(e);return v.useEffect(()=>{const o=r.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),c.jsx(Pe.select,{...n,style:{...pT,...n.style},ref:i,defaultValue:e})});v2.displayName=yW;function b2(t){return t===""||t===void 0}function w2(t){const e=Ss(t),n=v.useRef(""),s=v.useRef(0),r=v.useCallback(a=>{const o=n.current+a;e(o),function l(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function S2(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=xW(t,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}function xW(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var vW=KD,_2=XD,bW=JD,wW=e2,SW=t2,N2=n2,_W=a2,k2=c2,j2=d2,NW=f2,kW=m2,C2=p2,T2=g2,P2=x2;const Ra=vW,Fa=bW,Oi=v.forwardRef(({className:t,children:e,...n},s)=>c.jsxs(_2,{ref:s,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(wW,{asChild:!0,children:c.jsx(zT,{className:"h-4 w-4 opacity-50"})})]}));Oi.displayName=_2.displayName;const E2=v.forwardRef(({className:t,...e},n)=>c.jsx(C2,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(OL,{className:"h-4 w-4"})}));E2.displayName=C2.displayName;const M2=v.forwardRef(({className:t,...e},n)=>c.jsx(T2,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(zT,{className:"h-4 w-4"})}));M2.displayName=T2.displayName;const Ai=v.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>c.jsx(SW,{children:c.jsxs(N2,{ref:r,className:Re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[c.jsx(E2,{}),c.jsx(_W,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(M2,{})]})}));Ai.displayName=N2.displayName;const jW=v.forwardRef(({className:t,...e},n)=>c.jsx(k2,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));jW.displayName=k2.displayName;const nt=v.forwardRef(({className:t,children:e,...n},s)=>c.jsxs(j2,{ref:s,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(kW,{children:c.jsx(LT,{className:"h-4 w-4"})})}),c.jsx(NW,{children:e})]}));nt.displayName=j2.displayName;const CW=v.forwardRef(({className:t,...e},n)=>c.jsx(P2,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));CW.displayName=P2.displayName;const TW={weight:["lbs","kg"],length:["in","cm"],percentage:["%"],count:["reps","count"]},PW=[{name:"Waist",unit:"length"},{name:"Chest",unit:"length"},{name:"Arms",unit:"length"},{name:"Thighs",unit:"length"},{name:"Hips",unit:"length"},{name:"Body Fat %",unit:"percentage"},{name:"Muscle Mass",unit:"percentage"}];function EW({selectedDate:t}){var _;const[e,n]=v.useState(!1),[s,r]=v.useState(!1),[i,a]=v.useState(""),[o,l]=v.useState("length"),[u,d]=v.useState({}),f=Dn(),h=Me(t,"yyyy-MM-dd"),{data:m=[]}=It({queryKey:[`/api/metrics/date/${h}`]}),{data:y=[]}=It({queryKey:["/api/custom-metric-fields"]}),p=m.find(N=>Me(new Date(N.date),"yyyy-MM-dd")===h);v.useEffect(()=>{d({})},[h]),console.log("Metrics Debug:",{tempValues:u,dateStr:h,currentMetric:p});const b=At({mutationFn:async N=>{console.log("Creating custom metric field:",N);const j=await De("POST","/api/custom-metric-fields",N);return console.log("Custom metric field created:",j),j},onSuccess:N=>{console.log("Custom field creation successful:",N),f.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),a(""),l("length"),r(!1)},onError:N=>{console.error("Error creating custom metric field:",N)}}),x=At({mutationFn:async N=>De("DELETE",`/api/custom-metric-fields/${N}`),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/custom-metric-fields"]}),y.length<=1&&n(!1)}}),g=At({mutationFn:async N=>De("POST","/api/metrics",{date:h,weight:N.weight,customFields:N.customFields}),onSuccess:N=>{console.log("Metric saved successfully:",N),f.invalidateQueries({queryKey:[`/api/metrics/date/${h}`]}),d({})},onError:N=>{console.error("Error saving metric:",N)}}),w=N=>{const j=u[N]||"";if(console.log("Saving field:",N,"input value:",j),!j.trim()){console.log("No value to save");return}if(N==="weight"){const C=parseFloat(j),P=(p==null?void 0:p.customFields)||{};console.log("Saving weight:",C),g.mutate({weight:C,customFields:P})}else{const C=p==null?void 0:p.weight,P={...(p==null?void 0:p.customFields)||{},[N]:parseFloat(j)};console.log("Saving custom field:",N,"value:",parseFloat(j)),g.mutate({weight:C,customFields:P})}},S=()=>{if(console.log("addCustomField called",{newFieldName:i,newFieldUnit:o}),i.trim()){const j=TW[o][0];console.log("Creating field with:",{fieldName:i.trim(),unit:j}),b.mutate({fieldName:i.trim(),unit:j})}else console.log("Field name is empty, not creating")};return c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-2 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Et,{children:c.jsxs(Mt,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-weight text-purple-500 mr-2"}),"Metrics"]})}),c.jsxs(ce,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("div",{className:"w-6 h-6 flex items-center justify-center opacity-30",children:c.jsx("i",{className:"fas fa-ban text-gray-400 text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weight"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(je,{type:"number",inputMode:"decimal",value:u.weight??((_=p==null?void 0:p.weight)==null?void 0:_.toString())??"",onChange:N=>d(j=>({...j,weight:N.target.value})),placeholder:"Enter weight",className:"w-20 h-8"}),c.jsx("span",{className:"text-xs text-gray-500",children:"lbs"}),c.jsx("button",{onClick:()=>{console.log("Save weight clicked!"),w("weight")},disabled:g.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:g.isPending?"Saving...":"Save"})]})]}),y.map(N=>{var j,C;return c.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e&&c.jsx("button",{onClick:()=>x.mutate(N.id),className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:c.jsx("i",{className:"fas fa-times text-white text-xs"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.fieldName})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(je,{type:"number",inputMode:"decimal",value:u[N.fieldName]??((C=(j=p==null?void 0:p.customFields)==null?void 0:j[N.fieldName])==null?void 0:C.toString())??"",onChange:P=>d(O=>({...O,[N.fieldName]:P.target.value})),placeholder:`Enter ${N.fieldName.toLowerCase()}`,className:"w-20 h-8"}),c.jsx("span",{className:"text-xs text-gray-500",children:N.unit}),c.jsx("button",{onClick:()=>{console.log("Save",N.fieldName,"clicked!"),w(N.fieldName)},disabled:g.isPending,className:"h-8 px-4 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-400 text-white rounded",children:g.isPending?"Saving...":"Save"})]})]},N.id)})]}),c.jsxs("div",{className:"space-y-3 mt-4",children:[c.jsxs(Mr,{open:s,onOpenChange:r,children:[c.jsx(yD,{asChild:!0,children:c.jsxs(q,{className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",onClick:()=>n(!1),children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"ADD CUSTOM METRIC"]})}),c.jsxs(er,{children:[c.jsx(Dr,{children:c.jsx(Or,{children:"Add Custom Metric"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Be,{children:"Metric Name"}),c.jsxs(Ra,{value:i,onValueChange:a,children:[c.jsx(Oi,{children:c.jsx(Fa,{placeholder:"Select or type custom metric"})}),c.jsx(Ai,{children:PW.map(N=>c.jsx(nt,{value:N.name,children:N.name},N.name))})]}),c.jsx(je,{placeholder:"Or type custom metric name",value:i,onChange:N=>a(N.target.value),className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{children:"Unit Type"}),c.jsxs(Ra,{value:o,onValueChange:l,children:[c.jsx(Oi,{children:c.jsx(Fa,{})}),c.jsxs(Ai,{children:[c.jsx(nt,{value:"length",children:"Length (in/cm)"}),c.jsx(nt,{value:"percentage",children:"Percentage (%)"}),c.jsx(nt,{value:"count",children:"Count/Reps"})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(q,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),c.jsx(q,{onClick:()=>{console.log("Add Metric button clicked"),S()},disabled:!i.trim()||b.isPending,className:"bg-purple-500 hover:bg-purple-600 text-white",children:b.isPending?"Adding...":"Add Metric"})]})]})]})]}),y.length>0&&c.jsxs(q,{onClick:()=>n(!e),className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-edit mr-2"}),e?"DONE EDITING":"EDIT METRICS"]})]})]})]})}function MW({selectedDate:t}){var S;const[e,n]=v.useState(!1),[s,r]=v.useState(0),[i,a]=v.useState(!1),o=v.useRef(null),{toast:l}=Ut(),u=Me(t,"yyyy-MM-dd"),{data:d=[]}=It({queryKey:[`/api/photos/date/${u}`]}),f=At({mutationFn:async _=>{const N=new FormData;return Array.from(_).forEach(j=>{N.append("photos",j)}),N.append("date",u),De("POST","/api/photos",N)},onSuccess:()=>{Gi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Gi.invalidateQueries({queryKey:["/api/photos"]}),Gi.invalidateQueries({predicate:_=>{var N;return(N=_.queryKey[0])==null?void 0:N.toString().includes("/api/photos")}}),l({title:"Success",description:"Photos uploaded successfully!"})},onError:_=>{l({title:"Error",description:`Failed to upload photos: ${_.message}`,variant:"destructive"})}}),h=At({mutationFn:async _=>De("DELETE",`/api/photos/${_}`),onSuccess:()=>{Gi.invalidateQueries({queryKey:[`/api/photos/date/${u}`]}),Gi.invalidateQueries({queryKey:["/api/photos"]}),Gi.invalidateQueries({predicate:_=>{var N;return(N=_.queryKey[0])==null?void 0:N.toString().includes("/api/photos")}}),l({title:"Success",description:"Photo deleted successfully!"})},onError:_=>{l({title:"Error",description:`Failed to delete photo: ${_.message}`,variant:"destructive"})}}),m=_=>{const N=_.target.files;N&&N.length>0&&f.mutate(N)},y=()=>{var _;(_=o.current)==null||_.click()},p=()=>{if(d.length>0&&s<d.length){const _=d[s];h.mutate(_.id),n(!1)}},b=_=>{r(_),a(!1),n(!0)},x=_=>{a(!1),r(_==="prev"?N=>N>0?N-1:d.length-1:N=>N<d.length-1?N+1:0)};v.useEffect(()=>{const _=N=>{e&&(N.key==="Escape"?n(!1):N.key==="ArrowLeft"&&d.length>1?x("prev"):N.key==="ArrowRight"&&d.length>1&&x("next"))};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[e,d.length]);const g=_=>{if(_.thumbnailUrl)return _.thumbnailUrl;const N=localStorage.getItem("authToken");return N?`/api/photos/${_.filename}?thumbnail=true&token=${N}`:"/placeholder-image.jpg"},w=_=>{if(_.imageUrl)return _.imageUrl;const N=localStorage.getItem("authToken");return N?`/api/photos/${_.filename}?token=${N}`:"/placeholder-image.jpg"};return c.jsxs(c.Fragment,{children:[c.jsxs(le,{className:"mb-2 bg-white/75 backdrop-blur-sm border-0 shadow-lg",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxHeight:"70vh"},children:[c.jsx(Et,{children:c.jsxs(Mt,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-camera text-blue-500 mr-2"}),"Progress Photos",c.jsx("span",{className:"text-sm text-gray-500 ml-2",children:Di(t)?"Today":Me(t,"MMM d, yyyy")})]})}),c.jsxs(ce,{className:"pt-0",children:[d.length>0?c.jsx("div",{className:"grid gap-2 overflow-y-auto",style:{gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",maxHeight:"calc(70vh - 200px)"},children:d.map((_,N)=>c.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>b(N),children:c.jsx("img",{src:g(_),alt:`Progress photo ${N+1}`,className:"w-full h-full object-cover",style:{filter:"blur(6px)"}})},_.id))}):c.jsxs("div",{className:"text-gray-500 text-center pt-0 py-2",children:["No photos uploaded ",Di(t)?"today":"for this date"]}),c.jsxs("div",{className:"flex space-x-2 mt-2",children:[c.jsxs(q,{onClick:y,disabled:f.isPending,className:"w-full bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-lg transition-all duration-200",children:[c.jsx("i",{className:"fas fa-plus mr-2 text-xs"}),f.isPending?"Uploading...":"ADD PHOTOS"]}),d.length>0&&c.jsx(q,{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 text-sm",children:c.jsx("i",{className:"fas fa-trash text-xs"})})]}),c.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:m,className:"hidden"})]})]}),c.jsx(Mr,{open:e,onOpenChange:n,children:c.jsxs(er,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Dr,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsxs(Or,{className:"text-center text-lg font-semibold",children:["Progress Photo ",s+1," of ",d.length]})}),d.length>0&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[d.length>1&&c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>x("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!i&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:w(d[s]),alt:`Progress photo ${s+1}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${i?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>a(!0),onError:()=>a(!0)})]}),d.length>1&&c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>x("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:(S=d[s])==null?void 0:S.originalName}),c.jsxs(q,{onClick:p,variant:"destructive",size:"sm",children:[c.jsx("i",{className:"fas fa-trash mr-2"}),"Delete Photo"]})]})]})})]})}function Jb(t,e){const[n,s,r]=t.split("-").map(Number),[i,a]=e.split(":").map(Number);return new Date(n,s-1,r,i,a,0,0)}function D2(t){const[e,n,s]=t.split("-").map(Number);return new Date(e,n-1,s,0,0,0,0)}function Xm(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${s}`}function DW(t,e,n){if(n==="sleep"&&e<=t){const s=new Date(e);return s.setDate(s.getDate()+1),s}return e}function OW(){const{user:t}=Js(),[e,n]=v.useState(new Date);v.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("date");if(console.log(" DETAILED Home Page URL Debug:"),console.log("1. Current URL:",window.location.href),console.log("2. URL Search Params:",window.location.search),console.log("3. dateParam from URL:",o),console.log("4. Current selectedDate before update:",e),console.log("5. Current selectedDate toString():",e.toString()),o){const l=D2(o);console.log("6. Creating new Date from dateParam using createDateFromString:",o),console.log("7. New Date Object:",l),console.log("8. New Date toString():",l.toString()),console.log("9. New Date toDateString():",l.toDateString()),console.log("10. New Date getDate():",l.getDate()),console.log("11. New Date getMonth():",l.getMonth()),console.log("12. New Date getFullYear():",l.getFullYear()),n(l),console.log("13. Set selectedDate to new date"),window.history.replaceState({},"","/"),console.log("14. Cleaned URL")}else console.log("6. NO dateParam found, keeping selectedDate as:",e.toString())},[]);const{data:s=[]}=It({queryKey:Di(e)?["/api/progress"]:[`/api/progress/date/${Me(e,"yyyy-MM-dd")}`],enabled:!!t}),{data:r=[]}=It({queryKey:["/api/photos"],enabled:!!t});console.log("Home page - photos:",r),console.log("Home page - photos length:",r.length);const i=()=>{const a=["Every step counts! Keep pushing forward.","You're stronger than yesterday.","Progress, not perfection.","Your only competition is who you were yesterday.","Believe in yourself and keep going!"];return a[Math.floor(Math.random()*a.length)]};return c.jsxs(c.Fragment,{children:[c.jsx(Pt,{}),c.jsx("div",{className:"app-gradient-bg",children:c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome back, ",(t==null?void 0:t.firstName)||(t==null?void 0:t.username),"!"]}),c.jsx("h2",{className:"text-gray-800 text-lg flex mb-6 items-center",children:i()}),c.jsx(WU,{selectedDate:e,onDateChange:n})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mb-4 gap-x-4",children:[c.jsx(HU,{selectedDate:e}),c.jsx(EW,{selectedDate:e}),c.jsx(MW,{selectedDate:e}),c.jsx(GU,{selectedDate:e})]}),Array.isArray(s)&&s.length>0&&c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl mt-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Et,{children:c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"Recent Progress"})}),c.jsx(ce,{children:c.jsx("div",{className:"space-y-4",children:s.slice(0,3).map((a,o)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#ec4899"}}),c.jsx("span",{className:"font-medium text-gray-700 capitalize",children:a.goalType.replace("-"," ")})]}),c.jsx("div",{className:"text-right",children:c.jsxs("span",{className:"text-lg font-bold",style:{color:"#be185d"},children:[a.progressValue,"%"]})})]},o))})})]})]})})]})}const AW=Er({gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function IW({data:t,updateData:e,onNext:n}){const{user:s}=Js(),{register:r,handleSubmit:i,setValue:a,watch:o,formState:{errors:l}}=wl({resolver:Sl(AW),defaultValues:{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType}}),u=f=>{console.log("Image uploaded:",f)},d=f=>{e(f),n()};return c.jsx(le,{className:"card-shadow slide-in",children:c.jsxs(ce,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Create Your Profile"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Tell us about yourself to personalize your journey"}),c.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Vh,{firstName:s==null?void 0:s.firstName,lastName:s==null?void 0:s.lastName,profileImageUrl:s==null?void 0:s.profileImageUrl,size:"xl",onImageUpload:u,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload a photo or use your initials"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"gender",children:"Gender"}),c.jsxs(Ra,{onValueChange:f=>a("gender",f),defaultValue:t.gender,children:[c.jsx(Oi,{className:"mt-2",children:c.jsx(Fa,{placeholder:"Select"})}),c.jsxs(Ai,{children:[c.jsx(nt,{value:"female",children:"Female"}),c.jsx(nt,{value:"male",children:"Male"}),c.jsx(nt,{value:"non-binary",children:"Non-binary"}),c.jsx(nt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"birthday",children:"Birthday"}),c.jsx(je,{id:"birthday",type:"date",...r("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"height",children:"Height"}),c.jsx(je,{id:"height",...r("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"weight",children:"Weight"}),c.jsx(je,{id:"weight",...r("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Ra,{onValueChange:f=>a("bodyType",f),defaultValue:t.bodyType,children:[c.jsx(Oi,{className:"mt-2",children:c.jsx(Fa,{placeholder:"Select"})}),c.jsxs(Ai,{children:[c.jsx(nt,{value:"petite",children:"Petite"}),c.jsx(nt,{value:"lean",children:"Lean"}),c.jsx(nt,{value:"average",children:"Average"}),c.jsx(nt,{value:"athletic",children:"Athletic"}),c.jsx(nt,{value:"muscular",children:"Muscular"}),c.jsx(nt,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsx(q,{type:"submit",className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl text-center",children:"Continue"})]})]})})}const RW=[{id:"general-fitness",label:"General Fitness",icon:"fas fa-running"},{id:"cardio",label:"Cardio",icon:"fas fa-heartbeat"},{id:"strength",label:"Strength",icon:"fas fa-dumbbell"},{id:"muscle-mass",label:"Muscle Mass",icon:"fas fa-fist-raised"},{id:"weight-loss",label:"Weight Loss",icon:"fas fa-weight"},{id:"improve-diet",label:"Improve Diet",icon:"fas fa-apple-alt"}];function FW({data:t,updateData:e,onNext:n}){const[s,r]=v.useState(t.goals);v.useEffect(()=>{e({goals:s})},[s,e]);const i=o=>{r(l=>l.includes(o)?l.filter(u=>u!==o):[...l,o])},a=()=>{s.length!==0&&n()};return c.jsx(le,{className:"card-shadow slide-in",children:c.jsxs(ce,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"What Are Your Goals?"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Select all that apply to personalize your experience"}),c.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:RW.map(o=>c.jsxs("button",{onClick:()=>i(o.id),className:`p-4 border-2 rounded-xl text-center transition-all duration-300 ${s.includes(o.id)?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-primary-50"}`,children:[c.jsx("i",{className:`${o.icon} text-2xl text-primary-300 mb-2`}),c.jsx("p",{className:"text-sm font-medium text-gray-700",children:o.label})]},o.id))}),c.jsx(q,{onClick:a,disabled:s.length===0,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed text-center",children:"Continue"}),s.length===0&&c.jsx("p",{className:"text-sm text-gray-500 text-center mt-2",children:"Please select at least one goal to continue"})]})})}var O2=["PageUp","PageDown"],A2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I2={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},jl="Slider",[Kg,LW,zW]=cx(jl),[R2,Hq]=Ua(jl,[zW]),[VW,Qh]=R2(jl),F2=v.forwardRef((t,e)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[s],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:y,...p}=t,b=v.useRef(new Set),x=v.useRef(0),w=a==="horizontal"?$W:BW,[S=[],_]=Uc({prop:d,defaultProp:u,onChange:z=>{var L;(L=[...b.current][x.current])==null||L.focus(),f(z)}}),N=v.useRef(S);function j(z){const R=qW(S,z);O(z,R)}function C(z){O(z,x.current)}function P(){const z=N.current[x.current];S[x.current]!==z&&h(S)}function O(z,R,{commit:L}={commit:!1}){const I=XW(i),A=ZW(Math.round((z-s)/i)*i+s,I),$=Qf(A,[s,r]);_((B=[])=>{const T=HW(B,$,R);if(GW(T,l*i)){x.current=T.indexOf($);const F=String(T)!==String(B);return F&&L&&h(T),F?T:B}else return B})}return c.jsx(VW,{scope:t.__scopeSlider,name:n,disabled:o,min:s,max:r,valueIndexToChangeRef:x,thumbs:b.current,values:S,orientation:a,form:y,children:c.jsx(Kg.Provider,{scope:t.__scopeSlider,children:c.jsx(Kg.Slot,{scope:t.__scopeSlider,children:c.jsx(w,{"aria-disabled":o,"data-disabled":o?"":void 0,...p,ref:e,onPointerDown:xe(p.onPointerDown,()=>{o||(N.current=S)}),min:s,max:r,inverted:m,onSlideStart:o?void 0:j,onSlideMove:o?void 0:C,onSlideEnd:o?void 0:P,onHomeKeyDown:()=>!o&&O(s,0,{commit:!0}),onEndKeyDown:()=>!o&&O(r,S.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:R})=>{if(!o){const A=O2.includes(z.key)||z.shiftKey&&A2.includes(z.key)?10:1,$=x.current,B=S[$],T=i*A*R;O(B+T,$,{commit:!0})}}})})})})});F2.displayName=jl;var[L2,z2]=R2(jl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),$W=v.forwardRef((t,e)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=v.useState(null),m=We(e,w=>h(w)),y=v.useRef(void 0),p=qD(r),b=p==="ltr",x=b&&!i||!b&&i;function g(w){const S=y.current||f.getBoundingClientRect(),_=[0,S.width],j=Jx(_,x?[n,s]:[s,n]);return y.current=S,j(w-S.left)}return c.jsx(L2,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:c.jsx(V2,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=g(w.clientX);a==null||a(S)},onSlideMove:w=>{const S=g(w.clientX);o==null||o(S)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:w=>{const _=I2[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:_?-1:1})}})})}),BW=v.forwardRef((t,e)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...u}=t,d=v.useRef(null),f=We(e,d),h=v.useRef(void 0),m=!r;function y(p){const b=h.current||d.current.getBoundingClientRect(),x=[0,b.height],w=Jx(x,m?[s,n]:[n,s]);return h.current=b,w(p-b.top)}return c.jsx(L2,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:c.jsx(V2,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const b=y(p.clientY);i==null||i(b)},onSlideMove:p=>{const b=y(p.clientY);a==null||a(b)},onSlideEnd:()=>{h.current=void 0,o==null||o()},onStepKeyDown:p=>{const x=I2[m?"from-bottom":"from-top"].includes(p.key);l==null||l({event:p,direction:x?-1:1})}})})}),V2=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...u}=t,d=Qh(jl,n);return c.jsx(Pe.span,{...u,ref:e,onKeyDown:xe(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):O2.concat(A2).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:xe(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():s(f)}),onPointerMove:xe(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&r(f)}),onPointerUp:xe(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),$2="SliderTrack",B2=v.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Qh($2,n);return c.jsx(Pe.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});B2.displayName=$2;var Gg="SliderRange",U2=v.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Qh(Gg,n),i=z2(Gg,n),a=v.useRef(null),o=We(e,a),l=r.values.length,u=r.values.map(h=>Y2(h,r.min,r.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(Pe.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:o,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});U2.displayName=Gg;var Xg="SliderThumb",W2=v.forwardRef((t,e)=>{const n=LW(t.__scopeSlider),[s,r]=v.useState(null),i=We(e,o=>r(o)),a=v.useMemo(()=>s?n().findIndex(o=>o.ref.current===s):-1,[n,s]);return c.jsx(UW,{...t,ref:i,index:a})}),UW=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:r,...i}=t,a=Qh(Xg,n),o=z2(Xg,n),[l,u]=v.useState(null),d=We(e,g=>u(g)),f=l?a.form||!!l.closest("form"):!0,h=cP(l),m=a.values[s],y=m===void 0?0:Y2(m,a.min,a.max),p=YW(s,a.values.length),b=h==null?void 0:h[o.size],x=b?QW(b,y,o.direction):0;return v.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${y}% + ${x}px)`},children:[c.jsx(Kg.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Pe.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),f&&c.jsx(H2,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},s)]})});W2.displayName=Xg;var WW="RadioBubbleInput",H2=v.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const r=v.useRef(null),i=We(r,s),a=QD(e);return v.useEffect(()=>{const o=r.current;if(!o)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),c.jsx(Pe.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});H2.displayName=WW;function HW(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function Y2(t,e,n){const i=100/(n-e)*(t-e);return Qf(i,[0,100])}function YW(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function qW(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function QW(t,e,n){const s=t/2,i=Jx([0,50],[0,s]);return(s-i(e)*n)*n}function KW(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function GW(t,e){if(e>0){const n=KW(t);return Math.min(...n)>=e}return!0}function Jx(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function XW(t){return(String(t).split(".")[1]||"").length}function ZW(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var q2=F2,JW=B2,e8=U2,t8=W2;const Q2=v.forwardRef(({className:t,...e},n)=>c.jsxs(q2,{ref:n,className:Re("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(JW,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(e8,{className:"absolute h-full bg-primary"})}),c.jsx(t8,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Q2.displayName=q2.displayName;function n8({isOpen:t,onClose:e,onFileSelect:n}){const s=v.useRef(null),r=v.useRef(null),i=u=>{var f;const d=(f=u.target.files)==null?void 0:f[0];d&&d.type.startsWith("image/")&&(n(d),e())},a=()=>{var u;(u=s.current)==null||u.click()},o=()=>{var u;(u=r.current)==null||u.click()},l=()=>{var u;(u=s.current)==null||u.click()};return c.jsxs(c.Fragment,{children:[c.jsx(Mr,{open:t,onOpenChange:e,children:c.jsxs(er,{className:"max-w-sm",children:[c.jsxs(Dr,{children:[c.jsx(Or,{className:"text-center",children:"Select Photo"}),c.jsx(qx,{className:"text-center",children:"Choose how you'd like to add your profile photo"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(q,{onClick:a,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-images mr-2"}),"Photo Library"]}),c.jsxs(q,{onClick:o,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-camera mr-2"}),"Take Photo"]}),c.jsxs(q,{onClick:l,variant:"outline",className:"w-full text-center justify-center",children:[c.jsx("i",{className:"fas fa-folder mr-2"}),"Choose Files"]}),c.jsx(q,{onClick:e,variant:"ghost",className:"w-full text-center justify-center",children:"Cancel"})]})]})}),c.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:i,className:"hidden"}),c.jsx("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:i,className:"hidden"})]})}function s8({photos:t,onPhotosChange:e,maxPhotos:n=5}){v.useRef(null);const[s,r]=v.useState(!1),[i,a]=v.useState(!1),o=y=>{if(!y)return;const p=Array.from(y).filter(x=>x.type.startsWith("image/"));if(t.length+p.length>n){alert(`Maximum ${n} photos allowed`);return}e([...t,...p])},l=()=>{a(!0)},u=y=>{e([...t,y]),a(!1)},d=y=>{y.preventDefault(),r(!1),o(y.dataTransfer.files)},f=y=>{y.preventDefault(),r(!0)},h=y=>{y.preventDefault(),r(!1)},m=y=>{e(t.filter((p,b)=>b!==y))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{onClick:l,onDrop:d,onDragOver:f,onDragLeave:h,className:`
          photo-upload-area rounded-xl p-8 text-center cursor-pointer transition-all duration-300
          ${s?"border-primary-300 bg-primary-50":"border-secondary-300"}
          ${t.length>=n?"opacity-50 cursor-not-allowed":""}
        `,children:[c.jsx("i",{className:"fas fa-camera text-3xl text-secondary-300 mb-4"}),c.jsx("p",{className:"text-gray-600 font-medium",children:t.length>=n?"Maximum photos reached":"Tap to add photos"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[t.length,"/",n," photos"]})]}),c.jsx(n8,{isOpen:i,onClose:()=>a(!1),onFileSelect:u}),t.length>0&&c.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.map((y,p)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[c.jsx("img",{src:URL.createObjectURL(y),alt:`Preview ${p+1}`,className:"w-full h-full object-cover"}),c.jsx("button",{onClick:b=>{b.stopPropagation(),m(p)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:c.jsx("i",{className:"fas fa-times"})})]},p))})]})}function r8(t){return/^401: .*Unauthorized/.test(t.message)}const i8={"general-fitness":"General Fitness",cardio:"Cardio",strength:"Strength","muscle-mass":"Muscle Mass","weight-loss":"Weight Loss","improve-diet":"Improve Diet"};function a8({data:t,updateData:e}){const[n,s]=v.useState(t.progress),[r,i]=v.useState(t.photos),{toast:a}=Ut();v.useEffect(()=>{const f={};t.goals.forEach(h=>{f[h]=n[h]||50}),s(f),e({progress:f})},[t.goals]);const o=At({mutationFn:async()=>{if(await De("POST","/api/onboarding/complete",{gender:t.gender,birthday:t.birthday,height:t.height,weight:t.weight,bodyType:t.bodyType,goals:t.goals,progress:n}),r.length>0){const f=new FormData;r.forEach(h=>{f.append("photos",h)}),await fetch("/api/photos",{method:"POST",body:f,credentials:"include"})}},onSuccess:()=>{a({title:"Welcome to Journey!",description:"Your account has been created successfully."}),window.location.reload()},onError:f=>{if(r8(f)){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}a({title:"Error",description:"Failed to complete onboarding. Please try again.",variant:"destructive"})}}),l=(f,h)=>{const m={...n,[f]:h[0]};s(m),e({progress:m})},u=f=>{i(f),e({photos:f})},d=()=>{o.mutate()};return c.jsx(le,{className:"card-shadow slide-in",children:c.jsxs(ce,{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Current Progress"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:"Rate your current level in each selected area"}),c.jsx("div",{className:"space-y-6 mb-8",children:t.goals.map(f=>c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Be,{className:"text-sm font-medium text-gray-700",children:i8[f]}),c.jsxs("span",{className:"text-sm font-semibold text-primary-300",children:[n[f]||50,"%"]})]}),c.jsx(Q2,{value:[n[f]||50],onValueChange:h=>l(f,h),max:100,step:5,className:"w-full"})]},f))}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Progress Photos (Optional)"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Upload up to 5 photos to track your progress (optional) "}),c.jsx(s8,{photos:r,onPhotosChange:u,maxPhotos:5})]}),c.jsx(q,{onClick:d,disabled:o.isPending,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 text-center",children:o.isPending?"Creating Account...":"Create My Account"})]})})}function o8(){const[t,e]=v.useState(1),[n,s]=v.useState({gender:"",birthday:"",height:"",weight:"",bodyType:"",goals:[],progress:{},photos:[]}),r=v.useCallback(l=>{s(u=>({...u,...l}))},[]),i=()=>{t<3&&e(l=>l+1)},a=()=>{t>1&&e(l=>l-1)},o=()=>{localStorage.removeItem("authToken"),window.location.reload()};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm p-4",children:c.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[c.jsx("button",{onClick:t>1?a:o,className:"text-gray-600 hover:text-gray-800 transition-colors",children:c.jsx("i",{className:"fas fa-arrow-left text-xl"})}),c.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(l=>c.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${l<=t?"bg-primary-300":"bg-gray-300"}`},l))}),c.jsx("div",{className:"w-6"})]})}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"max-w-md mx-auto",children:[t===1&&c.jsx(IW,{data:n,updateData:r,onNext:i}),t===2&&c.jsx(FW,{data:n,updateData:r,onNext:i}),t===3&&c.jsx(a8,{data:n,updateData:r})]})})]})}function K2({isOpen:t,onClose:e,mode:n,onSuccess:s}){const[r,i]=v.useState(""),[a,o]=v.useState(""),[l,u]=v.useState("ask"),{toast:d}=Ut(),f=Dn(),h=At({mutationFn:async g=>await De("PUT","/api/user/photos-pin",g),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/user"]}),s&&s(),y()},onError:()=>{d({title:"Error",description:"Failed to update PIN settings",variant:"destructive"})}}),m=At({mutationFn:async g=>await De("POST","/api/user/verify-photos-pin",{pin:g}),onSuccess:()=>{s&&s(),y()},onError:()=>{d({title:"Incorrect PIN",description:"Please try again",variant:"destructive"}),i("")}}),y=()=>{i(""),o(""),u("ask"),e()},p=g=>{g?u("enter"):h.mutate({enabled:!1})},b=()=>{if(n==="verify"){m.mutate(r);return}if(l==="enter"){if(r.length!==4){d({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}u("confirm");return}if(l==="confirm"){if(r!==a){d({title:"PINs don't match",description:"Please try again",variant:"destructive"}),i(""),o(""),u("enter");return}h.mutate({pin:r,enabled:!0})}},x=()=>{if(n==="verify")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Enter PIN"}),c.jsx("p",{className:"text-gray-600",children:"Please enter your 4-digit PIN to access photos"}),c.jsx(je,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:r,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(q,{onClick:b,disabled:r.length!==4||m.isPending,className:"w-full",children:m.isPending?"Verifying...":"Unlock"})]});if(l==="ask")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Protect Your Photos"}),c.jsx("p",{className:"text-gray-600",children:"We know your progress can be personal, so we securely store your photos here in the app instead of your camera roll.  Would you like to set up a 4 digit PIN to access the photos page? If you opt out now and change your mind, you can always create one in the settings."}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(q,{onClick:()=>p(!0),className:"w-full",children:"Yes, Set PIN"}),c.jsx(q,{onClick:()=>p(!1),variant:"outline",className:"w-full",children:"No Thanks"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"You can always enable PIN protection later in Settings"})]});if(l==="enter")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Set Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Choose a 4-digit PIN"}),c.jsx(je,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:r,onChange:g=>i(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(q,{onClick:b,disabled:r.length!==4,className:"w-full",children:"Continue"})]});if(l==="confirm")return c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Your PIN"}),c.jsx("p",{className:"text-gray-600",children:"Enter your PIN again to confirm"}),c.jsx(je,{type:"password",inputMode:"numeric",pattern:"[0-9]*",value:a,onChange:g=>o(g.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"****",className:"text-center text-2xl tracking-widest",maxLength:4}),c.jsx(q,{onClick:b,disabled:a.length!==4||h.isPending,className:"w-full",children:h.isPending?"Setting up...":"Set PIN"})]})};return c.jsx(Mr,{open:t,onOpenChange:y,children:c.jsxs(er,{className:"max-w-sm",children:[c.jsx(Dr,{children:c.jsx(Or,{className:"text-center",children:n==="setup"?"Photo Protection":n==="update"?"Update PIN":"Photos Protected"})}),x()]})})}function l8({variant:t="default",size:e="md",className:n=""}){const[s,r]=v.useState(null),[i,a]=v.useState(!1),{canInstall:o,isInstalled:l}=fz();v.useEffect(()=>{const d=h=>{const m=h;h.preventDefault(),r(m)},f=()=>{r(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",f),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",f)}},[]);const u=async()=>{if(s){a(!0);try{await s.prompt();const{outcome:d}=await s.userChoice;console.log(d==="accepted"?" PWA install accepted":" PWA install dismissed")}catch(d){console.error("PWA install error:",d)}finally{a(!1),r(null)}}};return l?c.jsxs(q,{variant:t,size:e,disabled:!0,className:n,children:[c.jsx(LT,{className:"w-4 h-4 mr-2"}),"App Installed"]}):!o||!s?null:c.jsx(q,{onClick:u,disabled:i,variant:t,size:e,className:n,children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Installing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Tg,{className:"w-4 h-4 mr-2"}),"Install App"]})})}function ew(t,e,n){const s=RD(),r=d8(t,n.timeZone,n.locale??s.locale);return"formatToParts"in r?c8(r,e):u8(r,e)}function c8(t,e){const n=t.formatToParts(e);for(let s=n.length-1;s>=0;--s)if(n[s].type==="timeZoneName")return n[s].value}function u8(t,e){const n=t.format(e).replace(/\u200E/g,""),s=/ [\w-+ ]+$/.exec(n);return s?s[0].substr(1):""}function d8(t,e,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:e,timeZoneName:t})}function f8(t,e){const n=y8(e);return"formatToParts"in n?m8(n,t):p8(n,t)}const h8={year:0,month:1,day:2,hour:3,minute:4,second:5};function m8(t,e){try{const n=t.formatToParts(e),s=[];for(let r=0;r<n.length;r++){const i=h8[n[r].type];i!==void 0&&(s[i]=parseInt(n[r].value,10))}return s}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function p8(t,e){const n=t.format(e),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(s[3],10),parseInt(s[1],10),parseInt(s[2],10),parseInt(s[4],10),parseInt(s[5],10),parseInt(s[6],10)]}const Zm={},tw=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),g8=tw==="06/25/2014, 00:00:00"||tw==="06/25/2014 00:00:00";function y8(t){return Zm[t]||(Zm[t]=g8?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Zm[t]}function ev(t,e,n,s,r,i,a){const o=new Date(0);return o.setUTCFullYear(t,e,n),o.setUTCHours(s,r,i,a),o}const nw=36e5,x8=6e4,Jm={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Kh(t,e,n){if(!t)return 0;let s=Jm.timezoneZ.exec(t);if(s)return 0;let r,i;if(s=Jm.timezoneHH.exec(t),s)return r=parseInt(s[1],10),sw(r)?-(r*nw):NaN;if(s=Jm.timezoneHHMM.exec(t),s){r=parseInt(s[2],10);const a=parseInt(s[3],10);return sw(r,a)?(i=Math.abs(r)*nw+a*x8,s[1]==="+"?-i:i):NaN}if(w8(t)){e=new Date(e||Date.now());const a=n?e:v8(e),o=Zg(a,t);return-(n?o:b8(e,o,t))}return NaN}function v8(t){return ev(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Zg(t,e){const n=f8(t,e),s=ev(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let r=t.getTime();const i=r%1e3;return r-=i>=0?i:1e3+i,s-r}function b8(t,e,n){let r=t.getTime()-e;const i=Zg(new Date(r),n);if(e===i)return e;r-=i-e;const a=Zg(new Date(r),n);return i===a?i:Math.max(i,a)}function sw(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const rw={};function w8(t){if(rw[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),rw[t]=!0,!0}catch{return!1}}const S8=60*1e3,_8={X:function(t,e,n){const s=ep(n.timeZone,t);if(s===0)return"Z";switch(e){case"X":return iw(s);case"XXXX":case"XX":return no(s);case"XXXXX":case"XXX":default:return no(s,":")}},x:function(t,e,n){const s=ep(n.timeZone,t);switch(e){case"x":return iw(s);case"xxxx":case"xx":return no(s);case"xxxxx":case"xxx":default:return no(s,":")}},O:function(t,e,n){const s=ep(n.timeZone,t);switch(e){case"O":case"OO":case"OOO":return"GMT"+N8(s,":");case"OOOO":default:return"GMT"+no(s,":")}},z:function(t,e,n){switch(e){case"z":case"zz":case"zzz":return ew("short",t,n);case"zzzz":default:return ew("long",t,n)}}};function ep(t,e){const n=t?Kh(t,e,!0)/S8:(e==null?void 0:e.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+t);return n}function Gf(t,e){const n=t<0?"-":"";let s=Math.abs(t).toString();for(;s.length<e;)s="0"+s;return n+s}function no(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Gf(Math.floor(s/60),2),i=Gf(Math.floor(s%60),2);return n+r+e+i}function iw(t,e){return t%60===0?(t>0?"-":"+")+Gf(Math.abs(t)/60,2):no(t,e)}function N8(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.floor(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+Gf(i,2)}function aw(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const G2=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,tp=36e5,ow=6e4,k8=2,gn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:G2};function Xf(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const n=e.additionalDigits==null?k8:Number(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const s=j8(t),{year:r,restDateString:i}=C8(s.date,n),a=T8(i,r);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const o=a.getTime();let l=0,u;if(s.time&&(l=P8(s.time),l===null||isNaN(l)))return new Date(NaN);if(s.timeZone||e.timeZone){if(u=Kh(s.timeZone||e.timeZone,new Date(o+l)),isNaN(u))return new Date(NaN)}else u=aw(new Date(o+l)),u=aw(new Date(o+l+u));return new Date(o+l+u)}else return new Date(NaN)}function j8(t){const e={};let n=gn.dateTimePattern.exec(t),s;if(n?(e.date=n[1],s=n[3]):(n=gn.datePattern.exec(t),n?(e.date=n[1],s=n[2]):(e.date=null,s=t)),s){const r=gn.timeZone.exec(s);r?(e.time=s.replace(r[1],""),e.timeZone=r[1].trim()):e.time=s}return e}function C8(t,e){if(t){const n=gn.YYY[e],s=gn.YYYYY[e];let r=gn.YYYY.exec(t)||s.exec(t);if(r){const i=r[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(r=gn.YY.exec(t)||n.exec(t),r){const i=r[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function T8(t,e){if(e===null)return null;let n,s,r;if(!t||!t.length)return n=new Date(0),n.setUTCFullYear(e),n;let i=gn.MM.exec(t);if(i)return n=new Date(0),s=parseInt(i[1],10)-1,cw(e,s)?(n.setUTCFullYear(e,s),n):new Date(NaN);if(i=gn.DDD.exec(t),i){n=new Date(0);const a=parseInt(i[1],10);return D8(e,a)?(n.setUTCFullYear(e,0,a),n):new Date(NaN)}if(i=gn.MMDD.exec(t),i){n=new Date(0),s=parseInt(i[1],10)-1;const a=parseInt(i[2],10);return cw(e,s,a)?(n.setUTCFullYear(e,s,a),n):new Date(NaN)}if(i=gn.Www.exec(t),i)return r=parseInt(i[1],10)-1,uw(r)?lw(e,r):new Date(NaN);if(i=gn.WwwD.exec(t),i){r=parseInt(i[1],10)-1;const a=parseInt(i[2],10)-1;return uw(r,a)?lw(e,r,a):new Date(NaN)}return null}function P8(t){let e,n,s=gn.HH.exec(t);if(s)return e=parseFloat(s[1].replace(",",".")),np(e)?e%24*tp:NaN;if(s=gn.HHMM.exec(t),s)return e=parseInt(s[1],10),n=parseFloat(s[2].replace(",",".")),np(e,n)?e%24*tp+n*ow:NaN;if(s=gn.HHMMSS.exec(t),s){e=parseInt(s[1],10),n=parseInt(s[2],10);const r=parseFloat(s[3].replace(",","."));return np(e,n,r)?e%24*tp+n*ow+r*1e3:NaN}return null}function lw(t,e,n){e=e||0,n=n||0;const s=new Date(0);s.setUTCFullYear(t,0,4);const r=s.getUTCDay()||7,i=e*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}const E8=[31,28,31,30,31,30,31,31,30,31,30,31],M8=[31,29,31,30,31,30,31,31,30,31,30,31];function X2(t){return t%400===0||t%4===0&&t%100!==0}function cw(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;const s=X2(t);if(s&&n>M8[e]||!s&&n>E8[e])return!1}return!0}function D8(t,e){if(e<1)return!1;const n=X2(t);return!(n&&e>366||!n&&e>365)}function uw(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function np(t,e,n){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}const O8=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function A8(t,e,n={}){e=String(e);const s=e.match(O8);if(s){const r=Xf(n.originalDate||t,n);e=s.reduce(function(i,a){if(a[0]==="'")return i;const o=i.indexOf(a),l=i[o-1]==="'",u=i.replace(a,"'"+_8[a[0]](r,a,n)+"'");return l?u.substring(0,o-1)+u.substring(o+1):u},e)}return Me(t,e,n)}function Z2(t,e,n){t=Xf(t,n);const s=Kh(e,t,!0),r=new Date(t.getTime()-s),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}function tv(t,e,n,s){return s={...s,timeZone:e,originalDate:t},A8(Z2(t,e,{timeZone:s.timeZone}),n,s)}function I8(t,e,n){if(typeof t=="string"&&!t.match(G2))return Xf(t,{...n,timeZone:e});t=Xf(t,n);const s=ev(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).getTime(),r=Kh(e,new Date(s));return new Date(s+r)}function Zf(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return console.warn("Failed to detect timezone, falling back to UTC:",t),"UTC"}}function Ha(){const t=localStorage.getItem("user_timezone");if(t)return t;const e=Zf();return localStorage.setItem("user_timezone",e),e}function Jg(t){localStorage.setItem("user_timezone",t)}function R8(){const t=Ha();return tv(new Date,t,"yyyy-MM-dd")}function F8(){const t=Ha();return Z2(new Date,t)}function dw(t){const e=Ha(),n=new Date(t+"T00:00:00");return I8(n,e)}function aa(t,e){const n=Ha(),s=typeof t=="string"?Uh(t):t;return tv(s,n,e)}function L8(){const t=new Date;return["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Anchorage","Pacific/Honolulu","Europe/London","Europe/Paris","Europe/Berlin","Europe/Rome","Europe/Moscow","Asia/Tokyo","Asia/Shanghai","Asia/Kolkata","Asia/Dubai","Australia/Sydney","Australia/Melbourne","Pacific/Auckland","UTC"].map(n=>{try{const s=tv(t,n,"XXX"),r=n.replace("_"," ").replace("/"," - ");return{value:n,label:`${r} (${s})`,offset:s}}catch{return{value:n,label:n,offset:"+00:00"}}}).sort((n,s)=>n.label.localeCompare(s.label))}function J2(){if(!localStorage.getItem("user_timezone")){const e=Zf();Jg(e),console.log(" Auto-detected timezone:",e)}}function z8({className:t}){const[e,n]=v.useState(""),[s,r]=v.useState(""),{toast:i}=Ut();v.useEffect(()=>{n(Ha()),r(Zf())},[]);const a=d=>{n(d),Jg(d),i({title:"Timezone Updated",description:`Timezone changed to ${d}`})},o=()=>{const d=Zf();n(d),Jg(d),i({title:"Timezone Auto-detected",description:`Set to ${d}`})},l=L8(),u=aa(new Date,"PPP p");return c.jsxs(le,{className:t,children:[c.jsx(Et,{children:c.jsxs(Mt,{className:"flex items-center",children:[c.jsx("i",{className:"fas fa-globe mr-2"}),"Timezone Settings"]})}),c.jsxs(ce,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Current Timezone"}),c.jsxs(Ra,{value:e,onValueChange:a,children:[c.jsx(Oi,{children:c.jsx(Fa,{placeholder:"Select timezone"})}),c.jsx(Ai,{children:l.map(d=>c.jsx(nt,{value:d.value,children:d.label},d.value))})]})]}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Current time:"})," ",u]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Detected timezone:"})," ",s]})]}),e!==s&&c.jsxs(q,{variant:"outline",onClick:o,className:"w-full",children:[c.jsx("i",{className:"fas fa-location-arrow mr-2"}),"Use Auto-detected Timezone"]}),c.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:[c.jsx("strong",{children:"Note:"})," Changing your timezone affects how dates are displayed and when journal entries are created. All existing entries will be shown according to your new timezone setting."]})]})]})}function V8(){const{user:t}=Js(),[,e]=dt(),n=Dn(),{toast:s}=Ut(),[r,i]=v.useState(!1),a=async()=>{try{await De("POST","/api/logout"),localStorage.removeItem("authToken"),n.clear(),s({title:"Logged out successfully",description:"You have been logged out. See you next time!"}),setTimeout(()=>{window.location.href="/"},1e3)}catch(l){console.error("Logout error:",l),localStorage.removeItem("authToken"),n.clear(),window.location.href="/"}},o=()=>{e("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Profile & Settings",showBackButton:!0,onBack:o,showHomeButton:!0}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-4xl mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsx("div",{children:c.jsx("p",{className:"text-gray-600",children:"Manage your account and preferences"})})}),c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Et,{children:c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"Profile Information"})}),c.jsxs(ce,{children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[c.jsx(Vh,{firstName:(t==null?void 0:t.firstName)||void 0,lastName:(t==null?void 0:t.lastName)||void 0,profileImageUrl:(t==null?void 0:t.profileImageUrl)||void 0,size:"lg",editable:!1}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),c.jsx("p",{className:"text-gray-600",children:t==null?void 0:t.email}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Username: ",t==null?void 0:t.username]})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsx(q,{variant:"outline",className:"w-full shadow-md",onClick:()=>e("/edit-profile"),children:"Edit Profile"})})]})]}),c.jsx(z8,{className:"bg-white/75 backdrop-blur-sm shadow-xl mb-8 border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}}),c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Et,{children:c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"Settings"})}),c.jsx(ce,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs(q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-bell mr-3"}),"Notifications"]}),c.jsxs(q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),"Privacy"]}),c.jsxs(q,{variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-chart-bar mr-3"}),"Data Export"]}),c.jsxs(q,{onClick:()=>e("/change-password"),variant:"outline",className:"w-full justify-start shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("i",{className:"fas fa-key mr-3"}),"Change Password"]}),c.jsx("hr",{className:"my-6"}),c.jsxs(q,{onClick:()=>i(!0),variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4",children:[c.jsx("i",{className:"fas fa-lock mr-3"}),t!=null&&t.photosPinEnabled?"Update":"Set"," Photos PIN"]}),c.jsx(l8,{variant:"outline",className:"w-full shadow-md hover:shadow-lg transition-shadow mb-4"}),c.jsxs(q,{onClick:a,variant:"destructive",className:"w-full shadow-md hover:shadow-lg transition-shadow",children:[c.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Logout"]})]})})]})]}),c.jsx(K2,{isOpen:r,onClose:()=>i(!1),mode:"update"})]})}const $8=Er({firstName:we().min(1,"First name is required"),lastName:we().min(1,"Last name is required"),username:we().min(3,"Username must be at least 3 characters"),email:we().email("Invalid email address"),gender:we().optional(),birthday:we().optional(),height:we().optional(),weight:we().optional(),bodyType:we().optional()});function B8(){const{user:t}=Js(),[,e]=dt(),{toast:n}=Ut(),s=Dn(),[r,i]=v.useState(!1),{data:a,isLoading:o}=It({queryKey:["/api/profile"],queryFn:async()=>await De("GET","/api/profile")}),{register:l,handleSubmit:u,setValue:d,watch:f,formState:{errors:h,isDirty:m},reset:y}=wl({resolver:Sl($8),defaultValues:{firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",gender:"",birthday:"",height:"",weight:"",bodyType:""}});v.useEffect(()=>{t&&a&&y({firstName:t.firstName||"",lastName:t.lastName||"",username:t.username||"",email:t.email||"",gender:a.gender||"",birthday:a.birthday||"",height:a.height||"",weight:a.weight||"",bodyType:a.bodyType||""})},[t,a,y]);const p=At({mutationFn:async S=>{const _=await De("PUT","/api/profile/user",S.user),N=await De("PUT","/api/profile/profile",S.profile);return{user:_,profile:N}},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/profile"]}),s.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile updated successfully!"}),e("/profile")},onError:S=>{n({title:"Error",description:S.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),b=At({mutationFn:async S=>{const _=new FormData;return _.append("profileImage",S),await De("POST","/api/profile/avatar",_)},onSuccess:S=>{s.invalidateQueries({queryKey:["/api/profile"]}),s.invalidateQueries({queryKey:["/api/user"]}),n({title:"Success",description:"Profile picture updated successfully!"})},onError:S=>{n({title:"Error",description:S.message||"Failed to update profile picture. Please try again.",variant:"destructive"})}}),x=async S=>{i(!0);try{await b.mutateAsync(S)}finally{i(!1)}},g=S=>{const _={firstName:S.firstName,lastName:S.lastName,username:S.username,email:S.email},N={gender:S.gender,birthday:S.birthday,height:S.height,weight:S.weight,bodyType:S.bodyType};p.mutate({user:_,profile:N})},w=()=>{e("/profile")};return o?c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(Pt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-white",children:"Loading profile..."})})})]}):c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsx(Pt,{title:"Edit Profile",showBackButton:!0,onBack:w,showHomeButton:!0}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0 mb-8",style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[c.jsx(Et,{children:c.jsx(Mt,{className:"text-lg font-semibold text-gray-800 text-center",children:"Update Your Profile"})}),c.jsx(ce,{className:"p-8",children:c.jsxs("form",{onSubmit:u(g),className:"space-y-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(Vh,{firstName:t==null?void 0:t.firstName,lastName:t==null?void 0:t.lastName,profileImageUrl:t==null?void 0:t.profileImageUrl,size:"xl",onImageUpload:x,editable:!0}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r?"Uploading...":"Click to change your profile picture"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"firstName",children:"First Name *"}),c.jsx(je,{id:"firstName",...l("firstName"),className:"mt-2",placeholder:"First name"}),h.firstName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.firstName.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"lastName",children:"Last Name *"}),c.jsx(je,{id:"lastName",...l("lastName"),className:"mt-2",placeholder:"Last name"}),h.lastName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"username",children:"Username *"}),c.jsx(je,{id:"username",...l("username"),className:"mt-2",placeholder:"Username"}),h.username&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"email",children:"Email *"}),c.jsx(je,{id:"email",type:"email",...l("email"),className:"mt-2",placeholder:"Email address"}),h.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email.message})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b pb-2",children:"Personal Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"gender",children:"Gender"}),c.jsxs(Ra,{onValueChange:S=>d("gender",S),value:f("gender"),children:[c.jsx(Oi,{className:"mt-2",children:c.jsx(Fa,{placeholder:"Select gender"})}),c.jsxs(Ai,{children:[c.jsx(nt,{value:"female",children:"Female"}),c.jsx(nt,{value:"male",children:"Male"}),c.jsx(nt,{value:"non-binary",children:"Non-binary"}),c.jsx(nt,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"birthday",children:"Birthday"}),c.jsx(je,{id:"birthday",type:"date",...l("birthday"),className:"mt-2"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"height",children:"Height"}),c.jsx(je,{id:"height",...l("height"),placeholder:`5'6"`,className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"weight",children:"Weight"}),c.jsx(je,{id:"weight",...l("weight"),placeholder:"150 lbs",className:"mt-2"})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"bodyType",children:"Body Type"}),c.jsxs(Ra,{onValueChange:S=>d("bodyType",S),value:f("bodyType"),children:[c.jsx(Oi,{className:"mt-2",children:c.jsx(Fa,{placeholder:"Select type"})}),c.jsxs(Ai,{children:[c.jsx(nt,{value:"petite",children:"Petite"}),c.jsx(nt,{value:"lean",children:"Lean"}),c.jsx(nt,{value:"average",children:"Average"}),c.jsx(nt,{value:"athletic",children:"Athletic"}),c.jsx(nt,{value:"muscular",children:"Muscular"}),c.jsx(nt,{value:"pear",children:"Pear"})]})]})]})]})]}),c.jsxs("div",{className:"flex space-x-4 pt-6",children:[c.jsx(q,{type:"button",variant:"outline",onClick:w,className:"flex-1",children:"Cancel"}),c.jsx(q,{type:"submit",disabled:p.isPending||r||!m,className:"flex-1 bg-gradient-to-r from-primary-600 to-accent-400 hover:from-primary-700 hover:to-accent-500 text-white font-semibold transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50",children:p.isPending?"Updating...":m?"Save Changes":"No Changes"})]})]})})]})})]})}const nv=v.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));nv.displayName="Textarea";function U8(){const[t,e]=v.useState(""),[n,s]=v.useState(!1),{toast:r}=Ut(),[,i]=dt(),a=async()=>{if(!t.trim()){r({title:"No Feedback",description:"Please enter your feedback before submitting.",variant:"destructive"});return}if(t.trim().length<10){r({title:"Too Short",description:"Please provide more detailed feedback (at least 10 characters).",variant:"destructive"});return}s(!0);try{await De("POST","/api/feedback",{feedback:t.trim()}),r({title:"Feedback Sent",description:"Thank you for your feedback! We'll review it and get back to you if needed."}),e(""),setTimeout(()=>i("/"),2e3)}catch(l){r({title:"Failed to Send",description:(l==null?void 0:l.message)||"Something went wrong. Please try again later.",variant:"destructive"})}finally{s(!1)}},o=()=>{i("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Feedback",showBackButton:!0,showHomeButton:!0,onBack:o}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsxs(Et,{children:[c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"We'd Love Your Feedback"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Help us improve Journey by sharing your thoughts, suggestions, or reporting issues."})]}),c.jsxs(ce,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Feedback"}),c.jsx(nv,{value:t,onChange:l=>e(l.target.value),placeholder:"Tell us what you think about Journey, suggest improvements, or report any issues you've encountered...",className:"min-h-[240px] resize-none",maxLength:2e3}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Share anything that would help us make Journey better for you"}),c.jsxs("p",{className:"text-xs text-gray-400",children:[t.length,"/2000"]})]})]}),c.jsx(q,{onClick:a,disabled:n||!t.trim(),className:"w-full shadow-md hover:shadow-lg transition-shadow",children:n?c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Sending Feedback..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Send Feedback"]})}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback helps us improve Journey for everyone"})})]})]})})]})}function Ul({options:t,value:e,onChange:n,className:s=""}){const[r,i]=v.useState(!1),a=v.useRef(null),o=40,[l,u]=v.useState(!1),d=t.findIndex(m=>m===e),f=m=>{const y=m.currentTarget.scrollTop,p=Math.round(y/o),b=Math.max(0,Math.min(p,t.length-1));t[b]!==e&&n(t[b])},h=()=>{if(!a.current)return;const m=a.current.scrollTop,y=Math.round(m/o),p=Math.max(0,Math.min(y,t.length-1));a.current.scrollTo({top:p*o,behavior:"smooth"}),t[p]!==e&&n(t[p])};return v.useEffect(()=>{a.current&&!l&&d>=0&&(a.current.scrollTop=d*o,u(!0))},[d,o,l]),c.jsxs("div",{className:`relative ${s}`,children:[c.jsx("div",{className:"absolute left-0 right-0 bg-blue-500/20 border-y-2 border-blue-500 pointer-events-none z-10",style:{top:"50%",transform:"translateY(-50%)",height:`${o}px`}}),c.jsx("div",{ref:a,className:"h-32 overflow-y-scroll scrollbar-hide",style:{scrollSnapType:"y mandatory",paddingTop:`${o}px`,paddingBottom:`${o}px`},onScroll:f,onTouchStart:()=>i(!0),onTouchEnd:()=>{i(!1),h()},onMouseDown:()=>i(!0),onMouseUp:()=>{i(!1),h()},children:t.map((m,y)=>c.jsx("div",{className:`flex items-center justify-center text-center select-none transition-all duration-200 cursor-pointer ${m===e?"text-blue-600 font-semibold text-lg":"text-gray-600 text-base"}`,style:{height:`${o}px`,scrollSnapAlign:"center"},onClick:()=>{n(m),a.current&&a.current.scrollTo({top:y*o,behavior:"smooth"})},children:m},m))})]})}function fw({label:t,value:e,onChange:n,className:s=""}){const[r,i]=v.useState(!1),[a,o]=v.useState(e.date),[l,u]=v.useState(e.time),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=new Date().getFullYear(),h=new Date().getMonth(),m=ne=>h===11&&ne===0?f+1:h!==11&&ne===11?f-1:f,y=Array.from({length:12},(ne,re)=>String(re===0?12:re).padStart(2,"0")),p=Array.from({length:60},(ne,re)=>String(re).padStart(2,"0")),b=["AM","PM"],[x,g,w]=a.split("-"),S=parseInt(x),_=parseInt(g)-1,N=w,j=d[_],C=l.split(":"),P=parseInt(C[0]),O=C[1],z=P===0?"12":P>12?String(P-12).padStart(2,"0"):String(P).padStart(2,"0"),R=P>=12?"PM":"AM",L=new Date(S,_+1,0).getDate(),I=Array.from({length:L},(ne,re)=>String(re+1).padStart(2,"0")),A=()=>{const[ne,re,ge]=e.date.split("-"),ve=parseInt(re)-1,H=parseInt(ge),Z=e.time,[ze,Ee]=Z.split(":"),be=parseInt(ze),Ae=be>=12?"PM":"AM",Qt=be===0?12:be>12?be-12:be;return`${d[ve]} ${H} at ${Qt}:${Ee} ${Ae}`},$=ne=>{const re=d.indexOf(ne),ge=m(re),ve=Math.min(parseInt(N),new Date(ge,re+1,0).getDate()),H=`${ge}-${String(re+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`;o(H)},B=ne=>{const re=m(_),ge=`${re}-${String(_+1).padStart(2,"0")}-${String(parseInt(ne)).padStart(2,"0")}`;console.log(" Day Change Debug:",{selectedDay:ne,selectedMonthIndex:_,yearForMonth:re,newDate:ge,tempDate:a}),o(ge)},T=ne=>{const re=R==="AM"?ne==="12"?0:parseInt(ne):ne==="12"?12:parseInt(ne)+12;u(`${String(re).padStart(2,"0")}:${O}`)},F=ne=>{const re=R==="AM"?z==="12"?0:parseInt(z):z==="12"?12:parseInt(z)+12;u(`${String(re).padStart(2,"0")}:${ne}`)},D=ne=>{const re=parseInt(z),ge=ne==="AM"?re===12?0:re:re===12?12:re+12;u(`${String(ge).padStart(2,"0")}:${O}`)},W=()=>{console.log(" DateTime Save Debug:",{tempDate:a,tempTime:l,formatDisplayValue:A()}),n({date:a,time:l}),i(!1)},G=()=>{o(e.date),u(e.time),i(!1)};return r?c.jsx("div",{className:`fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 ${s}`,children:c.jsx(le,{className:"bg-white max-w-md w-full max-h-[90vh] overflow-hidden",children:c.jsxs(ce,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:t}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Month"}),c.jsx(Ul,{options:d,value:j,onChange:$})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Day"}),c.jsx(Ul,{options:I,value:N,onChange:B})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Hour"}),c.jsx(Ul,{options:y,value:z,onChange:T})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"Min"}),c.jsx(Ul,{options:p,value:O,onChange:F})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1 text-center",children:"AM/PM"}),c.jsx(Ul,{options:b,value:R,onChange:D})]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(q,{variant:"outline",onClick:G,className:"flex-1",children:"Cancel"}),c.jsx(q,{onClick:W,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Done"})]})]})})}):c.jsxs("div",{className:s,children:[c.jsx("label",{className:"text-white mb-2 block text-sm font-medium",children:t}),c.jsx(le,{className:"bg-gray-800 border-gray-700 cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>i(!0),children:c.jsx(ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-white",children:A()}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})})]})}const W8=[{value:"walking",label:"Walking",icon:"fa-walking"},{value:"running",label:"Running",icon:"fa-running"},{value:"cycling",label:"Cycling",icon:"fa-biking"},{value:"sleep",label:"Sleep",icon:"fa-bed"}],cd="journey_custom_activities";function H8(){const[t,e]=dt(),{toast:n}=Ut(),s=Dn(),[r,i]=v.useState(""),[a,o]=v.useState({date:Xm(new Date),time:"09:00"}),[l,u]=v.useState({date:Xm(new Date),time:"10:00"}),[d,f]=v.useState(new Date),[h,m]=v.useState(!1),[y,p]=v.useState(!1),[b,x]=v.useState(null),[g,w]=v.useState({activityType:"",startDateTime:{date:"",time:""},endDateTime:{date:"",time:""}}),[S,_]=v.useState(!1),{data:N=[]}=It({queryKey:["/api/custom-activities"],queryFn:async()=>{const T=j();if(T)return T;const F=await De("GET","/api/custom-activities");return C(F),F}}),j=()=>{try{const T=localStorage.getItem(cd);if(!T)return null;const F=JSON.parse(T),W=Date.now()-F.timestamp,G=24*60*60*1e3;return W>G?(localStorage.removeItem(cd),null):F.data}catch{return localStorage.removeItem(cd),null}},C=T=>{try{const F={data:T,timestamp:Date.now()};localStorage.setItem(cd,JSON.stringify(F))}catch(F){console.error("Error caching custom activities:",F)}},P=N.map(T=>({value:`custom-${T.id}`,label:T.name.toUpperCase(),icon:T.icon})),O=[...W8,...P];v.useEffect(()=>{if(h)return;const T=new URLSearchParams(window.location.search),F=T.get("activity"),D=T.get("edit"),W=T.get("activityType"),G=T.get("startTime"),ne=T.get("endTime"),re=T.get("date");if(console.log(" Add-Activity URL Debug - dateParam from URL:",re),console.log(" Add-Activity URL Debug - current selectedDate before update:",d),re){const ge=new Date(re),ve=Xm(ge);console.log(" Add-Activity URL Debug - creating new Date from dateParam:",ge),f(ge),D||(o(H=>({...H,date:ve})),u(H=>({...H,date:ve}))),console.log(" Add-Activity URL Debug - set selectedDate to:",ge)}else console.log(" Add-Activity URL Debug - NO dateParam found, keeping default selectedDate:",d);if(D&&W&&G&&ne){p(!0),x(parseInt(D));let ge=W.toLowerCase();const ve=N.find(be=>be.name.toLowerCase()===W.toLowerCase());ve&&(ge=`custom-${ve.id}`),i(ge);const H=new Date(G),Z=new Date(ne),ze={date:Me(H,"yyyy-MM-dd"),time:Me(H,"HH:mm")},Ee={date:Me(Z,"yyyy-MM-dd"),time:Me(Z,"HH:mm")};o(ze),u(Ee),w({activityType:ge,startDateTime:ze,endDateTime:Ee}),window.history.replaceState({},"","/add-activity")}else F&&(i(F),window.history.replaceState({},"","/add-activity"));m(!0)},[N,h]),v.useEffect(()=>{if(y){const T=r!==g.activityType||a.date!==g.startDateTime.date||a.time!==g.startDateTime.time||l.date!==g.endDateTime.date||l.time!==g.endDateTime.time;_(T)}},[r,a,l,g,y]);const z=At({mutationFn:async T=>{console.log("Frontend sending activity data:",T);try{const F=await De("POST","/api/activities",T);return console.log("Frontend received result:",F),F}catch(F){throw console.error("Frontend API request error:",F),F}},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/activities"]}),s.invalidateQueries({predicate:F=>F.queryKey[0]&&typeof F.queryKey[0]=="string"&&F.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity added successfully!"});const T=l.date;console.log(" Navigation Debug - Returning to home with date:",T,"endDateTime.date:",l.date),e(`/?date=${T}`)},onError:T=>{console.error("Frontend mutation error:",T),n({title:"Error",description:"Failed to add activity. Please try again.",variant:"destructive"})}}),R=At({mutationFn:async T=>await De("PUT",`/api/activities/${b}`,T),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/activities"]}),s.invalidateQueries({predicate:F=>F.queryKey[0]&&typeof F.queryKey[0]=="string"&&F.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity updated successfully!"});const T=l.date;e(`/?date=${T}`)},onError:T=>{n({title:"Error",description:"Failed to update activity. Please try again.",variant:"destructive"})}}),L=At({mutationFn:async()=>await De("DELETE",`/api/activities/${b}`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/activities"]}),s.invalidateQueries({predicate:F=>F.queryKey[0]&&typeof F.queryKey[0]=="string"&&F.queryKey[0].startsWith("/api/activities/date/")}),n({title:"Success",description:"Activity deleted successfully!"});const T=l.date;e(`/?date=${T}`)},onError:T=>{n({title:"Error",description:"Failed to delete activity. Please try again.",variant:"destructive"})}}),I=()=>{if(!r||!a.time||!l.time){n({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}let T=r;if(r.startsWith("custom-")){const re=parseInt(r.replace("custom-","")),ge=N.find(ve=>ve.id===re);T=ge?ge.name:r}const F=HT(a.time,l.time,T);if(!F){n({title:"Invalid Time",description:T==="sleep"?"Please check your sleep times.":"End time must be after start time.",variant:"destructive"});return}let D=Jb(a.date,a.time),W=Jb(l.date,l.time);W=DW(D,W,T);let G;T==="sleep"?(G=new Date(W),G.setHours(0,0,0,0)):G=D2(a.date);const ne={activityType:T,startTime:D.toISOString(),endTime:W.toISOString(),durationMinutes:F.hours*60+F.minutes,date:G.toISOString()};console.log(" DETAILED Activity Creation Debug:"),console.log("1. Start DateTime Input:",a),console.log("2. End DateTime Input:",l),console.log("3. Activity Type:",T),console.log("4. Created startDateTimeObj:",D),console.log("5. Created startDateTimeObj toString():",D.toString()),console.log("6. Created startDateTimeObj toISOString():",D.toISOString()),console.log("7. Created endDateTimeObj:",W),console.log("8. Created endDateTimeObj toString():",W.toString()),console.log("9. Created endDateTimeObj toISOString():",W.toISOString()),console.log("10. Activity Date Object:",G),console.log("11. Activity Date toString():",G.toString()),console.log("12. Activity Date toISOString():",G.toISOString()),console.log("13. Duration:",F),console.log("14. Final Activity Data:",ne),y?R.mutate(ne):z.mutate(ne)},A=()=>{window.confirm("Are you sure you want to delete this activity?")&&L.mutate()},$=()=>{const T=O.find(F=>F.value===r);return T?T.icon:"fa-dumbbell"},B=()=>{const T=O.find(F=>F.value===r);return T?T.label:"SELECT ACTIVITY"};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{const T=l.date;e(`/?date=${T}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:y?"EDIT ACTIVITY":"ADD ACTIVITY"}),c.jsx("div",{onClick:()=>{const T=l.date;e(`/?date=${T}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx(le,{className:"mb-6 bg-gray-800 border-0 cursor-pointer hover:bg-gray-700 transition-all duration-200",onClick:()=>e("/select-activity"),children:c.jsx(ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${$()} text-gray-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:B()})]}),c.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DATE & TIME"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fw,{label:"Start Date & Time",value:a,onChange:o}),c.jsx(fw,{label:"End Date & Time",value:l,onChange:u})]})]}),c.jsx(q,{onClick:I,disabled:y?!S||R.isPending:z.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:y?R.isPending?"UPDATING...":"UPDATE":z.isPending?"SAVING...":"SAVE"}),y&&c.jsx(q,{onClick:A,disabled:L.isPending,variant:"destructive",className:"w-full py-3 rounded-lg transition-all duration-200 mb-8",children:L.isPending?"DELETING...":"DELETE ACTIVITY"})]})]})}const Y8=[{id:"ALL",label:"ALL",active:!0},{id:"STRAIN",label:"STRAIN",active:!1},{id:"RECOVERY",label:"RECOVERY",active:!1},{id:"SLEEP",label:"SLEEP",active:!1}],sp=[{id:"walking",label:"WALKING",icon:"fa-walking",category:"STRAIN"},{id:"running",label:"RUNNING",icon:"fa-running",category:"STRAIN"},{id:"cycling",label:"CYCLING",icon:"fa-biking",category:"STRAIN"},{id:"sleep",label:"SLEEP",icon:"fa-bed",category:"RECOVERY"}],q8=["sleep"],rp="journey_custom_activities",ud="journey_recent_activities",ip="journey_pinned_activities",Q8=24,K8=5;function G8(){const[,t]=dt(),{toast:e}=Ut(),n=Dn(),[s,r]=v.useState(""),[i,a]=v.useState("ALL"),[o,l]=v.useState([]),[u,d]=v.useState("");v.useEffect(()=>{const A=x();l(A)},[]);const{data:f=[],isLoading:h}=It({queryKey:["/api/custom-activities"],queryFn:async()=>{const A=y(rp);if(A)return A;const $=await De("GET","/api/custom-activities");return p(rp,$),$}}),m=At({mutationFn:async A=>await De("POST","/api/custom-activities",A),onSuccess:A=>{const $=[...f,A];p(rp,$);const B=y(ud)||sp,T={id:`custom-${A.id}`,label:A.name.toUpperCase(),icon:A.icon,category:A.category,isCustom:!0},F=B.filter(W=>W.id!==T.id),D=[T,...F].slice(0,3);p(ud,D),n.invalidateQueries({queryKey:["/api/custom-activities"]}),e({title:"Success",description:`"${A.name.toUpperCase()}" added to your activities!`}),L(T.id)},onError:A=>{A.status===409?e({title:"Activity exists",description:"This activity is already in your list.",variant:"destructive"}):e({title:"Error",description:"Failed to add custom activity. Please try again.",variant:"destructive"})}}),y=A=>{try{const $=localStorage.getItem(A);if(!$)return null;const B=JSON.parse($),F=Date.now()-B.timestamp,D=Q8*60*60*1e3;return F>D?(localStorage.removeItem(A),null):B.data}catch($){return console.error(`Error reading cached data for ${A}:`,$),localStorage.removeItem(A),null}},p=(A,$)=>{try{const B={data:$,timestamp:Date.now()};localStorage.setItem(A,JSON.stringify(B))}catch(B){console.error(`Error caching data for ${A}:`,B)}},b=()=>y(ud)||sp,x=()=>y(ip)||q8,g=A=>{const $=x();if($.includes(A)){const T=$.filter(F=>F!==A);l(T),p(ip,T)}else{if($.length>=K8){d("Pin limit reached! Unpin an activity to add another."),setTimeout(()=>d(""),3e3);return}const T=[...$,A];l(T),p(ip,T)}},w=A=>{const B=b().filter(F=>F.id!==A.id),T=[A,...B].slice(0,3);p(ud,T)},S=()=>{const A=f.map($=>({id:`custom-${$.id}`,label:$.name.toUpperCase(),icon:$.icon,category:$.category,isCustom:!0}));return[...sp,...A]},N=(()=>{if(!s.trim()){const B=b();return i==="ALL"?B:B.filter(T=>T.category===i)}return S().filter(B=>{const T=B.label.toLowerCase().includes(s.toLowerCase()),F=i==="ALL"||B.category===i;return T&&F})})(),j=()=>s.trim()?[]:S().filter($=>o.includes($.id)),C=()=>s.trim()?N:N.filter(A=>!o.includes(A.id)),P=j(),O=C(),z=s.trim()&&N.length===0,R=({activity:A,showPinButton:$=!0})=>{const B=o.includes(A.id);return c.jsx(le,{className:"mb-3 bg-gray-800 border-0",children:c.jsx(ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1 cursor-pointer",onClick:()=>L(A.id),children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:`fas ${A.icon} text-blue-400 text-lg`})}),c.jsx("span",{className:"text-white font-medium",children:A.label})]}),$&&c.jsx(q,{onClick:T=>{T.stopPropagation(),g(A.id)},variant:"ghost",size:"sm",className:"p-2 hover:bg-gray-700",children:c.jsx("i",{className:`fas fa-thumbtack ${B?"text-yellow-400":"text-gray-400"} transform ${B?"rotate-45":""} transition-all duration-200`})})]})})},A.id)},L=A=>{const B=S().find(T=>T.id===A);B&&w(B),t(`/add-activity?activity=${A}`)},I=()=>{if(!s.trim()){e({title:"Error",description:"Please enter an activity name.",variant:"destructive"});return}const A=i==="ALL"?"STRAIN":i,$=s.trim().toLowerCase();m.mutate({name:$,category:A,icon:"fa-dumbbell"})};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-center p-4 mb-6 relative",children:[c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>t("/add-activity"),className:"absolute left-4 p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"SELECT ACTIVITY"})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx(je,{type:"text",placeholder:"Search activities",value:s,onChange:A=>r(A.target.value),className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-400"})]})}),c.jsx("div",{className:"flex space-x-4 mb-6 overflow-x-auto",children:Y8.map(A=>c.jsx(q,{variant:"ghost",onClick:()=>a(A.id),className:`whitespace-nowrap px-4 py-2 text-sm font-medium transition-all duration-200 ${i===A.id?"text-white border-b-2 border-white bg-transparent hover:bg-white/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:A.label},A.id))}),u&&c.jsx("div",{className:"mb-4 p-3 bg-purple-600/90 text-white rounded-lg animate-in slide-in-from-top duration-300",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-300"}),c.jsx("span",{className:"text-sm font-medium",children:u})]})}),z&&c.jsx(le,{className:"mb-6 bg-gray-800 border-0",children:c.jsx(ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:c.jsx("i",{className:"fas fa-plus text-blue-400 text-lg"})}),c.jsxs("span",{className:"text-white font-medium",children:['Add "',s.toUpperCase(),'" to activities']})]}),c.jsx(q,{onClick:I,disabled:m.isPending,className:"bg-blue-600 hover:bg-blue-500 text-white px-6",children:m.isPending?"ADDING...":"ADD"})]})})}),s.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"SEARCH RESULTS"})}),c.jsx("div",{className:"space-y-3 mb-8",children:N.map(A=>c.jsx(R,{activity:A,showPinButton:!0},A.id))})]}),!s.trim()&&P.length>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"PINNED"})}),c.jsx("div",{className:"space-y-3 mb-6",children:P.map(A=>c.jsx(R,{activity:A,showPinButton:!0},A.id))})]}),!s.trim()&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4",children:c.jsx("h2",{className:"text-gray-400 text-sm font-medium tracking-wide",children:"RECENT ACTIVITIES"})}),c.jsx("div",{className:"space-y-3 mb-8",children:O.map(A=>c.jsx(R,{activity:A,showPinButton:!0},A.id))})]}),N.length===0&&!z&&s.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"No activities found matching your search"})}),h&&!s.trim()&&c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:"Loading recent activities..."})})]})]})}function X8(){const[,t]=dt(),{toast:e}=Ut(),n=Dn(),[s,r]=v.useState(""),[i,a]=v.useState(""),[o,l]=v.useState(""),[u,d]=v.useState(""),[f,h]=v.useState(new Date);v.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("date");if(b){const[x,g,w]=b.split("-").map(Number);h(new Date(x,g-1,w))}},[]);const m=At({mutationFn:async p=>{console.log("Frontend sending macro data:",p);try{const b=await De("POST","/api/macros",p);return console.log("Frontend received result:",b),b}catch(b){throw console.error("Frontend API request error:",b),b}},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/macros"]});const p=f.toISOString().split("T")[0];n.invalidateQueries({queryKey:[`/api/macros/date/${p}`]}),e({title:"Success",description:"Macros added successfully!"});const b=Me(f,"yyyy-MM-dd");t(`/?date=${b}`)},onError:p=>{console.error("Frontend mutation error:",p),e({title:"Error",description:"Failed to add macros. Please try again.",variant:"destructive"})}}),y=()=>{if(!s.trim()||!i||!o||!u){e({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}const p={description:s.trim(),protein:parseFloat(i),fats:parseFloat(o),carbs:parseFloat(u),date:Me(f,"yyyy-MM-dd")};m.mutate(p)};return c.jsxs("div",{className:"app-gradient-bg min-h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 mb-6",children:[c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{const p=Me(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"p-2 text-white hover:bg-white/20",children:c.jsx("i",{className:"fas fa-chevron-left text-xl"})}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"ADD MACROS"}),c.jsx("div",{onClick:()=>{const p=Me(f,"yyyy-MM-dd");t(`/?date=${p}`)},className:"w-10 h-10 flex items-center justify-center cursor-pointer text-black bg-white/90 hover:bg-white rounded-full",children:c.jsx("i",{className:"fas fa-times text-xl text-black"})})]}),c.jsxs("main",{className:"px-4 max-w-lg mx-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"DESCRIPTION"}),c.jsx(le,{className:"bg-gray-800 border-0",children:c.jsx(ce,{className:"p-4",children:c.jsx(nv,{placeholder:"e.g., Breakfast, Lunch, Snack...",value:s,onChange:p=>r(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 resize-none focus:ring-0 focus:outline-none",rows:3})})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-gray-400 text-sm font-medium mb-4 tracking-wide",children:"MACRONUTRIENTS (GRAMS)"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Protein"}),c.jsx(le,{className:"bg-gray-800 border-0",children:c.jsx(ce,{className:"p-4",children:c.jsx(je,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:i,onChange:p=>a(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Fats"}),c.jsx(le,{className:"bg-gray-800 border-0",children:c.jsx(ce,{className:"p-4",children:c.jsx(je,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:o,onChange:p=>l(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]}),c.jsxs("div",{children:[c.jsx(Be,{className:"text-white mb-2 block",children:"Carbs"}),c.jsx(le,{className:"bg-gray-800 border-0",children:c.jsx(ce,{className:"p-4",children:c.jsx(je,{type:"number",inputMode:"decimal",step:"0.1",placeholder:"0.0",value:u,onChange:p=>d(p.target.value),className:"bg-transparent border-0 text-white placeholder-gray-400 focus:ring-0 focus:outline-none text-center text-lg"})})})]})]})]}),c.jsx(q,{onClick:y,disabled:m.isPending,className:"w-full bg-white/20 hover:bg-white/30 text-white py-4 rounded-lg text-lg font-medium transition-all duration-200 disabled:opacity-50",children:m.isPending?"SAVING...":"SAVE"})]})]})}function Z8({isOpen:t,onClose:e,date1:n,date2:s,date1Photos:r,date2Photos:i,selectedPhotos:a,onPhotoSelect:o}){const[l,u]=v.useState({scale:1,x:0,y:0}),[d,f]=v.useState({scale:1,x:0,y:0}),[h,m]=v.useState(!1),[y,p]=v.useState(!1),[b,x]=v.useState({x:0,y:0}),[g,w]=v.useState({x:0,y:0}),[S,_]=v.useState(null),[N,j]=v.useState(null),C=v.useRef(null),P=v.useRef(null),O=D=>{try{const W=Uh(D);return Me(W,"MMM d, yyyy")}catch{return D}},z=D=>{D===1?u({scale:1,x:0,y:0}):f({scale:1,x:0,y:0})},R=(D,W)=>{D.preventDefault();const G=D.deltaY*-.01,ne=Math.min(Math.max(.5,(W===1?l.scale:d.scale)+G),3);W===1?u(re=>({...re,scale:ne})):f(re=>({...re,scale:ne}))},L=(D,W)=>{D.preventDefault(),W===1?(m(!0),x({x:D.clientX-l.x,y:D.clientY-l.y})):(p(!0),w({x:D.clientX-d.x,y:D.clientY-d.y}))},I=D=>{h&&u(W=>({...W,x:D.clientX-b.x,y:D.clientY-b.y})),y&&f(W=>({...W,x:D.clientX-g.x,y:D.clientY-g.y}))},A=()=>{m(!1),p(!1)},$=D=>{if(D.length<2)return 0;const W=D[0],G=D[1];return Math.sqrt(Math.pow(G.clientX-W.clientX,2)+Math.pow(G.clientY-W.clientY,2))},B=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1?(m(!0),x({x:G.clientX-l.x,y:G.clientY-l.y})):(p(!0),w({x:G.clientX-d.x,y:G.clientY-d.y}))}else if(D.touches.length===2){const G=$(D.touches);W===1?(_(G),m(!1)):(j(G),p(!1))}},T=(D,W)=>{if(D.preventDefault(),D.touches.length===1){const G=D.touches[0];W===1&&h?u(ne=>({...ne,x:G.clientX-b.x,y:G.clientY-b.y})):W===2&&y&&f(ne=>({...ne,x:G.clientX-g.x,y:G.clientY-g.y}))}else if(D.touches.length===2){const G=$(D.touches),ne=W===1?S:N;if(ne){const re=G/ne,ve=Math.min(Math.max(.5,(W===1?l:d).scale*re),3);W===1?(u(H=>({...H,scale:ve})),_(G)):(f(H=>({...H,scale:ve})),j(G))}}},F=(D,W)=>{D.touches.length===0?(m(!1),p(!1),_(null),j(null)):D.touches.length===1&&(W===1?_(null):j(null))};return v.useEffect(()=>{if(h||y)return document.addEventListener("mousemove",I),document.addEventListener("mouseup",A),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",A)}},[h,y,b,g]),c.jsx(Mr,{open:t,onOpenChange:e,children:c.jsx(er,{className:"max-w-[95vw] max-h-[76vh] w-full h-full p-4",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Photo Comparison"}),c.jsx(q,{onClick:e,variant:"outline",size:"sm",className:"text-gray-600 hover:text-gray-800",children:c.jsx("i",{className:"fas fa-times"})})]}),(a.date1Photo||a.date2Photo)&&c.jsxs("div",{className:"flex-1 flex gap-4 mb-4 min-h-0",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:O(n)}),a.date1Photo&&c.jsx(q,{onClick:()=>z(1),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:C,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>R(D,1),onMouseDown:D=>L(D,1),onTouchStart:D=>B(D,1),onTouchMove:D=>T(D,1),onTouchEnd:D=>F(D,1),style:{userSelect:"none",touchAction:"none"},children:a.date1Photo?c.jsx("img",{src:a.date1Photo.imageUrl,alt:`Photo from ${O(n)}`,className:"w-full h-full object-contain",style:{transform:`scale(${l.scale}) translate(${l.x/l.scale}px, ${l.y/l.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",O(n)]})})]}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"text-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:O(s)}),a.date2Photo&&c.jsx(q,{onClick:()=>z(2),variant:"outline",size:"sm",className:"ml-2 text-xs",children:"Reset Zoom"})]}),c.jsx("div",{ref:P,className:"flex-1 bg-gray-100 rounded-lg overflow-hidden relative cursor-move",onWheel:D=>R(D,2),onMouseDown:D=>L(D,2),onTouchStart:D=>B(D,2),onTouchMove:D=>T(D,2),onTouchEnd:D=>F(D,2),style:{userSelect:"none",touchAction:"none"},children:a.date2Photo?c.jsx("img",{src:a.date2Photo.imageUrl,alt:`Photo from ${O(s)}`,className:"w-full h-full object-contain",style:{transform:`scale(${d.scale}) translate(${d.x/d.scale}px, ${d.y/d.scale}px)`,transformOrigin:"0 0"},draggable:!1}):c.jsxs("div",{className:"flex items-center justify-center h-full text-gray-500",children:["Select a photo from ",O(s)]})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:O(n)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=a.date1Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>o(D,0),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:O(s)}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(D=>{var W;return c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden cursor-pointer border-2 transition-all ${((W=a.date2Photo)==null?void 0:W.id)===D.id?"border-blue-500 shadow-lg":"border-gray-200 hover:border-blue-300"}`,onClick:()=>o(D,1),children:c.jsx("img",{src:D.thumbnailUrl,alt:`Thumbnail ${D.id}`,className:"w-full h-full object-cover"})},D.id)})})]})]})]})})})}function J8(){const[,t]=dt(),[e,n]=v.useState("newest"),[s,r]=v.useState(!1),[i,a]=v.useState(null),[o,l]=v.useState(0),[u,d]=v.useState([]),[f,h]=v.useState(!1),[m,y]=v.useState("setup"),[p,b]=v.useState(!1),{user:x}=Js(),[g,w]=v.useState(!1),[S,_]=v.useState(!1),[N,j]=v.useState([]),[C,P]=v.useState(!1),[O,z]=v.useState({}),{data:R=[],isLoading:L}=It({queryKey:["/api/photos"]});v.useEffect(()=>{x&&(x.photosPinEnabled===null?(y("setup"),h(!0)):x.photosPinEnabled===!0?(y("verify"),h(!0)):b(!0))},[x]);const I=()=>{b(!0)},A=()=>{_(!0),j([])},$=H=>{if(N.includes(H))j(N.filter(Z=>Z!==H));else if(N.length<2){const Z=[...N,H];j(Z),Z.length===2&&P(!0)}},B=()=>{_(!1),j([]),P(!1),z({})},T=(H,Z)=>{z(Z===0?ze=>({...ze,date1Photo:H}):ze=>({...ze,date2Photo:H}))},F={};R.forEach(H=>{const Z=H.date;F[Z]||(F[Z]=[]),F[Z].push(H)});const D=Object.keys(F).sort((H,Z)=>e==="newest"?new Date(Z).getTime()-new Date(H).getTime():new Date(H).getTime()-new Date(Z).getTime()),W=()=>{window.history.length>1?window.history.back():t("/")},G=H=>{if(H.thumbnailUrl)return H.thumbnailUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?thumbnail=true&token=${Z}`:"/placeholder-image.jpg"},ne=H=>{if(H.imageUrl)return H.imageUrl;const Z=localStorage.getItem("authToken");return Z?`/api/photos/${H.filename}?token=${Z}`:"/placeholder-image.jpg"},re=(H,Z)=>{a(H),d(Z),l(Z.findIndex(ze=>ze.id===H.id)),w(!1),r(!0)},ge=H=>{if(u.length===0)return;let Z;H==="prev"?Z=o>0?o-1:u.length-1:Z=o<u.length-1?o+1:0,l(Z),a(u[Z]),w(!1)};v.useEffect(()=>{const H=Z=>{s&&(Z.key==="ArrowLeft"?ge("prev"):Z.key==="ArrowRight"?ge("next"):Z.key==="Escape"&&r(!1))};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[s,o,u]);const ve=H=>{try{const Z=Uh(H);return Me(Z,"EEEE, MMMM d, yyyy")}catch{return H}};return L||!p?c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:c.jsx("div",{className:"flex items-center justify-center pt-[calc(env(safe-area-inset-top)+6rem)]",children:L&&c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})}),c.jsx(K2,{isOpen:f,onClose:()=>h(!1),mode:m,onSuccess:I})]}):c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Photos",showBackButton:!1,showHomeButton:!0,onBack:W}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsx(q,{onClick:S?B:A,variant:S?"destructive":"default",size:"sm",className:`${S?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:S?"EXIT":"COMPARE"})}),c.jsx("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:c.jsxs(q,{variant:"default",size:"sm",onClick:()=>n(e==="newest"?"oldest":"newest"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[c.jsx("i",{className:`fas ${e==="newest"?"fa-arrow-up":"fa-arrow-down"} mr-2`}),"Sort"]})})]}),D.length>0?c.jsx("div",{className:"space-y-8",children:D.map(H=>{const Z=F[H],ze=Z.slice(0,5),Ee=Z.length>5;return c.jsxs("div",{className:`space-y-3 relative ${S?"cursor-pointer":""}`,onClick:S?()=>$(H):void 0,children:[c.jsxs("div",{className:"flex justify-end items-center",children:[S&&c.jsx("div",{className:"mr-4",children:c.jsx("input",{type:"checkbox",checked:N.includes(H),onChange:()=>$(H),className:"w-5 h-5 text-blue-600 rounded",disabled:!N.includes(H)&&N.length>=2})}),c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:ve(H)}),c.jsxs("p",{className:"text-sm text-gray-600",children:[Z.length," photo",Z.length!==1?"s":""]})]})]}),c.jsxs("div",{className:`bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl relative ${S&&!N.includes(H)?"opacity-50":""}`,children:[S&&!N.includes(H)&&c.jsx("div",{className:"absolute inset-0 bg-gray-600/50 rounded-xl z-10 pointer-events-none"}),c.jsxs("div",{className:"grid gap-3",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",maxWidth:"100%"},children:[ze.map((be,Ae)=>c.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>re(be,Z),children:[c.jsx("img",{src:G(be),alt:`Photo ${Ae+1} from ${ve(H)}`,className:"w-full h-full object-cover",loading:"lazy"}),c.jsx("div",{className:"absolute top-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:Ae+1})]},be.id)),Ee&&c.jsx("div",{className:"relative aspect-square bg-gray-200 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-300 transition-colors duration-200 flex items-center justify-center",onClick:()=>re(Z[5],Z),children:c.jsxs("div",{className:"text-center text-gray-600",children:[c.jsx("i",{className:"fas fa-plus text-2xl mb-2"}),c.jsxs("p",{className:"text-sm font-medium",children:["+",Z.length-5," more"]})]})})]})]})]},H)})}):c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-camera text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Photos Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start your fitness journey by adding progress photos from the dashboard."}),c.jsxs(q,{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),c.jsx(Ar,{})]}),c.jsx(Mr,{open:s,onOpenChange:r,children:c.jsxs(er,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Dr,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsx(Or,{className:"text-center text-lg font-semibold",children:i&&c.jsxs(c.Fragment,{children:["Photo ",o+1," of ",u.length,c.jsx("span",{className:"block text-sm text-gray-600 font-normal",children:ve(i.date)})]})})}),i&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[u.length>1&&c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>ge("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!g&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:ne(i),alt:`Photo from ${ve(i.date)}`,className:`max-w-full max-h-full object-contain rounded-lg shadow-lg transition-opacity duration-200 ${g?"opacity-100":"opacity-0"}`,style:{maxWidth:"calc(98vw - 2rem)",maxHeight:"calc(98vh - 10rem)"},onLoad:()=>w(!0),onError:()=>w(!0)})]}),u.length>1&&c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>ge("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]}),c.jsxs("div",{className:"p-4 pt-2 flex justify-between items-center flex-shrink-0 border-t bg-gray-50/50",children:[c.jsx("div",{className:"text-sm text-gray-500",children:i==null?void 0:i.originalName}),c.jsx("div",{className:"text-xs text-gray-400",children:"Press   to navigate  ESC to close"})]})]})}),C&&N.length===2&&c.jsx(Z8,{isOpen:C,onClose:B,date1:N[0],date2:N[1],date1Photos:F[N[0]]||[],date2Photos:F[N[1]]||[],selectedPhotos:O,onPhotoSelect:T})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ou(t){return t+.5|0}const di=(t,e,n)=>Math.max(Math.min(t,n),e);function tc(t){return di(Ou(t*2.55),0,255)}function _i(t){return di(Ou(t*255),0,255)}function dr(t){return di(Ou(t/2.55)/100,0,1)}function hw(t){return di(Ou(t*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ey=[..."0123456789ABCDEF"],eH=t=>ey[t&15],tH=t=>ey[(t&240)>>4]+ey[t&15],dd=t=>(t&240)>>4===(t&15),nH=t=>dd(t.r)&&dd(t.g)&&dd(t.b)&&dd(t.a);function sH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&qn[t[1]]*17,g:255&qn[t[2]]*17,b:255&qn[t[3]]*17,a:e===5?qn[t[4]]*17:255}:(e===7||e===9)&&(n={r:qn[t[1]]<<4|qn[t[2]],g:qn[t[3]]<<4|qn[t[4]],b:qn[t[5]]<<4|qn[t[6]],a:e===9?qn[t[7]]<<4|qn[t[8]]:255})),n}const rH=(t,e)=>t<255?e(t):"";function iH(t){var e=nH(t)?eH:tH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+rH(t.a,e):void 0}const aH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eO(t,e,n){const s=e*Math.min(n,1-n),r=(i,a=(i+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function oH(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function lH(t,e,n){const s=eO(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function cH(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function sv(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),o=(i+a)/2;let l,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),l=cH(n,s,r,d,i),l=l*60+.5),[l|0,u||0,o]}function rv(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(_i)}function iv(t,e,n){return rv(eO,t,e,n)}function uH(t,e,n){return rv(lH,t,e,n)}function dH(t,e,n){return rv(oH,t,e,n)}function tO(t){return(t%360+360)%360}function fH(t){const e=aH.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?tc(+e[5]):_i(+e[5]));const r=tO(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=uH(r,i,a):e[1]==="hsv"?s=dH(r,i,a):s=iv(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function hH(t,e){var n=sv(t);n[0]=tO(n[0]+e),n=iv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function mH(t){if(!t)return;const e=sv(t),n=e[0],s=hw(e[1]),r=hw(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${dr(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const mw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pH(){const t={},e=Object.keys(pw),n=Object.keys(mw);let s,r,i,a,o;for(s=0;s<e.length;s++){for(a=o=e[s],r=0;r<n.length;r++)i=n[r],o=o.replace(i,mw[i]);i=parseInt(pw[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let fd;function gH(t){fd||(fd=pH(),fd.transparent=[0,0,0,0]);const e=fd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const yH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xH(t){const e=yH.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?tc(a):di(a*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?tc(s):di(s,0,255)),r=255&(e[4]?tc(r):di(r,0,255)),i=255&(e[6]?tc(i):di(i,0,255)),{r:s,g:r,b:i,a:n}}}function vH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${dr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ap=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ja=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function bH(t,e,n){const s=Ja(dr(t.r)),r=Ja(dr(t.g)),i=Ja(dr(t.b));return{r:_i(ap(s+n*(Ja(dr(e.r))-s))),g:_i(ap(r+n*(Ja(dr(e.g))-r))),b:_i(ap(i+n*(Ja(dr(e.b))-i))),a:t.a+n*(e.a-t.a)}}function hd(t,e,n){if(t){let s=sv(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=iv(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function nO(t,e){return t&&Object.assign(e||{},t)}function gw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=_i(t[3]))):(e=nO(t,{r:0,g:0,b:0,a:1}),e.a=_i(e.a)),e}function wH(t){return t.charAt(0)==="r"?xH(t):fH(t)}class iu{constructor(e){if(e instanceof iu)return e;const n=typeof e;let s;n==="object"?s=gw(e):n==="string"&&(s=sH(e)||gH(e)||wH(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=nO(this._rgb);return e&&(e.a=dr(e.a)),e}set rgb(e){this._rgb=gw(e)}rgbString(){return this._valid?vH(this._rgb):void 0}hexString(){return this._valid?iH(this._rgb):void 0}hslString(){return this._valid?mH(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=s.a-r.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=bH(this._rgb,e._rgb,n)),this}clone(){return new iu(this.rgb)}alpha(e){return this._rgb.a=_i(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ou(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hd(this._rgb,2,e),this}darken(e){return hd(this._rgb,2,-e),this}saturate(e){return hd(this._rgb,1,e),this}desaturate(e){return hd(this._rgb,1,-e),this}rotate(e){return hH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function sr(){}const SH=(()=>{let t=0;return()=>t++})();function Ye(t){return t==null}function zt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function rs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ts(t,e){return rs(t)?t:e}function Te(t,e){return typeof t>"u"?e:t}const _H=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,sO=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ot(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Xe(t,e,n,s){let r,i,a;if(zt(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if($e(t))for(a=Object.keys(t),i=a.length,r=0;r<i;r++)e.call(n,t[a[r]],a[r])}function Jf(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function eh(t){if(zt(t))return t.map(eh);if($e(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=eh(t[n[r]]);return e}return t}function rO(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function NH(t,e,n,s){if(!rO(t))return;const r=e[t],i=n[t];$e(r)&&$e(i)?au(r,i,s):e[t]=eh(i)}function au(t,e,n){const s=zt(e)?e:[e],r=s.length;if(!$e(t))return t;n=n||{};const i=n.merger||NH;let a;for(let o=0;o<r;++o){if(a=s[o],!$e(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)i(l[u],t,a,n)}return t}function bc(t,e){return au(t,e,{merger:kH})}function kH(t,e,n){if(!rO(t))return;const s=e[t],r=n[t];$e(s)&&$e(r)?bc(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=eh(r))}const yw={"":t=>t,x:t=>t.x,y:t=>t.y};function jH(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function CH(t){const e=jH(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function La(t,e){return(yw[e]||(yw[e]=CH(e)))(t)}function av(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ou=t=>typeof t<"u",Ii=t=>typeof t=="function",xw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function TH(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,bt=2*Ze,PH=bt+Ze,th=Number.POSITIVE_INFINITY,EH=Ze/180,Bt=Ze/2,Hi=Ze/4,vw=Ze*2/3,iO=Math.log10,qs=Math.sign;function wc(t,e,n){return Math.abs(t-e)<n}function bw(t){const e=Math.round(t);t=wc(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(iO(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function MH(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function DH(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function lu(t){return!DH(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function OH(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function AH(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function yr(t){return t*(Ze/180)}function IH(t){return t*(180/Ze)}function ww(t){if(!rs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function aO(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Ze&&(i+=bt),{angle:i,distance:r}}function ty(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function RH(t,e){return(t-e+PH)%bt-Ze}function hs(t){return(t%bt+bt)%bt}function cu(t,e,n,s){const r=hs(t),i=hs(e),a=hs(n),o=hs(i-r),l=hs(a-r),u=hs(r-i),d=hs(r-a);return r===i||r===a||s&&i===a||o>l&&u<d}function an(t,e,n){return Math.max(e,Math.min(n,t))}function FH(t){return an(t,-32768,32767)}function fi(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function ov(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const oa=(t,e,n,s)=>ov(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),LH=(t,e,n)=>ov(t,n,s=>t[s][e]>=n);function zH(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const oO=["push","pop","shift","splice","unshift"];function VH(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),oO.forEach(n=>{const s="_onData"+av(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[s]=="function"&&o[s](...i)}),a}})})}function Sw(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(oO.forEach(i=>{delete t[i]}),delete t._chartjs)}function lO(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const cO=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function uO(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,cO.call(window,()=>{s=!1,t.apply(e,n)}))}}function $H(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const lv=t=>t==="start"?"left":t==="end"?"right":"center",sn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,BH=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function UH(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:f,max:h,minDefined:m,maxDefined:y}=a.getUserBounds();if(m){if(r=Math.min(oa(l,d,f).lo,n?s:oa(e,d,a.getPixelForValue(f)).lo),u){const p=l.slice(0,r+1).reverse().findIndex(b=>!Ye(b[o.axis]));r-=Math.max(0,p)}r=an(r,0,s-1)}if(y){let p=Math.max(oa(l,a.axis,h,!0).hi+1,n?0:oa(e,d,a.getPixelForValue(h),!0).hi+1);if(u){const b=l.slice(p-1).findIndex(x=>!Ye(x[o.axis]));p+=Math.max(0,b)}i=an(p,r,s)-r}else i=s-r}return{start:r,count:i}}function WH(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const md=t=>t===0||t===1,_w=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*bt/n)),Nw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*bt/n)+1,Sc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Bt)+1,easeOutSine:t=>Math.sin(t*Bt),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>md(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>md(t)?t:_w(t,.075,.3),easeOutElastic:t=>md(t)?t:Nw(t,.075,.3),easeInOutElastic(t){return md(t)?t:t<.5?.5*_w(t*2,.1125,.45):.5+.5*Nw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Sc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Sc.easeInBounce(t*2)*.5:Sc.easeOutBounce(t*2-1)*.5+.5};function cv(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kw(t){return cv(t)?t:new iu(t)}function op(t){return cv(t)?t:new iu(t).saturate(.5).darken(.1).hexString()}const HH=["x","y","borderWidth","radius","tension"],YH=["color","borderColor","backgroundColor"];function qH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:YH},numbers:{type:"number",properties:HH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function QH(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jw=new Map;function KH(t,e){e=e||{};const n=t+JSON.stringify(e);let s=jw.get(n);return s||(s=new Intl.NumberFormat(t,e),jw.set(n,s)),s}function uv(t,e,n){return KH(e,n).format(t)}const GH={values(t){return zt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=XH(t,n)}const a=iO(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),uv(t,s,l)}};function XH(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var dO={formatters:GH};function ZH(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const za=Object.create(null),ny=Object.create(null);function _c(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function lp(t,e,n){return typeof e=="string"?au(_c(t,e),n):au(_c(t,""),e)}class JH{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>op(r.backgroundColor),this.hoverBorderColor=(s,r)=>op(r.borderColor),this.hoverColor=(s,r)=>op(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return lp(this,e,n)}get(e){return _c(this,e)}describe(e,n){return lp(ny,e,n)}override(e,n){return lp(za,e,n)}route(e,n,s,r){const i=_c(this,e),a=_c(this,s),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],u=a[r];return $e(l)?Object.assign({},u,l):Te(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ct=new JH({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qH,QH,ZH]);function eY(t){return!t||Ye(t.size)||Ye(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cw(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Yi(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Tw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function sy(t,e,n,s){fO(t,e,n,s,null)}function fO(t,e,n,s,r){let i,a,o,l,u,d,f,h;const m=e.pointStyle,y=e.rotation,p=e.radius;let b=(y||0)*EH;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,s,r/2,p,0,0,bt):t.arc(n,s,p,0,bt),t.closePath();break;case"triangle":d=r?r/2:p,t.moveTo(n+Math.sin(b)*d,s-Math.cos(b)*p),b+=vw,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*p),b+=vw,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,a=Math.cos(b+Hi)*l,f=Math.cos(b+Hi)*(r?r/2-u:l),o=Math.sin(b+Hi)*l,h=Math.sin(b+Hi)*(r?r/2-u:l),t.arc(n-f,s-o,u,b-Ze,b-Bt),t.arc(n+h,s-a,u,b-Bt,b),t.arc(n+f,s+o,u,b,b+Bt),t.arc(n-h,s+a,u,b+Bt,b+Ze),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*p,d=r?r/2:l,t.rect(n-d,s-l,2*d,2*l);break}b+=Hi;case"rectRot":f=Math.cos(b)*(r?r/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,h=Math.sin(b)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+h,s-a),t.lineTo(n+f,s+o),t.lineTo(n-h,s+a),t.closePath();break;case"crossRot":b+=Hi;case"cross":f=Math.cos(b)*(r?r/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,h=Math.sin(b)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+f,s+o),t.moveTo(n+h,s-a),t.lineTo(n-h,s+a);break;case"star":f=Math.cos(b)*(r?r/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,h=Math.sin(b)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+f,s+o),t.moveTo(n+h,s-a),t.lineTo(n-h,s+a),b+=Hi,f=Math.cos(b)*(r?r/2:p),a=Math.cos(b)*p,o=Math.sin(b)*p,h=Math.sin(b)*(r?r/2:p),t.moveTo(n-f,s-o),t.lineTo(n+f,s+o),t.moveTo(n+h,s-a),t.lineTo(n-h,s+a);break;case"line":a=r?r/2:Math.cos(b)*p,o=Math.sin(b)*p,t.moveTo(n-a,s-o),t.lineTo(n+a,s+o);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(b)*(r?r/2:p),s+Math.sin(b)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function uu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function dv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fv(t){t.restore()}function tY(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function nY(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function sY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ye(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function rY(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function iY(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function du(t,e,n,s,r,i={}){const a=zt(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,sY(t,i),l=0;l<a.length;++l)u=a[l],i.backdrop&&iY(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ye(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),rY(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function nh(t,e){const{x:n,y:s,w:r,h:i,radius:a}=e;t.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,s+i-a.bottomLeft),t.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,Ze,Bt,!0),t.lineTo(n+r-a.bottomRight,s+i),t.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,Bt,0,!0),t.lineTo(n+r,s+a.topRight),t.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-Bt,!0),t.lineTo(n+a.topLeft,s)}const aY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lY(t,e){const n=(""+t).match(aY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const cY=t=>+t||0;function hv(t,e){const n={},s=$e(e),r=s?Object.keys(e):e,i=$e(t)?s?a=>Te(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=cY(i(a));return n}function hO(t){return hv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Mo(t){return hv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function is(t){const e=hO(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function on(t,e){t=t||{},e=e||Ct.font;let n=Te(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Te(t.style,e.style);s&&!(""+s).match(oY)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Te(t.family,e.family),lineHeight:lY(Te(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Te(t.weight,e.weight),string:""};return r.string=eY(r),r}function pd(t,e,n,s){let r,i,a;for(r=0,i=t.length;r<i;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function uY(t,e,n){const{min:s,max:r}=t,i=sO(e,(r-s)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function Ya(t,e){return Object.assign(Object.create(t),e)}function mv(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=yO("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:o=>mv([o,...t],e,i,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return pO(o,l,()=>xY(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return Ew(o).includes(l)},ownKeys(o){return Ew(o)},set(o,l,u){const d=o._storage||(o._storage=r());return o[l]=d[l]=u,delete o._keys,!0}})}function ul(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:mO(t,s),setContext:i=>ul(t,i,n,s),override:i=>ul(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return pO(i,a,()=>fY(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function mO(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Ii(n)?n:()=>n,isIndexable:Ii(s)?s:()=>s}}const dY=(t,e)=>t?t+av(e):e,pv=(t,e)=>$e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function pO(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function fY(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=t;let o=s[e];return Ii(o)&&a.isScriptable(e)&&(o=hY(e,o,t,n)),zt(o)&&o.length&&(o=mY(e,o,t,a.isIndexable)),pv(e,o)&&(o=ul(o,r,i&&i[e],a)),o}function hY(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,a||s);return o.delete(t),pv(t,l)&&(l=gv(r._scopes,r,t,l)),l}function mY(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if($e(e[0])){const l=e,u=r._scopes.filter(d=>d!==l);e=[];for(const d of l){const f=gv(u,r,t,d);e.push(ul(f,i,a&&a[t],o))}}return e}function gO(t,e,n){return Ii(t)?t(e,n):t}const pY=(t,e)=>t===!0?e:typeof t=="string"?La(e,t):void 0;function gY(t,e,n,s,r){for(const i of e){const a=pY(n,i);if(a){t.add(a);const o=gO(a._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==s)return o}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function gv(t,e,n,s){const r=e._rootScopes,i=gO(e._fallback,n,s),a=[...t,...r],o=new Set;o.add(s);let l=Pw(o,a,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=Pw(o,a,i,l,s),l===null)?!1:mv(Array.from(o),[""],r,i,()=>yY(e,n,s))}function Pw(t,e,n,s,r){for(;n;)n=gY(t,e,n,s,r);return n}function yY(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return zt(r)&&$e(n)?n:r||{}}function xY(t,e,n,s){let r;for(const i of e)if(r=yO(dY(i,t),n),typeof r<"u")return pv(t,r)?gv(n,s,t,r):r}function yO(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Ew(t){let e=t._keys;return e||(e=t._keys=vY(t._scopes)),e}function vY(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const bY=Number.EPSILON||1e-14,dl=(t,e)=>e<t.length&&!t[e].skip&&t[e],xO=t=>t==="x"?"y":"x";function wY(t,e,n,s){const r=t.skip?e:t,i=e,a=n.skip?e:n,o=ty(i,r),l=ty(a,i);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=s*u,h=s*d;return{previous:{x:i.x-f*(a.x-r.x),y:i.y-f*(a.y-r.y)},next:{x:i.x+h*(a.x-r.x),y:i.y+h*(a.y-r.y)}}}function SY(t,e,n){const s=t.length;let r,i,a,o,l,u=dl(t,0);for(let d=0;d<s-1;++d)if(l=u,u=dl(t,d+1),!(!l||!u)){if(wc(e[d],0,bY)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],i=n[d+1]/e[d],o=Math.pow(r,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=r*a*e[d],n[d+1]=i*a*e[d])}}function _Y(t,e,n="x"){const s=xO(n),r=t.length;let i,a,o,l=dl(t,0);for(let u=0;u<r;++u){if(a=o,o=l,l=dl(t,u+1),!o)continue;const d=o[n],f=o[s];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${s}`]=f-i*e[u]),l&&(i=(l[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${s}`]=f+i*e[u])}}function NY(t,e="x"){const n=xO(e),s=t.length,r=Array(s).fill(0),i=Array(s);let a,o,l,u=dl(t,0);for(a=0;a<s;++a)if(o=l,l=u,u=dl(t,a+1),!!l){if(u){const d=u[e]-l[e];r[a]=d!==0?(u[n]-l[n])/d:0}i[a]=o?u?qs(r[a-1])!==qs(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}SY(t,r,i),_Y(t,i,e)}function gd(t,e,n){return Math.max(Math.min(t,n),e)}function kY(t,e){let n,s,r,i,a,o=uu(t[0],e);for(n=0,s=t.length;n<s;++n)a=i,i=o,o=n<s-1&&uu(t[n+1],e),i&&(r=t[n],a&&(r.cp1x=gd(r.cp1x,e.left,e.right),r.cp1y=gd(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=gd(r.cp2x,e.left,e.right),r.cp2y=gd(r.cp2y,e.top,e.bottom)))}function jY(t,e,n,s,r){let i,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")NY(t,r);else{let u=s?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=wY(u,o,t[Math.min(i+1,a-(s?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&kY(t,n)}function yv(){return typeof window<"u"&&typeof document<"u"}function xv(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sh(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Gh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function CY(t,e){return Gh(t).getPropertyValue(e)}const TY=["top","right","bottom","left"];function ba(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=TY[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const PY=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function EY(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let a=!1,o,l;if(PY(r,i,t.target))o=r,l=i;else{const u=e.getBoundingClientRect();o=s.clientX-u.left,l=s.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function Zi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=Gh(n),i=r.boxSizing==="border-box",a=ba(r,"padding"),o=ba(r,"border","width"),{x:l,y:u,box:d}=EY(t,n),f=a.left+(d&&o.left),h=a.top+(d&&o.top);let{width:m,height:y}=e;return i&&(m-=a.width+o.width,y-=a.height+o.height),{x:Math.round((l-f)/m*n.width/s),y:Math.round((u-h)/y*n.height/s)}}function MY(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&xv(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=Gh(i),l=ba(o,"border","width"),u=ba(o,"padding");e=a.width-u.width-l.width,n=a.height-u.height-l.height,s=sh(o.maxWidth,i,"clientWidth"),r=sh(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||th,maxHeight:r||th}}const yd=t=>Math.round(t*10)/10;function DY(t,e,n,s){const r=Gh(t),i=ba(r,"margin"),a=sh(r.maxWidth,t,"clientWidth")||th,o=sh(r.maxHeight,t,"clientHeight")||th,l=MY(t,e,n);let{width:u,height:d}=l;if(r.boxSizing==="content-box"){const h=ba(r,"border","width"),m=ba(r,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,s?u/s:d-i.height),u=yd(Math.min(u,a,l.maxWidth)),d=yd(Math.min(d,o,l.maxHeight)),u&&!d&&(d=yd(u/2)),(e!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,u=yd(Math.floor(d*s))),{width:u,height:d}}function Mw(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(t.currentDevicePixelRatio=s,a.height=r,a.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const OY=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};yv()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Dw(t,e){const n=CY(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ji(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function AY(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function IY(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Ji(t,r,n),o=Ji(r,i,n),l=Ji(i,e,n),u=Ji(a,o,n),d=Ji(o,l,n);return Ji(u,d,n)}const RY=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},FY=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Do(t,e,n){return t?RY(e,n):FY()}function vO(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function bO(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function wO(t){return t==="angle"?{between:cu,compare:RH,normalize:hs}:{between:fi,compare:(e,n)=>e-n,normalize:e=>e}}function Ow({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function LY(t,e,n){const{property:s,start:r,end:i}=n,{between:a,normalize:o}=wO(s),l=e.length;let{start:u,end:d,loop:f}=t,h,m;if(f){for(u+=l,d+=l,h=0,m=l;h<m&&a(o(e[u%l][s]),r,i);++h)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:f,style:t.style}}function zY(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,a=e.length,{compare:o,between:l,normalize:u}=wO(s),{start:d,end:f,loop:h,style:m}=LY(t,e,n),y=[];let p=!1,b=null,x,g,w;const S=()=>l(r,w,x)&&o(r,w)!==0,_=()=>o(i,x)===0||l(i,w,x),N=()=>p||S(),j=()=>!p||_();for(let C=d,P=d;C<=f;++C)g=e[C%a],!g.skip&&(x=u(g[s]),x!==w&&(p=l(x,r,i),b===null&&N()&&(b=o(x,r)===0?C:P),b!==null&&j()&&(y.push(Ow({start:b,end:C,loop:h,count:a,style:m})),b=null),P=C,w=x));return b!==null&&y.push(Ow({start:b,end:f,loop:h,count:a,style:m})),y}function VY(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=zY(s[r],t.points,e);i.length&&n.push(...i)}return n}function $Y(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function BY(t,e,n,s){const r=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%r];u.skip||u.stop?o.skip||(s=!1,i.push({start:e%r,end:(l-1)%r,loop:s}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&i.push({start:e%r,end:a%r,loop:s}),i}function UY(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:a,end:o}=$Y(n,r,i,s);if(s===!0)return Aw(t,[{start:a,end:o,loop:i}],n,e);const l=o<a?o+r:o,u=!!t._fullLoop&&a===0&&o===r-1;return Aw(t,BY(n,a,l,u),n,e)}function Aw(t,e,n,s){return!s||!s.setContext||!n?e:WY(t,e,n,s)}function WY(t,e,n,s){const r=t._chart.getContext(),i=Iw(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,u=[];let d=i,f=e[0].start,h=f;function m(y,p,b,x){const g=o?-1:1;if(y!==p){for(y+=l;n[y%l].skip;)y-=g;for(;n[p%l].skip;)p+=g;y%l!==p%l&&(u.push({start:y%l,end:p%l,loop:b,style:x}),d=x,f=p%l)}}for(const y of e){f=o?f:y.start;let p=n[f%l],b;for(h=f+1;h<=y.end;h++){const x=n[h%l];b=Iw(s.setContext(Ya(r,{type:"segment",p0:p,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),HY(b,d)&&m(f,h-1,y.loop,d),p=x,d=b}f<h-1&&m(f,h-1,y.loop,d)}return u}function Iw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function HY(t,e){if(!e)return!1;const n=[],s=function(r,i){return cv(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function xd(t,e,n){return t.options.clip?t[n]:e[n]}function YY(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:xd(n,e,"left"),right:xd(n,e,"right"),top:xd(s,e,"top"),bottom:xd(s,e,"bottom")}:e}function qY(t,e){const n=e._clip;if(n.disabled)return!1;const s=YY(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class QY{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=cO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ar=new QY;const Rw="transparent",KY={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=kw(t||Rw),r=s.valid&&kw(e||Rw);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class GY{constructor(e,n,s,r){const i=n[s];r=pd([e.to,r,i,e.from]);const a=pd([e.from,i,r]);this._active=!0,this._fn=e.fn||KY[e.type||typeof a],this._easing=Sc[e.easing]||Sc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=pd([e.to,n,r,e.from]),this._from=pd([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<s),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class SO{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$e(e))return;const n=Object.keys(Ct.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!$e(i))return;const a={};for(const o of n)a[o]=i[o];(zt(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!s.has(o))&&s.set(o,a)})})}_animateOptions(e,n){const s=n.options,r=ZY(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&XY(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[u];let f=i[u];const h=s.get(u);if(f)if(h&&f.active()){f.update(h,d,o);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}i[u]=f=new GY(h,e,u,d),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return ar.add(this._chart,s),!0}}function XY(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function ZY(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fw(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function JY(t,e,n){if(n===!1)return!1;const s=Fw(t,n),r=Fw(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function e9(t){let e,n,s,r;return $e(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function _O(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Lw(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===n){if(d=!0,s.all)continue;break}u=t.values[l],rs(u)&&(i||e===0||qs(e)===qs(u))&&(e+=u)}return!d&&!s.all?0:e}function t9(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[r]:d,[i]:t[d]};return o}function cp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function n9(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function s9(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function r9(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function zw(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Vw(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=s,l=i.axis,u=a.axis,d=n9(i,a,s),f=e.length;let h;for(let m=0;m<f;++m){const y=e[m],{[l]:p,[u]:b}=y,x=y._stacks||(y._stacks={});h=x[u]=r9(r,d,p),h[o]=b,h._top=zw(h,a,!0,s.type),h._bottom=zw(h,a,!1,s.type);const g=h._visualValues||(h._visualValues={});g[o]=b}}function up(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function i9(t,e){return Ya(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function a9(t,e,n){return Ya(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wl(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const dp=t=>t==="reset"||t==="none",$w=(t,e)=>e?t:Object.assign({},t),o9=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:_O(n,!0),values:null};class wa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=cp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(f,h,m,y)=>f==="x"?h:f==="r"?y:m,i=n.xAxisID=Te(s.xAxisID,up(e,"x")),a=n.yAxisID=Te(s.yAxisID,up(e,"y")),o=n.rAxisID=Te(s.rAxisID,up(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,i,a,o),d=n.vAxisID=r(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Sw(this._data,this),e._stacked&&Wl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if($e(n)){const r=this._cachedMeta;this._data=t9(n,r)}else if(s!==n){if(s){Sw(s,this);const r=this._cachedMeta;Wl(r),r._parsed=[]}n&&Object.isExtensible(n)&&VH(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=cp(n.vScale,n),n.stack!==s.stack&&(r=!0,Wl(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(Vw(this,n._parsed),n._stacked=cp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,o=i.axis;let l=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,f,h;if(this._parsing===!1)s._parsed=r,s._sorted=!0,h=r;else{zt(r[e])?h=this.parseArrayData(s,r,e,n):$e(r[e])?h=this.parseObjectData(s,r,e,n):h=this.parsePrimitiveData(s,r,e,n);const m=()=>f[o]===null||u&&f[o]<u[o];for(d=0;d<n;++d)s._parsed[d+e]=f=h[d],l&&(m()&&(l=!1),u=f);s._sorted=l}a&&Vw(this,h)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,u=i.getLabels(),d=i===a,f=new Array(r);let h,m,y;for(h=0,m=r;h<m;++h)y=h+s,f[h]={[o]:d||i.parse(u[y],y),[l]:a.parse(n[y],y)};return f}parseArrayData(e,n,s,r){const{xScale:i,yScale:a}=e,o=new Array(r);let l,u,d,f;for(l=0,u=r;l<u;++l)d=l+s,f=n[d],o[l]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return o}parseObjectData(e,n,s,r){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let d,f,h,m;for(d=0,f=r;d<f;++d)h=d+s,m=n[h],u[d]={x:i.parse(La(m,o),h),y:a.parse(La(m,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:_O(r,!0),values:n._stacks[e.axis]._visualValues};return Lw(o,a,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const o=r&&s._stacks[n.axis];r&&o&&(r.values=o,a=Lw(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,a=r.length,o=this._getOtherScale(e),l=o9(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=s9(o);let h,m;function y(){m=r[h];const p=m[o.axis];return!rs(m[e.axis])||d>p||f<p}for(h=0;h<a&&!(!y()&&(this.updateRangeFromParsed(u,e,m,l),i));++h);if(i){for(h=a-1;h>=0;--h)if(!y()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][e.axis],rs(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=e9(Te(this.options.clip,JY(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||r.length-o,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,i,o,l),d=o;d<o+l;++d){const f=r[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=a9(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=i9(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],l=this.enableOptionSharing&&ou(s);if(o)return $w(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(Ct.elements[e]),y=()=>this.getContext(s,r,n),p=u.resolveNamedOptions(h,m,y,f);return p.$shared&&(p.$shared=l,i[a]=Object.freeze($w(p,l))),p}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(r.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(e,s,n))}const u=new SO(r,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||dp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(e,n,s,r){dp(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!dp(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,a=e+n;let o;const l=u=>{for(u.length+=n,o=u.length-1;o>=a;o--)u[o]=u[o-n]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&Wl(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}k(wa,"defaults",{}),k(wa,"datasetElementType",null),k(wa,"dataElementType",null);function l9(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=lO(s.sort((r,i)=>r-i))}return t._cache.$bar}function c9(t){const e=t.iScale,n=l9(e,t.type);let s=e._length,r,i,a,o;const l=()=>{a===32767||a===-32768||(ou(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(r=0,i=n.length;r<i;++r)a=e.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=e.ticks.length;r<i;++r)a=e.getPixelForTick(r),l();return s}function u9(t,e,n,s){const r=n.barThickness;let i,a;return Ye(r)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:e.pixels[t]-i/2}}function d9(t,e,n,s){const r=e.pixels,i=r[t];let a=t>0?r[t-1]:null,o=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/s,ratio:n.barPercentage,start:u}}function f9(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),a=Math.min(r,i),o=Math.max(r,i);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:i,min:a,max:o}}function NO(t,e,n,s){return zt(t)?f9(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Bw(t,e,n,s){const r=t.iScale,i=t.vScale,a=r.getLabels(),o=r===i,l=[];let u,d,f,h;for(u=n,d=n+s;u<d;++u)h=e[u],f={},f[r.axis]=o||r.parse(a[u],u),l.push(NO(h,f,i,u));return l}function fp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function h9(t,e,n){return t!==0?qs(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function m9(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function p9(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:d}=m9(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=d:(i[Uw(d,a,o,l)]=!0,r=u)),i[Uw(r,a,o,l)]=!0,t.borderSkipped=i}function Uw(t,e,n,s){return s?(t=g9(t,e,n),t=Ww(t,n,e)):t=Ww(t,e,n),t}function g9(t,e,n){return t===e?n:t===n?e:t}function Ww(t,e,n){return t==="start"?e:t==="end"?n:t}function y9(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class qd extends wa{parsePrimitiveData(e,n,s,r){return Bw(e,n,s,r)}parseArrayData(e,n,s,r){return Bw(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?o:l,d=a.axis==="x"?o:l,f=[];let h,m,y,p;for(h=s,m=s+r;h<m;++h)p=n[h],y={},y[i.axis]=i.parse(La(p,u),h),f.push(NO(La(p,d),y,a,h));return f}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),a=i._custom,o=fp(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,r);for(let m=n;m<n+s;m++){const y=this.getParsed(m),p=i||Ye(y[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,d),x=(y._stacks||{})[o.axis],g={horizontal:u,base:p.base,enableBorderRadius:!x||fp(y._custom)||a===x._top||a===x._bottom,x:u?p.head:b.center,y:u?b.center:p.head,height:u?b.size:Math.abs(p.size),width:u?Math.abs(p.size):b.size};h&&(g.options=f||this.resolveDataElementOptions(m,e[m].active?"active":r));const w=g.options||e[m].options;p9(g,w,x,a),y9(g,w,d.ratio),this.updateElement(e[m],m,g,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[s.axis],u=d=>{const f=d._parsed.find(m=>m[s.axis]===l),h=f&&f[d.vScale.axis];if(Ye(h)||isNaN(h))return!0};for(const d of r)if(!(n!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Te(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const o=e.barThickness;return{min:o||c9(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),u=l._custom,d=fp(u);let f=l[n.axis],h=0,m=s?this.applyStack(n,l,s):f,y,p;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&qs(f)!==qs(u.barEnd)&&(h=0),h+=f);const b=!Ye(i)&&!d?i:h;let x=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(h+m):y=x,p=y-x,Math.abs(p)<a){p=h9(p,n,o)*a,f===o&&(x-=p/2);const g=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),S=Math.min(g,w),_=Math.max(g,w);x=Math.max(Math.min(x,_),S),y=x+p,s&&!d&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(x))}if(x===n.getPixelForValue(o)){const g=qs(p)*n.getLineWidthForValue(o)/2;x+=g,p-=g}return{size:p,base:x,head:y,center:y+p/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,a=Te(r.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,f=r.barThickness==="flex"?d9(e,n,r,d*u):u9(e,n,r,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Te(h,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;o=f.start+f.chunk*y+f.chunk/2,l=Math.min(a,f.chunk*f.ratio)}else o=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}k(qd,"id","bar"),k(qd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),k(qd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function x9(t,e,n){let s=1,r=1,i=0,a=0;if(e<bt){const o=t,l=o+e,u=Math.cos(o),d=Math.sin(o),f=Math.cos(l),h=Math.sin(l),m=(w,S,_)=>cu(w,o,l,!0)?1:Math.max(S,S*n,_,_*n),y=(w,S,_)=>cu(w,o,l,!0)?-1:Math.min(S,S*n,_,_*n),p=m(0,u,f),b=m(Bt,d,h),x=y(Ze,u,f),g=y(Ze+Bt,d,h);s=(p-x)/2,r=(b-g)/2,i=-(p+x)/2,a=-(b+g)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class nc extends wa{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if($e(s[e])){const{key:l="value"}=this._parsing;i=u=>+La(s[u],l)}let a,o;for(a=e,o=e+n;a<o;++a)r._parsed[a]=i(a)}}_getRotation(){return yr(this.options.rotation-90)}_getCircumference(){return yr(this.options.circumference)}_getRotationExtents(){let e=bt,n=-bt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(s.width,s.height)-a)/2,0),l=Math.min(_H(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:y,offsetY:p}=x9(f,d,l),b=(s.width-a)/h,x=(s.height-a)/m,g=Math.max(Math.min(b,x)/2,0),w=sO(this.options.radius,g),S=Math.max(w*l,0),_=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=y*w,this.offsetY=p*w,r.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/bt)}updateElements(e,n,s,r){const i=r==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,d=(o.left+o.right)/2,f=(o.top+o.bottom)/2,h=i&&u.animateScale,m=h?0:this.innerRadius,y=h?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(n,r);let x=this._getRotation(),g;for(g=0;g<n;++g)x+=this._circumference(g,i);for(g=n;g<n+s;++g){const w=this._circumference(g,i),S=e[g],_={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:y,innerRadius:m};b&&(_.options=p||this.resolveDataElementOptions(g,S.active?"active":r)),x+=w,this.updateElement(S,g,_,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?bt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=uv(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,a,o,l;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,o=a.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=o.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}k(nc,"id","doughnut"),k(nc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),k(nc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),k(nc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Qd extends wa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=UH(n,r,a);this._drawStart=o,this._drawCount=l,WH(n)&&(o=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:u},e),this.updateElements(r,o,l,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,r),h=a.axis,m=o.axis,{spanGaps:y,segment:p}=this.options,b=lu(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||r==="none",g=n+s,w=e.length;let S=n>0&&this.getParsed(n-1);for(let _=0;_<w;++_){const N=e[_],j=x?N:{};if(_<n||_>=g){j.skip=!0;continue}const C=this.getParsed(_),P=Ye(C[m]),O=j[h]=a.getPixelForValue(C[h],_),z=j[m]=i||P?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,C,l):C[m],_);j.skip=isNaN(O)||isNaN(z)||P,j.stop=_>0&&Math.abs(C[h]-S[h])>b,p&&(j.parsed=C,j.raw=u.data[_]),f&&(j.options=d||this.resolveDataElementOptions(_,N.active?"active":r)),x||this.updateElement(N,_,j,r),S=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}k(Qd,"id","line"),k(Qd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),k(Qd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function qi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vv{constructor(e){k(this,"options");this.options=e||{}}static override(e){Object.assign(vv.prototype,e)}init(){}formats(){return qi()}parse(){return qi()}format(){return qi()}add(){return qi()}diff(){return qi()}startOf(){return qi()}endOf(){return qi()}}var kO={_date:vv};function v9(t,e,n,s){const{controller:r,data:i,_sorted:a}=t,o=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?LH:oa;if(s){if(r._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=u(i,e,n-f),m=u(i,e,n+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(i,e,n);if(l){const{vScale:f}=r._cachedMeta,{_parsed:h}=t,m=h.slice(0,d.lo+1).reverse().findIndex(p=>!Ye(p[f.axis]));d.lo-=Math.max(0,m);const y=h.slice(d.hi).findIndex(p=>!Ye(p[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function Xh(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=i.length;o<l;++o){const{index:u,data:d}=i[o],{lo:f,hi:h}=v9(i[o],e,a,r);for(let m=f;m<=h;++m){const y=d[m];y.skip||s(y,u,m)}}}function b9(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function hp(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||Xh(t,n,e,function(o,l,u){!r&&!uu(o,t.chartArea,0)||o.inRange(e.x,e.y,s)&&i.push({element:o,datasetIndex:l,index:u})},!0),i}function w9(t,e,n,s){let r=[];function i(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],s),{angle:f}=aO(a,{x:e.x,y:e.y});cu(f,u,d)&&r.push({element:a,datasetIndex:o,index:l})}return Xh(t,n,e,i),r}function S9(t,e,n,s,r,i){let a=[];const o=b9(n);let l=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(e.x,e.y,r);if(s&&!m)return;const y=d.getCenterPoint(r);if(!(!!i||t.isPointInArea(y))&&!m)return;const b=o(e,y);b<l?(a=[{element:d,datasetIndex:f,index:h}],l=b):b===l&&a.push({element:d,datasetIndex:f,index:h})}return Xh(t,n,e,u),a}function mp(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?w9(t,e,n,r):S9(t,e,n,s,r,i)}function Hw(t,e,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return Xh(t,n,e,(l,u,d)=>{l[a]&&l[a](e[n],r)&&(i.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,r))}),s&&!o?[]:i}var _9={modes:{index(t,e,n,s){const r=Zi(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?hp(t,r,i,s,a):mp(t,r,i,!1,s,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,f=u.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,n,s){const r=Zi(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?hp(t,r,i,s,a):mp(t,r,i,!1,s,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(t,e,n,s){const r=Zi(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return hp(t,r,i,s,a)},nearest(t,e,n,s){const r=Zi(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return mp(t,r,i,n.intersect,s,a)},x(t,e,n,s){const r=Zi(e,t);return Hw(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Zi(e,t);return Hw(t,r,"y",n.intersect,s)}}};const jO=["left","top","right","bottom"];function Hl(t,e){return t.filter(n=>n.pos===e)}function Yw(t,e){return t.filter(n=>jO.indexOf(n.pos)===-1&&n.box.axis===e)}function Yl(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function N9(t){const e=[];let n,s,r,i,a,o;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:o});return e}function k9(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!jO.includes(r))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function j9(t,e){const n=k9(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,u=n[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*s:l&&e.availableWidth,o.height=r):(o.width=s,o.height=d?d*r:l&&e.availableHeight)}return n}function C9(t){const e=N9(t),n=Yl(e.filter(u=>u.box.fullSize),!0),s=Yl(Hl(e,"left"),!0),r=Yl(Hl(e,"right")),i=Yl(Hl(e,"top"),!0),a=Yl(Hl(e,"bottom")),o=Yw(e,"x"),l=Yw(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:Hl(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(a).concat(o)}}function qw(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function CO(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function T9(t,e,n,s){const{pos:r,box:i}=n,a=t.maxPadding;if(!$e(r)){n.size&&(t[r]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[r]+=n.size}i.getPadding&&CO(a,i.getPadding());const o=Math.max(0,e.outerWidth-qw(a,t,"left","right")),l=Math.max(0,e.outerHeight-qw(a,t,"top","bottom")),u=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function P9(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function E9(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return s(t?["left","right"]:["top","bottom"])}function sc(t,e,n,s){const r=[];let i,a,o,l,u,d;for(i=0,a=t.length,u=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,E9(o.horizontal,e));const{same:f,other:h}=T9(e,n,o,s);u|=f&&r.length,d=d||h,l.fullSize||r.push(o)}return u&&sc(r,e,n,s)||d}function vd(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Qw(t,e,n,s){const r=n.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,u=s[o.stack]||{placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*d,h=u.size||l.height;ou(u.start)&&(a=u.start),l.fullSize?vd(l,r.left,a,n.outerWidth-r.right-r.left,h):vd(l,e.left+u.placed,a,f,h),u.start=a,u.placed+=f,a=l.bottom}else{const f=e.h*d,h=u.size||l.width;ou(u.start)&&(i=u.start),l.fullSize?vd(l,i,r.top,h,n.outerHeight-r.bottom-r.top):vd(l,i,e.top+u.placed,h,f),u.start=i,u.placed+=f,i=l.right}}e.x=i,e.y=a}var es={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=is(t.options.layout.padding),i=Math.max(e-r.width,0),a=Math.max(n-r.height,0),o=C9(t.boxes),l=o.vertical,u=o.horizontal;Xe(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const d=l.reduce((p,b)=>b.box.options&&b.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),h=Object.assign({},r);CO(h,is(s));const m=Object.assign({maxPadding:h,w:i,h:a,x:r.left,y:r.top},r),y=j9(l.concat(u),f);sc(o.fullSize,m,f,y),sc(l,m,f,y),sc(u,m,f,y)&&sc(l,m,f,y),P9(m),Qw(o.leftAndTop,m,f,y),m.x+=m.w,m.y+=m.h,Qw(o.rightAndBottom,m,f,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Xe(o.chartArea,p=>{const b=p.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class TO{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class M9 extends TO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Kd="$chartjs",D9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kw=t=>t===null||t==="";function O9(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Kd]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Kw(r)){const i=Dw(t,"width");i!==void 0&&(t.width=i)}if(Kw(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Dw(t,"height");i!==void 0&&(t.height=i)}return t}const PO=OY?{passive:!0}:!1;function A9(t,e,n){t&&t.addEventListener(e,n,PO)}function I9(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,PO)}function R9(t,e){const n=D9[t.type]||t.type,{x:s,y:r}=Zi(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function rh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function F9(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||rh(o.addedNodes,s),a=a&&!rh(o.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function L9(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||rh(o.removedNodes,s),a=a&&!rh(o.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const fu=new Map;let Gw=0;function EO(){const t=window.devicePixelRatio;t!==Gw&&(Gw=t,fu.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function z9(t,e){fu.size||window.addEventListener("resize",EO),fu.set(t,e)}function V9(t){fu.delete(t),fu.size||window.removeEventListener("resize",EO)}function $9(t,e,n){const s=t.canvas,r=s&&xv(s);if(!r)return;const i=uO((o,l)=>{const u=r.clientWidth;n(o,l),u<r.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(r),z9(t,i),a}function pp(t,e,n){n&&n.disconnect(),e==="resize"&&V9(t)}function B9(t,e,n){const s=t.canvas,r=uO(i=>{t.ctx!==null&&n(R9(i,t))},t);return A9(s,e,r),r}class U9 extends TO{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(O9(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Kd])return!1;const s=n[Kd].initial;["height","width"].forEach(i=>{const a=s[i];Ye(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Kd],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:F9,detach:L9,resize:$9}[n]||B9;r[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:pp,detach:pp,resize:pp}[n]||I9)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return DY(e,n,s,r)}isAttached(e){const n=e&&xv(e);return!!(n&&n.isConnected)}}function W9(t){return!yv()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?M9:U9}var jd;let Ir=(jd=class{constructor(){k(this,"x");k(this,"y");k(this,"active",!1);k(this,"options");k(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return lu(this.x)&&lu(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},k(jd,"defaults",{}),k(jd,"defaultRoutes"),jd);function H9(t,e){const n=t.options.ticks,s=Y9(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?Q9(e):[],a=i.length,o=i[0],l=i[a-1],u=[];if(a>r)return K9(e,u,i,a/r),u;const d=q9(i,e,r);if(a>0){let f,h;const m=a>1?Math.round((l-o)/(a-1)):null;for(bd(e,u,d,Ye(m)?0:o-m,o),f=0,h=a-1;f<h;f++)bd(e,u,d,i[f],i[f+1]);return bd(e,u,d,l,Ye(m)?e.length:l+m),u}return bd(e,u,d),u}function Y9(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function q9(t,e,n){const s=G9(t),r=e.length/n;if(!s)return Math.max(r,1);const i=MH(s);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>r)return l}return Math.max(r,1)}function Q9(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function K9(t,e,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===i&&(e.push(t[a]),r++,i=n[r*s])}function bd(t,e,n,s,r){const i=Te(s,0),a=Math.min(Te(r,t.length),t.length);let o=0,l,u,d;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(i+o*n))}function G9(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const X9=t=>t==="left"?"right":t==="right"?"left":t,Xw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Zw=(t,e)=>Math.min(e||t,t);function Jw(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function Z9(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(l-i,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<i-o||l>a+o)))return l}function J9(t,e){Xe(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function ql(t){return t.drawTicks?t.tickLength:0}function eS(t,e){if(!t.display)return 0;const n=on(t.font,e),s=is(t.padding);return(zt(t.text)?t.text.length:1)*n.lineHeight+s.height}function e7(t,e){return Ya(t,{scale:e,type:"scale"})}function t7(t,e,n){return Ya(t,{tick:n,index:e,type:"tick"})}function n7(t,e,n){let s=lv(t);return(n&&e!=="right"||!n&&e==="right")&&(s=X9(s)),s}function s7(t,e,n,s){const{top:r,left:i,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:d}=l;let f=0,h,m,y;const p=a-r,b=o-i;if(t.isHorizontal()){if(m=sn(s,i,o),$e(n)){const x=Object.keys(n)[0],g=n[x];y=d[x].getPixelForValue(g)+p-e}else n==="center"?y=(u.bottom+u.top)/2+p-e:y=Xw(t,n,e);h=o-i}else{if($e(n)){const x=Object.keys(n)[0],g=n[x];m=d[x].getPixelForValue(g)-b+e}else n==="center"?m=(u.left+u.right)/2-b+e:m=Xw(t,n,e);y=sn(s,a,r),f=n==="left"?-Bt:Bt}return{titleX:m,titleY:y,maxWidth:h,rotation:f}}class Cl extends Ir{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Ts(e,Number.POSITIVE_INFINITY),n=Ts(n,Number.NEGATIVE_INFINITY),s=Ts(s,Number.POSITIVE_INFINITY),r=Ts(r,Number.NEGATIVE_INFINITY),{min:Ts(e,s),max:Ts(n,r),minDefined:rs(e),maxDefined:rs(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Ts(n,Ts(s,n)),max:Ts(s,Ts(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ot(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uY(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Jw(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=H9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ot(this.options.afterUpdate,[this])}beforeSetDimensions(){ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ot(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ot(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=ot(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Zw(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,o,l,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=an(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/s:m/(s-1),f+6>o&&(o=m/(s-(e.offset?.5:1)),l=this.maxHeight-ql(e.grid)-n.padding-eS(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),a=IH(Math.min(Math.asin(an((d.highest.height+6)/o,-1,1)),Math.asin(an(l/u,-1,1))-Math.asin(an(h/u,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ot(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=eS(r,n.options.font);if(o?(e.width=this.maxWidth,e.height=ql(i)+l):(e.height=this.maxHeight,e.width=ql(i)+l),s.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=s.padding*2,y=yr(this.labelRotation),p=Math.cos(y),b=Math.sin(y);if(o){const x=s.mirror?0:b*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+x+m)}else{const x=s.mirror?0:p*f.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+x+m)}this._calculatePadding(u,d,b,p)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;l?u?(h=r*e.width,m=s*n.height):(h=s*e.height,m=r*n.width):i==="start"?m=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,m=n.width/2),this.paddingLeft=Math.max((h-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+a)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=n.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ot(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Ye(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Jw(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/Zw(n,s));let u=0,d=0,f,h,m,y,p,b,x,g,w,S,_;for(f=0;f<n;f+=l){if(y=e[f].label,p=this._resolveTickFontOptions(f),r.font=b=p.string,x=i[b]=i[b]||{data:{},gc:[]},g=p.lineHeight,w=S=0,!Ye(y)&&!zt(y))w=Cw(r,x.data,x.gc,w,y),S=g;else if(zt(y))for(h=0,m=y.length;h<m;++h)_=y[h],!Ye(_)&&!zt(_)&&(w=Cw(r,x.data,x.gc,w,_),S+=g);a.push(w),o.push(S),u=Math.max(w,u),d=Math.max(S,d)}J9(i,n);const N=a.indexOf(u),j=o.indexOf(d),C=P=>({width:a[P]||0,height:o[P]||0});return{first:C(0),last:C(n-1),widest:C(N),highest:C(j),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return FH(this._alignToPixels?Yi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=t7(this.getContext(),e,s))}return this.$context||(this.$context=e7(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=yr(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*s>o*r?o/s:l/r:l*r<o*s?l/s:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:o}=r,l=i.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=ql(i),m=[],y=o.setContext(this.getContext()),p=y.display?y.width:0,b=p/2,x=function($){return Yi(s,$,p)};let g,w,S,_,N,j,C,P,O,z,R,L;if(a==="top")g=x(this.bottom),j=this.bottom-h,P=g-b,z=x(e.top)+b,L=e.bottom;else if(a==="bottom")g=x(this.top),z=e.top,L=x(e.bottom)-b,j=g+b,P=this.top+h;else if(a==="left")g=x(this.right),N=this.right-h,C=g-b,O=x(e.left)+b,R=e.right;else if(a==="right")g=x(this.left),O=e.left,R=x(e.right)-b,N=g+b,C=this.left+h;else if(n==="x"){if(a==="center")g=x((e.top+e.bottom)/2+.5);else if($e(a)){const $=Object.keys(a)[0],B=a[$];g=x(this.chart.scales[$].getPixelForValue(B))}z=e.top,L=e.bottom,j=g+b,P=j+h}else if(n==="y"){if(a==="center")g=x((e.left+e.right)/2);else if($e(a)){const $=Object.keys(a)[0],B=a[$];g=x(this.chart.scales[$].getPixelForValue(B))}N=g-b,C=N-h,O=e.left,R=e.right}const I=Te(r.ticks.maxTicksLimit,f),A=Math.max(1,Math.ceil(f/I));for(w=0;w<f;w+=A){const $=this.getContext(w),B=i.setContext($),T=o.setContext($),F=B.lineWidth,D=B.color,W=T.dash||[],G=T.dashOffset,ne=B.tickWidth,re=B.tickColor,ge=B.tickBorderDash||[],ve=B.tickBorderDashOffset;S=Z9(this,w,l),S!==void 0&&(_=Yi(s,S,F),u?N=C=O=R=_:j=P=z=L=_,m.push({tx1:N,ty1:j,tx2:C,ty2:P,x1:O,y1:z,x2:R,y2:L,width:F,color:D,borderDash:W,borderDashOffset:G,tickWidth:ne,tickColor:re,tickBorderDash:ge,tickBorderDashOffset:ve}))}return this._ticksLength=f,this._borderValue=g,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:f}=i,h=ql(s.grid),m=h+d,y=f?-d:m,p=-yr(this.labelRotation),b=[];let x,g,w,S,_,N,j,C,P,O,z,R,L="middle";if(r==="top")N=this.bottom-y,j=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+y,j=this._getXAxisLabelAlignment();else if(r==="left"){const A=this._getYAxisLabelAlignment(h);j=A.textAlign,_=A.x}else if(r==="right"){const A=this._getYAxisLabelAlignment(h);j=A.textAlign,_=A.x}else if(n==="x"){if(r==="center")N=(e.top+e.bottom)/2+m;else if($e(r)){const A=Object.keys(r)[0],$=r[A];N=this.chart.scales[A].getPixelForValue($)+m}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")_=(e.left+e.right)/2-m;else if($e(r)){const A=Object.keys(r)[0],$=r[A];_=this.chart.scales[A].getPixelForValue($)}j=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?L="top":l==="end"&&(L="bottom"));const I=this._getLabelSizes();for(x=0,g=o.length;x<g;++x){w=o[x],S=w.label;const A=i.setContext(this.getContext(x));C=this.getPixelForTick(x)+i.labelOffset,P=this._resolveTickFontOptions(x),O=P.lineHeight,z=zt(S)?S.length:1;const $=z/2,B=A.color,T=A.textStrokeColor,F=A.textStrokeWidth;let D=j;a?(_=C,j==="inner"&&(x===g-1?D=this.options.reverse?"left":"right":x===0?D=this.options.reverse?"right":"left":D="center"),r==="top"?u==="near"||p!==0?R=-z*O+O/2:u==="center"?R=-I.highest.height/2-$*O+O:R=-I.highest.height+O/2:u==="near"||p!==0?R=O/2:u==="center"?R=I.highest.height/2-$*O:R=I.highest.height-z*O,f&&(R*=-1),p!==0&&!A.showLabelBackdrop&&(_+=O/2*Math.sin(p))):(N=C,R=(1-z)*O/2);let W;if(A.showLabelBackdrop){const G=is(A.backdropPadding),ne=I.heights[x],re=I.widths[x];let ge=R-G.top,ve=0-G.left;switch(L){case"middle":ge-=ne/2;break;case"bottom":ge-=ne;break}switch(j){case"center":ve-=re/2;break;case"right":ve-=re;break;case"inner":x===g-1?ve-=re:x>0&&(ve-=re/2);break}W={left:ve,top:ge,width:re+G.width,height:ne+G.height,color:A.backdropColor}}b.push({label:S,font:P,textOffset:R,options:{rotation:p,color:B,strokeColor:T,strokeWidth:F,textAlign:D,textBaseline:L,translation:[_,N],backdrop:W}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-yr(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let u,d;return n==="left"?r?(d=this.right+i,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?u="right":s==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,s==="near"?u="left":s==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const l=r[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Yi(e,this.left,a)-a/2,d=Yi(e,this.right,o)+o/2,f=h=l):(f=Yi(e,this.top,a)-a/2,h=Yi(e,this.bottom,o)+o/2,u=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&dv(s,r);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,u=a.label,d=a.textOffset;du(s,u,0,d,l,o)}r&&fv(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=on(s.font),a=is(s.padding),o=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(l+=a.bottom,zt(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=s7(this,l,n,o);du(e,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:h,textAlign:n7(o,n,r),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Te(e.grid&&e.grid.z,-1),r=Te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Cl.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[s]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return on(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;a7(n)&&(s=this.register(n));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,r7(e,a,s),this.override&&Ct.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Ct[r]&&(delete Ct[r][s],this.override&&delete za[s])}}function r7(t,e,n){const s=au(Object.create(null),[n?Ct.get(n):{},Ct.get(e),t.defaults]);Ct.set(e,s),t.defaultRoutes&&i7(e,t.defaultRoutes),t.descriptors&&Ct.describe(e,t.descriptors)}function i7(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Ct.route(i,r,l,o)})}function a7(t){return"id"in t&&"defaults"in t}class o7{constructor(){this.controllers=new wd(wa,"datasets",!0),this.elements=new wd(Ir,"elements"),this.plugins=new wd(Object,"plugins"),this.scales=new wd(Cl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):Xe(r,a=>{const o=s||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,s){const r=av(e);ot(s["before"+r],[],s),n[e](s),ot(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Ms=new o7;class l7{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,r){r=r||{};for(const i of e){const a=i.plugin,o=a[s],l=[n,r,i.options];if(ot(o,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=Te(s.options&&s.options.plugins,{}),i=c7(s);return r===!1&&!n?[]:d7(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function c7(t){const e={},n=[],s=Object.keys(Ms.plugins.items);for(let i=0;i<s.length;i++)n.push(Ms.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function u7(t,e){return!e&&t===!1?null:t===!0?{}:t}function d7(t,{plugins:e,localIds:n},s,r){const i=[],a=t.getContext();for(const o of e){const l=o.id,u=u7(s[l],r);u!==null&&i.push({plugin:o,options:f7(t.config,{plugin:o,local:n[l]},u,a)})}return i}function f7(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(s,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ry(t,e){const n=Ct.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function h7(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function m7(t,e){return t===e?"_index_":"_value_"}function tS(t){if(t==="x"||t==="y"||t==="r")return t}function p7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function iy(t,...e){if(tS(t))return t;for(const n of e){const s=n.axis||p7(n.position)||t.length>1&&tS(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function nS(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function g7(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return nS(t,"x",n[0])||nS(t,"y",n[0])}return{}}function y7(t,e){const n=za[t.type]||{scales:{}},s=e.scales||{},r=ry(t.type,e),i=Object.create(null);return Object.keys(s).forEach(a=>{const o=s[a];if(!$e(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=iy(a,o,g7(a,t),Ct.scales[o.type]),u=m7(l,r),d=n.scales||{};i[a]=bc(Object.create(null),[{axis:l},o,d[l],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||ry(o,e),d=(za[o]||{}).scales||{};Object.keys(d).forEach(f=>{const h=h7(f,l),m=a[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),bc(i[m],[{axis:h},s[m],d[f]])})}),Object.keys(i).forEach(a=>{const o=i[a];bc(o,[Ct.scales[o.type],Ct.scale])}),i}function MO(t){const e=t.options||(t.options={});e.plugins=Te(e.plugins,{}),e.scales=y7(t,e)}function DO(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function x7(t){return t=t||{},t.data=DO(t.data),MO(t),t}const sS=new Map,OO=new Set;function Sd(t,e){let n=sS.get(t);return n||(n=e(),sS.set(t,n),OO.add(n)),n}const Ql=(t,e,n)=>{const s=La(e,n);s!==void 0&&t.add(s)};class v7{constructor(e){this._config=x7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Sd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Sd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Sd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Sd(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,a=this._cachedScopes(e,s),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(f=>Ql(l,e,f))),d.forEach(f=>Ql(l,r,f)),d.forEach(f=>Ql(l,za[i]||{},f)),d.forEach(f=>Ql(l,Ct,f)),d.forEach(f=>Ql(l,ny,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),OO.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,za[n]||{},Ct.datasets[n]||{},{type:n},Ct,ny]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=rS(this._resolverCache,e,r);let l=a;if(w7(a,n)){i.$shared=!1,s=Ii(s)?s():s;const u=this.createResolver(e,s,o);l=ul(a,s,u)}for(const u of n)i[u]=l[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=rS(this._resolverCache,e,s);return $e(n)?ul(i,n,void 0,r):i}}function rS(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:mv(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},s.set(r,i)),i}const b7=t=>$e(t)&&Object.getOwnPropertyNames(t).some(e=>Ii(t[e]));function w7(t,e){const{isScriptable:n,isIndexable:s}=mO(t);for(const r of e){const i=n(r),a=s(r),o=(a||i)&&t[r];if(i&&(Ii(o)||b7(o))||a&&zt(o))return!0}return!1}var S7="4.5.0";const _7=["top","bottom","left","right","chartArea"];function iS(t,e){return t==="top"||t==="bottom"||_7.indexOf(t)===-1&&e==="x"}function aS(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function oS(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ot(n&&n.onComplete,[t],e)}function N7(t){const e=t.chart,n=e.options.animation;ot(n&&n.onProgress,[t],e)}function AO(t){return yv()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Gd={},lS=t=>{const e=AO(t);return Object.values(Gd).filter(n=>n.canvas===e).pop()};function k7(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const a=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=a)}}}function j7(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Br;let Au=(Br=class{static register(...e){Ms.add(...e),cS()}static unregister(...e){Ms.remove(...e),cS()}constructor(e,n){const s=this.config=new v7(n),r=AO(e),i=lS(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||W9(r)),this.platform.updateConfig(s);const o=this.platform.acquireContext(r,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=SH(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new l7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$H(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Gd[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ar.listen(this,"complete",oS),ar.listen(this,"progress",N7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return Ye(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tw(this.canvas,this.ctx),this}stop(){return ar.stop(this),this}resize(e,n){ar.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,i),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Mw(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ot(s.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Xe(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=iy(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Xe(i,a=>{const o=a.options,l=o.id,u=iy(l,o),d=Te(o.type,a.dtype);(o.position===void 0||iS(o.position,u)!==iS(a.dposition))&&(o.position=a.dposition),r[l]=!0;let f=null;if(l in s&&s[l].type===d)f=s[l];else{const h=Ms.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(o,e)}),Xe(r,(a,o)=>{a||delete s[o]}),Xe(s,a=>{es.configure(this,a,a.options),es.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(aS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=o,a.indexAxis=i.indexAxis||ry(o,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const l=Ms.getController(o),{datasetElementType:u,dataElementType:d}=Ct.datasets[o];Object.assign(l,{dataElementType:Ms.getElement(d),datasetElementType:u&&Ms.getElement(u)}),a.controller=new l(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!r&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||Xe(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aS("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Xe(this.scales,e=>{es.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!xw(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;k7(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!xw(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;es.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Xe(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ii(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ar.has(this)?this.attached&&!ar.running(this)&&ar.start(this):(this.draw(),oS({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=qY(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&dv(n,r),e.controller.draw(),r&&fv(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return uu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=_9.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);ou(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(i,{visible:s}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ar.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Tw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Gd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},r=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Xe(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!Jf(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(n,e),o=s?e:i(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,a=n,o=this._getActiveElements(e,r,s,a),l=TH(e),u=j7(e,this._lastEvent,s,l);s&&(this._lastEvent=null,ot(i.onHover,[e,o,this],this),l&&ot(i.onClick,[e,o,this],this));const d=!Jf(o,r);return(d||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},k(Br,"defaults",Ct),k(Br,"instances",Gd),k(Br,"overrides",za),k(Br,"registry",Ms),k(Br,"version",S7),k(Br,"getChart",lS),Br);function cS(){return Xe(Au.instances,t=>t._plugins.invalidate())}function C7(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,f=Math.min(u/a,hs(s-n));if(t.beginPath(),t.arc(r,i,a-u/2,s+f/2,n-f/2),o>0){const h=Math.min(u/o,hs(s-n));t.arc(r,i,o+u/2,n-h/2,s+h/2,!0)}else{const h=Math.min(u/2,a*hs(s-n));if(d==="round")t.arc(r,i,h,n-Ze/2,s+Ze/2,!0);else if(d==="bevel"){const m=2*h*h,y=-m*Math.cos(n+Ze/2)+r,p=-m*Math.sin(n+Ze/2)+i,b=m*Math.cos(s+Ze/2)+r,x=m*Math.sin(s+Ze/2)+i;t.lineTo(y,p),t.lineTo(b,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function T7(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:o,innerRadius:l}=e;let u=r/o;t.beginPath(),t.arc(i,a,o,s-u,n+u),l>r?(u=r/l,t.arc(i,a,l,n+u,s-u,!0)):t.arc(i,a,r,n+Bt,s-Bt),t.closePath(),t.clip()}function P7(t){return hv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function E7(t,e,n,s){const r=P7(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,s*e/2),o=l=>{const u=(n-Math.min(i,l))*s/2;return an(l,0,Math.min(i,u))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:an(r.innerStart,0,a),innerEnd:an(r.innerEnd,0,a)}}function eo(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function ih(t,e,n,s,r,i){const{x:a,y:o,startAngle:l,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+s+n-u,0),h=d>0?d+s+n+u:0;let m=0;const y=r-l;if(s){const A=d>0?d-s:0,$=f>0?f-s:0,B=(A+$)/2,T=B!==0?y*B/(B+s):y;m=(y-T)/2}const p=Math.max(.001,y*f-n/Ze)/f,b=(y-p)/2,x=l+b+m,g=r-b-m,{outerStart:w,outerEnd:S,innerStart:_,innerEnd:N}=E7(e,h,f,g-x),j=f-w,C=f-S,P=x+w/j,O=g-S/C,z=h+_,R=h+N,L=x+_/z,I=g-N/R;if(t.beginPath(),i){const A=(P+O)/2;if(t.arc(a,o,f,P,A),t.arc(a,o,f,A,O),S>0){const F=eo(C,O,a,o);t.arc(F.x,F.y,S,O,g+Bt)}const $=eo(R,g,a,o);if(t.lineTo($.x,$.y),N>0){const F=eo(R,I,a,o);t.arc(F.x,F.y,N,g+Bt,I+Math.PI)}const B=(g-N/h+(x+_/h))/2;if(t.arc(a,o,h,g-N/h,B,!0),t.arc(a,o,h,B,x+_/h,!0),_>0){const F=eo(z,L,a,o);t.arc(F.x,F.y,_,L+Math.PI,x-Bt)}const T=eo(j,x,a,o);if(t.lineTo(T.x,T.y),w>0){const F=eo(j,P,a,o);t.arc(F.x,F.y,w,x-Bt,P)}}else{t.moveTo(a,o);const A=Math.cos(P)*f+a,$=Math.sin(P)*f+o;t.lineTo(A,$);const B=Math.cos(O)*f+a,T=Math.sin(O)*f+o;t.lineTo(B,T)}t.closePath()}function M7(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:o}=e;let l=e.endAngle;if(i){ih(t,e,n,s,l,r);for(let u=0;u<i;++u)t.fill();isNaN(o)||(l=a+(o%bt||bt))}return ih(t,e,n,s,l,r),t.fill(),l}function D7(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:o,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=l,y=l.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=h,y?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(i){ih(t,e,n,s,p,r);for(let b=0;b<i;++b)t.stroke();isNaN(o)||(p=a+(o%bt||bt))}y&&T7(t,e,p),l.selfJoin&&p-a>=Ze&&m===0&&d!=="miter"&&C7(t,e,p),i||(ih(t,e,n,s,p,r),t.stroke())}class rc extends Ir{constructor(n){super();k(this,"circumference");k(this,"endAngle");k(this,"fullCircles");k(this,"innerRadius");k(this,"outerRadius");k(this,"pixelMargin");k(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:o}=aO(i,{x:n,y:s}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),m=(this.options.spacing+this.options.borderWidth)/2,y=Te(h,u-l),p=cu(a,l,u)&&l!==u,b=y>=bt||p,x=fi(o,d+m,f+m);return b&&x}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,f=(i+a)/2,h=(o+l+d+u)/2;return{x:s+Math.cos(f)*h,y:r+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>bt?Math.floor(r/bt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(Ze,r||0)),d=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,M7(n,this,d,a,o),D7(n,this,d,a,o),n.restore()}}k(rc,"id","arc"),k(rc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),k(rc,"defaultRoutes",{backgroundColor:"backgroundColor"}),k(rc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function IO(t,e,n=e){t.lineCap=Te(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Te(n.borderDash,e.borderDash)),t.lineDashOffset=Te(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Te(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Te(n.borderWidth,e.borderWidth),t.strokeStyle=Te(n.borderColor,e.borderColor)}function O7(t,e,n){t.lineTo(n.x,n.y)}function A7(t){return t.stepped?tY:t.tension||t.cubicInterpolationMode==="monotone"?nY:O7}function RO(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:a,end:o}=e,l=Math.max(r,a),u=Math.min(i,o),d=r<a&&i<a||r>o&&i>o;return{count:s,start:l,loop:e.loop,ilen:u<l&&!d?s+u-l:u-l}}function I7(t,e,n,s){const{points:r,options:i}=e,{count:a,start:o,loop:l,ilen:u}=RO(r,n,s),d=A7(i);let{move:f=!0,reverse:h}=s||{},m,y,p;for(m=0;m<=u;++m)y=r[(o+(h?u-m:m))%a],!y.skip&&(f?(t.moveTo(y.x,y.y),f=!1):d(t,p,y,h,i.stepped),p=y);return l&&(y=r[(o+(h?u:0))%a],d(t,p,y,h,i.stepped)),!!l}function R7(t,e,n,s){const r=e.points,{count:i,start:a,ilen:o}=RO(r,n,s),{move:l=!0,reverse:u}=s||{};let d=0,f=0,h,m,y,p,b,x;const g=S=>(a+(u?o-S:S))%i,w=()=>{p!==b&&(t.lineTo(d,b),t.lineTo(d,p),t.lineTo(d,x))};for(l&&(m=r[g(0)],t.moveTo(m.x,m.y)),h=0;h<=o;++h){if(m=r[g(h)],m.skip)continue;const S=m.x,_=m.y,N=S|0;N===y?(_<p?p=_:_>b&&(b=_),d=(f*d+S)/++f):(w(),t.lineTo(S,_),y=N,f=0,p=b=_),x=_}w()}function ay(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?R7:I7}function F7(t){return t.stepped?AY:t.tension||t.cubicInterpolationMode==="monotone"?IY:Ji}function L7(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),IO(t,e.options),t.stroke(r)}function z7(t,e,n,s){const{segments:r,options:i}=e,a=ay(e);for(const o of r)IO(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const V7=typeof Path2D=="function";function $7(t,e,n,s){V7&&!e.options.segment?L7(t,e,n,s):z7(t,e,n,s)}class yo extends Ir{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;jY(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=UY(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,a=VY(this,{property:n,start:r,end:r});if(!a.length)return;const o=[],l=F7(s);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:h}=a[u],m=i[f],y=i[h];if(m===y){o.push(m);continue}const p=Math.abs((r-m[n])/(y[n]-m[n])),b=l(m,y,p,s.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,s){return ay(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=ay(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const o of r)a&=i(e,this,o,{start:n,end:n+s-1});return!!a}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),$7(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}k(yo,"id","line"),k(yo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),k(yo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),k(yo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function uS(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Nc extends Ir{constructor(n){super();k(this,"parsed");k(this,"skip");k(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return uS(this,n,"x",s)}inYRange(n,s){return uS(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!uu(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,sy(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}k(Nc,"id","point"),k(Nc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),k(Nc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function FO(t,e){const{x:n,y:s,base:r,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,d,f;return t.horizontal?(f=a/2,o=Math.min(n,r),l=Math.max(n,r),u=s-f,d=s+f):(f=i/2,o=n-f,l=n+f,u=Math.min(s,r),d=Math.max(s,r)),{left:o,top:u,right:l,bottom:d}}function hi(t,e,n,s){return t?0:an(e,n,s)}function B7(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=hO(s);return{t:hi(r.top,i.top,0,n),r:hi(r.right,i.right,0,e),b:hi(r.bottom,i.bottom,0,n),l:hi(r.left,i.left,0,e)}}function U7(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Mo(r),a=Math.min(e,n),o=t.borderSkipped,l=s||$e(r);return{topLeft:hi(!l||o.top||o.left,i.topLeft,0,a),topRight:hi(!l||o.top||o.right,i.topRight,0,a),bottomLeft:hi(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:hi(!l||o.bottom||o.right,i.bottomRight,0,a)}}function W7(t){const e=FO(t),n=e.right-e.left,s=e.bottom-e.top,r=B7(t,n/2,s/2),i=U7(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function gp(t,e,n,s){const r=e===null,i=n===null,o=t&&!(r&&i)&&FO(t,s);return o&&(r||fi(e,o.left,o.right))&&(i||fi(n,o.top,o.bottom))}function H7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Y7(t,e){t.rect(e.x,e.y,e.w,e.h)}function yp(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+a,radius:t.radius}}class Xd extends Ir{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=W7(this),o=H7(a.radius)?nh:Y7;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,yp(a,n,i)),e.clip(),o(e,yp(i,-n,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),o(e,yp(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return gp(this,e,n,s)}inXRange(e,n){return gp(this,e,null,n)}inYRange(e,n){return gp(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}k(Xd,"id","bar"),k(Xd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),k(Xd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dS=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},q7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class fS extends Ir{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ot(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=on(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=dS(s,i);let u,d;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,r,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+o;let f=e;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((y,p)=>{const b=s+n/2+i.measureText(y.text).width;(p===0||u[u.length-1]+b+2*o>a)&&(f+=d,u[u.length-(p>0?0:1)]=0,m+=d,h++),l[p]={left:0,top:m,row:h,width:b,height:r},u[u.length-1]+=b+o}),f}_fitCols(e,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let f=o,h=0,m=0,y=0,p=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:g,itemHeight:w}=Q7(s,n,i,b,r);x>0&&m+w+2*o>d&&(f+=h+o,u.push({width:h,height:m}),y+=h+o,p++,h=m=0),l[x]={left:y,top:m,col:p,width:g,height:w},h=Math.max(h,g),m+=w+o}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=Do(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=sn(s,this.left+r,this.right-this.lineWidths[o]);for(const u of n)o!==u.row&&(o=u.row,l=sn(s,this.left+r,this.right-this.lineWidths[o])),u.top+=this.top+e+r,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+r}else{let o=0,l=sn(s,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const u of n)u.col!==o&&(o=u.col,l=sn(s,this.top+e+r,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+r,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;dv(e,this),this._draw(),fv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=e,o=Ct.color,l=Do(e.rtl,this.left,this.width),u=on(a.font),{padding:d}=a,f=u.size,h=f/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:y,boxHeight:p,itemHeight:b}=dS(a,f),x=function(N,j,C){if(isNaN(y)||y<=0||isNaN(p)||p<0)return;r.save();const P=Te(C.lineWidth,1);if(r.fillStyle=Te(C.fillStyle,o),r.lineCap=Te(C.lineCap,"butt"),r.lineDashOffset=Te(C.lineDashOffset,0),r.lineJoin=Te(C.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=Te(C.strokeStyle,o),r.setLineDash(Te(C.lineDash,[])),a.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:P},z=l.xPlus(N,y/2),R=j+h;fO(r,O,z,R,a.pointStyleWidth&&y)}else{const O=j+Math.max((f-p)/2,0),z=l.leftForLtr(N,y),R=Mo(C.borderRadius);r.beginPath(),Object.values(R).some(L=>L!==0)?nh(r,{x:z,y:O,w:y,h:p,radius:R}):r.rect(z,O,y,p),r.fill(),P!==0&&r.stroke()}r.restore()},g=function(N,j,C){du(r,C.text,N,j+b/2,u,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?m={x:sn(i,this.left+d,this.right-s[0]),y:this.top+d+S,line:0}:m={x:this.left+d,y:sn(i,this.top+S+d,this.bottom-n[0].height),line:0},vO(this.ctx,e.textDirection);const _=b+d;this.legendItems.forEach((N,j)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;const C=r.measureText(N.text).width,P=l.textAlign(N.textAlign||(N.textAlign=a.textAlign)),O=y+h+C;let z=m.x,R=m.y;l.setWidth(this.width),w?j>0&&z+O+d>this.right&&(R=m.y+=_,m.line++,z=m.x=sn(i,this.left+d,this.right-s[m.line])):j>0&&R+_>this.bottom&&(z=m.x=z+n[m.line].width+d,m.line++,R=m.y=sn(i,this.top+S+d,this.bottom-n[m.line].height));const L=l.x(z);if(x(L,R,N),z=BH(P,z+y+h,w?z+O:this.right,e.rtl),g(l.x(z),R,N),w)m.x+=O+d;else if(typeof N.text!="string"){const I=u.lineHeight;m.y+=LO(N,I)+d}else m.y+=_}),bO(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=on(n.font),r=is(n.padding);if(!n.display)return;const i=Do(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=s.size/2,u=r.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=sn(e.align,f,this.right-h);else{const y=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);d=u+sn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=sn(o,f,f+h);a.textAlign=i.textAlign(lv(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,du(a,n.text,m,d,s)}_computeTitleHeight(){const e=this.options.title,n=on(e.font),s=is(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(fi(e,this.left,this.right)&&fi(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],fi(e,r.left,r.left+r.width)&&fi(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!X7(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=q7(r,s);r&&!i&&ot(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&ot(n.onHover,[e,s,this],this)}else s&&ot(n.onClick,[e,s,this],this)}}function Q7(t,e,n,s,r){const i=K7(s,t,e,n),a=G7(r,s,e.lineHeight);return{itemWidth:i,itemHeight:a}}function K7(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+s.measureText(r).width}function G7(t,e,n){let s=t;return typeof e.text!="string"&&(s=LO(e,n)),s}function LO(t,e){const n=t.text?t.text.length:0;return e*n}function X7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var zO={id:"legend",_element:fS,start(t,e,n){const s=t.legend=new fS({ctx:t.ctx,options:n,chart:t});es.configure(t,s,n),es.addBox(t,s)},stop(t){es.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;es.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),d=is(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class VO extends Ir{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=zt(s.text)?s.text.length:1;this._padding=is(s.padding);const i=r*on(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:a}=this,o=a.align;let l=0,u,d,f;return this.isHorizontal()?(d=sn(o,s,i),f=n+e,u=i-s):(a.position==="left"?(d=s+e,f=sn(o,r,n),l=Ze*-.5):(d=i-e,f=sn(o,n,r),l=Ze*.5),u=r-n),{titleX:d,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=on(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(i);du(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:u,textAlign:lv(n.align),textBaseline:"middle",translation:[a,o]})}}function Z7(t,e){const n=new VO({ctx:t.ctx,options:e,chart:t});es.configure(t,n,e),es.addBox(t,n),t.titleBlock=n}var $O={id:"title",_element:VO,start(t,e,n){Z7(t,n)},stop(t){const e=t.titleBlock;es.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;es.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ic={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((o,l)=>o+l)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=ty(e,u);d<r&&(r=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Ps(t,e){return e&&(zt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function or(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function J7(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:a,value:o}=i.getLabelAndValue(r);return{chart:t,label:a,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:o,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function hS(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=on(e.bodyFont),u=on(e.titleFont),d=on(e.footerFont),f=i.length,h=r.length,m=s.length,y=is(e.padding);let p=y.height,b=0,x=s.reduce((S,_)=>S+_.before.length+_.lines.length+_.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=m*S+(x-m)*l.lineHeight+(x-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let g=0;const w=function(S){b=Math.max(b,n.measureText(S).width+g)};return n.save(),n.font=u.string,Xe(t.title,w),n.font=l.string,Xe(t.beforeBody.concat(t.afterBody),w),g=e.displayColors?a+2+e.boxPadding:0,Xe(s,S=>{Xe(S.before,w),Xe(S.lines,w),Xe(S.after,w)}),g=0,n.font=d.string,Xe(t.footer,w),n.restore(),b+=y.width,{width:b,height:p}}function eq(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function tq(t,e,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(t==="left"&&r+i+a>e.width||t==="right"&&r-i-a<0)return!0}function nq(t,e,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return s==="center"?u=r<=(o+l)/2?"left":"right":r<=i/2?u="left":r>=a-i/2&&(u="right"),tq(u,t,e,n)&&(u="center"),u}function mS(t,e,n){const s=n.yAlign||e.yAlign||eq(t,n);return{xAlign:n.xAlign||e.xAlign||nq(t,e,n,s),yAlign:s}}function sq(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function rq(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function pS(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,u=r+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Mo(a);let y=sq(e,o);const p=rq(e,l,u);return l==="center"?o==="left"?y+=u:o==="right"&&(y-=u):o==="left"?y-=Math.max(d,h)+r:o==="right"&&(y+=Math.max(f,m)+r),{x:an(y,0,s.width-e.width),y:an(p,0,s.height-e.height)}}function _d(t,e,n){const s=is(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function gS(t){return Ps([],or(t))}function iq(t,e,n){return Ya(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function yS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const BO={beforeTitle:sr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:sr,beforeBody:sr,beforeLabel:sr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ye(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:sr,afterBody:sr,beforeFooter:sr,footer:sr,afterFooter:sr};function Sn(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?BO[e].call(n,s):r}class oy extends Ir{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new SO(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=iq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Sn(s,"beforeTitle",this,e),i=Sn(s,"title",this,e),a=Sn(s,"afterTitle",this,e);let o=[];return o=Ps(o,or(r)),o=Ps(o,or(i)),o=Ps(o,or(a)),o}getBeforeBody(e,n){return gS(Sn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return Xe(e,i=>{const a={before:[],lines:[],after:[]},o=yS(s,i);Ps(a.before,or(Sn(o,"beforeLabel",this,i))),Ps(a.lines,Sn(o,"label",this,i)),Ps(a.after,or(Sn(o,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(e,n){return gS(Sn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Sn(s,"beforeFooter",this,e),i=Sn(s,"footer",this,e),a=Sn(s,"afterFooter",this,e);let o=[];return o=Ps(o,or(r)),o=Ps(o,or(i)),o=Ps(o,or(a)),o}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let o=[],l,u;for(l=0,u=n.length;l<u;++l)o.push(J7(this.chart,n[l]));return e.filter&&(o=o.filter((d,f,h)=>e.filter(d,f,h,s))),e.itemSort&&(o=o.sort((d,f)=>e.itemSort(d,f,s))),Xe(o,d=>{const f=yS(e.callbacks,d);r.push(Sn(f,"labelColor",this,d)),i.push(Sn(f,"labelPointStyle",this,d)),a.push(Sn(f,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const o=ic[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const l=this._size=hS(this,s),u=Object.assign({},o,l),d=mS(this.chart,s,u),f=pS(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:o}=s,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:f}=Mo(o),{x:h,y:m}=e,{width:y,height:p}=n;let b,x,g,w,S,_;return i==="center"?(S=m+p/2,r==="left"?(b=h,x=b-a,w=S+a,_=S-a):(b=h+y,x=b+a,w=S-a,_=S+a),g=b):(r==="left"?x=h+Math.max(l,d)+a:r==="right"?x=h+y-Math.max(u,f)-a:x=this.caretX,i==="top"?(w=m,S=w-a,b=x-a,g=x+a):(w=m+p,S=w+a,b=x+a,g=x-a),_=w),{x1:b,x2:x,x3:g,y1:w,y2:S,y3:_}}drawTitle(e,n,s){const r=this.title,i=r.length;let a,o,l;if(i){const u=Do(s.rtl,this.x,this.width);for(e.x=_d(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",a=on(s.titleFont),o=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(r[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=s.titleMarginBottom-o)}}_drawColorBox(e,n,s,r,i){const a=this.labelColors[s],o=this.labelPointStyles[s],{boxHeight:l,boxWidth:u}=i,d=on(i.bodyFont),f=_d(this,"left",i),h=r.x(f),m=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+m;if(i.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=r.leftForLtr(h,u)+u/2,x=y+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,sy(e,p,b,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,sy(e,p,b,x)}else{e.lineWidth=$e(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=r.leftForLtr(h,u),b=r.leftForLtr(r.xPlus(h,1),u-2),x=Mo(a.borderRadius);Object.values(x).some(g=>g!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,nh(e,{x:p,y,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),nh(e,{x:b,y:y+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(p,y,u,l),e.strokeRect(p,y,u,l),e.fillStyle=a.backgroundColor,e.fillRect(b,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=s,f=on(s.bodyFont);let h=f.lineHeight,m=0;const y=Do(s.rtl,this.x,this.width),p=function(C){n.fillText(C,y.x(e.x+m),e.y+h/2),e.y+=h+i},b=y.textAlign(a);let x,g,w,S,_,N,j;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=_d(this,b,s),n.fillStyle=s.bodyColor,Xe(this.beforeBody,p),m=o&&b!=="right"?a==="center"?u/2+d:u+2+d:0,S=0,N=r.length;S<N;++S){for(x=r[S],g=this.labelTextColors[S],n.fillStyle=g,Xe(x.before,p),w=x.lines,o&&w.length&&(this._drawColorBox(n,e,S,y,s),h=Math.max(f.lineHeight,l)),_=0,j=w.length;_<j;++_)p(w[_]),h=f.lineHeight;Xe(x.after,p)}m=0,h=f.lineHeight,Xe(this.afterBody,p),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let a,o;if(i){const l=Do(s.rtl,this.x,this.width);for(e.x=_d(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",a=on(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=s,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:y}=Mo(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+f,l),a==="top"&&this.drawCaret(e,n,s,r),n.lineTo(o+u-h,l),n.quadraticCurveTo(o+u,l,o+u,l+h),a==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(o+u,l+d-y),n.quadraticCurveTo(o+u,l+d,o+u-y,l+d),a==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(o+m,l+d),n.quadraticCurveTo(o,l+d,o,l+d-m),a==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(o,l+f),n.quadraticCurveTo(o,l,o+f,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=ic[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=hS(this,e),l=Object.assign({},a,this._size),u=mS(n,e,l),d=pS(e,l,u,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=is(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),vO(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),bO(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),i=!Jf(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,s),o=this._positionChanged(a,e),l=n||!Jf(a,i)||o;return l&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,a=ic[i.position].call(this,e,n);return a!==!1&&(s!==a.x||r!==a.y)}}k(oy,"positioners",ic);var UO={id:"tooltip",_element:oy,positioners:ic,afterInit(t,e,n){n&&(t.tooltip=new oy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:BO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const aq=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function oq(t,e,n,s){const r=t.indexOf(e);if(r===-1)return aq(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const lq=(t,e)=>t===null?null:an(Math.round(t),0,e);function xS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ah extends Cl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ye(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:oq(s,e,Te(n,e),this._addedLabels),lq(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return xS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}k(ah,"id","category"),k(ah,"defaults",{ticks:{callback:xS}});function cq(t,e){const n=[],{bounds:r,step:i,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,m=i||1,y=d-1,{min:p,max:b}=e,x=!Ye(a),g=!Ye(o),w=!Ye(u),S=(b-p)/(f+1);let _=bw((b-p)/y/m)*m,N,j,C,P;if(_<1e-14&&!x&&!g)return[{value:p},{value:b}];P=Math.ceil(b/_)-Math.floor(p/_),P>y&&(_=bw(P*_/y/m)*m),Ye(l)||(N=Math.pow(10,l),_=Math.ceil(_*N)/N),r==="ticks"?(j=Math.floor(p/_)*_,C=Math.ceil(b/_)*_):(j=p,C=b),x&&g&&i&&OH((o-a)/i,_/1e3)?(P=Math.round(Math.min((o-a)/_,d)),_=(o-a)/P,j=a,C=o):w?(j=x?a:j,C=g?o:C,P=u-1,_=(C-j)/P):(P=(C-j)/_,wc(P,Math.round(P),_/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(ww(_),ww(j));N=Math.pow(10,Ye(l)?O:l),j=Math.round(j*N)/N,C=Math.round(C*N)/N;let z=0;for(x&&(h&&j!==a?(n.push({value:a}),j<a&&z++,wc(Math.round((j+z*_)*N)/N,a,vS(a,S,t))&&z++):j<a&&z++);z<P;++z){const R=Math.round((j+z*_)*N)/N;if(g&&R>o)break;n.push({value:R})}return g&&h&&C!==o?n.length&&wc(n[n.length-1].value,o,vS(o,S,t))?n[n.length-1].value=o:n.push({value:o}):(!g||C===o)&&n.push({value:C}),n}function vS(t,e,{horizontal:n,minRotation:s}){const r=yr(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class uq extends Cl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=l=>r=n?r:l,o=l=>i=s?i:l;if(e){const l=qs(r),u=qs(i);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=cq(r,i);return e.bounds==="ticks"&&AH(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return uv(e,this.chart.options.locale,this.options.ticks.format)}}class oh extends uq{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=rs(e)?e:0,this.max=rs(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=yr(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}k(oh,"id","linear"),k(oh,"defaults",{ticks:{callback:dO.formatters.numeric}});const Zh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(Zh);function bS(t,e){return t-e}function wS(t,e){if(Ye(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),rs(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(lu(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function SS(t,e,n,s){const r=Cn.length;for(let i=Cn.indexOf(t);i<r-1;++i){const a=Zh[Cn[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=s)return Cn[i]}return Cn[r-1]}function dq(t,e,n,s,r){for(let i=Cn.length-1;i>=Cn.indexOf(n);i--){const a=Cn[i];if(Zh[a].common&&t._adapter.diff(r,s,a)>=e-1)return a}return Cn[n?Cn.indexOf(n):0]}function fq(t){for(let e=Cn.indexOf(t)+1,n=Cn.length;e<n;++e)if(Zh[Cn[e]].common)return Cn[e]}function _S(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=ov(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function hq(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+r.add(o,1,s))l=n[o],l>=0&&(e[l].major=!0);return e}function NS(t,e,n){const s=[],r={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],r[o]=a,s.push({value:o,major:!1});return i===0||!n?s:hq(t,s,r,n)}class fl extends Cl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new kO._date(e.adapters.date);r.init(n),bc(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:wS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=rs(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=rs(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,o=zH(r,i,a);return this._unit=n.unit||(s.autoSkip?SS(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):dq(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:fq(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),NS(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=an(n,0,a),s=an(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||SS(i.minUnit,n,s,this._getLabelCapacity(n)),o=Te(r.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,u=lu(l)||l===!0,d={};let f=n,h,m;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":a),e.diff(s,n,a)>1e5*o)throw new Error(n+" and "+s+" are too far apart with stepSize of "+o+" "+a);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<s;h=+e.add(h,o,a),m++)_S(d,h,y);return(h===s||r.bounds==="ticks"||m===1)&&_S(d,h,y),Object.keys(d).sort(bS).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return ot(a,[e,n,s],this);const o=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],f=u&&o[u],h=s[n],m=u&&f&&h&&h.major;return this._adapter.format(e,r||(m?f:d))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=yr(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:s*i+o*a,h:s*a+o*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,NS(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(wS(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return lO(e.sort(bS))}}k(fl,"id","time"),k(fl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Nd(t,e,n){let s=0,r=t.length-1,i,a,o,l;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=oa(t,"pos",e)),{pos:i,time:o}=t[s],{pos:a,time:l}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=oa(t,"time",e)),{time:i,pos:o}=t[s],{time:a,pos:l}=t[r]);const u=a-i;return u?o+(l-o)*(e-i)/u:o}class kS extends fl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Nd(n,this.min),this._tableRange=Nd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,o=r.length;a<o;++a)d=r[a+1],l=r[a-1],u=r[a],Math.round((d+l)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Nd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Nd(this._table,s*this._tableRange+this._minPos,!0)}}k(kS,"id","timeseries"),k(kS,"defaults",fl.defaults);const WO="label";function jS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function mq(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function HO(t,e){t.labels=e}function YO(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:WO;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function pq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WO;const n={labels:[],datasets:[]};return HO(n,t.labels),YO(n,t.datasets,e),n}function gq(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:u=[],fallbackContent:d,updateMode:f,...h}=t,m=v.useRef(null),y=v.useRef(null),p=()=>{m.current&&(y.current=new Au(m.current,{type:a,data:pq(o,i),options:l&&{...l},plugins:u}),jS(e,y.current))},b=()=>{jS(e,null),y.current&&(y.current.destroy(),y.current=null)};return v.useEffect(()=>{!r&&y.current&&l&&mq(y.current,l)},[r,l]),v.useEffect(()=>{!r&&y.current&&HO(y.current.config.data,o.labels)},[r,o.labels]),v.useEffect(()=>{!r&&y.current&&o.datasets&&YO(y.current.config.data,o.datasets,i)},[r,o.datasets]),v.useEffect(()=>{y.current&&(r?(b(),setTimeout(p)):y.current.update(f))},[r,l,o.labels,o.datasets,f]),v.useEffect(()=>{y.current&&(b(),setTimeout(p))},[a]),v.useEffect(()=>(p(),()=>b()),[]),ye.createElement("canvas",{ref:m,role:"img",height:n,width:s,...h},d)}const yq=v.forwardRef(gq);function bv(t,e){return Au.register(e),v.forwardRef((n,s)=>ye.createElement(yq,{...n,ref:s,type:t}))}const qO=bv("line",Qd),xq=bv("bar",qd),xp=bv("doughnut",nc);/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const vq={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};kO._date.override({_id:"date-fns",formats:function(){return vq},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=de(t):n==="string"&&(typeof e=="string"?t=SU(t,e,new Date,this.options):t=Uh(t,this.options)),ND(t)?t.getTime():null},format:function(t,e){return Me(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return $h(t,e);case"second":return mB(t,e);case"minute":return fB(t,e);case"hour":return cB(t,e);case"day":return Nl(t,e);case"week":return pB(t,e);case"month":return Pu(t,e);case"quarter":return hB(t,e);case"year":return gB(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return Bh(t,e);case"second":return kB(t,e);case"minute":return SB(t,e);case"hour":return wB(t,e);case"day":return kD(t,e);case"week":return jB(t,e);case"month":return CD(t,e);case"quarter":return NB(t,e);case"year":return CB(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return jU(t);case"minute":return PB(t);case"hour":return NU(t);case"day":return ll(t);case"week":return Xs(t);case"isoWeek":return Xs(t,{weekStartsOn:+n});case"month":return TD(t);case"quarter":return EB(t);case"year":return PD(t);default:return t}},endOf:function(t,e){switch(e){case"second":return RB(t);case"minute":return AB(t);case"hour":return DB(t);case"day":return jD(t);case"week":return OB(t);case"month":return Qx(t);case"quarter":return IB(t);case"year":return MB(t);default:return t}}});Au.register(ah,oh,Nc,yo,Xd,$O,UO,zO,fl);const CS=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}],TS=(t,e)=>{const n=t/e*100;if(n<=0)return"#ef4444";if(n>=100)return"#22c55e";if(n<=50){const s=n/50,r=239,i=Math.round(68+166*s);return`rgb(${r}, ${i}, 68)`}else{const s=(n-50)/50,r=Math.round(234-200*s),i=Math.round(234-37*s),a=Math.round(68+26*s);return`rgb(${r}, ${i}, ${a})`}};function wv({title:t,data:e,lineColor:n="#3b82f6",backgroundColor:s="rgba(59, 130, 246, 0.1)",yAxisLabel:r="Y Axis",chartType:i="line",goalValue:a=8}){const[o,l]=v.useState("7d"),u=x=>{var g;return((g=CS.find(w=>w.value===x))==null?void 0:g.days)||7},f=(()=>{const x=u(o),g=new Date,w=cl(g,x-1);return e.filter(S=>{const _=new Date(S.date);return _>=ll(w)&&_<=g})})(),m=(()=>{const x=u(o),g=[],w=new Date;for(let S=x-1;S>=0;S--)g.push(Me(cl(w,S),"yyyy-MM-dd"));return g})(),y=m.map(x=>{const g=f.find(w=>Me(new Date(w.date),"yyyy-MM-dd")===x);return g?g.value:null}),p={labels:m,datasets:[{label:t,data:y,...i==="bar"?{backgroundColor:y.map(x=>x!==null?TS(x,a):"transparent"),borderColor:y.map(x=>x!==null?TS(x,a):"transparent"),borderWidth:1,barThickness:20,maxBarThickness:30}:{borderColor:n,backgroundColor:s,borderWidth:2,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,spanGaps:!1}}]},b={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:n,borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:r,color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Et,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:t}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:CS.map(x=>c.jsx(q,{variant:o===x.value?"default":"ghost",size:"sm",onClick:()=>l(x.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${o===x.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:x.label},x.value))})]})}),c.jsx(ce,{className:"pt-0",children:c.jsx("div",{className:"h-64 w-full",children:i==="bar"?c.jsx(xq,{data:p,options:b}):c.jsx(qO,{data:p,options:b})})})]})}function bq(){const[,t]=dt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs(c.Fragment,{children:[c.jsx(Pt,{title:"Progress",showBackButton:!1,onBack:e,showHomeButton:!0}),c.jsx("div",{className:"app-gradient-bg",children:c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(wv,{title:"Progress Tracking",data:[{date:"2024-01-01",value:75},{date:"2024-01-02",value:78},{date:"2024-01-03",value:82},{date:"2024-01-04",value:80},{date:"2024-01-05",value:85},{date:"2024-01-06",value:88},{date:"2024-01-07",value:90}],lineColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",yAxisLabel:"Progress Score"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-trophy text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Achievements"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Streak"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(Ar,{})]})})})]})}function wq(){const[,t]=dt(),{data:e=[],isLoading:n}=It({queryKey:["/api/goals"],queryFn:()=>De("GET","/api/goals")}),s=()=>{window.history.length>1?window.history.back():t("/")},r=o=>o.targetValueSecondary&&o.targetUnitSecondary?`${o.targetValuePrimary} ${o.targetUnitPrimary} ${o.targetValueSecondary} ${o.targetUnitSecondary}`:`${o.targetValuePrimary} ${o.targetUnitPrimary}`,i=o=>{switch(o){case"sleep":return"fa-bed";case"nutrition":return"fa-utensils";case"daily_move":return"fa-running";default:return"fa-bullseye"}},a=o=>{switch(o){case"sleep":return"text-purple-500";case"nutrition":return"text-green-500";case"daily_move":return"text-blue-500";default:return"text-gray-500"}};return c.jsxs(c.Fragment,{children:[c.jsx(Pt,{title:"Goals",showBackButton:!1,onBack:s,showHomeButton:!0}),c.jsx("div",{className:"app-gradient-bg",children:c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(ce,{className:"p-4",children:c.jsxs(q,{onClick:()=>t("/add-goal"),className:"w-full bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-700 hover:to-purple-700 text-white shadow-lg h-14",children:[c.jsx("i",{className:"fas fa-plus mr-3 text-lg"}),c.jsx("span",{className:"text-lg font-medium",children:"Add New Goal"})]})})}),n?c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsxs(ce,{className:"p-8 text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading goals..."})]})}):e.length>0?c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Et,{children:c.jsxs(Mt,{className:"text-xl font-semibold text-gray-800 flex items-center",children:[c.jsx("i",{className:"fas fa-bullseye text-green-500 mr-3"}),"Your Goals (",e.length,")"]})}),c.jsx(ce,{className:"space-y-4",children:e.map(o=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center",children:c.jsx("i",{className:`fas ${i(o.goalType)} ${a(o.goalType)} text-xl`})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:o.goalName}),c.jsx("p",{className:"text-sm text-gray-600 capitalize",children:o.goalType.replace("_"," ")})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-semibold text-gray-900",children:r(o)}),c.jsx("p",{className:"text-sm text-gray-500",children:"Target"})]})]},o.id))})]}):c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:c.jsx(ce,{children:c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-bullseye text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Goals Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first goal to start tracking your progress and staying motivated."}),c.jsxs(q,{onClick:()=>t("/add-goal"),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Your First Goal"]})]})})})}),c.jsx(Ar,{})]})})})]})}const kd=[{id:"sleep",label:"Sleep",icon:"fa-bed",color:"text-purple-500",description:"Track your daily sleep duration",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"8",secondary:"30"}},{id:"nutrition",label:"Nutrition",icon:"fa-utensils",color:"text-green-500",description:"Track your daily calorie intake",primaryUnit:"calories",secondaryUnit:null,placeholder:{primary:"2000",secondary:null}},{id:"daily_move",label:"Daily Move",icon:"fa-running",color:"text-blue-500",description:"Track your daily movement/exercise time",primaryUnit:"hours",secondaryUnit:"minutes",placeholder:{primary:"1",secondary:"30"}}],Sq=Er({goalType:we().min(1,"Please select a goal type"),goalName:we().min(1,"Goal name is required"),targetValuePrimary:we().min(1,"Target value is required"),targetValueSecondary:we().optional(),customGoalType:we().optional()});function _q(){const[,t]=dt(),[e,n]=v.useState(""),[s,r]=v.useState(!1),i=Dn(),{toast:a}=Ut(),o=wl({resolver:Sl(Sq),defaultValues:{goalType:"",goalName:"",targetValuePrimary:"",targetValueSecondary:"",customGoalType:""}}),l=At({mutationFn:async m=>De("POST","/api/goals",m),onSuccess:()=>{a({title:"Success",description:"Goal created successfully!"}),i.invalidateQueries({queryKey:["/api/goals"]}),t("/goals")},onError:()=>{a({title:"Error",description:"Failed to create goal. Please try again.",variant:"destructive"})}}),u=()=>{window.history.length>1?window.history.back():t("/goals")},d=m=>{if(m==="custom")r(!0),n("custom"),o.setValue("goalType","custom"),o.setValue("goalName","");else{r(!1),n(m),o.setValue("goalType",m);const y=kd.find(p=>p.id===m);y&&(o.setValue("goalName",y.label+" Goal"),o.setValue("targetValuePrimary",y.placeholder.primary),o.setValue("targetValueSecondary",y.placeholder.secondary||""))}},f=m=>{const y=kd.find(x=>x.id===m.goalType),b={goalType:s?m.customGoalType||"custom":m.goalType,goalName:m.goalName,targetValuePrimary:parseFloat(m.targetValuePrimary),targetUnitPrimary:(y==null?void 0:y.primaryUnit)||"units",targetValueSecondary:m.targetValueSecondary?parseFloat(m.targetValueSecondary):null,targetUnitSecondary:(y==null?void 0:y.secondaryUnit)||null};l.mutate(b)},h=kd.find(m=>m.id===e);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Pt,{title:"Add Goal",showBackButton:!0,onBack:u}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-6",children:[!e&&c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Et,{children:c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"Choose Goal Type"})}),c.jsxs(ce,{className:"space-y-4",children:[c.jsx("div",{className:"space-y-3",children:kd.map(m=>c.jsx("div",{children:c.jsx(q,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d(m.id),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:`fas ${m.icon} ${m.color} text-xl`}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:m.label}),c.jsx("div",{className:"text-sm text-gray-500",children:m.description})]})]})})},m.id))}),c.jsx("div",{className:"border-t pt-4 mt-4",children:c.jsx(q,{variant:"outline",className:"w-full justify-start h-auto p-4 text-left",onClick:()=>d("custom"),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("i",{className:"fas fa-plus text-gray-500 text-xl"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Custom Goal"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Create your own goal type"})]})]})})})]})]}),e&&c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Et,{children:c.jsxs(Mt,{className:"text-lg font-semibold text-gray-800 flex items-center",children:[h&&c.jsx("i",{className:`fas ${h.icon} ${h.color} mr-3`}),s?"Custom Goal":h==null?void 0:h.label,c.jsx(q,{variant:"ghost",size:"sm",className:"ml-auto",onClick:()=>{n(""),r(!1),o.reset()},children:c.jsx("i",{className:"fas fa-arrow-left"})})]})}),c.jsx(ce,{children:c.jsx(BD,{...o,children:c.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-6",children:[s&&c.jsx(ia,{control:o.control,name:"customGoalType",render:({field:m})=>c.jsxs(oi,{children:[c.jsx(li,{children:"Goal Category"}),c.jsx(ci,{children:c.jsx(je,{placeholder:"e.g., water_intake, steps, meditation",...m})}),c.jsx(ui,{})]})}),c.jsx(ia,{control:o.control,name:"goalName",render:({field:m})=>c.jsxs(oi,{children:[c.jsx(li,{children:"Goal Name"}),c.jsx(ci,{children:c.jsx(je,{placeholder:"Enter a name for this goal",...m})}),c.jsx(ui,{})]})}),c.jsx(ia,{control:o.control,name:"targetValuePrimary",render:({field:m})=>c.jsxs(oi,{children:[c.jsxs(li,{children:["Target ",(h==null?void 0:h.primaryUnit)||"Value",(h==null?void 0:h.primaryUnit)&&c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.primaryUnit,")"]})]}),c.jsx(ci,{children:c.jsx(je,{type:"number",step:"0.1",placeholder:(h==null?void 0:h.placeholder.primary)||"0",...m})}),c.jsx(ui,{})]})}),(h==null?void 0:h.secondaryUnit)&&c.jsx(ia,{control:o.control,name:"targetValueSecondary",render:({field:m})=>c.jsxs(oi,{children:[c.jsxs(li,{children:["Additional ",h.secondaryUnit,c.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["(",h.secondaryUnit,") - optional"]})]}),c.jsx(ci,{children:c.jsx(je,{type:"number",step:"1",min:"0",max:"59",placeholder:(h==null?void 0:h.placeholder.secondary)||"0",...m})}),c.jsx(ui,{})]})}),c.jsx(q,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating Goal..."]}):c.jsxs(c.Fragment,{children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Create Goal"]})})]})})})]})]})})]})}function Nq(){const[,t]=dt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Workouts",showBackButton:!1,showHomeButton:!0,onBack:e}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(wv,{title:"Workout Intensity",data:[{date:"2024-01-01",value:6},{date:"2024-01-02",value:8},{date:"2024-01-03",value:7},{date:"2024-01-04",value:9},{date:"2024-01-05",value:6},{date:"2024-01-06",value:8},{date:"2024-01-07",value:7}],lineColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",yAxisLabel:"Intensity (1-10)"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fist-raised text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Strength"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-heartbeat text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Cardio"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-leaf text-green-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Flexibility"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-stopwatch text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"HIIT"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(Ar,{})]})})]})}Au.register(ah,oh,Nc,yo,$O,UO,zO,fl,rc);const PS=[{value:"7d",label:"7D",days:7},{value:"14d",label:"14D",days:14},{value:"30d",label:"30D",days:30},{value:"90d",label:"90D",days:90}];function kq(){const[t,e]=v.useState("7d"),{data:n=[],error:s,isLoading:r}=It({queryKey:["/api/macros"]}),{data:i,error:a,isLoading:o}=It({queryKey:["/api/macro-targets"]});console.log("NutritionChart Debug:",{allMacros:n,macroTargets:i,macrosError:s,targetsError:a,macrosLoading:r,targetsLoading:o}),n.length>0&&console.log("Sample macro dates:",n.slice(0,3).map(P=>({id:P.id,date:P.date,dateType:typeof P.date})));const l=P=>{var O;return((O=PS.find(z=>z.value===P))==null?void 0:O.days)||7},d=(()=>{const P=l(t),O=new Date,z=cl(O,P-1),R={};return n.filter(L=>{try{if(!L.date)return console.warn("Macro entry missing date:",L),!1;const I=new Date(L.date);return isNaN(I.getTime())?(console.warn("Invalid date in macro entry:",L.date,L),!1):I>=z&&I<=O}catch(I){return console.error("Error processing macro date:",L.date,I),!1}}).forEach(L=>{try{const I=new Date(L.date),A=Me(I,"yyyy-MM-dd");R[A]||(R[A]=[]),R[A].push(L)}catch(I){console.error("Error formatting macro date:",L.date,I)}}),R})();let f=[];try{f=qU(d,l(t))}catch(P){console.error("Error generating calorie data:",P),f=[]}const h=Me(new Date,"yyyy-MM-dd"),m=d[h]||[],y=YD(m),p={proteinTarget:150,fatsTarget:80,carbsTarget:200},b=i&&typeof i.proteinTarget=="number"&&typeof i.fatsTarget=="number"&&typeof i.carbsTarget=="number"&&i.proteinTarget>0&&i.fatsTarget>0&&i.carbsTarget>0,x=b?i:p;console.log("Macro targets debug:",{macroTargets:i,hasValidTargets:b,effectiveTargets:x});let g={protein:0,fats:0,carbs:0};try{const P=QU(y,x);g={protein:isFinite(P.protein)?Math.max(0,P.protein):0,fats:isFinite(P.fats)?Math.max(0,P.fats):0,carbs:isFinite(P.carbs)?Math.max(0,P.carbs):0},console.log("Macro percentages debug:",{todaySummary:y,effectiveTargets:x,rawPercentages:P,macroPercentages:g})}catch(P){console.error("Error calculating macro percentages:",P)}const w={datasets:[{label:"Daily Calories",data:f.map(P=>({x:P.date,y:isFinite(P.value)?P.value:null})),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:1,fill:!1,tension:.4,pointRadius:3,pointHoverRadius:5,spanGaps:!1}]},S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"#10b981",borderWidth:1}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"MMM d"}},min:Me(cl(new Date,l(t)-1),"yyyy-MM-dd"),max:Me(new Date,"yyyy-MM-dd"),grid:{display:!1},ticks:{maxTicksLimit:8,color:"#6b7280",display:!0,font:{size:11}},border:{display:!0,color:"#6b7280"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{color:"#6b7280"},title:{display:!0,text:"Calories",color:"#6b7280",font:{size:12}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},_=(P,O,z)=>({data:{datasets:[{data:[P,Math.max(0,100-P)],backgroundColor:[O,"#f3f4f6"],borderWidth:0,cutout:"70%"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}),N=_(g.protein,"#ef4444"),j=_(g.fats,"#eab308"),C=_(g.carbs,"#22c55e");return r||o?c.jsx(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(ce,{className:"pt-6",children:c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-600",children:"Loading nutrition data..."})})})}):s||a?c.jsx(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:c.jsx(ce,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-red-600",children:"Error loading nutrition data"}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(s==null?void 0:s.message)||(a==null?void 0:a.message)}),c.jsxs("details",{className:"mt-4 text-left",children:[c.jsx("summary",{className:"text-xs text-gray-400 cursor-pointer",children:"Debug Info"}),c.jsx("pre",{className:"text-xs text-gray-400 mt-2 overflow-auto max-h-32",children:JSON.stringify({macrosError:s==null?void 0:s.message,targetsError:a==null?void 0:a.message,macrosCount:(n==null?void 0:n.length)||0,sampleMacro:(n==null?void 0:n[0])||null},null,2)})]})]})})}):c.jsxs(c.Fragment,{children:[c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Et,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"Daily Calories"}),c.jsx("div",{className:"flex gap-0.5 bg-gray-100 rounded-md p-0.5 w-fit",children:PS.map(P=>c.jsx(q,{variant:t===P.value?"default":"ghost",size:"sm",onClick:()=>e(P.value),className:`text-xs px-1.5 py-0.5 h-5 min-w-0 ${t===P.value?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-800"}`,children:P.label},P.value))})]})}),c.jsxs(ce,{className:"pt-0 space-y-6",children:[c.jsx("div",{className:"h-64 w-full",children:c.jsx(qO,{data:w,options:S})}),c.jsxs("div",{className:"text-center pt-4 border-t border-gray-200",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Today's Total"}),c.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[Math.round(y.totalCalories)||0," calories"]}),!b&&c.jsx("p",{className:"text-xs text-amber-600 mt-2",children:"Using default macro targets. Set your personal targets in settings for better tracking."})]})]})]}),c.jsxs("div",{className:"flex justify-center gap-8 px-4 mt-6",children:[c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(xp,{data:N.data,options:N.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.protein)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Protein"}),c.jsxs("p",{className:"text-xs text-red-500 font-medium",children:[Math.round(y.protein)||0,"g / ",x.proteinTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(xp,{data:j.data,options:j.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.fats)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Fats"}),c.jsxs("p",{className:"text-xs text-yellow-500 font-medium",children:[Math.round(y.fats)||0,"g / ",x.fatsTarget,"g"]})]}),c.jsxs("div",{className:"text-center bg-white/75 backdrop-blur-sm rounded-xl p-4 shadow-xl border-0",children:[c.jsxs("div",{className:"w-16 h-16 mx-auto relative",children:[c.jsx(xp,{data:C.data,options:C.options}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[Math.round(g.carbs)||0,"%"]})})]}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Carbs"}),c.jsxs("p",{className:"text-xs text-green-500 font-medium",children:[Math.round(y.carbs)||0,"g / ",x.carbsTarget,"g"]})]})]})]})}function jq(){const[,t]=dt(),e=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Nutrition",showBackButton:!1,showHomeButton:!0,onBack:e}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(kq,{}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-fire text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Calories"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-drumstick-bite text-red-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Protein"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-bread-slice text-yellow-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Carbs"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-tint text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Hydration"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"Coming Soon"})]})})]}),c.jsx(Ar,{})]})})]})}function Cq(){const[,t]=dt(),{data:e=[],isLoading:n,error:s}=It({queryKey:["/api/activities/sleep/chart"],queryFn:()=>De("GET","/api/activities/sleep/chart")}),r=ye.useMemo(()=>{var f;if(!e.length)return{avgSleep:0,lastNight:0,weekTotal:0,daysWithData:0};const a=e.map(h=>h.value),o=a.length>0?a.reduce((h,m)=>h+m,0)/a.length:0,l=((f=e[e.length-1])==null?void 0:f.value)||0,u=a.reduce((h,m)=>h+m,0),d=a.length;return{avgSleep:o,lastNight:l,weekTotal:u,daysWithData:d}},[e]),i=()=>{window.history.length>1?window.history.back():t("/")};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Sleep",showBackButton:!1,showHomeButton:!0,onBack:i}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(wv,{title:"Sleep Hours",data:n?[]:e,chartType:"bar",goalValue:8,yAxisLabel:"Hours"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-clock text-blue-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Last Night"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":r.lastNight>0?`${r.lastNight.toFixed(1)}h`:"--"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-chart-line text-green-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Weekly Avg"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":r.avgSleep>0?`${r.avgSleep.toFixed(1)}h`:"--"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-calendar-week text-purple-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Week Total"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:n?"...":r.weekTotal>0?`${r.weekTotal.toFixed(1)}h`:"--"})]})}),c.jsx(le,{className:"bg-white/75 backdrop-blur-sm shadow-lg border-0",children:c.jsxs(ce,{className:"p-4 text-center",children:[c.jsx("i",{className:"fas fa-target text-orange-500 text-2xl mb-2"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Sleep Goal"}),c.jsx("p",{className:"text-xl font-bold text-gray-800",children:"8.0h"})]})})]}),c.jsx(Ar,{})]})})]})}function Tq(){const[t,e]=v.useState(""),[n,s]=v.useState(!1),{toast:r}=Ut(),[,i]=dt(),a=async()=>{if(!t){r({title:"Missing Email",description:"Please enter your email address.",variant:"destructive"});return}s(!0);try{await De("POST","/api/auth/request-password-reset",{email:t}),r({title:"Reset Link Sent",description:"If your email is registered, a reset link was sent."}),setTimeout(()=>i("/"),2e3)}catch(o){r({title:"Reset Failed",description:(o==null?void 0:o.message)||"Something went wrong.",variant:"destructive"})}finally{s(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(le,{className:"w-full max-w-md card-shadow",children:c.jsxs(ce,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-envelope-open-text text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Forgot Password?"}),c.jsx("p",{className:"text-gray-600",children:"Well email you a link to reset it."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"forgot-email",children:"Email Address"}),c.jsx(je,{id:"forgot-email",type:"email",value:t,onChange:o=>e(o.target.value),placeholder:"your@email.com",autoComplete:"email",className:"mt-2"})]}),c.jsx(q,{onClick:a,disabled:n,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:n?"Sending...":"Send Reset Link"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remembered your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go back to login"})]})]})]})})})}function Pq(){const{toast:t}=Ut(),[,e]=dt(),[n,s]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(!1),l=async()=>{if(!n||!r){t({title:"Missing Fields",description:"Please fill in both fields.",variant:"destructive"});return}o(!0);try{await De("POST","/api/auth/change-password",{currentPassword:n,newPassword:r}),t({title:"Password Updated",description:"Your password was successfully changed."}),e("/profile")}catch{t({title:"Update Failed",description:"Current password may be incorrect.",variant:"destructive"})}finally{o(!1)}};return c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Change Password",showBackButton:!0,onBack:()=>e("/profile")}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-2xl mx-auto",children:c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm shadow-xl border-0",children:[c.jsx(Et,{children:c.jsx(Mt,{className:"text-lg font-semibold text-gray-800",children:"Update Your Password"})}),c.jsxs(ce,{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),c.jsx(je,{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"Enter your current password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsx(je,{type:"password",value:r,onChange:u=>i(u.target.value),placeholder:"Enter your new password"})]}),c.jsx(q,{onClick:l,disabled:a,className:"w-full shadow-md hover:shadow-lg transition-shadow",children:a?"Updating...":"Change Password"})]})]})})]})}function Eq(){const[t,e]=v.useState(""),[n,s]=v.useState(""),[r,i]=v.useState(!1),[a,o]=v.useState(""),{toast:l}=Ut(),[,u]=dt();v.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("token");if(!h){l({title:"Invalid Link",description:"This password reset link is invalid or missing the token.",variant:"destructive"}),setTimeout(()=>u("/forgot-password"),3e3);return}o(h)},[l,u]);const d=async()=>{if(!t||!n){l({title:"Missing Fields",description:"Please fill in both password fields.",variant:"destructive"});return}if(t!==n){l({title:"Passwords Don't Match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<6){l({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i(!0);try{await De("POST","/api/auth/reset-password",{token:a,newPassword:t}),l({title:"Password Reset Successful",description:"Your password has been updated. You can now log in with your new password."}),setTimeout(()=>u("/"),2e3)}catch(f){l({title:"Reset Failed",description:(f==null?void 0:f.message)||"Failed to reset password. The link may have expired.",variant:"destructive"})}finally{i(!1)}};return a?c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(le,{className:"w-full max-w-md card-shadow",children:c.jsxs(ce,{className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-primary-500 to-lavender-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-key text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Reset Your Password"}),c.jsx("p",{className:"text-gray-600",children:"Enter your new password below."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"new-password",children:"New Password"}),c.jsx(je,{id:"new-password",type:"password",value:t,onChange:f=>e(f.target.value),placeholder:"Enter your new password",className:"mt-2",minLength:6})]}),c.jsxs("div",{children:[c.jsx(Be,{htmlFor:"confirm-password",children:"Confirm Password"}),c.jsx(je,{id:"confirm-password",type:"password",value:n,onChange:f=>s(f.target.value),placeholder:"Confirm your new password",className:"mt-2",minLength:6})]}),c.jsx(q,{onClick:d,disabled:r,className:"w-full bg-gradient-to-r from-primary-500 to-lavender-500 hover:from-primary-600 hover:to-lavender-600 text-white py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",children:r?"Resetting...":"Reset Password"}),c.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Remember your password?"," ",c.jsx("a",{href:"/",className:"text-primary-300 hover:text-primary-400 font-semibold",children:"Go to login"})]})]})]})})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary-600 to-lavender-600",children:c.jsx(le,{className:"w-full max-w-md card-shadow",children:c.jsx(ce,{className:"p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("i",{className:"fas fa-exclamation-triangle text-2xl text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Invalid Link"}),c.jsx("p",{className:"text-gray-600",children:"This password reset link is invalid or has expired."})]})})})})}function Mq(){const[,t]=dt(),[e,n]=v.useState(""),[s,r]=v.useState(!1),[i,a]=v.useState(""),{toast:o}=Ut(),l=Dn();v.useEffect(()=>{J2()},[]);const f=new URLSearchParams(window.location.search).get("date")||R8();F8();const h=`journal_entry_${f}`,{data:m,isLoading:y,error:p}=It({queryKey:["/api/journal-entries/date",f],queryFn:async()=>{try{const S=dw(f);return await De("GET",`/api/journal-entries/date/${S.toISOString()}`)}catch(S){if(S.status===404||S.status===500)return null;throw S}},staleTime:5*60*1e3,cacheTime:30*60*1e3,retry:(S,_)=>(_==null?void 0:_.status)===404?!1:S<2});v.useEffect(()=>{const S=localStorage.getItem(h);if(S&&!m&&!y)try{const _=JSON.parse(S);n(_.content||""),a(_.content||""),console.log(" Loaded journal entry from cache")}catch(_){console.error("Error parsing cached journal entry:",_),localStorage.removeItem(h)}},[h,m,y]),v.useEffect(()=>{m&&(n(m.content||""),a(m.content||""),localStorage.setItem(h,JSON.stringify(m)),console.log(" Updated cache with server data"))},[m,h]),v.useEffect(()=>{if(r(e.trim()!==i.trim()),e!==i){const S={content:e,date:f,lastModified:new Date().toISOString(),isDraft:!0};localStorage.setItem(h,JSON.stringify(S)),console.log(" Updated cache with draft content")}},[e,i,h,f]);const b=At({mutationFn:async S=>{const _=dw(f);return await De("POST","/api/journal-entries",{content:S,date:_.toISOString(),timezone:Ha()})},onSuccess:S=>{a(e),r(!1),localStorage.setItem(h,JSON.stringify(S));const _=localStorage.getItem("journal_previews_cache");if(_)try{const N=JSON.parse(_),j=e.split(" ").slice(0,20).join(" ")+(e.split(" ").length>20?"...":"");N[f]={preview:j,updated_at:S.updated_at},localStorage.setItem("journal_previews_cache",JSON.stringify(N)),console.log(" Updated journal history cache")}catch(N){console.error("Error updating journal history cache:",N)}l.invalidateQueries({queryKey:["/api/journal-entries/date",f]}),l.invalidateQueries({queryKey:["/api/journal-entries"]}),o({title:"Success",description:"Journal entry saved successfully!"}),console.log(" Journal entry saved to database")},onError:S=>{console.error(" Error saving journal entry:",S),o({title:"Error",description:(S==null?void 0:S.message)||"Failed to save journal entry. Please try again.",variant:"destructive"})}}),x=()=>{window.history.length>1?window.history.back():t("/")},g=()=>{if(!e.trim()){o({title:"Error",description:"Please enter some content before saving.",variant:"destructive"});return}b.mutate(e)},w=S=>{n(S.target.value)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-lavender-600",children:[c.jsx(Pt,{title:"Journal",showBackButton:!1,showHomeButton:!0,onBack:x}),c.jsx("div",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] px-4 pb-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs(le,{className:"bg-white/75 backdrop-blur-sm border-0 shadow-xl",children:[c.jsx(Et,{className:"pb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Mt,{className:"text-lg font-semibold text-gray-800",children:["Entry - ",aa(f+"T00:00:00","EEEE, MMMM d, yyyy")]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[s&&c.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Unsaved changes"}),y&&c.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Loading..."})]})]})}),c.jsx(ce,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:e,onChange:w,disabled:y||b.isPending,style:{border:"2px solid black",width:"100%",height:"50vh",resize:"vertical",backgroundColor:"transparent",padding:"12px",borderRadius:"8px"},placeholder:y?"Loading your journal entry...":"What's on your mind today?",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 font-normal text-gray-800"}),c.jsx(q,{onClick:g,disabled:!e.trim()||!s||b.isPending,className:"w-full bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:b.isPending?"SAVING...":"SAVE"}),c.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[m&&c.jsxs("div",{children:["Last updated: ",aa(m.updated_at,"PPP p")]}),p&&c.jsx("div",{className:"text-red-500",children:"Error loading entry (using cached version)"}),c.jsx("div",{className:"text-gray-400",children:"Changes are automatically saved locally as you type"})]}),!1]})})]}),c.jsx(Ar,{})]})})]})}function Dq(){const[,t]=dt(),[e,n]=v.useState("newest"),{user:s}=Js(),[r,i]=v.useState(!1),[a,o]=v.useState(null),[l,u]=v.useState(0),[d,f]=v.useState([]),[h,m]=v.useState(!1);v.useEffect(()=>{J2()},[]);const y="journal_previews_cache",{data:p=[],isLoading:b}=It({queryKey:["/api/journal-entries"],queryFn:async()=>await De("GET","/api/journal-entries"),staleTime:1*60*1e3,cacheTime:30*60*1e3,refetchOnWindowFocus:!0}),{data:x=[]}=It({queryKey:["/api/photos/dates"],queryFn:async()=>await De("GET","/api/photos/dates"),enabled:!!s,staleTime:5*60*1e3,cacheTime:30*60*1e3});v.useEffect(()=>{if(p.length>0){const L=p.reduce((I,A)=>{const $=A.date.split("T")[0];return I[$]={preview:A.preview,updated_at:A.updated_at},I},{});localStorage.setItem(y,JSON.stringify(L)),console.log(" Cached journal previews for",Object.keys(L).length,"entries")}},[p,y]),v.useEffect(()=>{const L=localStorage.getItem(y);if(L&&p.length===0)try{const I=JSON.parse(L);console.log(" Loaded cached previews for",Object.keys(I).length,"entries")}catch(I){console.error("Error loading cached previews:",I),localStorage.removeItem(y)}},[y,p.length]);const g=()=>{window.history.length>1?window.history.back():t("/")},w=L=>{const I=L.split("T")[0];t(`/journal-entry?date=${I}`)},S=p.reduce((L,I)=>{const A=I.date.split("T")[0];return L[A]=I,L},{}),_=Object.keys(S).sort((L,I)=>e==="newest"?new Date(I).getTime()-new Date(L).getTime():new Date(L).getTime()-new Date(I).getTime()),N=L=>{try{return aa(L+"T00:00:00","EEEE, MMMM d, yyyy")}catch{return L}},j=L=>L.trim().split(/\s+/).filter(I=>I.length>0).length,C=L=>L.length,P=async L=>{try{return await De("GET",`/api/photos/date/${L}`)}catch(I){return console.error("Error fetching photos for date:",I),[]}},O=async L=>{const I=await P(L);I.length>0&&(f(I),o(I[0]),u(0),m(!1),i(!0))},z=L=>{if(d.length===0)return;let I;L==="prev"?I=l>0?l-1:d.length-1:I=l<d.length-1?l+1:0,u(I),o(d[I]),m(!1)},R=L=>{if(L.imageUrl)return L.imageUrl;const I=localStorage.getItem("authToken");return I?`/api/photos/${L.filename}?token=${I}`:"/placeholder-image.jpg"};return b?c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:g}),c.jsx("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}):c.jsxs("div",{className:"app-gradient-bg",children:[c.jsx(Pt,{title:"Journal History",showBackButton:!1,showHomeButton:!0,onBack:g}),c.jsxs("main",{className:"pt-[calc(env(safe-area-inset-top)+6rem)] p-4 max-w-6xl mx-auto",children:[c.jsx("div",{className:"flex justify-end items-center mb-6",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg shadow-lg",children:[c.jsxs(q,{variant:e==="newest"?"default":"ghost",size:"sm",onClick:()=>n("newest"),className:"rounded-r-none",children:[c.jsx("i",{className:"fas fa-arrow-down mr-2"}),"Newest"]}),c.jsxs(q,{variant:e==="oldest"?"default":"ghost",size:"sm",onClick:()=>n("oldest"),className:"rounded-l-none border-l",children:[c.jsx("i",{className:"fas fa-arrow-up mr-2"}),"Oldest"]})]})}),_.length>0?c.jsx("div",{className:"space-y-6",children:_.map(L=>{const I=S[L],A=j(I.content),$=C(I.content);let B=!1;for(const T of x){const F=T.date.split("T")[0];if(console.log(" Date comparison:",{journalDateStr:L,photoDateRaw:T.date,photoDateFormatted:F,match:L===F}),L===F){B=!0;break}}return console.log(" Debug timezone for entry:",{dateStr:L,updated_at:I.updated_at,formatted_time:aa(I.updated_at,"h:mm a"),user_timezone:Ha(),raw_date:new Date(I.updated_at).toString()}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex justify-end items-center",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:N(L)}),c.jsxs("p",{className:"text-sm text-gray-600",children:[A," words  ",$," characters"]})]})}),c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-6 shadow-xl cursor-pointer hover:bg-white/85 transition-all duration-200 hover:scale-[1.02] hover:shadow-2xl relative",onClick:()=>w(I.date),children:[B&&c.jsx("button",{className:"absolute top-4 right-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg transition-colors duration-200",onClick:T=>{T.stopPropagation(),O(L)},children:c.jsx("i",{className:"fas fa-images text-xs"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-gray-800 leading-relaxed",children:c.jsx("p",{className:"text-base",children:I.preview})}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{children:[c.jsx("i",{className:"fas fa-clock mr-1"}),aa(I.updated_at,"h:mm a")]}),c.jsxs("span",{children:[c.jsx("i",{className:"fas fa-edit mr-1"}),"Last edited ",aa(I.updated_at,"MMM d")]})]}),c.jsxs("div",{className:"flex items-center text-blue-600",children:[c.jsx("span",{className:"mr-2",children:"Read more"}),c.jsx("i",{className:"fas fa-chevron-right"})]})]})]})]})]},L)})}):c.jsx("div",{className:"text-center py-16",children:c.jsxs("div",{className:"bg-white/75 backdrop-blur-sm rounded-xl p-8 shadow-xl max-w-md mx-auto",children:[c.jsx("i",{className:"fas fa-book-open text-4xl text-gray-400 mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Journal Entries Yet"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Start documenting your thoughts and experiences. Your first journal entry is just a click away."}),c.jsxs(q,{onClick:()=>t("/journal-entry"),className:"bg-blue-600 hover:bg-blue-700 text-white mr-3",children:[c.jsx("i",{className:"fas fa-plus mr-2"}),"Start Writing"]}),c.jsxs(q,{onClick:()=>t("/"),variant:"outline",className:"bg-white/50 hover:bg-white/75",children:[c.jsx("i",{className:"fas fa-home mr-2"}),"Go to Dashboard"]})]})}),c.jsx(Ar,{})]}),c.jsx(Mr,{open:r,onOpenChange:i,children:c.jsxs(er,{className:"max-w-[98vw] max-h-[98vh] w-auto h-auto p-0 overflow-hidden flex flex-col",children:[c.jsx(Dr,{className:"p-4 pb-2 flex-shrink-0 border-b",children:c.jsx(Or,{className:"text-center text-lg font-semibold",children:a&&c.jsxs(c.Fragment,{children:["Photo ",l+1," of ",d.length,c.jsx("span",{className:"block text-sm text-gray-600 font-normal",children:N(a.date.split("T")[0])})]})})}),a&&c.jsxs("div",{className:"relative flex items-center justify-center min-h-0 flex-1",children:[d.length>1&&c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>z("prev"),className:"absolute left-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-left"})}),c.jsxs("div",{className:"flex items-center justify-center p-4 min-w-0 min-h-0 max-w-[calc(98vw-2rem)] max-h-[calc(98vh-10rem)]",children:[!h&&c.jsx("div",{className:"flex items-center justify-center w-32 h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),c.jsx("img",{src:R(a),alt:a.originalName,className:`max-w-full max-h-full object-contain ${h?"":"hidden"}`,onLoad:()=>m(!0),onError:()=>m(!0)})]}),d.length>1&&c.jsx(q,{variant:"ghost",size:"sm",onClick:()=>z("next"),className:"absolute right-4 z-10 bg-black/50 text-white hover:bg-black/70 rounded-full w-10 h-10",children:c.jsx("i",{className:"fas fa-chevron-right"})})]})]})})]})}function Oq(){return window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: window-controls-overlay)").matches||window.navigator.standalone===!0}function Aq(){const{user:t,isAuthenticated:e,isLoading:n}=Js();return n?c.jsx("div",{className:"app-gradient-bg flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):c.jsxs(c.Fragment,{children:[c.jsx(oz,{}),c.jsxs(tF,{children:[c.jsx(ct,{path:"/forgot-password",component:Tq}),c.jsx(ct,{path:"/reset-password",component:Eq}),c.jsx(ct,{path:"/blog-post",component:aB}),e?c.jsx(c.Fragment,{children:t!=null&&t.onboardingCompleted?c.jsxs(c.Fragment,{children:[c.jsx(ct,{path:"/",component:OW}),c.jsx(ct,{path:"/landing",component:qb}),c.jsx(ct,{path:"/profile",component:V8}),c.jsx(ct,{path:"/edit-profile",component:B8}),c.jsx(ct,{path:"/feedback",component:U8}),c.jsx(ct,{path:"/photos",component:J8}),c.jsx(ct,{path:"/progress",component:bq}),c.jsx(ct,{path:"/goals",component:wq}),c.jsx(ct,{path:"/add-goal",component:_q}),c.jsx(ct,{path:"/workouts",component:Nq}),c.jsx(ct,{path:"/nutrition",component:jq}),c.jsx(ct,{path:"/sleep",component:Cq}),c.jsx(ct,{path:"/add-activity",component:H8}),c.jsx(ct,{path:"/select-activity",component:G8}),c.jsx(ct,{path:"/add-macros",component:X8}),c.jsx(ct,{path:"/change-password",component:Pq}),c.jsx(ct,{path:"/journal-entry",component:Mq}),c.jsx(ct,{path:"/journal-history",component:Dq})," "," "]}):c.jsx(ct,{path:"/",component:o8})}):c.jsx(ct,{path:"/",component:Oq()?YV:qb}),c.jsx(ct,{component:hz})]})]})}function Iq(){return c.jsx(SF,{client:Gi,children:c.jsxs(iz,{children:[c.jsx(b4,{}),c.jsx(dz,{}),c.jsx(Aq,{})]})})}IC(document.getElementById("root")).render(c.jsx(Iq,{}));
